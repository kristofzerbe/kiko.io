<!DOCTYPE html>
<html lang="en">
<head><link rel=manifest href=/site.webmanifest>
  <meta charset="utf-8">
  
  
  <!-- POST -->

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>kiko.io | Pattern for dynamic Hexo pages</title>
  <meta name="title" content="kiko.io | Pattern for dynamic Hexo pages">
  <meta name="description" content="kiko.io&#39;s Post &#39;Pattern for dynamic Hexo pages&#39;">
  <!-- Schema.org for Google -->
  <meta itemprop="name" content="kiko.io | Pattern for dynamic Hexo pages">
  <meta itemprop="description" content="kiko.io&#39;s Post &#39;Pattern for dynamic Hexo pages&#39;">
  <meta itemprop="image" content="https://kiko.io/images/social-media/Pattern-for-dynamic-Hexo-pages.png">
  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://kiko.io/post/Pattern-for-dynamic-Hexo-pages/index.html">
  <meta property="og:title" content="kiko.io | Pattern for dynamic Hexo pages">
  <meta property="og:description" content="kiko.io&#39;s Post &#39;Pattern for dynamic Hexo pages&#39;">
  <meta property="og:image" content="https://kiko.io/images/social-media/Pattern-for-dynamic-Hexo-pages.png">
  <meta property="og:locale" content="en_GB">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://kiko.io/post/Pattern-for-dynamic-Hexo-pages/index.html">
  <meta property="twitter:title" content="kiko.io | Pattern for dynamic Hexo pages">
  <meta property="twitter:description" content="kiko.io&#39;s Post &#39;Pattern for dynamic Hexo pages&#39;">
  <meta property="twitter:image" content="https://kiko.io/images/social-media/Pattern-for-dynamic-Hexo-pages.png">

  <link rel="canonical" href="https://kiko.io/post/Pattern-for-dynamic-Hexo-pages/index.html">

  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
  <meta name="theme-color" content="#0059B8">

  <!-- webmention.io -->
  <link rel="webmention" href="https://webmention.io/kiko.io/webmention" />
  <link rel="pingback" href="https://webmention.io/kiko.io/xmlrpc" />

  <!-- Feed -->
  

  <link rel="preload" href="/css/fonts/cookie/cookie-v12-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/opensans/opensans-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/opensans/opensans-italic.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/opensans/opensans-semibold.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/opensans/opensans-semibolditalic.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/sourcecodepro/WOFF2/TTF/SourceCodePro-Regular.ttf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/sourcecodepro/WOFF2/TTF/SourceCodePro-It.ttf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/sourcecodepro/WOFF2/TTF/SourceCodePro-Bold.ttf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/sourcecodepro/WOFF2/TTF/SourceCodePro-BoldIt.ttf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/fontawesome/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/fontawesome/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/fontawesome/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin>

  
<link rel="stylesheet" href="/css/dist/bundle.min.css">

  
<link rel="stylesheet" href="/css/style.css">


  
<script src="/js/tools.js"></script>

  
<script src="/js/dist/scroll-timeline.js"></script>

  
<script src="/js/dist/image-compare-viewer.min.js"></script>

  
<script src="/js/dist/tiny-slider.min.js"></script>



  <script defer type="text/javascript" 
    src="https://api.pirsch.io/pirsch.js"
    id="pirschjs"
    data-code="aJ835msd85Jl5WkTLtS76XLxVxSm4ODZ"></script>
  <script type="text/javascript" 
    src="https://api.pirsch.io/pirsch-events.js"
    id="pirscheventsjs"
    data-code="aJ835msd85Jl5WkTLtS76XLxVxSm4ODZ"></script>    


<meta name="generator" content="Hexo 6.0.0"></head>

<body id="body">  
  <div id="container" class="container">
    <div class="inner-container">
      <div id="wrap">
        <header id="header">
  <a href="#" id="header-photo-link" target="_blank" rel="noopener" ></a>
  <div id="banner">
    <div id="header-nav-start"></div>
    <nav id="header-nav" role="navigation">
      <ul class="menu">
        
          <li class="menu-item" id="nav-home-link" >
            <a class="nav-icon sub-nav-link"
              href="/">
                <span>Home</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-archives-link" >
            <a class="nav-icon sub-nav-link"
              href="/archives">
                <span>Archives</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-series-link" >
            <a class="nav-icon sub-nav-link"
              href="/series">
                <span>series</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-projects-link" >
            <a class="nav-icon sub-nav-link"
              href="/projects">
                <span>projects</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-til-link" >
            <a class="nav-icon sub-nav-link"
              href="/til">
                <span>til</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-tiny-tools-link" >
            <a class="nav-icon sub-nav-link"
              href="/collections/tiny-tools">
                <span>tiny-tools</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-photos-link" >
            <a class="nav-icon sub-nav-link"
              href="/photos">
                <span>photos</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-about-link" >
            <a class="nav-icon sub-nav-link"
              href="/about">
                <span>About</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-rss-link" >
            <a class="nav-icon sub-nav-link"
              href="/atom.xml">
                <span>RSS Feed</span>
              </a>
          </li>
        
      </ul>
    </nav>
    <div id="header-nav-end"></div>
  </div>
  <div id="progress"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
        <a href="/" id="logo">
          <h1 id="title-wrap">
            <span style="opacity:0.2;">kiko.io</span>
          </h1>
        </a>
      
        <h2 id="subtitle">
          Memorable Tech Stuff
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        
        <a id="sub-nav-search" class="sub-nav-icon" title="Search"></a>
        <div id="sub-nav-theme">          
          <input type="checkbox" id="theme-switch">
          <label for="theme-switch"></label>
        </div>
      </nav>

      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://kiko.io"></form>
      </div>
    </div>
  </div>
</header>
<script>
  if (location.pathname === "/") {
    document.getElementById("nav-home-link").remove();
  }
</script>
        <div id="content" class="outer">
          <main>
  <style>
#banner {
    background-size: cover;
}
@media screen and (max-width: 479px) {
    #banner { background-image: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 75%), url("/photos/mobile/D50_4451.jpg"); }
}
@media screen and (min-width: 480px) and (max-width: 767px) {
    #banner { background-image: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 75%), url("/photos/tablet/D50_4451.jpg"); }
}
@media screen and (min-width: 768px) {
    #banner { background-image: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 75%), url("/photos/normal/D50_4451.jpg"); }    
}
</style>


    <img id="header-photo" src="/photos/normal/D50_4451.jpg" width="0" height="0"/>
    <script>
        var header = document.getElementById("header");
        header.classList.add("photograph");
        
        var photoLink = document.getElementById("header-photo-link");
        photoLink.href = "https://500px.com/photo/1036128326/untitled-by-kristof-zerbe";
        photoLink.innerHTML = "see <strong>Garden Beauties I</strong> at 500px";
    </script>




<script>
  var body = document.getElementById("body");
  body.classList.add("article-view");
</script>
  
<article id="post-2021/Pattern-for-dynamic-Hexo-pages" 
         class="article article-type-post h-entry" itemscope itemprop="blogPost">
  
  <div class="article-meta">
    <div class="h-card p-author" style="display:none">
      <img class="u-photo" src="https://kiko.io/images/kristof-zerbe.png" alt="Kristof Zerbe" />
      <a class="p-name u-url" href="https://kiko.io" rel="author">Kristof Zerbe</a>
    </div>
    <a class="u-url u-uid" href="https://kiko.io/post/Pattern-for-dynamic-Hexo-pages/" style="display:none;">https://kiko.io/post/Pattern-for-dynamic-Hexo-pages/</a>
    <a href="/post/Pattern-for-dynamic-Hexo-pages/" class="article-date">
  
    <time class="published dt-published" datetime="2021-08-25T07:43:44.000Z" itemprop="datePublished">25 Aug 2021</time>
  
</a>
    
  <div class="article-category p-category category-tools">
    <a class="article-category-link" href="/categories/Tools/">Tools</a> 
  </div>

  </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        




        
  
    <h1 class="article-title p-name" itemprop="name">
      Pattern for dynamic Hexo pages
    </h1>
  

        
    <h2 class="article-subtitle p-summary" itemprop="name">
        Set up pages with dynamic data easily
    </h2>

      </header>
    
    
    <div class="article-entry e-content" itemprop="articleBody">
      <p><a href="https://hexo.io/">Hexo</a> is a great SSG platform for blogging. Just write your Markdown beneath some Frontmatter meta data, run <code>hexo generate</code> and publish the results to a web server.</p>
<p>But at some point you may want to process different data from internal or external sources and integrate it into your blog. Hexo doesn’t support this out of the box, but has a powerful feature called <a href="https://hexo.io/api/generator.html">Generator</a>, which helps you to achieve your goal. The following is a sample and pattern of how to implement this.</p>
<p>The starting point of my example is the requirement to display several elements of the same type on a dynamic page, but you can of course adapt the example according to your needs.</p>
<span id="more"></span>

<hr>
<h2 id="The-Page"><a href="#The-Page" class="headerlink" title="The Page"></a>The Page</h2><p>First of all we need a Hexo page for the meta data and for some text we want to show at the beginning of the page to describe what is shown below. In order not to interfer the classic post generation, we create a new folder in Hexo’s <code>source</code> folder called <strong><code>_dynamic</code></strong>, where we place the MD file for the new dynamic page.</p>

    <div class="alertbox alertbox-exclamation">
      <p>The underscore in the name of the folder <code>_dynamic</code> is important, because Hexo doesn’t touch subfolders in <code>source</code> with this starting character while generating the site. Without, it would be treated as a normal page.</p>

    </div>
  

<figure class="highlight md"><figcaption><span>./source/_dynamic/my-special-page.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: My Title</span><br><span class="line">subtitle: My Subtitle</span><br><span class="line">date: 2021-08-24 19:24:00</span><br><span class="line">mySpecialProperty: &quot;Lorem ipsum dolor sit amet&quot;</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">Some text to show above the dynamic created content...</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>The Frontmatter data has no limits. You can add as much properties as you like.</p>
<hr>
<h2 id="The-Layout-Template"><a href="#The-Layout-Template" class="headerlink" title="The Layout Template"></a>The Layout Template</h2><p>Hexo works with EJS layout files. Whenever a page should be created, the calling method has to define which layout file should be used. Therefor we create a special EJS file for our dynamic page and place it in the <code>layout</code> folder.</p>
<figure class="highlight js"><figcaption><span>./themes/&lt;your-theme&gt;/layout/my-special-layout.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-title&quot;</span>&gt;&lt;%= page.title %&gt;&lt;/h1&gt;</span><br><span class="line">&lt;h2 <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-subtitle&quot;</span>&gt;&lt;%= page.subtitle %&gt;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;page-content&quot;</span>&gt;</span><br><span class="line">  &lt;%- page.content %&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;view grid&quot;</span>&gt;</span><br><span class="line">    &lt;% <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; page.items.length; i++) &#123; %&gt;</span><br><span class="line">      &lt;%- partial(<span class="string">&#x27;_partial/my-special-item&#x27;</span>, &#123; <span class="attr">item</span>: page.items[i] &#125;) %&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">  &lt;/div&gt;  </span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="comment">// Extend the page with JavaScript ...</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>On generating the page later on, an object called <code>page</code> will be used to process the EJS, with all information we want to show on the page, like <code>content</code> (text of the Markdown file) and all meta data from the Frontmatter (title, subtitle and so on).</p>
<p>Special attention is paid to <strong><code>items</code></strong>, because this property holds the list of all items we want to show on the page. Each object in this list have multiple custom properties you define, when you are assemble the data to show in the generator, but more about that later.</p>
<p>In the <code>script</code> tag you can write JavaScript to interact with your data on the page, like filtering stuff or other things the user should can do with your data.</p>
<hr>
<h2 id="The-Partial-Template-For-Items"><a href="#The-Partial-Template-For-Items" class="headerlink" title="The Partial Template For Items"></a>The Partial Template For Items</h2><p>In order not to blow up the layout EJS, it is advisable to separate the template for the item itself to an extra file, referenced in the layout file (<code>_partial/my-special-item</code>) as a Partial.</p>
<figure class="highlight js"><figcaption><span>./themes/&lt;your-theme&gt;/layout/_partial/my-special-item.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;my-item&quot;</span>&gt;</span><br><span class="line">    &lt;!-- Definition <span class="keyword">of</span> an item --&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<p>The layout EJS will iterate over the list of items in the FOR loop and handover one of these object to the Partial to render.</p>
<hr>
<h2 id="The-Generator"><a href="#The-Generator" class="headerlink" title="The Generator"></a>The Generator</h2><p>As we have made our preparations, we are now able to implement our special generator itself.</p>
<p>Hexo uses so called Generators to “produce” the HTML for your site and you can add your own by using the <code>register</code> method. The result of a generator has to be an object with at least three properties:</p>
<ul>
<li><code>data</code> - Data object with all necessary information to process the given layout EJS</li>
<li><code>path</code> - The path where the HTML file should be created</li>
<li><code>layout</code> - The layout EJS file, which should be processed</li>
</ul>
<figure class="highlight js"><figcaption><span>./themes/&lt;your-theme&gt;/scripts/my-special-generator.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">hexo.extend.generator.register(<span class="string">&quot;my-special-generator&quot;</span>, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params">locals</span>) </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// INSTANTIATE A NEW DATA OBJECT</span></span><br><span class="line">  <span class="keyword">let</span> page = &#123;&#125;;</span><br><span class="line">  page.name = <span class="string">&quot;my-special-page&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Do something to get content and data for the page</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// INSTANTIATE THE RESULT OBJECT</span></span><br><span class="line">  <span class="keyword">let</span> result = &#123;</span><br><span class="line">    data: page,</span><br><span class="line">    path: path.join(page.name, <span class="string">&quot;index.html&quot;</span>),</span><br><span class="line">    layout: <span class="string">&quot;my-special-layout&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// RETURN THE RESULT</span></span><br><span class="line">  <span class="keyword">return</span> result;  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>In this basic structure, you will find again the layout file, we created earlier. The output will be rendered in an HTML file called <code>index.html</code> at the subfolder <code>my-special-page</code>, as we take the name of the page for it, as we did it for the name of the source MD file.</p>
<p>The next thing we have to implement here, is the content of the source MD file.</p>

    <div class="alertbox alertbox-info">
      <p>The parameter <code>locals</code> gives you access to the site variables, with all information about the site and its pages, posts, categories and tags!</p>

    </div>
  

<p>The first 4 lines in the following script are the references to some helpers we need. Please be sure, that you install them first via <code>npm install</code>.</p>
<figure class="highlight js"><figcaption><span>./themes/&lt;your-theme&gt;/scripts/my-special-generator.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> log = <span class="built_in">require</span>(<span class="string">&#x27;hexo-log&#x27;</span>)(&#123; <span class="attr">debug</span>: <span class="literal">false</span>, <span class="attr">silent</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;hexo-fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> front = <span class="built_in">require</span>(<span class="string">&#x27;hexo-front-matter&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.extend.generator.register(<span class="string">&quot;my-special-generator&quot;</span>, <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params">locals</span>) </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// GET REFERENCE TO HEXO&#x27;S CONFIGURATION</span></span><br><span class="line">  <span class="keyword">let</span> config = <span class="built_in">this</span>.config;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// SHOW MESSAGE ON GENERATING</span></span><br><span class="line">  log.info(<span class="string">&quot;Processing items for dynamic page&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> page = &#123;&#125;;</span><br><span class="line">  page.name = <span class="string">&quot;my-special-page&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// GET THE PATH TO THE SOURCE FILE</span></span><br><span class="line">  <span class="keyword">const</span> mdSource = path.join(config.source_dir, <span class="string">&quot;_dynamic&quot;</span>, page.name + <span class="string">&quot;.md&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// GET THE CONTENT OF THE SOURCE FILE</span></span><br><span class="line">  <span class="keyword">const</span> md = fs.readFileSync(mdSource);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// PARSE THE FRONTMATTER OF THE SOURCE FILE</span></span><br><span class="line">  <span class="keyword">let</span> fm = front.parse(md);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ADD THE FRONTMATTER TO THE DATA OBJECT</span></span><br><span class="line">  page = &#123;...page, ...fm&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// CONVERT MARKDOWN CONTENT OF THE SOURCE FILE INTO HTML</span></span><br><span class="line">  page.content = hexo.render.renderSync(&#123; <span class="attr">text</span>: page._content, <span class="attr">engine</span>: <span class="string">&#x27;markdown&#x27;</span> &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Do something to get items data for the page</span></span><br><span class="line">  <span class="comment">//page.items = [];</span></span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> result = &#123;</span><br><span class="line">    data: page,</span><br><span class="line">    path: path.join(page.name, <span class="string">&quot;index.html&quot;</span>),</span><br><span class="line">    layout: <span class="string">&quot;my-special-layout&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>The only thing missing now, is your implemention of filling <code>page.items</code> with a list of objects you want to show on the page. There are no limits to your imagination. Get data from external API’s or process JSON data, stored in the <code>data</code> folder … or whatever you prefer.</p>
<p>A live example of this approach are the pages <a href="/collections/tiny-tools/">TINY TOOLS</a> (processing data from the Trello API) and <a href="/photos">PHOTOS</a> here on this blog.</p>

    </div>
    
    <footer class="article-footer">      
      
  <div class="article-tags">
    <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Blogging/" rel="tag">Blogging</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li></ul>  
  </div>

      <div class="article-permalink" id="article-permalink-claj9qypr004xc4l99o1h0pzb">
    <input class="article-permalink-value" value="https://kiko.io/post/Pattern-for-dynamic-Hexo-pages/" 
           data-id="claj9qypr004xc4l99o1h0pzb" data-title="Pattern for dynamic Hexo pages" />
    <a class="article-action action-copy"></a>
    <a class="article-action action-share"></a>
</div>
<script>
    window.addEventListener("load", () => {
        initPermalink("claj9qypr004xc4l99o1h0pzb");
    });
</script>

      
    </footer>

  </div>

  
  <div class="article-webmentions">

  <h2>Webmentions</h2>

  <div class="webmentions-placeholder">
    <p class="wm-placeholder">No Webmentions yet...</p>
  </div>
  
  <p class="webmention-form-info">
    In case your blog software can't send Webmentions, 
    you can use this form to submit me a mention of this article...
  </p>
  
  <form class="webmention-form" action="https://webmention.io/kiko.io>/webmention" 
        name="webmention-form" method="post">
    <label for="webmention-form-source">Your Article URL:</label><br>
    <input class="webmention-form-source" type="url" name="source" 
           placeholder="https://your-blog.com/your-article" required="">
    <input type="hidden" name="target" value="https://kiko.io/post/Pattern-for-dynamic-Hexo-pages/">
    <input type="submit" value="Send Webmention">
  </form>
  
  <script>
    window.addEventListener('load', function () {
      insertWebmentions('2021/pattern-for-dynamic-hexo-pages');
    });
  </script>

  

</div>
  <div class="article-comments">
  <h2>Comments</h2>
  <div id="comment-placeholder"></div>
  <script>
    window.addEventListener('load', function () {
      insertUtterancesCommentBlock();
    });
  </script>
</div>
  
  <div class="article-related">
    <h2>Related</h2>
    <div class="archives">
      
        
        <article class="archive-article archive-type-post">
  <div class="archive-article-inner">
    <header class="archive-article-header">
      
    <a href="/post/Generate-Social-Media-Images-Automatically/">
        <img class="archive-article-photo" src="/photos/tablet/DSC_6776.jpg" alt="Color Brushes" />
    </a>

    </header>
    <div class="archive-article-content">
      <a href="/post/Generate-Social-Media-Images-Automatically/" class="archive-article-date">
  
    <time class="published dt-published" datetime="2021-07-10T09:07:31.000Z" itemprop="datePublished">10 Jul 2021</time>
  
</a>
      
  <div class="archive-article-category category-javascript">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a> 
  </div>

      




    <a class="archive-article-anything" itemprop="name" href="/projects/social-media-image-generator">social-media-image-generator</a>

      
  
    <h1 itemprop="name">
      <a class="archive-article-title" href="/post/Generate-Social-Media-Images-Automatically/">Generate Social Media Images Automatically</a>
    </h1>
  

                    
    </div>
    <div class="archive-article-footer">
      
  <div class="archive-article-tags">
    <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Blogging/" rel="tag">Blogging</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ES6/" rel="tag">ES6</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GitHub/" rel="tag">GitHub</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Imaging/" rel="tag">Imaging</a></li></ul>  
  </div>

    </div>
</div>
</article>
        
      
        
        <article class="archive-article archive-type-post">
  <div class="archive-article-inner">
    <header class="archive-article-header">
      
    <a href="/post/Forking-Hexo-plugin-hexo-index-anything/">
        <img class="archive-article-photo" src="/photos/tablet/20-08 Mallorca-7200.jpg" alt="Red Golden Leafs" />
    </a>

    </header>
    <div class="archive-article-content">
      <a href="/post/Forking-Hexo-plugin-hexo-index-anything/" class="archive-article-date">
  
    <time class="published dt-published" datetime="2021-04-25T11:41:46.000Z" itemprop="datePublished">25 Apr 2021</time>
  
</a>
      
  <div class="archive-article-category category-javascript">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a> 
  </div>

      




    <a class="archive-article-anything" itemprop="name" href="/projects/hexo-generator-anything">hexo-generator-anything</a>

      
  
    <h1 itemprop="name">
      <a class="archive-article-title" href="/post/Forking-Hexo-plugin-hexo-index-anything/">Forking Hexo plugin &#39;hexo-index-anything&#39;</a>
    </h1>
  

      
    <h2 class="archive-article-subtitle" itemprop="name">
        Introducing its successor &#39;hexo-generator-anything&#39;
    </h2>
              
    </div>
    <div class="archive-article-footer">
      
  <div class="archive-article-tags">
    <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GitHub/" rel="tag">GitHub</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Plugin/" rel="tag">Plugin</a></li></ul>  
  </div>

    </div>
</div>
</article>
        
      
        
        <article class="archive-article archive-type-post">
  <div class="archive-article-inner">
    <header class="archive-article-header">
      
    <a href="/post/Show-related-posts-in-Hexo/">
        <img class="archive-article-photo" src="/photos/tablet/18-09 Kroatien-0323.jpg" alt="Garden Eden" />
    </a>

    </header>
    <div class="archive-article-content">
      <a href="/post/Show-related-posts-in-Hexo/" class="archive-article-date">
  
    <time class="published dt-published" datetime="2020-10-03T11:17:03.000Z" itemprop="datePublished">03 Oct 2020</time>
  
</a>
      
  <div class="archive-article-category category-tools">
    <a class="article-category-link" href="/categories/Tools/">Tools</a> 
  </div>

      


    <a class="archive-article-anything" itemprop="name" href="/series/a-new-blog">A New Blog</a>



      
  
    <h1 itemprop="name">
      <a class="archive-article-title" href="/post/Show-related-posts-in-Hexo/">Show related posts in Hexo</a>
    </h1>
  

                    
    </div>
    <div class="archive-article-footer">
      
  <div class="archive-article-tags">
    <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Blogging/" rel="tag">Blogging</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li></ul>  
  </div>

    </div>
</div>
</article>
        
      
    </div>
  </div>

  
<nav id="article-nav">
  
    <a href="/post/Application-Specific-Links-on-Windows-10/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Application-Specific Links on Windows 10
        
      </div>
    </a>
  
  
    <a href="/post/Visualize-the-codebase-of-your-GitHub-repo/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Visualize the codebase of your GitHub repo</div>
    </a>
  
</nav>

  

</article></main>
          
            <aside id="sidebar">
  
    <div class="widget-wrap">
    <div class="widget about h-card"><!--http://microformats.org/wiki/h-card-->
        <div class="avatar">
            <a href="/about"><img class="u-photo" src="https://kiko.io/images/kristof-zerbe.png" alt="Kristof Zerbe"></a>
            <a href="https://github.com/kristofzerbe" target="_blank" class="fab fa-github" rel="me"></a>
            <a href="https://www.xing.com/profile/Kristof_Zerbe" target="_blank" class="fab fa-xing" rel="me"></a>
            <a href="https://www.linkedin.com/in/kristof-zerbe-91012510/" target="_blank" class="fab fa-linkedin" rel="me"></a>      
            <a href="https://500px.com/kikon" target="_blank" class="fab fa-500px" rel="me"></a>
            <a href="https://twitter.com/kristofz" target="_blank" class="fab fa-twitter" rel="me"></a>
            <a href="https://indieweb.social/@kiko" target="_blank" class="fab fa-mastodon" rel="me"></a>
        </div>
        <h3 class="p-name">Kristof Zerbe</h3>
        <p class="p-note">
            <i class="p-role">Developer and Team Lead</i> located in <i class="p-locality">Wiesbaden</i>, <i class="p-country-name">Germany</i>
        </p>
        <a class="u-url u-uid" href="https://kiko.io" style="display:none;"></a>
    </div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            
              <a href="/post/Mastodon-simply-explained/">Mastodon simply explained</a>
            
          </li>
        
          <li>
            
              <a href="/post/Syndicate-Mastodon-Hashtags-in-your-favorite-Feed-Reader/">Syndicate Mastodon Hashtags in your favorite Feed Reader</a>
            
          </li>
        
          <li>
            
              <a href="/post/Anatomy-of-Service-Worker-Communication/">Anatomy of Service Worker Communication</a>
            
          </li>
        
          <li>
            
              <a href="/post/Discoveries-20-CSS-UI/">Discoveries #20 - CSS &amp; UI</a>
            
          </li>
        
          <li>
            
              <a href="/post/One-mouse-to-rule-them-all/">One mouse to rule them all</a>
            
          </li>
        
      </ul>
    </div>
  </div>

  

  <div class="widget widget-wrap">
    <p>
      Want more? This way ... to the <a href="/archives">archives</a>
    </p>
  </div>  
</aside>
          
        </div>
        <footer id="footer">
  
  <div class="outer">
    <div class="inner">
        <div id="footer-info" class="footer-block">
          &copy; 2022 <a href="https://bio.link/kristof">Kristof Zerbe</a><br>
          Powered by <a href="https://hexo.io/">Hexo</a> & <a href="https://github.com/">GitHub</a>  
        </div>
        <ul id="footer-menu" class="footer-block">
          
            <li class="menu-item" id="menu-about-link">
              <a href="/about">
                  <span>About</span>
                </a>
            </li>
          
            <li class="menu-item" id="menu-rss-link">
              <a href="/atom.xml">
                  <span>RSS Feed</span>
                </a>
            </li>
          
        </ul>
        
        <div id="footer-bmc" class="footer-block">
          <script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js" 
                  data-name="bmc-button" data-slug="kikoio" 
                  data-font="Cookie" data-text="Buy me a coffee" data-emoji="" 
                  data-color="#55555" data-outline-color="#fff" data-font-color="#fff" data-coffee-color="#fd0" ></script>
        </div>
        
        <ul id="footer-dots">
          <li class="dot"><a href="https://search.google.com/search-console?resource_id=sc-domain%3Akiko.io" title="SearchConsole"></a></li>
          <li class="dot"><a href="https://kiko-io.pirsch.io/" title="Pirsch"></a></li>
        </ul>      
    </div>
  </div>
</footer>
      </div>
      <script>
  let isOffline = 'false' === 'true';
</script>


<script src="/js/jquery-3.6.0.min.js"></script>


<script src="/js/dist/bundle.min.js"></script>


<script src="/js/script.js"></script>


<script>
  // HEADER
  var header = {
    height: 0,
    top: 0,
    offset: 55,
    photoLinkOpacity: 0,
    titleFontSize: 0
  };

  function initHeader() {
    $("#header").css("height", ""); //reset inline css
    $("#header-title").css("top", "");
    $("#header-photo-link").css("opacity", "");
    $("#title-wrap").css("font-size", "");
    header.height = $("#header").height(); //set from given css
    header.top = parseFloat($("#header-title").css("top"));
    header.photoLinkOpacity = parseFloat($("#header-photo-link").css("opacity"));
    header.titleFontSize = parseFloat($("#title-wrap").css("font-size"));
    scrollHeader();
  }
  function scrollHeader() {
    var h = header.height - header.offset,
        st = $(document).scrollTop(),  
        d = (h - st),
        p = (d / h),
        hfs = header.titleFontSize / 5 * 3,
        jSide = $("aside");
    if (d > 0) {
      $("#header").css("height", d + header.offset + "px");
      $("#header-photo-link").css("opacity", header.photoLinkOpacity * p);
      $("#banner").css("opacity", p);
      $("#title-wrap").css("font-size", header.titleFontSize - ( header.titleFontSize / 3) * (1 - p) );
      $("#header-title").css("top", header.top - (hfs * (1 - p)) + "px");
      $("#subtitle").css("opacity", p);
      jSide.css("max-width", "").css("position", "").css("top", "");
    } else {
      $("#header").css("height", header.offset + "px");
      $("#header-photo-link").css("opacity", 0);
      $("#banner").css("opacity", 0);
      $("#title-wrap").css("font-size", header.titleFontSize - ( header.titleFontSize / 3) * (1) );      
      $("#header-title").css("top", header.top - (hfs * (1)) + "px");      
      $("#subtitle").css("opacity", 0);
      if (window.matchMedia("screen and (min-width: 768px)").matches & window.innerHeight > (jSide.height() + 60)) {
        jSide.css("max-width", $("aside").width()).css("position", "fixed").css("top", "60px");
      }
    }    
  }

  // IMAGE VIEWPORT
  function isVisibleInViewPort(e) {
    var viewTop = $(window).scrollTop();
    var viewBottom = viewTop + $(window).height();
  
    var eTop = $(e).offset().top;
    var eBottom = eTop + $(e).height();
  
    return ((eBottom <= viewBottom) && (eTop >= viewTop));
  }
  function initViewportImage() {
    $(".article-photo, .archive-article-photo, .card-img").each(function() {
      if (isVisibleInViewPort($(this))) {
        $(this).addClass("in-view");
      } else {
        $(this).removeClass("in-view");
      }
    });
  }

  // HORIZONTAL MENU SCROLL
  function watchNavMenuScroll() {
    const nav = document.querySelector('#header-nav');
    const menu = nav.querySelector('.menu');
    const firstMenuItem = menu.querySelector('.menu-item:first-child');
    const lastMenuItem = menu.querySelector('.menu-item:last-child');

    firstMenuItem.setAttribute("data-scim", "start");
    lastMenuItem.setAttribute("data-scim", "end");
    
    let observer = new IntersectionObserver((entries, observer) => { 
      entries.forEach(entry => {

        let scimElement = document.querySelector("#header-nav-" + entry.target.getAttribute("data-scim"));
        if (entry.intersectionRatio != 1) { 
          scimElement.classList.add("show");
        } else {
          scimElement.classList.remove("show");
        }
      });
    }, {threshold: 1});
    
    observer.observe(firstMenuItem);
    observer.observe(lastMenuItem);
  }

  $(window).on('scroll', function() {
    scrollHeader();
    initViewportImage();
  });

  $(window).on('resize', function() {
    initHeader();
    initViewportImage();
  });

  initHeader();
  initViewportImage();
  watchNavMenuScroll();

  // BACK-TO-TOP
  addBackToTop({
    diameter: 30
  })

  // AUTOTYPING
  setTimeout(function() {
    $("#title-wrap").empty();
    new AutoTyping({
      id: 'title-wrap',
      typeText: ['kiko.io'],
      textColor: '#fff',
      typeSpeed: 100,
      typeDelay: 100,
      showCursor: false,
      delete: false,
      typeInfinity: false
    }).init();
  }, 1000);

  //MEDIUM-ZOOM
  mediumZoom(document.querySelectorAll('img.zoom'), {
    background: 'rgba(55, 55, 55, 0.5)',
    margin: 20
  });

  //SCROLL-TIMELINE
  // Create ScrollTimeline
  const myScrollTimeline = new ScrollTimeline({
    source: document.scrollingElement,
    scrollSource: document.scrollingElement, // For legacy implementations
    orientation: 'block',
      scrollOffsets: [
          new CSSUnitValue(0, 'percent'),
          new CSSUnitValue(100, 'percent'),
      ],
  });

  // Animate Progress Bar on Scroll
  document.querySelector("#progress").animate(
    {
      transform: ["scaleX(0)", "scaleX(1)"]
    },
    { 
      duration: 1, 
      fill: "forwards", 
      timeline: myScrollTimeline 
    }
  );
  
</script>


  <script>
    //HOOK LINKS FOR PIRSCH EVENT...

    //BUY ME A COFFEE
    let bmc = document.querySelector(".bmc-btn");
    if (bmc) bmc.addEventListener("click", function() { pirsch('Buy Me A Coffee clicked') });

    //FEED
    let feed = document.querySelector("#nav-rss-link a.sub-nav-link");
    if (feed) feed.addEventListener("click", function() { pirsch('Feed clicked') });

    //VSCODE
    let vscode = document.querySelectorAll(".brand-links .vscode").forEach(link => link.addEventListener("click", function() { pirsch("Open in VSCode"); }));
  </script>  

    </div>
  </div>
</body>
</html>