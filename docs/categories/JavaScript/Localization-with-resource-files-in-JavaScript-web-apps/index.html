<!DOCTYPE html>
<html>
<head><link rel=manifest href=/manifest.json><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  
  <title>kiko.io | Localization with resource files in JavaScript web apps</title>
  <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="There are plenty of editors out there to help you writing JavaScript web applications. As I’m working in my daily life with Visual Studio, it is a obvious choice for me.  One of the most time saving t">
<meta name="keywords" content="GitHub,Visual Studio,Resource,Localization">
<meta property="og:type" content="article">
<meta property="og:title" content="Localization with resource files in JavaScript web apps">
<meta property="og:url" content="https://kiko.io/categories/JavaScript/Localization-with-resource-files-in-JavaScript-web-apps/index.html">
<meta property="og:site_name" content="kiko.io">
<meta property="og:description" content="There are plenty of editors out there to help you writing JavaScript web applications. As I’m working in my daily life with Visual Studio, it is a obvious choice for me.  One of the most time saving t">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2020-06-24T07:22:46.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Localization with resource files in JavaScript web apps">
<meta name="twitter:description" content="There are plenty of editors out there to help you writing JavaScript web applications. As I’m working in my daily life with Visual Studio, it is a obvious choice for me.  One of the most time saving t">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/luminous/luminous-basic.css">
  <script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js"></script>
<link rel="alternate" href="/atom.xml" title="kiko.io" type="application/atom+xml">
</head>
</html>
<body id="body">  
  <div id="container" class="container">
    <div class="inner-container">
      <div id="wrap">
        <header id="header">
  <a href="#" id="header-photo-link"></a>
  <div id="banner">
    <nav id="header-nav" role="navigation">
      <ul class="menu">
        
          <li class="menu-item" id="nav-home-link" >
            <a 
              class="nav-icon sub-nav-link"
              href="/">
                <span>Home</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-about-link" >
            <a 
              class="nav-icon sub-nav-link"
              href="/about">
                <span>About</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-archives-link" >
            <a 
              class="nav-icon sub-nav-link"
              href="/archives">
                <span>Archives</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-series-link" >
            <a 
              class="nav-icon sub-nav-link"
              href="/series">
                <span>series</span>
              </a>
          </li>
        
          <li class="menu-item" id="nav-rss-link" >
            <a 
              class="nav-icon sub-nav-link"
              href="/atom.xml">
                <span>RSS Feed</span>
              </a>
          </li>
        
      </ul>
    </nav>
  </div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
        <a href="/" id="logo">
          <h1 id="title-wrap"></h1>
        </a>
      
        <h2 id="subtitle">
          Memorable Tech Stuff
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      
      

      <nav id="sub-nav">
        
        <a id="sub-nav-search" class="sub-nav-icon" title="Search"></a>
        <div id="sub-nav-theme">          
          <input type="checkbox" id="theme-switch">
          <label for="theme-switch"></label>
        </div>
      </nav>

      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://kiko.io"></form>
      </div>
    </div>
  </div>
</header>
<script>
  if (location.pathname === "/") {
    document.getElementById("nav-home-link").style.display = 'none';
  }
</script>
        <div id="content" class="outer">
          <main>
<style>
  #banner {
    background-size: cover;
  }
  @media screen and (max-width: 479px) {
    #banner { background-image: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 75%), url("/photos/mobile/19-05 Israel-0161.jpg"); }
  }
  @media screen and (min-width: 480px) and (max-width: 767px) {
    #banner { background-image: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 75%), url("/photos/tablet/19-05 Israel-0161.jpg"); }
  }
  @media screen and (min-width: 768px) {
    #banner { background-image: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 75%), url("/photos/normal/19-05 Israel-0161.jpg"); }    
  }
</style>
<script>
  var body = document.getElementById("body");
  body.classList.add("article-view");
  var photoLink = document.getElementById("header-photo-link");
  photoLink.href = "https://500px.com/photo/1005493426/Zern-by-Kristof-Zerbe";
  photoLink.innerHTML = "see <strong>Zern</strong> at 500px";
</script>

  
<article id="post-Localization-with-resource-files-in-JavaScript-web-apps" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/categories/JavaScript/Localization-with-resource-files-in-JavaScript-web-apps/" class="article-date">
  <time datetime="2020-06-13T13:49:10.000Z" itemprop="datePublished">13 Jun 2020</time>
</a>
    
  <div class="article-category category-javascript">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a> 
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
        
  
    <h1 class="article-title" itemprop="name">
      Localization with resource files in JavaScript web apps
    </h1>
  

        
    <h2 class="article-subtitle" itemprop="name">
        How to work with Visual Studio resource files for localization in Single Page Applications
    </h2>

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>There are plenty of editors out there to help you writing JavaScript web applications. As I’m working in my daily life with Visual Studio, it is a obvious choice for me. </p>
<p>One of the most time saving tools in VS is the plugin <a href="https://marketplace.visualstudio.com/items?itemName=TomEnglert.ResXManager" target="_blank" rel="noopener">ResXManager</a>, which is an awesome assistant on managing the translations for a Desktop- or ASP.NET-App, which uses XML-based RESX files.</p>
<a id="more"></a>

<p>Mostly very localization is based on key/value pairs, defined in separate files for every language provided.</p>
<p>Implementing several languages in pure JavaScript apps is a little more difficult, because it makes no sense to deal with big XML files in JS. All localization libraries in the market uses JSON for storing the translations and it is a little bit of work to find the right one for your requirements.</p>
<!-- more -->

<h2 id="Localization-in-JavaScript"><a href="#Localization-in-JavaScript" class="headerlink" title="Localization in JavaScript"></a>Localization in JavaScript</h2><p>For a current project I use  <a href="https://github.com/Irrelon/jquery-lang-js" target="_blank" rel="noopener">jquery-lang</a>, because it provides the switch of the apps UI language without reloading and it is easy to implement. Thanks Rob Evans for your work…</p>
<p>The definition of “tokens” in one JSON file for each language is quite easy:</p>
<p><strong>…/languages/en.json</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"token"</span>: &#123;</span><br><span class="line">        <span class="string">"my-test"</span>: <span class="string">"My Test in English"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>…/languages/de.json</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"token"</span>: &#123;</span><br><span class="line">        <span class="string">"my-test"</span>: <span class="string">"Mein Test in Deutsch"</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The usage also:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">lang</span>=<span class="string">"en"</span> <span class="attr">data-lang-token</span>=<span class="string">"my-test"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Using-RESX-and-convert-to-JSON-on-build"><a href="#Using-RESX-and-convert-to-JSON-on-build" class="headerlink" title="Using RESX and convert to JSON on build"></a>Using RESX and convert to JSON on build</h2><p>Having this, the most time consuming work is to enter the translations to the localization files. If you have hundreds of them, it is hard to keep the 2, 3 or more language files in sync. You need a helper…</p>
<p>And here comes ResXManager to the rescue, if you work with VS … but it needs a conversation from RESX to the JSON format jquery-lang uses and this a task, which can be done on building the JS app, by using a task runner like <a href="https://gruntjs.com/" target="_blank" rel="noopener">Grunt</a>.</p>
<p>As there was no Grunt plugin/task out there to fit my needs, I have created  <strong>grunt-resource2json</strong> (<a href="https://github.com/kristofzerbe/grunt-resource2json" target="_blank" rel="noopener">GitHub</a>, <a href="https://www.npmjs.com/package/grunt-resource2json" target="_blank" rel="noopener">NPM</a>). The configuration in the <strong>gruntfile.js</strong> is like: </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">grunt.initConfig(&#123;</span><br><span class="line">    resource2json: &#123;</span><br><span class="line">      convert: &#123;</span><br><span class="line">        options: &#123;</span><br><span class="line">          format: "jquery-lang"</span><br><span class="line">        &#125;,</span><br><span class="line">        files: [</span><br><span class="line">          &#123;</span><br><span class="line">            input: "resources/Resource.resx",</span><br><span class="line">            output: "build/langpacks/en.json"</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            input: "resources/Resource.de-DE.resx",</span><br><span class="line">            output: "build/langpacks/de.json"</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            input: "resources/Resource.es-ES.resx",</span><br><span class="line">            output: "build/langpacks/es.json"</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure>

<p>It takes one RESX file (input) and converts it to a JSON file (output) in an array of files.</p>
<p>The heavy work in the plugin is done by the library <a href="https://www.npmjs.com/package/xml2js" target="_blank" rel="noopener">xml2js</a>, which transforms the complete XML of the RESX file into a JSON object in one call. All I had to do, was to write all DATA nodes in a loop into the jquery-lang given structure and save it as JSON.</p>
<p>Currently supported is the format for jquery-lang only, but it would be awesome, if you fork the code on <a href="https://github.com/kristofzerbe/grunt-resource2json" target="_blank" rel="noopener">GitHub</a> and send me a Pull Request with the implementation of your needed format.</p>

      
    </div>
    <footer class="article-footer">
      <!-- <a data-url="https://kiko.io/categories/JavaScript/Localization-with-resource-files-in-JavaScript-web-apps/" data-id="ckf1bhz1h0026pghzto77yv22" class="article-share-link">Share</a> -->
      
      
  <div class="article-tags">
    <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GitHub/">GitHub</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Localization/">Localization</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Resource/">Resource</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Visual-Studio/">Visual Studio</a></li></ul>  
  </div>

    </footer>
  </div>
  
    
      <div id="comment-placeholder"></div>
      <script>
        window.addEventListener('load', function () {
          insertUtterancesCommentBlock();
        })    
      </script>
    
    
<nav id="article-nav">
  
    <a href="/categories/Tools/Automatic-Header-Images-in-Hexo/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Automatic Header Images in Hexo
        
      </div>
    </a>
  
  
    <a href="/categories/Tools/TFS-DevOps-Delete-Remote-Workspace/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">TFS/DevOps: Delete Remote Workspace</div>
    </a>
  
</nav>

  
</article>

<!--  -->
</main>
          
            <aside id="sidebar">
  
    <div class="widget-wrap">
    <div class="widget about">
        <div class="avatar">
            <a href="/about"><img src="/images/kristof-zerbe.png"></a>
            <a href="https://github.com/kristofzerbe" target="blank" class="fab fa-github"></a>
            <a href="https://www.xing.com/profile/Kristof_Zerbe" target="blank" class="fab fa-xing"></a>
            <a href="https://www.linkedin.com/in/kristof-zerbe-91012510/" target="blank" class="fab fa-linkedin"></a>      
            <a href="https://500px.com/kikon" target="blank" class="fab fa-500px"></a>
            <a href="https://twitter.com/kristofz" target="blank" class="fab fa-twitter"></a>
        </div>
        <h3>Kristof Zerbe</h3>
        <p>
            Developer and Team Lead located in Wiesbaden, Germany
        </p>
    </div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/categories/Discoveries/Discoveries-2/">Discoveries #2</a>
          </li>
        
          <li>
            <a href="/categories/Tools/Add-website-to-Trello-card-the-better-way/">Add website to Trello card the better way</a>
          </li>
        
          <li>
            <a href="/categories/UI-Design/Horizontal-navigation-menu-above-an-image/">Horizontal navigation menu above an image</a>
          </li>
        
          <li>
            <a href="/categories/JavaScript/Change-CSS-class-when-element-scrolls-into-viewport/">Change CSS class when element scrolls into viewport</a>
          </li>
        
          <li>
            <a href="/categories/Discoveries/Discoveries-1/">Discoveries #1</a>
          </li>
        
      </ul>
    </div>
  </div>

  

  <div class="widget widget-wrap">
    <p>
      Want more? This way ... to the <a href="/archives">archives</a>
    </p>
  </div>  
</aside>
          
        </div>
        <footer id="footer">
  
  <div class="outer">
    <div class="inner">
        <div id="footer-info">
          &copy; 2020 <a href="https://github.com/kristofzerbe">Kristof Zerbe</a><br>
          Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/" target="_blank">GitHub</a>
          <ul id="footer-dots">
            <li><a href="https://search.google.com/search-console?resource_id=sc-domain%3Akiko.io" target="_blank" title="SearchConsole"></a></li>
          </ul>          
        </div>
    </div>
  </div>
</footer>
      </div>
      <script src="/js/utterances-comment.js"></script>
<script src="/js/dark-mode-toggle.js"></script>
<script src="/js/AutoTyping.js"></script>

<!-- LIBRARIES -->
<!--<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>-->
<script src="/jquery/jquery.min.js"></script>

<!-- LUMINOUS -->
<script src="/luminous/luminous.min.js"></script>

<!-- HAMMER -->



<!-- BARBA -->




<!-- MAIN-SCRIPT (THEME.LANDSCAPE.SOURCE.JS) -->
<script src="/js/script.js"></script>

<script>
  //BACK-TO-TOP
  addBackToTop({
    diameter: 30
  })

// AUTOTYPING
//$("#title-wrap").text("kiko.io");
new AutoTyping({
  id: 'title-wrap',
  typeText: ['kiko.io'],
  textColor: '#fff',
  typeSpeed: 100,
  typeDelay: 1000,
  showCursor: false,
  delete: false,
  typeInfinity: false
}).init();
</script>

    </div>
  </div>
</body>
</html>