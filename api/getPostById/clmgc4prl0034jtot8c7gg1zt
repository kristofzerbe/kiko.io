{"type":"getPostById","data":{"title":"Image Masonry Tag Plugin for Hexo","date":"2023-09-01T14:07:37.000Z","description":"<p>Displaying a few more images than usual in a post is always a bit tricky, because you have to make sure they don’t get too big and drown out the text. But they should not be too small either and the arrangement is also important to consider.</p>\n<p>For this purpose I have so far used my <a href=\"/post/Hexo-Tag-Plugin-Collection/#image-slide\">Image Slider Tag Plugin</a>, but with this you only ever see one of the images and have to scroll through the rest horizontally. A medium sized overview, best in the so called masonry format, where images are automatically assembled based on their size on a limited area, would be much better for some cases. There are a variety of CSS or JavaScript solutions out there on the net, but the most suitable for me was <a href=\"http://macyjs.com/\"><strong>Macy.js</strong></a> … and how I integrated it into my Hexo environment is what I want to describe here.</p>","categories":[{"name":"Tools","_id":"clmgc4pst003ljtot2prlcsz3"}],"tags":[{"name":"Hexo","_id":"clmgc4pst003kjtotgnaodcm8"},{"name":"GitHub","_id":"clmgc4psx003ujtot39tdducp"},{"name":"Plugin","_id":"clmgc4pto0069jtot9e3w0dtu"}],"content":"<p>Displaying a few more images than usual in a post is always a bit tricky, because you have to make sure they don’t get too big and drown out the text. But they should not be too small either and the arrangement is also important to consider.</p>\n<p>For this purpose I have so far used my <a href=\"/post/Hexo-Tag-Plugin-Collection/#image-slide\">Image Slider Tag Plugin</a>, but with this you only ever see one of the images and have to scroll through the rest horizontally. A medium sized overview, best in the so called masonry format, where images are automatically assembled based on their size on a limited area, would be much better for some cases. There are a variety of CSS or JavaScript solutions out there on the net, but the most suitable for me was <a href=\"http://macyjs.com/\"><strong>Macy.js</strong></a> … and how I integrated it into my Hexo environment is what I want to describe here.</p>\n<span id=\"more\"></span>\n\n<p>Like (<a href=\"https://github.com/ganlanyuan/tiny-slider\">Tiny Slider</a>), Macy.js is also based on JavaScript, as the name already expresses. The setup in HTML is very simple: a certain number of wrappers are arranged in a container, each of which contains an image:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;macy-container&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/photos/normal/D50_0053.jpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/photos/normal/D50_0075.jpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/photos/normal/D50_0086.jpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/photos/normal/D50_1092.jpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/photos/normal/D50_1147.jpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/photos/normal/D50_1577.jpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/photos/normal/_D50_3251.jpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>  </span><br></pre></td></tr></table></figure>\n\n<p>It does not matter whether the images are the same size or whether they are in portrait or landscape format. Macy.js then takes care of the sensible arrangement of the images in the container. All that is missing now is the call to the script:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> macy = <span class=\"keyword\">new</span> <span class=\"title class_\">Macy</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">container</span>: <span class=\"string\">&#x27;#macy-container&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">trueOrder</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"attr\">waitForImages</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"attr\">useOwnImageLoader</span>: <span class=\"literal\">false</span>,</span><br><span class=\"line\">  <span class=\"attr\">debug</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"attr\">mobileFirst</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  <span class=\"attr\">columns</span>: <span class=\"number\">2</span>,</span><br><span class=\"line\">  <span class=\"attr\">margin</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">y</span>: <span class=\"number\">6</span>,</span><br><span class=\"line\">    <span class=\"attr\">x</span>: <span class=\"number\">6</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">breakAt</span>: &#123;</span><br><span class=\"line\">    <span class=\"number\">1024</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">margin</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">x</span>: <span class=\"number\">8</span>,</span><br><span class=\"line\">        <span class=\"attr\">y</span>: <span class=\"number\">8</span></span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">columns</span>: <span class=\"number\">4</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"number\">768</span>: <span class=\"number\">3</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br></pre></td></tr></table></figure>\n\n<p>For more information on the available parameters (and there are some interesting), please visit <a href=\"https://github.com/bigbite/macy.js\">https://github.com/bigbite/macy.js</a>.</p>\n<hr>\n<h2 id=\"The-Tag-Plugin\"><a href=\"#The-Tag-Plugin\" class=\"headerlink\" title=\"The Tag Plugin\"></a>The Tag Plugin</h2><p>To make it easy for Hexo users, I created a tag plugin from the code above and added it to my <a href=\"https://github.com/kristofzerbe/hexo-tag-plugins#image-masonry\">Hexo Tag Plugin Collection on GitHub</a>.</p>\n<p><strong>Usage Example:</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% image_masonry</span><br><span class=\"line\">  <span class=\"string\">&quot;../../photos/normal/D50_0053.jpg|Thomas&#x27; Ruby Prince I&quot;</span></span><br><span class=\"line\">  <span class=\"string\">&quot;../../photos/normal/_D50_3251.jpg|No Name&quot;</span></span><br><span class=\"line\">  <span class=\"string\">&quot;../../photos/normal/D50_0086.jpg|Thomas&#x27; German Flag&quot;</span></span><br><span class=\"line\">  <span class=\"string\">&quot;../../photos/normal/D50_1147.jpg|Poppy Green&quot;</span></span><br><span class=\"line\">  <span class=\"string\">&quot;../../photos/normal/D50_0075.jpg|Thomas Wild Tulips&quot;</span></span><br><span class=\"line\">  <span class=\"string\">&quot;../../photos/normal/D50_7474.jpg|Garden Beauties XIV&quot;</span></span><br><span class=\"line\">  <span class=\"string\">&quot;../../photos/normal/D50_4451.jpg|Garden Beauties I&quot;</span></span><br><span class=\"line\">  <span class=\"string\">&quot;../../photos/normal/D50_1577.jpg|Floral Magic XIV&quot;</span></span><br><span class=\"line\">%&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Live Output:</strong></p>\n\n      <div class=\"image-masonry\" id=\"image-masonry-xadppm\">\n        <div><img class=\"no-caption\" src=\"/post/Image-Masonry-Tag-Plugin-for-Hexo/../../photos/normal/D50_0053.jpg\" alt=\"Thomas' Ruby Prince I\" /></div><div><img class=\"no-caption\" src=\"/post/Image-Masonry-Tag-Plugin-for-Hexo/../../photos/normal/_D50_3251.jpg\" alt=\"No Name\" /></div><div><img class=\"no-caption\" src=\"/post/Image-Masonry-Tag-Plugin-for-Hexo/../../photos/normal/D50_0086.jpg\" alt=\"Thomas' German Flag\" /></div><div><img class=\"no-caption\" src=\"/post/Image-Masonry-Tag-Plugin-for-Hexo/../../photos/normal/D50_1147.jpg\" alt=\"Poppy Green\" /></div><div><img class=\"no-caption\" src=\"/post/Image-Masonry-Tag-Plugin-for-Hexo/../../photos/normal/D50_0075.jpg\" alt=\"Thomas Wild Tulips\" /></div><div><img class=\"no-caption\" src=\"/post/Image-Masonry-Tag-Plugin-for-Hexo/../../photos/normal/D50_7474.jpg\" alt=\"Garden Beauties XIV\" /></div><div><img class=\"no-caption\" src=\"/post/Image-Masonry-Tag-Plugin-for-Hexo/../../photos/normal/D50_4451.jpg\" alt=\"Garden Beauties I\" /></div><div><img class=\"no-caption\" src=\"/post/Image-Masonry-Tag-Plugin-for-Hexo/../../photos/normal/D50_1577.jpg\" alt=\"Floral Magic XIV\" /></div>\n      </div>\n      <script>\n        let macy = new Macy({\n          container: '#image-masonry-xadppm',\n          trueOrder: false,\n          waitForImages: false,\n          useOwnImageLoader: false,\n          debug: true,\n          mobileFirst: true,\n          columns: 2,\n          margin: {\n            y: 6,\n            x: 6\n          },\n          breakAt: {\n            980: {\n              margin: {\n                x: 8,\n                y: 8\n              },\n              columns: 3\n            },\n            768: 2,\n            640: 3\n          }\n        });\n      </script>\n    \n","_path":"post/Image-Masonry-Tag-Plugin-for-Hexo/","_link":"https://kiko.io/post/Image-Masonry-Tag-Plugin-for-Hexo/","_id":"clmgc4prl0034jtot8c7gg1zt"}}