{"type":"getPostById","data":{"title":"Show related posts in Hexo","date":"2020-10-03T11:17:03.000Z","description":"<p>It is always nice to point the readers of your blog’s articles to related posts, they might be interested in. They stay a little longer to understand what you have to offer and increases the likelihood that they become loyal readers, followers or subscribers. Related posts has become a standard on delivering news and posts.</p>\n<p>In the default Hexo theme <strong>Landscape</strong>, on which this blog is based, there is no such function built in, but as the Hexo community is very busy, there are some plugins you can use.</p>","categories":[{"name":"Tools","_id":"clko6hmul003bpgn7b7t81ytu"}],"tags":[{"name":"Hexo","_id":"clko6hmum003epgn77ejd4wpf"},{"name":"Blogging","_id":"clko6hmup003ipgn71b9v7cym"}],"content":"<p>It is always nice to point the readers of your blog’s articles to related posts, they might be interested in. They stay a little longer to understand what you have to offer and increases the likelihood that they become loyal readers, followers or subscribers. Related posts has become a standard on delivering news and posts.</p>\n<p>In the default Hexo theme <strong>Landscape</strong>, on which this blog is based, there is no such function built in, but as the Hexo community is very busy, there are some plugins you can use.</p>\n<span id=\"more\"></span>\n\n<h2 id=\"Plugin-hexo-list-related-posts\"><a href=\"#Plugin-hexo-list-related-posts\" class=\"headerlink\" title=\"Plugin: hexo-list-related-posts\"></a>Plugin: hexo-list-related-posts</h2><p>This plugin, available at <a href=\"https://github.com/nkmk/hexo-list-related-posts\">GitHub</a> is pretty lean and generates a list of links to related posts based on tags. It just counts how often a tag is occuring and shows a list of related posts either by count descending or randomly.</p>\n<p><strong>Advantage</strong>:</p>\n<ul>\n<li>Easy and fast</li>\n</ul>\n<p><strong>Disadvantage</strong>:</p>\n<ul>\n<li>Necessity of a sophisticated tag system</li>\n<li>Technical approach</li>\n</ul>\n<h2 id=\"Plugin-hexo-related-posts\"><a href=\"#Plugin-hexo-related-posts\" class=\"headerlink\" title=\"Plugin: hexo-related-posts\"></a>Plugin: hexo-related-posts</h2><p><a href=\"https://github.com/sergeyzwezdin/hexo-related-posts\">Sergey Zwezdin</a> made much more effort in his solution. The plugins depends on statistic methodologies like <a href=\"https://en.wikipedia.org/wiki/Stemming\">Stemming</a> and <a href=\"https://en.wikipedia.org/wiki/Tf%E2%80%93idf\">TF&#x2F;IDF</a>, provided by the Node library <a href=\"https://github.com/NaturalNode/natural\">Natural</a>. It has plenty setting options like weighting and reserved words in order to optimize results.</p>\n<p><strong>Advantages</strong>:</p>\n<ul>\n<li>Much better results</li>\n</ul>\n<p><strong>Disadvantages</strong>:</p>\n<ul>\n<li>Huge installation, because of many dependent Node modules</li>\n<li>Necessity of maintaining reserved words</li>\n<li>Technical approach</li>\n</ul>\n<h2 id=\"Manually-Curated\"><a href=\"#Manually-Curated\" class=\"headerlink\" title=\"Manually Curated\"></a>Manually Curated</h2><p>One point, that no technical solution can achieve is: you can guide the reader through your blog, by pointing out posts, which doesn’t really belong to the topic, but tries to give him a wider perspective on your thoughts or work. This is only possible, if you link the related posts manually. Here is a way to implement the requirements…</p>\n<p>The right place to store related posts is in the <a href=\"https://hexo.io/docs/front-matter.html\">Frontmatter</a> of your article. Create a list below the keyword <code>related</code> and take the slug (name of the post file) of the posts you want to show below the article as entries:</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">My</span> <span class=\"string\">New</span> <span class=\"string\">fancy</span> <span class=\"string\">Post</span></span><br><span class=\"line\"><span class=\"attr\">related:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">my-other-post</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">one-of-my-first-posts</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">yet-another-post</span></span><br></pre></td></tr></table></figure>\n\n<p>In your <code>article.ejs</code> add a new partial called <strong>related</strong> to the place where it should be shown under the content of the actual article:</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">article</span> </span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">id</span>=<span class=\"string\">&quot;&lt;%= post.layout %&gt;-&lt;%= post.slug %&gt;&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">class</span>=<span class=\"string\">&quot;article article-type-&lt;%= post.layout %&gt;&quot;</span> </span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">itemscope</span> <span class=\"attr\">itemprop</span>=<span class=\"string\">&quot;blogPost&quot;</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;article-inner&quot;</span>&gt;</span></span><br><span class=\"line\">    &lt;%- post.content %&gt;</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  &lt;% if (!index)&#123; %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- NEW RELATED PARTIAL --&gt;</span></span><br><span class=\"line\">    &lt;%- partial(&#x27;post/related&#x27;) %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    &lt;%- partial(&#x27;post/comments&#x27;) %&gt;</span><br><span class=\"line\">    &lt;%- partial(&#x27;post/nav&#x27;) %&gt;</span><br><span class=\"line\">  &lt;% &#125; %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">article</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>In the folder <code>themes/landscape/layout/_partial/post</code>, where all partials are stored which belongs to posts, create the new partial file:</p>\n<figure class=\"highlight html\"><figcaption><span>related.ejs</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;% if (post.related &amp;&amp; post.related.length)&#123; %&gt;</span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;article-related&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>Related<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;archives&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"comment\">&lt;!-- Loop through the Frontmatter list of RELATED posts --&gt;</span>  </span><br><span class=\"line\">      &lt;% post.related.forEach(function(item) &#123; %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">&lt;!--Determine the post(s) with the given slug --&gt;</span>  </span><br><span class=\"line\">        &lt;%</span><br><span class=\"line\">          var posts = site.posts.filter(function(post) &#123;</span><br><span class=\"line\">            return post.slug.toLowerCase() === item.toLowerCase();</span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- Loop through the post(s) and render the archive panel --&gt;</span></span><br><span class=\"line\">        &lt;% posts.each(function(post) &#123; %&gt;</span><br><span class=\"line\">          &lt;%- partial(&#x27;../archive-post&#x27;, &#123; post: post, show_link: true &#125;) %&gt;</span><br><span class=\"line\">        &lt;% &#125;); %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">      &lt;% &#125;); %&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure>\n\n<p><small><em>(Remove the comments, because they doesn’t belong to EJS)</em></small></p>\n<p>In this partial we loop through the Frontmatter list of related posts, determine the post by the given slug and render an archive panel for each post.</p>\n<p>The list <code>site.posts</code> should always contain a slug just once, therefore getting an array of posts and looping is just a precuation.</p>\n<p>What you are getting you can see below…</p>\n","_path":"post/Show-related-posts-in-Hexo/","_link":"https://kiko.io/post/Show-related-posts-in-Hexo/","_id":"clko6hmrs000xpgn7agyhert3"}}