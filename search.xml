<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Pagefind UI and URL Parameters</title>
      <link href="/post/Pagefind-UI-and-URL-Parameters/"/>
      <url>/post/Pagefind-UI-and-URL-Parameters/</url>
      
        <content type="html"><![CDATA[<p>A couple of days ago I wrote about my attempt to <a href="/post/Integration-of-Pagefind-in-Hexo/" title="Integration of Pagefind in Hexo">integrate Pagefind in my blog</a>. In the meantime, I further refined the indexing by excluding more content areas and adding more for the metadata to make the search results even better.</p><p>But one thing was still missing: controlling the search via url parameters, so that you can actually consider the page as a search page. I came across this in a post about the sense and nonsense of Open Graph attributes and other search engine related metadata nowadays. Google, for example, <a href="https://developers.google.com/search/docs/appearance/structured-data/intro-structured-data">likes to use JSON-LD</a> and when describing the site you can define a search page which then makes it easier to search the site directly via Google … see <a href="https://developers.google.com/search/docs/appearance/structured-data/sitelinks-searchbox">Sitelinks search box (WebSite) structured data</a></p><p>In my implementation, I decided to adapt the <a href="https://pagefind.app/docs/ui/">Pagefind UI</a> for myself instead of developing everything from scratch via JavaScript. There are always some limitations with pre-built solutions, but I want to show here that they are actually none for the inclusion of a url parameter.</p><span id="more"></span><p>My Pagefind search page is accessible at <a href="/search">&#x2F;search</a> and therefore it’s easy to provide with parameters, f.e. <code>/search/?q=test</code>. Retrieving them on the page via JavaScript is no rocket science either:</p><figure class="highlight js"><figcaption><span>Search Page</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// get value search parameter</span></span><br><span class="line">  <span class="keyword">const</span> queryString = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>;</span><br><span class="line">  <span class="keyword">const</span> urlParams = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(queryString);</span><br><span class="line">  <span class="keyword">const</span> searchString = urlParams.<span class="title function_">get</span>(<span class="string">&quot;q&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// initialize Pagefind UI</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">PagefindUI</span>(&#123; <span class="attr">element</span>: <span class="string">&quot;#search&quot;</span> &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>Now Pagefind does not offer the possibility to initialize the search on the page already with a certain value, which would be the easiest way. You can only insert the value supplied via the URL parameter into the initialized INPUT field <strong>afterwards</strong> and ensure that the search is triggered with it.</p><p>Unfortunately, Pagefind also does not provide a callback method to do things after successful initialization. So, my implementation needs a “guard” that kicks in as soon as the INPUT field is ready for a search string to be entered. For this I use the following small function called <code>waitForElm</code>, which uses JS’s <code>MutationAbserver</code> and is located in my <em>tools.js</em> file. It triggers a Promise as soon as an element is available on the page.</p><figure class="highlight js"><figcaption><span>tools.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">waitForElm</span>(<span class="params">selector</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(selector)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">resolve</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(selector));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">MutationObserver</span>(<span class="function">(<span class="params">mutations</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(selector)) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(selector));</span><br><span class="line">        observer.<span class="title function_">disconnect</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    observer.<span class="title function_">observe</span>(<span class="variable language_">document</span>.<span class="property">body</span>, &#123;</span><br><span class="line">      <span class="attr">childList</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">subtree</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>With this function and the name of the INPUT field that Pagefind inserts into the <code>#search</code> wrapper during initialization, the URL parameter can now be set. </p><p>Since Pagefind already shows results when typing the first characters, the easiest way to trigger the search after setting the value is by dispatching the <code>input</code> event.</p><figure class="highlight js"><figcaption><span>Search Page</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// get value search parameter</span></span><br><span class="line">  <span class="keyword">const</span> queryString = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>;</span><br><span class="line">  <span class="keyword">const</span> urlParams = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(queryString);</span><br><span class="line">  <span class="keyword">const</span> searchString = urlParams.<span class="title function_">get</span>(<span class="string">&quot;q&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// initialize Pagefind UI</span></span><br><span class="line">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">PagefindUI</span>(&#123; <span class="attr">element</span>: <span class="string">&quot;#search&quot;</span> &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// setting the incoming value and the focus into the  </span></span><br><span class="line">  <span class="comment">// generated INPUT field as it appears and trigger the search</span></span><br><span class="line">  <span class="title function_">waitForElm</span>(<span class="string">&quot;.pagefind-ui__search-input&quot;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">elm</span>) =&gt;</span> &#123;</span><br><span class="line">    elm.<span class="title function_">focus</span>();</span><br><span class="line">    <span class="keyword">if</span> (searchString) &#123; </span><br><span class="line">      elm.<span class="property">value</span> = searchString;</span><br><span class="line">      elm.<span class="title function_">dispatchEvent</span>(<span class="keyword">new</span> <span class="title class_">Event</span>(<span class="string">&#x27;input&#x27;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);  </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>You can try my solution here: <strong><a href="/search/?q=pagefind">&#x2F;search&#x2F;?q&#x3D;pagefind</a></strong></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Search </tag>
            
            <tag> Blogging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Integration of Pagefind in Hexo</title>
      <link href="/post/Integration-of-Pagefind-in-Hexo/"/>
      <url>/post/Integration-of-Pagefind-in-Hexo/</url>
      
        <content type="html"><![CDATA[<p>From the beginning of this blog I wanted to provide some kind of full text search in order to give my users the ability to find stuff by keyword.</p><p>There are a few Hexo plugins that have approached the subject, but it was not really satisfactory and performant. So I relied on the worlds biggest search engine: Google. A search button, which drives out a small input field and with the pressing of the ENTER key the form was sent via GET to <code>//google.com/search</code>.</p><p><img src="/post/Integration-of-Pagefind-in-Hexo/google-site-search.png" alt="Google Site Search on kiko.io"></p><p>The procedure was simple, but also burdened with the fact that I always expose my users to Google. At least until now … :)</p><p><a href="https://mstdn.social/@BryceWrayTX">Bryce Wray</a> set me on a new path with his post <a href="https://www.brycewray.com/posts/2022/12/sweeter-searches-pagefind/">Sweeter searches with Pagefind</a>, in which he talks about his experience with the still fairly fresh tool <a href="https://pagefind.app/"><strong>Pagefind</strong></a>…</p>    <div>        <blockquote><p>Pagefind is a fully static search library that aims to perform well on large sites, while using as little of your users’ bandwidth as possible, and without hosting any infrastructure …</p></blockquote>        <cite><a href="https://pagefind.app/">--- Liam Bigelow @ pagefind.app</a></cite>    </div>  <p>Pardon me? A full text search for SSG’s running completely in the browser? It sounded so great that I had to try it right away. And what can I say … it not only works fantastically well, but is also extremely easy to implement. Of course, you have to consider a few things, especially with regard to the SSG Hexo I use, but I didn’t find any big hurdles, also because the tool is so <a href="https://pageind.app/">well documented</a>. Let’s see what my implementation looks like…</p><span id="more"></span><hr><h2 id="The-Tool-in-Brief"><a href="#The-Tool-in-Brief" class="headerlink" title="The Tool in Brief"></a>The Tool in Brief</h2><p>Pagefind it is a Node.js tool and is started via the Node Package Runner (npx) and <strong>runs against the static files already created during the build</strong>. It indexes all the desired pages or even parts of the pages and creates meta and index files for them in a special build folder, which can be retrieved later via JavaScript. To make things a bit more user-friendly, Pagefind also directly generates the necessary JavaScript and CSS files for a UI.</p><p>… but Liam can explain better how it works: </p><div class="video-container"><iframe src=https://www.youtube.com/embed/74lsEXqRQys frameborder=0 allow=autoplay; encrypted-media allowfullscreen></iframe></div><hr><h2 id="Implementation-in-Hexo"><a href="#Implementation-in-Hexo" class="headerlink" title="Implementation in Hexo"></a>Implementation in Hexo</h2><p>First of all I decided to store all necessary parameters in a supported <a href="https://pagefind.app/docs/config-sources/">config file</a> in the root of my blog project.</p><figure class="highlight yaml"><figcaption><span>pagefind.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">source:</span> <span class="string">docs</span></span><br><span class="line"><span class="attr">bundle_dir:</span> <span class="string">pagefind</span></span><br><span class="line"><span class="attr">exclude_selectors:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;.note-list&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;.anything-list&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;.article-related&quot;</span></span><br></pre></td></tr></table></figure><p><code>source</code> defines the relative folder where all static files are created during the build and which should now be indexed.</p><p><code>bundle_dir</code> overrides the default storage folder called <code>_pagefind</code>, which is created in the build folder for the search files. This is necessary because my blog is built and hosted on <strong>Github Pages</strong> and the responsible GitHub Action goes over folders with a starting underscore on deployment. More info on that <a href="https://github.com/orgs/community/discussions/23640">here</a> and <a href="https://github.com/CloudCannon/pagefind/discussions/126">here</a>.</p><p><code>exclude_selectors</code> is a list of all those page elements whose content should NOT be indexed, but more about that later.</p><p>With another setting called <code>glob</code> it is possible to tell Pagefind which files to index, but this currently has its pitfalls when trying to exclude some. Liam already <a href="https://github.com/CloudCannon/pagefind/discussions/127">has this on the screen</a> for one of the next versions.</p><hr><h3 id="Limiting-Indexing-Content"><a href="#Limiting-Indexing-Content" class="headerlink" title="Limiting Indexing Content"></a>Limiting Indexing Content</h3><p>A post on a web page never stands alone, but is surrounded by other elements such as navigation, further links, etc. However, these addional elements should not end up in the index. Pagefind skips some of them like <code>nav</code>, <code>form</code> or <code>script</code> automatically, but there always remain some that should be excluded by hand.</p><p>Best option to narrow down the indexable content is the use of the attribute <code>data-pagefind-body</code>. Instead of excluding something, tell Pagefind what to include. However, this approach makes it easier, but also has consequences:</p>    <div>        <blockquote><p>If <em>data-pagefind-body</em> is found <strong>anywhere</strong> on your site, any pages without this attribute will be removed from your index.</p></blockquote>        <cite><a href="https://pagefind.app/docs/indexing/">--- pagefind.app</a></cite>    </div>  <p>In my case, I had a few places in my templates that I needed to add the attribute to:</p><table><thead><tr><th>Type</th><th>File</th><th>Element</th></tr></thead><tbody><tr><td>Post</td><td>_partial&#x2F;article.ejs</td><td>article</td></tr><tr><td>Notes</td><td>note.ejs</td><td>article</td></tr><tr><td>Page</td><td>page.ejs</td><td>.page-content</td></tr><tr><td>Dynamic Page</td><td>[name].ejs</td><td>.page-content</td></tr><tr><td>Anything Page</td><td>_partial&#x2F;anything-page-item.ejs</td><td>.anything-content</td></tr></tbody></table><p>All elements inside of the elements attributed like that, I had to exclude via the setting <code>exclude_selectors</code> in the config (see above).</p><hr><h3 id="Specifying-Meta-Information"><a href="#Specifying-Meta-Information" class="headerlink" title="Specifying Meta Information"></a>Specifying Meta Information</h3><p>It was important to me to show the date of a post in the search result, because nothing is as inaccurate as a post that is many years old. With Pagefind you select the HTML element in the templates in which the meta value is located and attribute it with <code>data-pagefind-meta</code>, for example:</p><figure class="highlight html"><figcaption><span>date.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">time</span> <span class="attr">class</span>=<span class="string">&quot;published dt-published&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;datePublished&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">data-pagefind-meta</span>=<span class="string">&quot;date&quot;</span>&gt;</span></span><br><span class="line">  &lt;%= date(page.date, &#x27;DD MMM YYYY&#x27;) %&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">time</span>&gt;</span></span><br></pre></td></tr></table></figure><p>As title for the search hit Pagefind searches for H1 tags and takes the value of the last tag it finds. If you are not sure that there is always only one H1 tag on the page (and for me it is), then you better specify which tag it should take:</p><figure class="highlight html"><figcaption><span>title.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;&lt;%= class_name %&gt;&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;name&quot;</span> <span class="attr">data-pagefind-meta</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">  &lt;%= post.title %&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Thus, on specifying meta data you can refer not only to the content of a tag, but also to other attributes. Here’s the example for my special Hexo implementation for header images:</p><figure class="highlight html"><figcaption><span>photograph.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;header-photo&quot;</span> <span class="attr">data-pagefind-meta</span>=<span class="string">&quot;image[src], image_alt[alt]&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">src</span>=<span class="string">&quot;/photos/normal/&lt;%= page.photograph.file %&gt;&quot;</span> </span></span><br><span class="line"><span class="tag">     <span class="attr">alt</span>=<span class="string">&quot;&lt;%= page.photograph.name%&gt;&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">width</span>=<span class="string">&quot;0&quot;</span> <span class="attr">height</span>=<span class="string">&quot;0&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><p>In case there is simply no element that contains the meta value, you can also specify it within the attribute:</p><figure class="highlight html"><figcaption><span>article.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">id</span>=<span class="string">&quot;note-&lt;%= page.slug %&gt;&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;blogPost&quot;</span>   </span></span><br><span class="line"><span class="tag">       <span class="attr">data-pagefind-body</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">data-pagefind-meta</span>=<span class="string">&quot;type:Note&quot;</span>&gt;</span></span><br><span class="line"> ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="Adding-a-Search-Page"><a href="#Adding-a-Search-Page" class="headerlink" title="Adding a Search Page"></a>Adding a Search Page</h3><p>Pagefind includes not only everything to get search results from the created index by JavaScript, but also the complete <a href="https://pagefind.app/docs/ui/">UI for a search page</a>, which means that you can build the complete search into your site yourself, or simply take a pre-built UI and visually customize it if necessary. I did the latter.</p><p>The following code is the basic structure of the search page as suggested by Pagefind:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;/pagefind/pagefind-ui.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;/pagefind/pagefind-ui.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;search&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">new</span> <span class="title class_">PagefindUI</span>(&#123; <span class="attr">element</span>: <span class="string">&quot;#search&quot;</span> &#125;);</span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>To accommodate this in Hexo, it is advisable to use your own template and generate the page with an appropriate generator. A standard PAGE in Markdown format is only conditionally suitable for this, because links and scripts are needed. I described how to implement such a generator that renders descriptive Markdown in addition to the EJS template in my post <a href="/post/Pattern-for-dynamic-Hexo-pages/" title="Pattern for dynamic Hexo pages">Pattern for dynamic Hexo pages</a>, and I’ve taken that approach here as well.</p><p>For simplicity, I won’t list the full code here, but link to my blog’s GitHub repo:</p><table><thead><tr><th>File</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://github.com/kristofzerbe/kiko.io/blob/master/source/_dynamic/search.md"><em>&#x2F;source&#x2F;_dynamic&#x2F;</em><br><strong>search.md</strong></a></td><td>Markdown file with Frontmatter data and introduction text</td></tr><tr><td><a href="https://github.com/kristofzerbe/kiko.io/blob/master/themes/landscape/layout/search.ejs"><em>&#x2F;themes&#x2F;landscape&#x2F;layout&#x2F;</em><br><strong>search.ejs</strong></a></td><td>Layout template for search page</td></tr><tr><td><a href="https://github.com/kristofzerbe/kiko.io/blob/master/themes/landscape/script/generator-dynamic-search.js"><em>&#x2F;themes&#x2F;landscape&#x2F;script&#x2F;</em><br><strong>generator-dynamic-search.js</strong></a></td><td>Hexo Generator for creating the page during build</td></tr><tr><td><a href="https://github.com/kristofzerbe/kiko.io/blob/master/themes/landscape/script/source/css/_pagefind.styl"><em>&#x2F;themes&#x2F;landscape&#x2F;script&#x2F;source&#x2F;css&#x2F;</em><br><strong>_pagefind.styl</strong></a></td><td>Customized CSS Variables and style overrides</td></tr></tbody></table><p>For the visual customization of the user interface Pagefind provides some CSS variables in the automatically generated CSS file. These help a bit to customize the UI to your own ideas, but I decided to override some of the styles in a seperate file called <code>_pagefind.styl</code>, which will be bundled via <code>@import &quot;_pagefind&quot;</code> in the main <code>styles.styl</code>.</p><p>Since the main bundled CSS file is loaded in the HEAD before the <code>_pagefind.css</code> somewhere in the page, for simplicity I first made sure to pull the overrides with <code>!important</code>. This is not yet pretty and I will have to revise this later on.</p><hr><h3 id="Running-Build-and-Pagefind"><a href="#Running-Build-and-Pagefind" class="headerlink" title="Running Build and Pagefind"></a>Running Build and Pagefind</h3><p>Thus prepared, the rest is a piece of cake. Pagefind does not need to be installed, because if you call the npm package via npx, the latest version will be downloaded and executed automatically. You just have to make sure that the hexo build has run before. The best way is to run the following command:</p><p><code>hexo clean &amp;&amp; hexo generate &amp;&amp;</code><strong><code>npx pagefind</code></strong></p><p>This my result in the console:</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Running Pagefind v0.<span class="number">10</span>.<span class="number">7</span> (Extended)</span><br><span class="line">Running from: <span class="string">&quot;...\\kiko.io&quot;</span></span><br><span class="line">Source:       <span class="string">&quot;docs&quot;</span></span><br><span class="line">Bundle Directory:  <span class="string">&quot;pagefind&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">[Walking source directory]</span></span><br><span class="line">Found <span class="number">319</span> files matching **/*.&#123;html&#125;</span><br><span class="line"></span><br><span class="line"><span class="string">[Parsing files]</span></span><br><span class="line">Found a data-pagefind-body element on the site.</span><br><span class="line">↳ Ignoring pages without this tag.</span><br><span class="line"></span><br><span class="line"><span class="string">[Reading languages]</span></span><br><span class="line">Discovered <span class="number">1</span> language: en</span><br><span class="line"></span><br><span class="line"><span class="string">[Building search indexes]</span></span><br><span class="line">Total: </span><br><span class="line">  Indexed <span class="number">1</span> language</span><br><span class="line">  Indexed <span class="number">124</span> pages</span><br><span class="line">  Indexed <span class="number">7220</span> words</span><br><span class="line">  Indexed <span class="number">0</span> filters</span><br><span class="line">  Indexed <span class="number">0</span> sorts</span><br><span class="line"></span><br><span class="line">Finished in <span class="number">5</span>.<span class="number">924</span> seconds</span><br></pre></td></tr></table></figure><hr><h3 id="Mount-in-GitHub-Action"><a href="#Mount-in-GitHub-Action" class="headerlink" title="Mount in GitHub Action"></a>Mount in GitHub Action</h3><p>Since I am hosting this blog on GitHub Pages and the complete build and deployment is done by a GitHub Action, I added a step to the <code>hexo-build</code> job in the workflow file so that after the build Pagefind indexes the result:</p><figure class="highlight yml"><figcaption><span>hexo-build.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">hexo-build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="string">...</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Build</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">run</span> <span class="string">generate</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Run</span> <span class="string">Pagefind</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm_config_yes=true</span> <span class="string">npx</span> <span class="string">pagefind</span></span><br><span class="line">      <span class="string">...</span></span><br></pre></td></tr></table></figure><p>Thankfully, in his article on Pagefind, Bryce also put me on the track of how to prevent a possible security prompt caused by npx from blocking Pagefind to run … <a href="/notes/2023/avoid-npx-install-prompt/">npm_config_yes&#x3D;true</a>.</p><hr><h3 id="The-Result"><a href="#The-Result" class="headerlink" title="The Result"></a>The Result</h3><p>The finished solution is really amazing. As soon as you start typing, the included Pagefind JavaScript updates the results list … and it’s sooo fast. Really an exciting tool. Thanks to Liam and CloudCannon.</p>    <a href="/search">        <img src="kiko-io-search.png" alt="Pagefind Search on kiko.io" />    </a>    <p>I hope that my explanation has inspired you to try it out for yourself on your Hexo driven blog or website. If you need some help or advice, drop me a line…</p><hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>CloudCannon: <a href="https://pagefind.app/">Pagefind</a></li><li>Liam Bigelow: <a href="https://cloudcannon.com/blog/introducing-pagefind/">Introducing Pagefind: Static Low-bandwidth Search at Scale</a></li><li>Bryce Wray: <a href="https://www.brycewray.com/posts/2022/07/pagefind-quite-find-site-search/">Pagefind is quite a find for site search</a></li><li>Bryce Wray: <a href="https://www.brycewray.com/posts/2022/12/sweeter-searches-pagefind/">Sweeter searches with Pagefind</a></li><li>Nicolas Deville: <a href="https://notes.nicolasdeville.com/helpers/pagefind/">Pagefind</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Search </tag>
            
            <tag> Blogging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Favourite Pens of 2022</title>
      <link href="/post/Favourite-Pens-of-2022/"/>
      <url>/post/Favourite-Pens-of-2022/</url>
      
        <content type="html"><![CDATA[<p>Every year CodePen publishes a list of the 100 most “liked” pens on their site: <a href="https://codepen.io/2022/popular/">The Most Hearted of 2022</a>. It’s always exciting to scroll through the list and marvel at the incredibly good work of CSS artists. </p><p>My favorite in terms of CSS coding art this year is the work <a href="https://codepen.io/ivorjetski/pen/yLjeqgb">A moment of pure CSS</a> by Ben Evans. Absolutely amazing what he does with pure CSS:</p><p><img src="/post/Favourite-Pens-of-2022/a-moment-of-pure-css.png" alt="Really ... no image involved!"></p><p>From all these works you can take a lot of know-how for yourself, but many of these pens have no practical use at first, i.e. you can’t really use them directly on your own website. They are art. Some of them impressed me not only because of their creativity, but I saved them on my own Trello list to try them out in one of the next projects. Partly they are clever approaches regarding usability, partly more or less standard functions were implemented in a visually impressive way. Some of them need some JS to work, sime of them not. Let yourself be inspired …</p><span id="more"></span><hr><br><h2 id="1-iOS-Notifications-by-Yoav-Kadosh"><a href="#1-iOS-Notifications-by-Yoav-Kadosh" class="headerlink" title="1. iOS Notifications by Yoav Kadosh"></a>1. iOS Notifications by Yoav Kadosh</h2>    <iframe height="400"         id="codepen-ZERjpRJ"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/ZERjpRJ?height=400&default-tab=result&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: iOS Notifications"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  <p><br><hr><br></p><h2 id="2-Lotsa-Notifications-by-Jon-Kantner"><a href="#2-Lotsa-Notifications-by-Jon-Kantner" class="headerlink" title="2. Lotsa Notifications by Jon Kantner"></a>2. Lotsa Notifications by Jon Kantner</h2>    <iframe height="400"         id="codepen-XWzePgp"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/XWzePgp?height=400&default-tab=result&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: Lotsa Notifications"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  <p><br><hr><br></p><h2 id="3-Animated-Star-Rating-by-Jon-Kantner"><a href="#3-Animated-Star-Rating-by-Jon-Kantner" class="headerlink" title="3. Animated Star Rating by Jon Kantner"></a>3. Animated Star Rating by Jon Kantner</h2>    <iframe height="400"         id="codepen-BarvVNa"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/BarvVNa?height=400&default-tab=result&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: Animated Star Rating"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  <p><br><hr><br></p><h2 id="4-Changing-Face-Rating-by-Jon-Kantner"><a href="#4-Changing-Face-Rating-by-Jon-Kantner" class="headerlink" title="4. Changing Face Rating by Jon Kantner"></a>4. Changing Face Rating by Jon Kantner</h2>    <iframe height="400"         id="codepen-YzLQoXM"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/YzLQoXM?height=400&default-tab=result&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: Changing Face Rating"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  <p><br><hr><br></p><h2 id="5-CSS-Minimal-Dark-Mode-Toggle-Button-by-Greg-Vissing"><a href="#5-CSS-Minimal-Dark-Mode-Toggle-Button-by-Greg-Vissing" class="headerlink" title="5. CSS Minimal Dark Mode Toggle Button by Greg Vissing"></a>5. CSS Minimal Dark Mode Toggle Button by Greg Vissing</h2>    <iframe height="400"         id="codepen-OJvxoJq"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/OJvxoJq?height=400&default-tab=result&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: CSS Minimal Dark Mode Toggle Button"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  <p><br><hr><br></p><h2 id="6-Menu-micro-interaction-with-CSS-by-Mert-Cukuren"><a href="#6-Menu-micro-interaction-with-CSS-by-Mert-Cukuren" class="headerlink" title="6. Menu micro-interaction with CSS by Mert Cukuren"></a>6. Menu micro-interaction with CSS by Mert Cukuren</h2>    <iframe height="400"         id="codepen-rNJxwGR"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/rNJxwGR?height=400&default-tab=result&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: Menu micro-interaction with CSS"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  <p><br><hr><br></p><h2 id="7-Animated-BottomBar-Experiment-by-Chris-Bautista"><a href="#7-Animated-BottomBar-Experiment-by-Chris-Bautista" class="headerlink" title="7. Animated BottomBar Experiment by Chris Bautista"></a>7. Animated BottomBar Experiment by Chris Bautista</h2>    <iframe height="400"         id="codepen-NWXjqLN"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/NWXjqLN?height=400&default-tab=result&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: Animated BottomBar Experiment"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  <p><br><hr><br></p><h2 id="8-Progress-Button-by-Taylon-Chan"><a href="#8-Progress-Button-by-Taylon-Chan" class="headerlink" title="8. Progress Button by Taylon, Chan"></a>8. Progress Button by Taylon, Chan</h2>    <iframe height="400"         id="codepen-dyepVJp"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/dyepVJp?height=400&default-tab=result&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: Progress Button"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  <p><br><hr><br></p><h2 id="9-Gradient-background-with-waves-by-Barbara-Rodriguez"><a href="#9-Gradient-background-with-waves-by-Barbara-Rodriguez" class="headerlink" title="9. Gradient background with waves by Bárbara Rodríguez"></a>9. Gradient background with waves by Bárbara Rodríguez</h2>    <iframe height="400"         id="codepen-KKovmGb"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/KKovmGb?height=400&default-tab=result&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: Gradient background with waves"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  <p><br><hr><br></p><h2 id="10-Cascading-CSS-Text-Effects-by-Jhey"><a href="#10-Cascading-CSS-Text-Effects-by-Jhey" class="headerlink" title="10. Cascading CSS Text Effects by Jhey"></a>10. Cascading CSS Text Effects by Jhey</h2>    <iframe height="400"         id="codepen-gOeGmRN"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/gOeGmRN?height=400&default-tab=result&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: Cascading CSS Text Effects"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  ]]></content>
      
      
      <categories>
          
          <category> UI/UX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Collection </tag>
            
            <tag> UI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #22 -  Tips/Tricks</title>
      <link href="/post/Discoveries-22-Tips-Tricks/"/>
      <url>/post/Discoveries-22-Tips-Tricks/</url>
      
        <content type="html"><![CDATA[<p>As someone said the other day? “January is the Monday of the year”. How true. After programming myself a new workflow for creating my discoveries (see <a href="/post/Generate-Content-from-Trello/">Generate Content from Trello</a>) at the end of last year, I wanted to try it out again right away and give you a list of tips and tricks for starting 2023.</p>        <ul class="anchorlist">            <li data-anchor="#6-steps-to-get-verified-on-mastodon-with-encrypted-keys">6 steps to get verified on Mastodon with encrypted keys</li><li data-anchor="#generate-a-pull-request-of-static-content-with-a-simple-html-form">Generate a Pull Request of Static Content With a Simple HTML Form</li><li data-anchor="#my-wonderful-html-email-workflow-using-mjml-and-mdx-for-responsive-emails">My Wonderful HTML Email Workflow, using MJML and MDX for responsive emails</li><li data-anchor="#how-to-view-build-logs-for-github-pages">How to View Build Logs for GitHub Pages</li><li data-anchor="#enabling-intellisense-for-github-actions-workflows-in-vs-code">Enabling IntelliSense for GitHub Actions workflows in VS Code</li><li data-anchor="#9-javascript-console-tips-that-will-improve-your-debugging-skills">9 JavaScript Console Tips That Will Improve Your Debugging Skills</li><li data-anchor="#fun-with-console-log-">Fun with console.log()</li><li data-anchor="#load-hierarchical-data-from-mssql-with-recursive-common-table-expressions">Load hierarchical data from MSSQL with recursive common table expressions</li><li data-anchor="#an-html-first-mental-model">An HTML-first Mental Model</li><li data-anchor="#project-documentation-with-hexo-static-site-generator">Project Documentation with Hexo Static Site Generator</li>        </ul>    <span id="more"></span>    <hr id="6-steps-to-get-verified-on-mastodon-with-encrypted-keys"/>    <h2 style="margin-bottom: 10px;">      6 steps to get verified on Mastodon with encrypted keys    </h2>    <small>by Seth Kenlon&nbsp;<br><a href="https://opensource.com/article/22/12/verified-mastodon-pgp-keyoxide">https://opensource.com/article/22/12/verified-mastodon-pgp-keyoxide</a></small>    <p>To verify that you control your Mastodon account, the easiest way is to add a verification link in your profile, which points to your blog&#x2F;website and where Mastodon find a link attributed with &#39;rel&#x3D;me&#39;. For advanced verification you can use the power of shared encrypted keys, which Mastodon can link to thanks to the open source project Keyoxide … and Seth shows how to get it.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://opensource.com/article/22/12/verified-mastodon-pgp-keyoxide">      <img class="limit" src="6-steps-to-get-verified-on-mastodon-with-encrypted-keys.png" alt="6 steps to get verified on Mastodon with encrypted keys" />    </a>      <hr id="generate-a-pull-request-of-static-content-with-a-simple-html-form"/>    <h2 style="margin-bottom: 10px;">      Generate a Pull Request of Static Content With a Simple HTML Form    </h2>    <small>by Hilman Ramadhan&nbsp;<br><a href="https://css-tricks.com/generate-a-pull-request-of-static-content-with-a-simple-html-form/">https://css-tricks.com/generate-a-pull-request-of-static-content-with-a-simple-html-form/</a></small>    <p>Hosting your static files blog&#x2F;site&#x2F;whatever on GitHub and wan&#39;t others to contribute? Hilman has an idea to achieve this via a standard form, that creates a Pull Request!</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/generate-a-pull-request-of-static-content-with-a-simple-html-form/">      <img class="limit" src="generate-a-pull-request-of-static-content-with-a-simple-html-form.png" alt="Generate a Pull Request of Static Content With a Simple HTML Form" />    </a>      <hr id="my-wonderful-html-email-workflow-using-mjml-and-mdx-for-responsive-emails"/>    <h2 style="margin-bottom: 10px;">      My Wonderful HTML Email Workflow, using MJML and MDX for responsive emails    </h2>    <small>by Josh Comeau&nbsp;<br><a href="https://www.joshwcomeau.com/react/wonderful-emails-with-mjml-and-mdx/">https://www.joshwcomeau.com/react/wonderful-emails-with-mjml-and-mdx/</a></small>    <p>Writing HTML E-Mails can be challenging, because you can&#39;t use all the modern stuff. For a good reason the technique building mails has stuck in the 90s. Josh&#39;s tutorial is about using the framework MJML (Mailjet Markup Language), which offers an abstraction layer over raw HTML.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.joshwcomeau.com/react/wonderful-emails-with-mjml-and-mdx/">      <img class="limit" src="my-wonderful-html-email-workflow-using-mjml-and-mdx-for-responsive-emails.png" alt="My Wonderful HTML Email Workflow, using MJML and MDX for responsive emails" />    </a>      <hr id="how-to-view-build-logs-for-github-pages"/>    <h2 style="margin-bottom: 10px;">      How to View Build Logs for GitHub Pages    </h2>    <small>by Rizèl Scarlett&nbsp;<br><a href="https://dev.to/github/visualize-github-pages-build-logs-1mc1">https://dev.to/github/visualize-github-pages-build-logs-1mc1</a></small>    <p>GitHub Pages are build with Jekyll and as the deployments runs with GitHub Actions it&#39;s easy to view the build details. But more interesting in Rizèl&#39;s article is as he describes a fully custom deployment without Jekyll.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://dev.to/github/visualize-github-pages-build-logs-1mc1">      <img class="limit" src="how-to-view-build-logs-for-github-pages.png" alt="How to View Build Logs for GitHub Pages" />    </a>      <hr id="enabling-intellisense-for-github-actions-workflows-in-vs-code"/>    <h2 style="margin-bottom: 10px;">      Enabling IntelliSense for GitHub Actions workflows in VS Code    </h2>    <small>by Gérald Barré&nbsp;<br><a href="https://www.meziantou.net/enabling-intellisense-for-github-actions-workflows-in-vs-code.htm">https://www.meziantou.net/enabling-intellisense-for-github-actions-workflows-in-vs-code.htm</a></small>    <p>There are som VS Code Plugins out there, which supports Intellisense while writing workflow YAML files for configuring GitHub Actions. Gérald has a tip how to achieve that manually.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.meziantou.net/enabling-intellisense-for-github-actions-workflows-in-vs-code.htm">      <img class="limit" src="enabling-intellisense-for-github-actions-workflows-in-vs-code.png" alt="Enabling IntelliSense for GitHub Actions workflows in VS Code" />    </a>      <hr id="9-javascript-console-tips-that-will-improve-your-debugging-skills"/>    <h2 style="margin-bottom: 10px;">      9 JavaScript Console Tips That Will Improve Your Debugging Skills    </h2>    <small>by Sunil Sandhu&nbsp;<br><a href="https://blog.bitsrc.io/9-javascript-console-tips-that-will-improve-your-debugging-skills-1899e37469d5">https://blog.bitsrc.io/9-javascript-console-tips-that-will-improve-your-debugging-skills-1899e37469d5</a></small>    <p>The console is more powerful than you might think. Sunil talks here about the possibilities to debug a bit better and more efficient. I have to use &#39;time&#39; more often…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://blog.bitsrc.io/9-javascript-console-tips-that-will-improve-your-debugging-skills-1899e37469d5">      <img class="limit" src="9-javascript-console-tips-that-will-improve-your-debugging-skills.png" alt="9 JavaScript Console Tips That Will Improve Your Debugging Skills" />    </a>      <hr id="fun-with-console-log-"/>    <h2 style="margin-bottom: 10px;">      Fun with console.log()    </h2>    <small>by Alicia Sykes&nbsp;<br><a href="https://dev.to/lissy93/fun-with-consolelog-3i59">https://dev.to/lissy93/fun-with-consolelog-3i59</a></small>    <p>In addition to Sunils tips above, Alicia summarizes it here and has some more tips for efficient debugging in the browser.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://dev.to/lissy93/fun-with-consolelog-3i59">      <img class="limit" src="fun-with-console-log-.png" alt="Fun with console.log()" />    </a>      <hr id="load-hierarchical-data-from-mssql-with-recursive-common-table-expressions"/>    <h2 style="margin-bottom: 10px;">      Load hierarchical data from MSSQL with recursive common table expressions    </h2>    <small>by Robert Muehsig&nbsp;<br><a href="https://blog.codeinside.eu/2019/03/31/load-hierarchical-data-from-mssql-with-recursive-common-table-expressions/">https://blog.codeinside.eu/2019/03/31/load-hierarchical-data-from-mssql-with-recursive-common-table-expressions/</a></small>    <p>Designing a hierachie inside MS SQL can be painfull, but at least there is a way to load this data in a fast way, as Robert shows.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://blog.codeinside.eu/2019/03/31/load-hierarchical-data-from-mssql-with-recursive-common-table-expressions/">      <img class="limit" src="load-hierarchical-data-from-mssql-with-recursive-common-table-expressions.png" alt="Load hierarchical data from MSSQL with recursive common table expressions" />    </a>      <hr id="an-html-first-mental-model"/>    <h2 style="margin-bottom: 10px;">      An HTML-first Mental Model    </h2>    <small>by Noam Rosenthal&nbsp;<br><a href="https://calendar.perfplanet.com/2022/an-html-first-mental-model/">https://calendar.perfplanet.com/2022/an-html-first-mental-model/</a></small>    <p>Noam, from Google Chrome&#39;s speed metrics team, writes about his experiences on developing a showcase movies app using different frameworks regarding speed and performance in the browser and why we always keep good old HTML in mind.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://calendar.perfplanet.com/2022/an-html-first-mental-model/">      <img class="limit" src="an-html-first-mental-model.png" alt="An HTML-first Mental Model" />    </a>      <hr id="project-documentation-with-hexo-static-site-generator"/>    <h2 style="margin-bottom: 10px;">      Project Documentation with Hexo Static Site Generator    </h2>    <small>by Bruno Mota&nbsp;<br><a href="https://www.sitepoint.com/project-documentation-hexo/">https://www.sitepoint.com/project-documentation-hexo/</a></small>    <p>Bruno Mota looks at how you can create project documentation using Hexo, the static site generator built on Node.js, and deploy easily to GitHub Pages. Some stuff to learn there for me, who runs this blog nearly the same way…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.sitepoint.com/project-documentation-hexo/">      <img class="limit" src="project-documentation-with-hexo-static-site-generator.png" alt="Project Documentation with Hexo Static Site Generator" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Generate Content from Trello</title>
      <link href="/post/Generate-Content-from-Trello/"/>
      <url>/post/Generate-Content-from-Trello/</url>
      
        <content type="html"><![CDATA[<p>I’m collecting&#x2F;bookmarking links to interesting website post on a public Trello board and aggregating them from time to time in a special post series called <em>Discoveries</em>, where I present 10 of them in one post on a specific topic.</p><p>Writing these summaries is currently still a bit time-consuming, because in addition to the link, the name of the author and a small description, I would also like to display a screenshot of the page in each case … and it is still a completely manual process.</p><p>After selecting the 10 links I want to talk about, I first create a new post for my Hexo blog and then process the links as follows:</p><ol><li>Creating, resizing and saving the screenshot</li><li>Creating a new section in the post</li><li>Setting a key for the post based on the title</li><li>Setting the title</li><li>Setting the author</li><li>Setting the screenshot file</li></ol><p>I do use two tag plugins (<a href="https://github.com/kristofzerbe/kiko.io/blob/2c80a548e188c05879039a15e67419b548bfbfcd/themes/landscape/scripts/tag-anchorlist.js">tag-anchorlist</a> and <a href="https://github.com/kristofzerbe/kiko.io/blob/2c80a548e188c05879039a15e67419b548bfbfcd/themes/landscape/scripts/tag-discovery.js">tag-discovery</a>) for this in the post draft, but despite that, it’s quite time-consuming and always the same procedure that can be wonderfully automated… and here I’d like to write about how I approached this task, while I’m working on it.</p><span id="more"></span><hr><h2 id="The-Trello-List"><a href="#The-Trello-List" class="headerlink" title="The Trello List"></a>The Trello List</h2><p>How easy it is to save a link as a card in a Trello board via Chrome, I described recently in my post <a href="/post/Add-website-to-Trello-card-the-better-way/" title="Add website to Trello card the better way">Add website to Trello card the better way</a>. As this works also in Chrome on Android, I store interesting links on the go mostly. In order to get all information I need later on, I have extended my collections board with a custom field called ‘Author’. For adding the screenshot to the card as an attachment, I use actually the build-in feature of Android 6.</p><p>As I have a long, long list if incoming links, I sort them by topic into an appropriate list, for example, “Discoveries: JS Libraries” and this lists should then be automatically turned into new blog posts as I want to publish one.</p><p><img src="/post/Generate-Content-from-Trello/trello-test-board.png" alt="Trello Test Board"></p><hr><h2 id="The-Data"><a href="#The-Data" class="headerlink" title="The Data"></a>The Data</h2><p>Now, to get the raw data of a Trello list, I could use to the Atlassian API, but that’s not even necessary, because each board can be accessed machine-readable per se via adding <code>.JSON</code> to the board url. <strong>Prerequisite is that the board is set to PUBLIC</strong>. The URL is structured according to the following scheme:</p><p><code>https://trello.com/b/&lt;WORKPLACE-ID&gt;/&lt;BOARD-NAME&gt;.json</code></p><p>The URL accepts following parameters (as far as I found out), to filter out some not needed content:</p><ul><li><strong>fields</strong> (string)</li><li><strong>lists</strong> (string)</li><li><strong>list_fields</strong> (string)</li><li><strong>cards</strong> (string)</li><li><strong>card_fields</strong> (string)</li><li><strong>card_attachments</strong> (bool)</li><li><strong>card_attachment_fields</strong> (string)</li><li><strong>customFields</strong> (bool)</li><li><strong>card_customFieldItems</strong> (bool)</li><li>members (bool)</li><li>member_fields (string)</li><li>organization (bool)</li><li>checklists (string)</li><li>checklist_fields (string)</li><li>labels (string)</li><li>actions (string)</li><li>action_fields (string)</li><li>actions_limit (number)</li></ul><p>All boolean parameters can assume <code>true</code> or <code>false</code> and the string parameters either <code>all</code>, <code>none</code> or (some) a comma-separated value list of fields to show. For example:</p><p><code>https://trello.com/b/o2tmzJAw/test.json?fields=none&amp;lists=all&amp;list_fields=name&amp;cards=all&amp;card_fields=desc,idList,name</code></p><p>… shows up like this:</p><figure class="highlight json"><figcaption><span>Trello JSON (shortened)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63a871b59e3b200022455381&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;cards&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span> ... <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63a8586e7de45d0fc54d0d39&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;desc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Kate shows us how to create a tree view as collapsible list, created using only html and css, without the need for JavaScript&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;idList&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63a8585dc0c10c020ca9ea03&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Tree views in CSS&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span> ... <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;lists&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63a997ab23684f02303a0525&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Discoveries INBOX&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63a8585dc0c10c020ca9ea03&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Discoveries: CSS&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Important to now here is, that most of the data are NOT hierarchially structured, like Board &gt; List &gt; Cards, but in parallel. You have to pick the id of a list to filter the cards array by it. The same with custom fields inside a card: it holds a reference to the custom field list only.</p><p>For the attachments of a card, Trello distinguishes between URL’s and files. The attribute <code>bytes</code> is null for URLs and the URL itself is in name. Files, on the other hand, have <code>bytes</code> greater than 0 and a specific <code>mimeType</code>, while images additionally have up to seven different <code>previews</code> in the widths 70, 150, 250, 300, 600 and original. Very handy for my case, since I always scale down my screenshots to 600 pixels.</p><p><code>https://trello.com/b/o2tmzJAw/test.json?fields=none&amp;lists=all&amp;list_fields=name&amp;cards=all&amp;card_fields=desc,idList,name&amp;card_attachments=true&amp;card_attachment_fields=bytes,mimeType,name,previews&amp;customFields=true&amp;card_customFieldItems=true</code></p><figure class="highlight json"><figcaption><span>... card item in Trello JSON (shortened)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63a8586e7de45d0fc54d0d39&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;desc&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Kate shows us how to create a tree view as collapsible list, created using only html and css, without the need for JavaScript&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;idList&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63a8585dc0c10c020ca9ea03&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Tree views in CSS&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;attachments&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;bytes&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;mimeType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://iamkate.com/code/tree-views/&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;previews&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63a8586e7de45d0fc54d0d5b&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;bytes&quot;</span><span class="punctuation">:</span> <span class="number">225271</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;mimeType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;image/png&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Screenshot_20221225-121537.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;previews&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">&#123;</span> ... <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;_id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63a8586e7de45d0fc54d0d58&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63a8586e7de45d0fc54d0d58&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;scaled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://trello.com/1/cards/63a8586e7de45d0fc54d0d39/attachments/63a8586e7de45d0fc54d0d52/previews/63a8586e7de45d0fc54d0d58/download/Screenshot_20221225-121537.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;bytes&quot;</span><span class="punctuation">:</span> <span class="number">111574</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;height&quot;</span><span class="punctuation">:</span> <span class="number">499</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;width&quot;</span><span class="punctuation">:</span> <span class="number">600</span></span><br><span class="line">      <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">&#123;</span> ... <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;63a8586e7de45d0fc54d0d52&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><hr><h2 id="The-Generator"><a href="#The-Generator" class="headerlink" title="The Generator"></a>The Generator</h2><p>First of all: This generator has NOTHING to do with Hexo’s build-in <a href="https://hexo.io/api/generator.html">generators</a>. It’s just a Node script, which produces MD files that later on will be processed by Hexo into posts!</p><p>What should he do:</p><ol><li>Download Board JSON from Trello</li><li>Iterate through <code>lists</code> to find the one to process</li><li>Iterate through <code>cards</code> to find all referencing the chosen list</li><li>Create new POST object to store all needed information</li><li>Process all found cards…<ol><li>Create new ITEM object to store all needed information</li><li>Store TITLE, generated KEY out of TITLE, DESCRIPTION in ITEM</li><li>Resolve AUTHOR from <code>customfields</code> for ITEM</li><li>Iterate through card <code>attachments</code></li><li>Store URL in ITEM, when its a link</li><li>Generate IMAGENAME out of KEY and store in ITEM, when its an image</li><li>Create new POST.FOLDER for the images</li><li>Download image from attachment URL into POST.FOLDER as IMAGENAME</li><li>Add ITEM to POST.ITEMS</li></ol></li><li>Get photograph for new post (kiko.io special, see <a href="/post/Automatic-Header-Images-in-Hexo/" title="Automatic Header Images in Hexo">Automatic Header Images in Hexo</a>)<ol><li>Store PHOTOGRAPH information in POST</li></ol></li><li>Generate new post via Handlebars template</li><li>Store new post</li></ol><p>The goal is that I only need to write an introduction and adjust a few frontmatter variables before generating and publishing the post.</p><h3 id="Settings"><a href="#Settings" class="headerlink" title="Settings"></a>Settings</h3><p>First task is to save the possible settings in Hexo’s default configuration file:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Trello Discoveries Generator Script</span></span><br><span class="line"><span class="attr">discoveries:</span></span><br><span class="line">  <span class="attr">board:</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">https://trello.com/b/D6zIhLus/collections.json</span></span><br><span class="line">    <span class="attr">parameters:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">fields</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">name</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">lists</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">all</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">list_fields</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">name</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">cards</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">all</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">card_fields</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">closed,desc,idList,name</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">card_attachments</span></span><br><span class="line">      <span class="attr">value:</span> <span class="literal">true</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">card_attachment_fields</span></span><br><span class="line">      <span class="attr">value:</span> <span class="string">bytes,mimeType,name,previews</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">customFields</span></span><br><span class="line">      <span class="attr">value:</span> <span class="literal">true</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">key:</span> <span class="string">card_customFieldItems</span></span><br><span class="line">      <span class="attr">value:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">template:</span> <span class="string">discoveries.handlebars</span></span><br></pre></td></tr></table></figure><h3 id="Template"><a href="#Template" class="headerlink" title="Template"></a>Template</h3><p>Next step is creating a <a href="https://handlebarsjs.com/">Handlebars</a> template out of my scaffold file I used so far:</p><figure class="highlight hbs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml">---</span></span><br><span class="line"><span class="language-xml">slug: </span><span class="template-variable">&#123;&#123;&#123;<span class="name">key</span>&#125;&#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">title: &#x27;</span><span class="template-variable">&#123;&#123;&#123;<span class="name">title</span>&#125;&#125;&#125;</span><span class="language-xml">&#x27;</span></span><br><span class="line"><span class="language-xml">subtitle:</span></span><br><span class="line"><span class="language-xml">date: </span><span class="template-variable">&#123;&#123;&#123;<span class="name">date</span>&#125;&#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">photograph:</span></span><br><span class="line"><span class="language-xml">  file: </span><span class="template-variable">&#123;&#123;&#123;<span class="name">photograph.file</span>&#125;&#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  name: </span><span class="template-variable">&#123;&#123;&#123;<span class="name">photograph.name</span>&#125;&#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  link: </span><span class="template-variable">&#123;&#123;&#123;<span class="name">photograph.link</span>&#125;&#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  socialmedia: /static/images/social-media/</span><span class="template-variable">&#123;&#123;&#123;<span class="name">key</span>&#125;&#125;&#125;</span><span class="language-xml">.png</span></span><br><span class="line"><span class="language-xml">series: Discoveries</span></span><br><span class="line"><span class="language-xml">categories:</span></span><br><span class="line"><span class="language-xml">  - Misc</span></span><br><span class="line"><span class="language-xml">tags:</span></span><br><span class="line"><span class="language-xml">  - Collection</span></span><br><span class="line"><span class="language-xml">related:</span></span><br><span class="line"><span class="language-xml">  - Discoveries-xx</span></span><br><span class="line"><span class="language-xml">  - Discoveries-yy</span></span><br><span class="line"><span class="language-xml">  - Discoveries-zz</span></span><br><span class="line"><span class="language-xml">syndication:</span></span><br><span class="line"><span class="language-xml">  - host: Mastodon</span></span><br><span class="line"><span class="language-xml">    url: </span></span><br><span class="line"><span class="language-xml">---</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">INTRODUCTION...</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">&#123;% anchorlist </span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;&#123;#<span class="name"><span class="built_in">each</span></span> items&#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  &quot;</span><span class="template-variable">&#123;&#123;&#123;<span class="name">title</span>&#125;&#125;&#125;</span><span class="language-xml">|</span><span class="template-variable">&#123;&#123;&#123;<span class="name">key</span>&#125;&#125;&#125;</span><span class="language-xml">&quot;</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;&#123;/<span class="name"><span class="built_in">each</span></span>&#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">%&#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="comment">&lt;!-- more --&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;&#123;#<span class="name"><span class="built_in">each</span></span> items&#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">&#123;% discovery &quot;</span><span class="template-variable">&#123;&#123;&#123;<span class="name">title</span>&#125;&#125;&#125;</span><span class="language-xml">&quot; &quot;</span><span class="template-variable">&#123;&#123;&#123;<span class="name">author</span>&#125;&#125;&#125;</span><span class="language-xml">&quot; &quot;</span><span class="template-variable">&#123;&#123;&#123;<span class="name">url</span>&#125;&#125;&#125;</span><span class="language-xml">&quot; </span><span class="template-variable">&#123;&#123;&#123;.<span class="name">./key</span>&#125;&#125;&#125;</span><span class="language-xml"> </span><span class="template-variable">&#123;&#123;&#123;<span class="name">imageName</span>&#125;&#125;&#125;</span><span class="language-xml"> %&#125;</span></span><br><span class="line"><span class="language-xml"></span><span class="template-variable">&#123;&#123;&#123;<span class="name">description</span>&#125;&#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">&#123;% enddiscovery %&#125;</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;&#123;/<span class="name"><span class="built_in">each</span></span>&#125;&#125;</span></span><br></pre></td></tr></table></figure><h3 id="Generator-Script"><a href="#Generator-Script" class="headerlink" title="Generator Script"></a>Generator Script</h3><p>Next, the generator itself, which lives in <code>/lib/scripts/</code>. It is implemented as a class with CommonJS and takes two parameters in the constructor for defining the number of the Discoveries post to create and the name of the Trello list, where the data for this should come from. It’s main function is <code>generate</code>, which starts the generation. Here’s the skeleton:</p><figure class="highlight js"><figcaption><span>discoveries-generator.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> yaml = <span class="built_in">require</span>(<span class="string">&#x27;js-yaml&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">&quot;axios&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> handlebars = <span class="built_in">require</span>(<span class="string">&quot;handlebars&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; marked &#125; = <span class="built_in">require</span>(<span class="string">&#x27;marked&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Generator</span> &#123; </span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> _config;</span><br><span class="line">  <span class="keyword">let</span> _trelloUrl;</span><br><span class="line">  <span class="keyword">let</span> _templateFile;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Init new post object</span></span><br><span class="line">  <span class="keyword">let</span> _post = &#123;</span><br><span class="line">    <span class="attr">board</span>: <span class="literal">null</span>,</span><br><span class="line">    <span class="attr">list</span>: <span class="literal">null</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">discoveryNo, listName</span>) &#123;</span><br><span class="line">    <span class="comment">// Init the generator and gather all necessary data for running it</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">generate</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="comment">// Run the generator</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">downloadImage</span>(<span class="params">url, item</span>) &#123;</span><br><span class="line">    <span class="comment">// Helper for downloading the images asynchronously  </span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">createPostFromTemplate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// Helper for creating the post&#x27;s MD file out of the template</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>At this point I will refrain from reproducing the complete code here. Just follow this <a href="https://github.com/kristofzerbe/kiko.io/blob/cb9ba3f9157771231258834b156bb6aead2cd229/lib/discoveries-generator.cjs">link</a> …</strong></p><p>However, a few points in the implementation are important to consider:</p><ol><li><p>The downloads are performed by means of the promise based HTTP client <a href="https://axios-http.com/">axios</a>. I can only recommend this thing…</p></li><li><p>The image downloads are initially collected in a Promise list for subsequent execution, while iterating through the cards of the selected Trello list</p></li></ol><p>The script is actually really straight forward, but I have some improvements in mind, which will find their way into the code later on:</p><p>A. If an image is missing, create a proper screenshot via Puppeteer</p><p>B. Introduce a top most card(s) for the INTRODUCTION, a SUBTITLE and some additional TAGS, to avoid having to rework the new post before publishing</p><p>C. Automated insertion of the RELATED posts, based on the last three Discoveries issues</p><h3 id="Run-it-…"><a href="#Run-it-…" class="headerlink" title="Run it …"></a>Run it …</h3><p>The easiest way to get the generator running, is to create a simple runner script:</p><figure class="highlight js"><figcaption><span>_run_discoveries-generator.cjs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Generator</span> = <span class="built_in">require</span>(<span class="string">&quot;./discoveries-generator.cjs&quot;</span>).<span class="property">Generator</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> discoveryNo = process.<span class="property">argv</span>[<span class="number">2</span>].<span class="title function_">toString</span>();</span><br><span class="line"><span class="keyword">const</span> listName = process.<span class="property">argv</span>[<span class="number">3</span>].<span class="title function_">toString</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> generator = <span class="keyword">new</span> <span class="title class_">Generator</span>(discoveryNo, listName);</span><br><span class="line">generator.<span class="title function_">generate</span>();</span><br></pre></td></tr></table></figure><p>The execution in the console then is just a one-liner:</p><p><code>node &quot;./lib/_run_discoveries-generator.cjs&quot; &quot;&lt;NUMBER&gt;&quot; &quot;&lt;TRELLO-LISTNAME&gt;&quot;</code></p><hr><p>It was fun to write this automation during Christmas. Also kept me from stuffing too many cookies inside me ;)</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Trello </tag>
            
            <tag> Publishing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #21 -  Sites &amp; Pages</title>
      <link href="/post/Discoveries-21-Sites-Pages/"/>
      <url>/post/Discoveries-21-Sites-Pages/</url>
      
        <content type="html"><![CDATA[<p>Websites always have a certain purpose and depending on what you want to do with it, there are pre-designed tools, that make it very easy to get started. In this issue of Discoveries I have collected a few such enablers.</p><p>Also included are two hosting offers that address the hot topics of #Fediverse and #IndieWeb in times of #TwitterMigration.</p>        <ul class="anchorlist">            <li data-anchor="#webmention-analytics">Webmention Analytics</li><li data-anchor="#indiekit">Indiekit</li><li data-anchor="#masto-host">Masto.host</li><li data-anchor="#static-timeline-generator">Static Timeline Generator</li><li data-anchor="#glossary-page-template">Glossary Page Template</li><li data-anchor="#markdoc">Markdoc</li><li data-anchor="#docs-page">docs.page</li><li data-anchor="#jpage">JPage</li><li data-anchor="#github-octo-flat-data">GitHub OCTO: Flat Data</li><li data-anchor="#batnoter">BatNoter</li>        </ul>    <span id="more"></span>    <hr id="webmention-analytics"/>    <h2 style="margin-bottom: 10px;">      Webmention Analytics    </h2>    <small>by Max Böck&nbsp;<br><a href="https://mxb.dev/blog/webmention-analytics/">https://mxb.dev/blog/webmention-analytics/</a></small>    <p>Your blog supports Webmentions? Then you should have a look on Max project, which I&#39;m also contributing to. It collects all Webmention data of your post and gives you a nice analytics page.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://mxb.dev/blog/webmention-analytics/">      <img class="limit" src="webmention-analytics.png" alt="Webmention Analytics" />    </a>      <hr id="indiekit"/>    <h2 style="margin-bottom: 10px;">      Indiekit    </h2>    <small>by Paul Robert Lloyd&nbsp;<br><a href="https://getindiekit.com/">https://getindiekit.com/</a></small>    <p>This Node-driven server is everything you need to start into the IndieWeb. Publish and share your own content, integrate SSG&#39;s like Hugo or Jekyll and file storage on GitHub, GitLab or FTP. It works with the Micropub protocol and has a plugin API for developing extensions.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://getindiekit.com/">      <img class="limit" src="indiekit.png" alt="Indiekit" />    </a>      <hr id="masto-host"/>    <h2 style="margin-bottom: 10px;">      Masto.host    </h2>    <small>by Hugo Gameiro&nbsp;<br><a href="https://masto.host/">https://masto.host/</a></small>    <p>Since a crazed billionaire has decided to make something &#39;different&#39; out of Twitter, the Fediverse alternative Mastodon gains more and more attraction. #TwitterMigration. But it is not easy to host an instance by yourself. Hugo jumps in here and offers a fully managed Mastodon hosting service.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://masto.host/">      <img class="limit" src="masto-host.png" alt="Masto.host" />    </a>      <hr id="static-timeline-generator"/>    <h2 style="margin-bottom: 10px;">      Static Timeline Generator    </h2>    <small>by Molly White&nbsp;<br><a href="https://github.com/molly/static-timeline-generator">https://github.com/molly/static-timeline-generator</a></small>    <p>Some data are best presented by a timeline in order to show what has happened in descending order. Best example is actually <a href="https://twitterisgoinggreat.com">twitterisgoinggreat.com</a>, which lists all things happened since Elon Musk has taken over Twitter. This site is built with Mollys static timeline generator.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/molly/static-timeline-generator">      <img class="limit" src="static-timeline-generator.png" alt="Static Timeline Generator" />    </a>      <hr id="glossary-page-template"/>    <h2 style="margin-bottom: 10px;">      Glossary Page Template    </h2>    <small>by Hilverd Reker&nbsp;<br><a href="https://glossary.page/template/">https://glossary.page/template/</a></small>    <p>Ever had to maintain a glossary? Can be very time consuming, first of all to present it in a structured, searchable way. This project from Hilverd, available on GitHub, is a single HTML page with a build-in editor.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://glossary.page/template/">      <img class="limit" src="glossary-page-template.png" alt="Glossary Page Template" />    </a>      <hr id="markdoc"/>    <h2 style="margin-bottom: 10px;">      Markdoc    </h2>    <small>by Stripe Dev's&nbsp;<br><a href="https://markdoc.io/">https://markdoc.io/</a></small>    <p>Markdoc is a Markdown-based system for creating custom documentation sites, build by the guys from Stripe on order to provide a documentation of their service to their customers. It is available at GitHub and a good starting point for your next documentation. You are documenting your stuff, right?</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://markdoc.io/">      <img class="limit" src="markdoc.png" alt="Markdoc" />    </a>      <hr id="docs-page"/>    <h2 style="margin-bottom: 10px;">      docs.page    </h2>    <small>by Invertase Dev's&nbsp;<br><a href="docs.page">docs.page</a></small>    <p>Another way to easily create documentation. This time with the focus on GitHub projects and from the developers of the British company Invertase It is as simple as the name suggests: create a &#x2F;docs folder in the repository, put the configuration in a docs.json and start with the first MDX file…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="docs.page">      <img class="limit" src="docs-page.png" alt="docs.page" />    </a>      <hr id="jpage"/>    <h2 style="margin-bottom: 10px;">      JPage    </h2>    <small>by Pedro Isac&nbsp;<br><a href="https://pedro-isacss.github.io/jpage/">https://pedro-isacss.github.io/jpage/</a></small>    <p>Some sites just need to have some slides to present the main purpose. Marketing stuff, photos, whatever. That&#39;s what Pedro built his JPage for. It supports slides in two axis and its configuration is just about the arrangement of standard HTML tags. Super simple and super effective.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://pedro-isacss.github.io/jpage/">      <img class="limit" src="jpage.png" alt="JPage" />    </a>      <hr id="github-octo-flat-data"/>    <h2 style="margin-bottom: 10px;">      GitHub OCTO: Flat Data    </h2>    <small>by Idan Gazit, Amelia Wattenberger, Matt Rothenberg, Irene Alvarado&nbsp;<br><a href="https://octo.github.com/projects/flat-data">https://octo.github.com/projects/flat-data</a></small>    <p>Flat is an experiment from the Developer Experience team in GitHub Next and gives you the possibility to fetch, aggregate and view data of many different types. It incorporates three different pieces: Flat Action to fetch data, Flat Editor and Flat Viewer. It&#39;s based on GitHub Actions and can be fully integrated in your repository.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://octo.github.com/projects/flat-data">      <img class="limit" src="github-octo-flat-data.png" alt="GitHub OCTO: Flat Data" />    </a>      <hr id="batnoter"/>    <h2 style="margin-bottom: 10px;">      BatNoter    </h2>    <small>by GitHub User vivekweb2013&nbsp;<br><a href="https://github.com/batnoter/batnoter">https://github.com/batnoter/batnoter</a></small>    <p>Batnoter is an open source, markdown-based, self-hosted note taking webapp, written with React, that uses your github repository to store markdown notes.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/batnoter/batnoter">      <img class="limit" src="batnoter.png" alt="BatNoter" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
            <tag> Publishing </tag>
            
            <tag> Hosting </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The State of the Blog</title>
      <link href="/post/The-State-of-the-Blog/"/>
      <url>/post/The-State-of-the-Blog/</url>
      
        <content type="html"><![CDATA[<p>I’ve started this blog in 2019 with <a href="/post/How-To-Visual-Studio-Database-Project-and-ADSI/" title="How-To: Visual Studio Database Project and ADSI">this article</a> primarily because I needed an area to record things learned for myself, with the side effect that others can benefit from it if they want.</p><p>Why my choice fell on the static site generator <a href="https://hexo.io/">Hexo</a>, I no longer know, but I have now become accustomed (even to the shortcomings) and so far I have been able to implement all my ideas in it … and I had a few of them.</p><p>In this post I would like to share a few experiences I have had with Hexo, regarding the main functionality and the things I’ve customized and describe my workflow behind the individual features of my blog. The latter is not as straightforward as I would like it to be, especially because I have different devices in use that require different approaches. The main purpose of this post is to simply write down for me, how things currently work on kiko.io and to have one or the other idea how to do it better while writing. Doing this publicly is in the hope that you might read this and have a terrific idea that I haven’t come up with yet and leave a comment or webmention … :)</p><span id="more"></span><hr><h2 id="Hexo-…"><a href="#Hexo-…" class="headerlink" title="Hexo …"></a>Hexo …</h2><p>I don’t have experience with other SSGs like Hugo or others, so I can’t make comparisons, but I can share a few things about Hexo that have kept me engaged in my work with Hexo. I won’t go into the general functionality of Hexo here, but the ones that interest me most for my particular needs. A more or less good start into the tool is <a href="https://hexo.io/">https://hexo.io</a> with its DOCS and API.</p><p>One of the first commands you get to know is <code>generate</code>, which generates the static HTML pages from the MD files stored in the <code>source/_posts</code> folder. You can add your own <a href="https://hexo.io/api/generator">generators</a>, which can generate any other custom pages, to this process and put them under <code>themes/&lt;your-theme/scripts</code> for automatic execution. Every generator has a <code>locals</code> argument, which holds all site variables, including a list of all posts.</p><p>Unfortunately, the documentation at <a href="https://hexo.io/api/">hexo.io&#x2F;api</a> is rather poor and so only after a while I realized, that a custom generator is called relatively late in the process, when the MD files have long since been preprocessed. So you can process any MD files in a generator, but you have to do without the automatic processing of the powerful <a href="https://hexo.io/docs/tag-plugins">Tag Plugins</a> or syntax highlighting, because this takes place in an upstream <a href="https://hexo.io/api/processor">processor</a>, which deals with <a href="https://hexo.io/api/box">boxes</a>.</p><p>I don’t understand Hexo’s concept at this point. For me it is not particularly catchy and straightforward. Unfortunately a few help-, discussion- and example pages are written in Chinese, since the creator Tommy Chen is from Taiwan, as I guess, but my Chinese really sucks… ;)</p><p>The best thing about Hexo in general is, that you can get your first results quickly after the basic installation, so you are able to concentrate on writing and prettying things up for a while. Only when the requirements increase is it necessary to take a closer look at the insufficiently documented substructure. A challenge even for experienced web developers, but unfortunately absolutely impossible for beginners…</p><hr><h2 id="Posts"><a href="#Posts" class="headerlink" title="Posts"></a>Posts</h2><p>Hexo is based on a structure of posts and pages, where posts can be aggregated in various ways, whether in the time-based archive or via tags and categories. Posts has to have a specific structure, regarding the Frontmatter in the MD file and teh storage of attached images. Hexo offers the user a separate command for this: <code>hexo new</code>, which works with template files in the folder <code>scaffolds</code>.</p><p>For the presentation of my posts, I decided to incorporate my passion of photography by assigning a unique header image to each post (and most pages). How I implemented this, I have described in the article <a href="/post/Automatic-Header-Images-in-Hexo/" title="Automatic Header Images in Hexo">Automatic Header Images in Hexo</a>. The main point is, when I create a new post, I automatically and randomly pick a photo (in the three media-dependent versions <em>normal</em>, <em>tablet</em> and <em>mobile</em>) from a pool, copy the images to the appropriate delivery folder and bind it to the new post via frontmatter. For this I’ve written the Hexo event hook <code>on-new-get-photo-for-post.js</code>, which runs on the command <code>hexo new post &quot;&lt;title-of-new-post&gt;&quot;</code>.</p><p>Works great, except for the fact that I’m often on the go and using a Node.JS-powered command towards an SSG project hosted on GitHub definitely doesn’t work on an Android smartphone. So, how do I get it to create a new post remotely?</p><p>First part of the answer, regarding access to all project files, was to store the project in a folder that is synchronized with one of the usual suspects: Dropbox, OneDrive, GoogleDrive. With this, I have access to the entire project at all times on all devices that can sync the files. In the case of Android with the help of one of the <a href="https://play.google.com/store/search?q=metactrl+%22autosync%22&c=apps">Autosync apps from metactrl</a>.</p><p>The second part of the answer, regarding execution of the new post command, was a bit more difficult, but part of my solution was to use my little home server, where the project also syncs and which is always switched on. Problem here: This tiny box is not publicly available on the web and never will be. Therefore the only communication channel I had, was file synchronization and the solution was to use a simple text file to hold the commands I want to be executed. For this purpose, I have written a small command line tool that runs and processes a modified command file when it is received. For file monitoring I have <a href="https://www.2brightsparks.com/syncback/sbpro.html">SyncBackPro</a> in use, which has the incredibly useful feature of being able to execute commands before and after a synchronization takes place, in this case my tool, which I have named <strong>HexoCommander</strong> and whose source code is <a href="https://github.com/kristofzerbe/HexoCommander">available on GitHub</a>.</p>    <div class="alertbox alertbox-note">      <p>Before you think “<em>What the hell is he doing? That’s what</em> [fill in the Linux tool of your choice] <em>is for</em>“ … I’m more of a Windows guy. Linux means something to me, but I’ve never worked with it and never had to … and yessss, there is a career in IT also with Windows ;)</p>    </div>  <p>The advantage of synchronizing the whole GitHub project via cloud storage service is that I also host <strong>kiko.io</strong> on <a href="https://pages.github.com/">Github Pages</a> and that a commit to the repository on GitHub automatically triggers a deployment, which I don’t always want right away. So, because of my changes to the post process, I don’t use Hexo’s built-in drafts, but write on a new post until I’m done and then release by committing to GitHub.</p>    <div class="alertbox thinkbox">      <svg viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><circle cx="18" cy="17.018" fill="#ffcb4c" r="17"/><g fill="#65471b"><path d="m14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"/><ellipse cx="13.119" cy="11.174" rx="2.125" ry="2.656"/><ellipse cx="24.375" cy="12.236" rx="2.125" ry="2.656"/></g><path d="m17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048z" fill="#f19020"/><path d="m9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z" fill="#65471b"/></svg>      <h4>is there an easier way?</h4>      <p>I admit that on an Android smartphone, it’s a bit fiddly to write a special command to a text file and then wait 2 or 3 minutes for the file to sync, the new line to be read and executed, and the new post files to sync back to the smartphone, but it works. But I would rather have a smartphone capable interface, where I can enter my data and the whole thing runs at the push of a button.</p><p>Currently I have no idea how to achieve this in a static site environment. Do you have one?</p>    </div>  <hr><h2 id="Photos"><a href="#Photos" class="headerlink" title="Photos"></a><a href="/photos">Photos</a></h2><p>As I speak from photos … to provide header images for my new posts (or pages), I have prepared a pool of photos that I display on a special filterable page. This page is not one that comes with Hexo, but is based on a dynamic page generator I’ve created for this purpose. I wrote about it in 2021: <a href="/post/Pattern-for-dynamic-Hexo-pages/" title="Pattern for dynamic Hexo pages">Pattern for dynamic Hexo pages</a>.</p><p>But how do I fill this pool with new photos, especially because I need three variants of a new photo for the standard device classes Desktop (normal), Tablet and Mobile?</p><p>I have a very specific workflow in Lightroom to edit my photos and convert them from RAW to JPEG while exporting, to add them to <a href="https://500px.com/p/kikon">my 500px collection</a> for example. The destination of these export is again my cloud storage.</p><p>From time to time I pick some images from these export folders that I want to use on the blog. I do this mostly on my Android smartphone in a quiet minute and these are the steps and Android apps I need, to turn a high resolution 10MB photo into one that can be used on the web:</p><ol><li><a href="https://play.google.com/store/apps/details?id=pl.solidexplorer2">Solid Explorer</a>: Creating a new folder in the projects pool folder with the name of the image.</li><li><a href="https://play.google.com/store/apps/details?id=pl.solidexplorer2">Solid Explorer</a>: Copy the original photo into the new pool folder.</li><li><a href="https://play.google.com/store/apps/details?id=pl.solidexplorer2">Solid Explorer</a>: Create <code>meta.txt</code> to hold the name and the 500px Url of the photo in the new pool folder.</li><li><a href="https://play.google.com/store/apps/details?id=de.vsmedia.imagesize">ImageSize</a>: Create normal (1280px), tablet (768px) and mobile (480px) versions of the photo as web images.</li><li><a href="https://play.google.com/store/apps/details?id=pl.solidexplorer2">Solid Explorer</a>: Copy web images to new pool folder and delete original.</li></ol><p>I have a similar workflow working on my Windows machine, but both workflows are manual ones.</p><p><img src="/post/The-State-of-the-Blog/kiko-io-PHOTOS.png" alt="kiko.io&#39;s Photos Workflow"></p>    <div class="alertbox thinkbox">      <svg viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><circle cx="18" cy="17.018" fill="#ffcb4c" r="17"/><g fill="#65471b"><path d="m14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"/><ellipse cx="13.119" cy="11.174" rx="2.125" ry="2.656"/><ellipse cx="24.375" cy="12.236" rx="2.125" ry="2.656"/></g><path d="m17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048z" fill="#f19020"/><path d="m9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z" fill="#65471b"/></svg>      <h4>is there an easier way?</h4>      <p>Fiddling around with images on the smartphone like this almost has a medidative effect on me, but it’s not really effective. Better would be to throw the original image into a folder and let Hexo do the work of resizing by utilizing <a href="https://sharp.pixelplumbing.com/">Sharp</a> and <a href="https://github.com/imagemin/imagemin">imagemin</a>.</p>    </div>  <hr><h2 id="Series-amp-Projects"><a href="#Series-amp-Projects" class="headerlink" title="Series &amp; Projects"></a><a href="%5Cseries">Series</a> &amp; <a href="%5Cprojects">Projects</a></h2><p>Relatively soon it was clear to me, that I want to aggregate posts to series and I didn’t want to use the integrated categories or tags for it. It should be working with a new frontmatter attribute called <code>series</code> with the value of a slug of a referencing MD file, which provides some text to describe the series. <em>Projects</em> is basically a index like series, but merely works with a different Frontmatter attribute.</p><p>The whole thing was made possible by <strong>Levi Wheatcroft</strong>‘s work on his plugin <em>hexo-index-anything</em>. Unfortunately Levi stopped working on it a long time ago and so I forked it under the new name <a href="/projects/hexo-generator-anything/">hexo-generator-anything</a>. The generator is controlled by a section in Hexo’s configuration file, which defines the EJS layout file to render the main index page respectively the index pages of each series, beside a mapping list for the appropriate Frontmatter variable and the output path:</p><figure class="highlight yaml"><figcaption><span>_config.yaml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">anything:</span></span><br><span class="line">  <span class="attr">layout_index:</span> <span class="string">anything-index</span></span><br><span class="line">  <span class="attr">layout_posts:</span> <span class="string">anything-posts</span></span><br><span class="line">  <span class="attr">index_mappings:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">variable:</span> <span class="string">series</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">series</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">variable:</span> <span class="string">project</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">projects</span></span><br></pre></td></tr></table></figure><p><img src="/post/The-State-of-the-Blog/kiko-io-SERIES.png" alt="kiko.io&#39;s Series Workflow"></p>    <div class="alertbox alertbox-info">      <p>Tag Plugins and syntax highlighting for code blocks in the reference MD files are not resolved actually, because it is a generator only (see first section ‘Hexo…’).</p>    </div>  <hr><h2 id="Tiny-Tools"><a href="#Tiny-Tools" class="headerlink" title="Tiny-Tools"></a><a href="/collections/tiny-tools">Tiny-Tools</a></h2><p>Since this blog is primarily a memory aid for me and my future self (how often do I have stumbled across my own posts during web search), it was logical to place a special bookmark collection here, because it happened to me more often that I found and used an online tool and some time later wonder what the thing was called when I have the same requirement again. </p><p>That’s why I started to collect these URL’s in a public Trello board (see <a href="/post/Add-website-to-Trello-card-the-better-way/" title="Add website to Trello card the better way">Add website to Trello card the better way</a>) and provide them with keywords and a screenshot. But Trello is a Kanban tool and not designed for such special requirements as the display of bookmarks and so I use it only as a data source for my page TINY-TOOLS.</p><p>Generating a static page out of Trello cards was again a job for my dynamic pages, I had introduced for the photos page. It takes advantage of the fact that any Trello board can be retrieved as machine-readable data by extending the url with <code>.json</code>. The <a href="https://github.com/kristofzerbe/kiko.io/blob/26ccfa18b8abff279a05b1f12363992a278c130c/themes/landscape/scripts/generator-dynamic-trello.js">Dynamic Trello Generator</a> is really straight forward.</p><p>With this script it is only a matter of configuration to generate a page from a given list of a board (URL ist shortended):</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">trello:</span></span><br><span class="line">  <span class="attr">boards:</span> </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Collections</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">https://trello.com/.../collections.json?fields=all&amp;cards=all&amp;card_fields=all&amp;card_attachments=true&amp;lists=all&amp;list_fields=all</span></span><br><span class="line">    <span class="attr">pages:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">tiny-tools</span></span><br><span class="line">      <span class="attr">list:</span> <span class="string">TinyTools</span></span><br></pre></td></tr></table></figure><p><img src="/post/The-State-of-the-Blog/kiko-io-TINY-TOOLS.png" alt="kiko-io&#39;s Tiny Tools Workflow"></p>    <div class="alertbox thinkbox">      <svg viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><circle cx="18" cy="17.018" fill="#ffcb4c" r="17"/><g fill="#65471b"><path d="m14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"/><ellipse cx="13.119" cy="11.174" rx="2.125" ry="2.656"/><ellipse cx="24.375" cy="12.236" rx="2.125" ry="2.656"/></g><path d="m17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048z" fill="#f19020"/><path d="m9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z" fill="#65471b"/></svg>      <h4>is there an easier way?</h4>      <p>Can’t imagine one. Do You?</p>    </div>  <hr><h2 id="Notes"><a href="#Notes" class="headerlink" title="Notes"></a><a href="/notes">Notes</a></h2><p>The Notes section is the latest and with it I want to follow the POSSE principle, i.e. “Publish (on your) Own Site, Syndicate Elsewhere”, which is a vital part of the IndieWeb movement. So when something comes to mind that I want to post on Mastodon for example, I want it to end up in a new Note MD file that is then posted, preferably automatically.</p><p>For me, notes differ from normal posts. From the beginning I wanted to present them chronologically connected on one page per year, like a diary, and not to mix them with the articles (posts). So a standard treatment as a Hexo post was out of the question and I had to come up with something of my own. Another reason not to work with the standard structures of Hexo was, that I did not want to create a subfolder with the name of the post for images as usual in Hexo, but one folder for all images of a year.</p><p>Since I am familiar with Hexo generators, I built a new one called <code>generator-notes</code> that iterates through the entire <code>source/_notes</code> folder and generates an index file for all the notes in a year, as well as the notes file itself, and copies the images to the source path.</p><p>This approach also freed me from using my HexoCommander, because there is no need of executing a <code>new xxx</code> command. I can now create new Notes from the smartphone quite easily:</p><ol><li><a href="https://play.google.com/store/search?q=metactrl+%22autosync%22&c=apps">Autosync App</a>: Synchronization of the source&#x2F;notes folder</li><li><a href="https://play.google.com/store/apps/details?id=net.gsantner.markor">Markor</a>: Edit or create new Note MD file via snippet.</li><li><a href="https://github.com/">GitHub PWA</a>: Upload MD file to the appropriate folder of the repository</li></ol><p>The upload will automatically trigger the build and deployment to GitHub. Done.</p><p><img src="/post/The-State-of-the-Blog/kiko-io-NOTES.png" alt="kiko.io&#39;s Notes Workflow"></p>    <div class="alertbox thinkbox">      <svg viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><circle cx="18" cy="17.018" fill="#ffcb4c" r="17"/><g fill="#65471b"><path d="m14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"/><ellipse cx="13.119" cy="11.174" rx="2.125" ry="2.656"/><ellipse cx="24.375" cy="12.236" rx="2.125" ry="2.656"/></g><path d="m17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048z" fill="#f19020"/><path d="m9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z" fill="#65471b"/></svg>      <h4>is there an easier way?</h4>      <p>Using a generator directly means, that I can’t use tag plugins in my Notes and code blocks won’t be prettied up, as I mentioned earlier.</p><p>Also the Notes are not included in the Hexo <code>Locals</code> and are therefore not available later on for RSS feeds or other stuff to create. So I will probably extend my approach with a custom <a href="https://hexo.io/api/processor.html">Hexo processor</a>, that will allow me to do this.</p>    </div>  <hr><h2 id="Deployment"><a href="#Deployment" class="headerlink" title="Deployment"></a>Deployment</h2><p>As I mentioned earlier, kiko.io is hosted at GitHub Pages. Due to a bug in Hexo regarding the treatment of non markdown files in post folders (<a href="https://github.com/hexojs/hexo/pull/4781">Fix #1490</a>), I had to process all files locally and transfer the output folder to the repository as well. I would have liked to use a GitHub action for the entire deployment, including the generation of the output files, but for a long time there was no NPM package with a working Hexo version that would have allowed this.</p><p>I recently checked again to see if the current Hexo release 6.0.3. had fixed my bug and the subsequent bugs …. and yes. With one or two workarounds, my Hexo installation now runs completely on NPM packages, without any manual adjustments!<br>So I could finally switch the deployment and automate it with its own <a href="https://github.com/kristofzerbe/kiko.io/blob/master/.github/workflows/hexo-build.yml">build action</a>. This enables me to write a text on the go, commit the file via github.com and the build and deployment starts. Woohoo … \o&#x2F;</p>    <div class="alertbox thinkbox">      <svg viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><circle cx="18" cy="17.018" fill="#ffcb4c" r="17"/><g fill="#65471b"><path d="m14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"/><ellipse cx="13.119" cy="11.174" rx="2.125" ry="2.656"/><ellipse cx="24.375" cy="12.236" rx="2.125" ry="2.656"/></g><path d="m17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048z" fill="#f19020"/><path d="m9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z" fill="#65471b"/></svg>      <h4>is there an easier way?</h4>      <p>Nope. The only drawback I see is that this approach always generates the entire site and not just the newly added posts, as is the case locally. It’s a bit of a waste of time and computing resources.</p>    </div>  <hr><h2 id="Syndication"><a href="#Syndication" class="headerlink" title="Syndication"></a>Syndication</h2><p>As I’m a fan of the <a href="https://indieweb.org/">Indieweb</a>, I started early with <a href="https://indieweb.org/Webmention">Webmentions</a> on my blog. The idea behind it is to mention an article from blog A in a post on Blog B or social media like Twitter or Mastodon and blog A gets an automated message like “<em>Hey, I’ve mentioned you here</em>“. The operator of Blog A can now also automatically display this message under the article mentioned.</p><h3 id="Receiving-Webmentions"><a href="#Receiving-Webmentions" class="headerlink" title="Receiving Webmentions"></a>Receiving Webmentions</h3><p>kiko.io is a static site, therefore, there are no active components on the web server that could react to an incoming webmention. But that’s not a problem, because there are services like <a href="https://webmention.io/">webmention.io</a> that can serve as recipients and from where you can then pick up the messages. Some bloggers do this by fetching and inserting them into the articles while generating the static pages, but for me this can take too long. My approach is, to load the mentions from webmention.io via JavaScript dynamically into the page, as described in my post <a href="/post/Hexo-and-the-IndieWeb-Receiving-Webmentions/" title="Hexo and the IndieWeb (Receiving Webmentions)">Hexo and the IndieWeb (Receiving Webmentions)</a>.</p>    <div class="alertbox thinkbox">      <svg viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><circle cx="18" cy="17.018" fill="#ffcb4c" r="17"/><g fill="#65471b"><path d="m14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"/><ellipse cx="13.119" cy="11.174" rx="2.125" ry="2.656"/><ellipse cx="24.375" cy="12.236" rx="2.125" ry="2.656"/></g><path d="m17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048z" fill="#f19020"/><path d="m9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z" fill="#65471b"/></svg>      <h4>is there an easier way?</h4>      <p>I don’t think so…</p>    </div>  <h3 id="Sending-Webmentions"><a href="#Sending-Webmentions" class="headerlink" title="Sending Webmentions"></a>Sending Webmentions</h3><p>Unfortunately a I can’t integrate sending Webmentions for the mentioned Url’s in a particular (new) post into the generation process while building the static files for the blog, because the target Url’s not yet exist at this point of time. I have to wait until it is deployed and thus publicly available. So this step is currently still a manual one.</p><p>My current solution is based on Remy Sharp’s NPM package <a href="https://www.npmjs.com/package/@remy/webmention">@remy&#x2F;webmention</a>, which he himself also uses for his web service  <a href="https://webmention.app/">webmention.app</a>. I integrate it into a Hexo console command called “console-webmention” which I call via <code>hexo webmention</code>. Without parameters, the last post is searched for outgoing url’s and their webmention endpoints respectively. See the <a href="/projects/hexo-console-webmention/">project page</a> for more details.</p>    <div class="alertbox thinkbox">      <svg viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><circle cx="18" cy="17.018" fill="#ffcb4c" r="17"/><g fill="#65471b"><path d="m14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"/><ellipse cx="13.119" cy="11.174" rx="2.125" ry="2.656"/><ellipse cx="24.375" cy="12.236" rx="2.125" ry="2.656"/></g><path d="m17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048z" fill="#f19020"/><path d="m9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z" fill="#65471b"/></svg>      <h4>is there an easier way?</h4>      <p>This works so far, but depending on a console application means once again having to use my HexoCommander and write commands to a text file when I’m on the road. Then I can also send the webmentions for a post directly manually via the <strong><a href="https://telegraph.p3k.io/">Telegraph</a></strong> service.</p><p>One possibility would be a cron job in a Github Action, but this would require creating a new container with all dependencies every time the build has just run and Github has deployed the created files, just to run a console command that might not even return any results since there is nothing to mention in the last post. Unsatisfactory.</p><p>Another possibility would be to utilize my Atom feed by setting up a Zapier, IFTT or Make&#x2F;Integromat task, which picks the last added entry and run the <a href="https://telegraph.p3k.io/api">Telegraph API</a> against it.</p><p>Any ideas?</p>    </div>  <h3 id="Publish-on-Mastodon"><a href="#Publish-on-Mastodon" class="headerlink" title="Publish on Mastodon"></a>Publish on Mastodon</h3><p>I’m relatively new to Mastodon (Nov 22), but in the past I have syndicated some of my posts manually on Twitter. Now, that I’ve said goodbye to the greedy bird site, I’m thinking about how I’m going to automate publishing the notes in particular, but also at least an excerpt from a post, on Mastodon.</p><p>What I do in the meantime? After the site is successfully deployed, I open up my Mastodon client and copy the complete content of a note or write an excerpt of a post manually into a new toot and append the permalink. After hitting SEND, I copy the newly created Mastodon post URL into a Frontmatter attribute called <code>syndication</code> of the note or post and commit the file to GitHub. Build and deployment runs again and the syndication link will be visible on kiko.io.</p><p><img src="/post/The-State-of-the-Blog/kiko-io-SYNDICATION.png" alt="kiko.io&#39;s Syndication Workflow"></p>    <div class="alertbox thinkbox">      <svg viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg"><circle cx="18" cy="17.018" fill="#ffcb4c" r="17"/><g fill="#65471b"><path d="m14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"/><ellipse cx="13.119" cy="11.174" rx="2.125" ry="2.656"/><ellipse cx="24.375" cy="12.236" rx="2.125" ry="2.656"/></g><path d="m17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048z" fill="#f19020"/><path d="m9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z" fill="#65471b"/></svg>      <h4>is there an easier way?</h4>      <p>The Mastodon API is really simple and there are many examples written in Python, JS and other languages out there that are easy to adapt. But here I have the same problem as when sending webmentions: the target url is not yet available at the time of generating the page, when some code is running to do something. It must be a downstream task as well. I need some kind of service running on a server, where I only have a static site. Independent GitHub Action or Azure Function, triggered by a webhook after deployment is finished, which processes all notes and posts without the <code>syndication</code> Frontmatter? Or extending HexoCommander again, but how to trigger this buddy automatically, as he depends on file synchronization?</p>    </div>  <hr><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Hexo is a good SSG system with which you can achieve good results in a short time and which leaves enough room for your own creative ideas. The documentation needs a lot of improvement, especially regarding the details in depth and enriched with examples. I’m not surprised that Hexo seems to lag behind other systems like Hugo or 11ty. Maybe this also have something to do with communication. It’s not as much of a conversation in the Western space as others. In the future, I have planed to be more involved in matters of documentation and communication, even though I have not yet understood the full complexity of the substructure.</p><p>However, I enjoy working with Hexo despite or because of the shortcomings. Coding without a challenge is like driving on a highway … boring :)</p><p>My workflows are currently not really straightforward, especially with regard to connectivity. However, this is also due to the fact that there are no reactive components working on “my” web server.</p><p>It’s all still way too much tinkering, but it will be fun over the next few months to edit all the remarks in the “IS THERE AN EASIER WAY?” blocks above and continue to develop the blog.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mastodon simply explained</title>
      <link href="/post/Mastodon-simply-explained/"/>
      <url>/post/Mastodon-simply-explained/</url>
      
        <content type="html"><![CDATA[<p>This weekend I had a revival experience. I got myself a <a href="https://joinmastodon.org/"><strong>Mastodon</strong></a> account, after many years of staying away from social media as far as I could and at most tweeting a new blog post. Since my active Twitter days, things have taken such a turn for the worse, that I’ve preferred to stay away completely.</p><p>I don’t know what made me join Mastodon on Sunday, but it sparked something in me: The love for the good old internet of the late 90s, early 2000s. These guys gave me a warm welcome and made me feel that Internet communities, away from sleazy influencers and banner ads, could actually still work. I got a taste of it, when I let this blog become part of IndieWeb over a year ago, but didn’t quite believe in it because of the low traffic and mentions.</p><p>Now the richest man on the planet has to come along and buy the bird site, and a niche product called Mastodon, well known but underestimated in tech circles, almost explodes under the onslaught of disappointed commercial users. And that’s what we are on Twitter, Facebook and Co … a commercial object.</p><p>The problem now will be how the community can integrate these many users for whom it was not mentally prepared. What now adapts to whom? The most important thing, however, will be to teach the newcomers (and I count myself among them) that Mastodon is not Twitter in new clothes!</p><p>I was going to write a few things about this, but this morning I read a Twitter thread from <a href="https://mastodon.green/@pjakobs"><strong>Peter Jakobs</strong></a>, a self-proclaimed digital Aboriginal from Germany, that just sums it all up and explains it so well I could hardly do it:</p><p><a href="https://twitter.com/pjakobs/status/1590276045521195008"><img src="/post/Mastodon-simply-explained/tweet-peter-jakobs-22-11-09.png" alt="Tweet from Peter Jakobs, November 29, 2022"></a></p><p>That’s why I’m now doing something I’ve never done before: I quote Peter here completely, translated from German into English … Curtain up (and thank you <a href="https://www.deepl.com/en/translator">DeepL</a> :D):</p><span id="more"></span>    <div>        <blockquote><p>Keyword “Mastodon for Twitterer” 🧵</p><p>I’ve now read from a few of you that Mastodon is too complicated, you’ve had problems, or you somehow don’t like it.<br>As a stone age Twitterer (I created this account on Feb 13, 2007), I have by now half of my activities to Mastodon. Many of my posts you see here now come from there and I mostly come here to respond to your replies.</p><p>So it is possible for an old white guy like me to move, and maybe I can ease some of your fears and help with the move.</p><p>You ask why you should and that almost nothing has changed here (yet)?</p><p>Maybe, but the signs on the wall don’t bode well. Elon Musk is, if you look at it neutrally, someone who destroys things in order to rebuild them - better, in his sense.<br>But that means change is coming. It will disturb you here, but it will come here maybe not in one fell swoop like a move to Mastodon.</p><p>I’m always a friend of bringing about change myself, because then I can shape it in my own way and am not dependent on others. </p><p>But it could be that you will still like Twitter in 12 or 18 months. I know this myself, my Twitter experience is by no means as negative as many others say.<br>But many others, like me, go a different way, and are thus no longer accessible here.</p><p>But that is exactly one of the biggest disadvantages of Twitter and one of the advantages of Mastodon.<br>Let me explain.</p><p>Many write that they are confused by these “instances” (some say “groups” which is not quite true) on Mastodon.<br>I can understand that, it can be confusing. But what if I told you that <strong>there is also an instance on Twitter, but just exactly one</strong>. Twitter.com namely. This one can’t communicate with anything or anyone else, an island in the middle of a vast social media ocean. And now this island has been stupidly bought by someone whose idea of what such an island should look like is rather special.</p><p><strong>Mastodon has many such islands and they are connected with bridges.</strong></p><p>You choose an island, pitch your tents there and - you are not tied to this island. On the one hand you can communicate completely freely with all inhabitants of all other islands, on the other hand you can, if you want to, <strong>take down your tents again and move to another island</strong> (you will lose a little bit, but not as much as if you want to leave here [at Twitter]). These islands (instances) are of different sizes. The biggest ones in Germany are <a href="https://mastodon.social/">mastodon.social</a>, <a href="https://troet.cafe/">troet.cafe</a>, <a href="https://mastodon.green/">mastodon.green</a> and a few others. But there are also tiny islands, I know more than one with a single inhabitant. Is he isolated on his island? No, because he is connected with all the others via said bridges.</p><p><strong>Every island has one (or more) chiefs who keep order</strong> (Twitter does too, but we’ve complained about that a lot). These chiefs are often private individuals who run an instance as a hobby, but with the large instances there is usually a team behind it, and some also a small company (<a href="https://mastodon.social/">mastodon.social</a>, for example, is run by a limited liability company that was founded by the chief developer of the Mastodon software, <a href="https://mastodon.green/">mastodon.green</a> is, as far as I know, a one-man limited liability company).</p><p>So now we know that there are many islands, that we are not trapped on these islands and that we can move.<br>These islands are one of the standout features of Mastodon: <strong>a Musk, a Trump, or even a certain four-letter newspaper can buy an island or even build an island themselves, but they can’t possibly buy all the islands, simply because it’s so cheap to build new islands.</strong> (I read somewhere once, to run an instance costs about 1€ per user per month). But because the interesting thing about Twitter, like Mastodon, is not the medium itself, but the networks we build on it, it doesn’t matter what happens to individual islands as long as we can move freely.</p><p><strong>If individual islands do not want to comply with the rules at all, then they are “defederated”</strong>, or figuratively: the bridges there are demolished. However, this is the decision of each individual island chief, so it may not be grassroots democracy, but it is distributed.  </p><p>Ok pjakobs, enough of the chatter, how am I supposed to find out which island is suitable for me?<br>Here is a searchable list of Mastodon instances: <a href="https://instances.social/list#lang=de&allowed=&prohibited=&min-users=&max-users=">instances.social&#x2F;list</a></p><p>It is possible that another aspect of the “island” image will apply to you: there is a local timeline on the islands, which is also called that. So, if you choose an island that is particularly suited to a geographical region, a topic or a language, then you will see the contributions of the other “inhabitants of this island” in their local timeline - which hopefully have a certain thematic cohesion. However, as already mentioned, you can follow all people on all instances and you will also see them in your own timeline.</p><p>Speaking of timelines: they are chronological and you only see the posts (toots) of those you follow. <strong>No algorithm, no “others like this too”, no good morning tweets in the late evening. Just the way Twitter used to be 10 years ago.</strong></p><p>Follow: here is one of the points that bothers me the most, even if it is a small thing. Currently there are two software versions of Mastodon in use: 3.5.3 and four, which seem to handle following a bit differently.</p><p>In one (I assume the older version), if you want to follow an account on another instance, you have to specify your own handle again (in my case “@<a href="mailto:&#112;&#x6a;&#97;&#x6b;&#111;&#x62;&#x73;&#64;&#x6d;&#x61;&#x73;&#116;&#111;&#100;&#111;&#x6e;&#46;&#103;&#114;&#x65;&#101;&#110;">&#112;&#x6a;&#97;&#x6b;&#111;&#x62;&#x73;&#64;&#x6d;&#x61;&#x73;&#116;&#111;&#100;&#111;&#x6e;&#46;&#103;&#114;&#x65;&#101;&#110;</a>“ - but that’s no longer the case in the new version, there you <strong>click a follow button and you follow the account</strong>.</p><p>Another thing that is very very different is DMs. Here on Twitter, we’re used to DMs essentially working like little emails or a messenger: we have our own inbox and that’s where the dialogue with the other person shows up. Feels good, not visible to others, because yes, in a completely different realm.<br><strong>In Mastodon, direct messages are simply toots that are displayed only to the recipient(s)</strong> - and normally among all the other interactions.</p><p>It’s confusing and doesn’t feel as nicely protected as it does here, and as I walked around town a bit yesterday I realized: this is intentional. Twitter creates an apparent privacy through display that DMs don’t offer.<br><strong>DMs are deliberately not PM, not private messages.</strong> Mastodon also makes that clear through its presentation. I have therefore added my Threema and Telegram link to my profile, these tools actually offer private conversations. Is not comfortable but honest.</p><p>You have created an account, but do not want to move 100% yet or, as in my case, still have many friends on this site? There is also a kind of “bridge” from Mastodon archipelago to Twitter. You can mirror your tweets to Mastodon or vice versa. This is only valid for tweets, not for replies. That means you have to be a bit careful that you don’t just spam your followers in the other network, but also interact with them. After a few days of mirroring from Twitter to Mastodon I turned the bridge around, today probably 80% of the tweets you see from me and the non-replies are on Mastodon. I use <a href="https://crossposter.masto.donte.com.br/">crossposter.masto.donte.com.br</a> for this.</p><p>The lovely people from <a href="https://twitter.com/digitalcourage">@digitalcourage</a> not only run a Mastodon instance themselves, but also put together a <a href="https://digitalcourage.de/digitale-selbstverteidigung/fediverse">great overview</a> of the Fediverse (the federated social media universe, which is much more than just Mastodon).</p><p>In summary, if Musk is really fucking this up, you don’t have to be a helpless victim of his actions. Even if Mastodon might not be an alternative for you at the moment, create an account, try to find your followers over there. </p><p>A life raft is not as comfortable as a floating boat, but it’s better than a sinking boat!</p><p>Ah, here’s another more complete overview of Mastodon:<br><a href="https://the-federation.info/mastodon">the-federation.info&#x2F;mastodon</a> (takes a little while to load)</p></blockquote>        <cite><a href="https://twitter.com/pjakobs/status/1590276045521195008">--- Peter Jakobs</a></cite>    </div>  <p>You will find Peter Jakobs on this island: <a href="https://mastodon.green/@pjakobs">@pjakobs@mastodon.green</a>.</p><p>My new social media residencies are: <a href="https://indieweb.social/@kiko">@kiko@indieweb.social</a> for Tech Stuff in English and <a href="https://hessen.social/@kiko">@kiko@hessen.social</a> for politics and society in German.</p><p><strong>Happy Tooting !</strong></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Publishing </tag>
            
            <tag> Social Media </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Syndicate Mastodon Hashtags in your favorite Feed Reader</title>
      <link href="/post/Syndicate-Mastodon-Hashtags-in-your-favorite-Feed-Reader/"/>
      <url>/post/Syndicate-Mastodon-Hashtags-in-your-favorite-Feed-Reader/</url>
      
        <content type="html"><![CDATA[<p>Ok, I admit it: I read RSS feeds. Quite old school you might think, but I’m mostly off Social Media and the most news sites quite a while ago, with a few exceptions. I just want to read selective stuff, especially in the direction of technology, and not interrupted by items, the news provider think I have to read. My favorite tool for my feed collection is <a href="https://feedly.com/">Feedly</a>, which I open up almost every morning.</p><p>Today, Max Böck gave me the momentum with his article <a href="https://mxb.dev/blog/the-indieweb-for-everyone/">The IndieWeb for Everyone</a> to try another type of social media I know for quite a long time, but never give it a chance: <a href="https://de.wikipedia.org/wiki/Mastodon_(Software)">Mastodon</a>. I’m now part of it on <a href="https://indieweb.social/web/@kiko">indieweb.social</a>.</p><span id="more"></span><p>And as you just do … you surf around a bit on it and read a few things until a post by <a href="https://indieweb.social/web/@matthiasott@mastodon.social">Matthias Ott</a> caught my attention:</p><p><a href="https://indieweb.social/web/@matthiasott@mastodon.social/109258009575261184"><img src="/post/Syndicate-Mastodon-Hashtags-in-your-favorite-Feed-Reader/max-ott-post-on-mastondon-rss.png" alt="Matthias Ott&#39;s Post on Mastodon, 30. October 2022"></a></p><p>Ok, nice … but does this work for other Mastadon things also, like hashtags? I have to say that I am currently very interested in creating PWAs and the techniques behind them, and I’m always looking for new resources to read. So it didn’t take me 5 minutes to start reading posts in Mastodon with the hashtag <a href="https://indieweb.social/web/tags/pwa">#pwa</a> almost automatically.</p><p>What can I say? It works…</p><p><strong>Step 1</strong><br>Search for an hash tag, f.e. <code>#pwa</code>. It will lead to an Url like this, depending on your Mastodon server:</p><p><code>https://indieweb.social/web/tags/pwa</code></p><p><strong>Step 2</strong><br>Cut out <code>/web</code></p><p><strong>Step 3</strong><br>Add <code>.rss</code></p><p>… and you got your feed on a special topic …</p><p><img src="/post/Syndicate-Mastodon-Hashtags-in-your-favorite-Feed-Reader/pwa-mastodon-feed.png" alt="PWA Feed from Mastodon"></p><p>… you can add to your favorite feed reader.<br><img src="/post/Syndicate-Mastodon-Hashtags-in-your-favorite-Feed-Reader/feedly-pwa-feed.png" alt="PWA Feed in Feedly"></p><p>Happy Reading…</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
            <tag> Publishing </tag>
            
            <tag> Mastodon </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Anatomy of Service Worker Communication</title>
      <link href="/post/Anatomy-of-Service-Worker-Communication/"/>
      <url>/post/Anatomy-of-Service-Worker-Communication/</url>
      
        <content type="html"><![CDATA[<p>I have a SPA that works as a PWA, which means that in the background a service worker makes sure that the required files for the offline mode end up in the cache.</p><p>From time to time I also update the Service Worker, which defines which files it should keep offline and which not. Unfortunately, the app itself didn’t get any of this because there was no communication channel for them to talk.</p><p>If you research this topic on the web, you have to dig through many architecture pages and documentations that have one thing in common: sometimes they just don’t get to the point. So here are my 50 cents on the subject and my sample implementation.</p><span id="more"></span><h2 id="Preliminary-Thoughts"><a href="#Preliminary-Thoughts" class="headerlink" title="Preliminary Thoughts"></a>Preliminary Thoughts</h2><p>In most examples I’ve read, the authors talk about code for the app itself and code for the Service Worker, but that falls short to me, because in my opinion there are THREE parts:</p><ol><li>The <strong>App</strong></li><li>The <strong>Service Worker</strong></li><li>The <strong>Service Worker Management</strong>, which takes care of the proper registration and installation of the service worker</li></ol><p>The last part of the code shouldn’t be part of the app itself, in the meaning of SoC (Seperation of Concerns). It does not contribute to the functioning of the app.</p><hr><h2 id="The-App"><a href="#The-App" class="headerlink" title="The App"></a>The App</h2><p>Here’s the general anatomy of my App:</p><figure class="highlight js"><figcaption><span>app.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = &#123;</span><br><span class="line">  <span class="string">&#x27;settings&#x27;</span>: &#123; <span class="comment">// some stuff on app settings</span></span><br><span class="line">    ...</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&#x27;pages&#x27;</span>: &#123; <span class="comment">// views of the SPA</span></span><br><span class="line">    ...</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&#x27;ui&#x27;</span>: &#123; <span class="comment">// some UI helper</span></span><br><span class="line">    <span class="string">&#x27;dialog&#x27;</span>: <span class="keyword">function</span>(<span class="params">msg, title</span>) &#123;</span><br><span class="line">      <span class="comment">// show the message in a toast, popup or elsewhere</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&#x27;starter&#x27;</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;init&#x27;</span>: &#123; <span class="comment">// initializing of the app</span></span><br><span class="line">      ...</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">app</span> = app;</span><br><span class="line">app.<span class="property">starter</span>.<span class="title function_">init</span>();</span><br></pre></td></tr></table></figure><p>Nothing unlikely, as I guess. It is built according to the composite pattern and has one entry point, that is called at the end of the file after it is instantiated.</p><hr><h2 id="The-Service-Worker"><a href="#The-Service-Worker" class="headerlink" title="The Service Worker"></a>The Service Worker</h2><p>The Service Worker lives in its own JS file and its implementation is really straight forward:</p><figure class="highlight js"><figcaption><span>service-worker.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cacheName = <span class="string">&#x27;my-apps-cache-v1.2.3&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> appFiles = [</span><br><span class="line">  <span class="comment">// list of app relating files, that has to be handled</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> excludeUrls = [ </span><br><span class="line">  <span class="comment">// list if URL&#x27;s that shouldn&#x27;t be handled</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;install&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="comment">// on install, open the cache and add all appFiles</span></span><br><span class="line">  ...</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//activate immediatly and dont wait for connected clients to disconnect</span></span><br><span class="line">  self.<span class="title function_">skipWaiting</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;activate&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="comment">// remove old caches</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//say to all clients: Now I&#x27;m responsible</span></span><br><span class="line">  self.<span class="property">clients</span>.<span class="title function_">claim</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;fetch&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="comment">// intercept requests and serve the app files out of the cache</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>I won’t go into the depth of my implementation here now, since it doesn’t matter for the message exchange. It is only good for you to know that I have versioned the cache name to exchange it with new versions.</p><hr><h2 id="The-Service-Worker-Management"><a href="#The-Service-Worker-Management" class="headerlink" title="The Service Worker Management"></a>The Service Worker Management</h2><p>Now the management code for the Service Worker. It has to be loaded with the app code, because it is client code and later on it needs knowledge of the app.</p><figure class="highlight js"><figcaption><span>sw-management.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="string">&#x27;serviceWorker&#x27;</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line"></span><br><span class="line">  navigator.<span class="property">serviceWorker</span>.<span class="title function_">register</span>(<span class="string">&#x27;service-worker.js&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">registration</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// detect Service Worker update available</span></span><br><span class="line">      registration.<span class="title function_">addEventListener</span>(<span class="string">&#x27;updatefound&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (registration.<span class="property">installing</span>) &#123;</span><br><span class="line"></span><br><span class="line">          <span class="comment">// detect install of new Service Worker</span></span><br><span class="line">          registration.<span class="property">installing</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;statechange&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (registration.<span class="property">waiting</span>) &#123;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (navigator.<span class="property">serviceWorker</span>.<span class="property">controller</span>) &#123;</span><br><span class="line">                <span class="comment">// there is an existing controller that has been updated</span></span><br><span class="line">                <span class="comment">//<span class="doctag">TODO:</span> Send a message to the app</span></span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// first install</span></span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="Lets-Communicate…"><a href="#Lets-Communicate…" class="headerlink" title="Lets Communicate…"></a>Lets Communicate…</h2><p>In this setup, the communication code can be implemented. Let’s do it as a round trip.</p><h3 id="1-Client-sends-message-to-Service-Worker"><a href="#1-Client-sends-message-to-Service-Worker" class="headerlink" title="1. Client sends message to Service Worker"></a>1. Client sends message to Service Worker</h3><p>As <code>sw-management.js</code> represents our Service Worker management code, we add a little function to send a message in here:</p><figure class="highlight js"><figcaption><span>sw-management.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sendMessageToServiceWorker</span>(<span class="params">type, msg</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (navigator.<span class="property">serviceWorker</span>.<span class="property">controller</span>) &#123;</span><br><span class="line">      navigator.<span class="property">serviceWorker</span>.<span class="property">controller</span>.<span class="title function_">postMessage</span>(</span><br><span class="line">        &#123;<span class="string">&#x27;type&#x27;</span>: type, <span class="string">&#x27;msg&#x27;</span>: msg &#125;</span><br><span class="line">      );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>We define a type for the purpose of our communcation and a message itself. The function can be called wherever, like this:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">sendMessageToServiceWorker</span>(<span class="string">&quot;TEST&quot;</span>, <span class="string">&quot;Hey, Service Worker&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="2-Service-Worker-receives-the-message"><a href="#2-Service-Worker-receives-the-message" class="headerlink" title="2. Service Worker receives the message"></a>2. Service Worker receives the message</h3><p>In the Service Worker code we need to add a recipient:</p><figure class="highlight js"><figcaption><span>service-worker.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;message&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123; </span><br><span class="line">  <span class="keyword">if</span> (!event.<span class="property">data</span>) <span class="keyword">return</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">data</span>.<span class="property">type</span> === <span class="string">&#x27;TEST&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// do something regarding to the type and/or with the message</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-…-and-sends-a-message-back-to-the-client"><a href="#3-…-and-sends-a-message-back-to-the-client" class="headerlink" title="3. … and sends a message back to the client"></a>3. … and sends a message back to the client</h3><p>What we want to do with the message depends what we want to achive, but in this example, just let’s greet back:</p><figure class="highlight js"><figcaption><span>service-worker.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sendMessageToClients</span>(<span class="params">type, msg</span>) &#123;</span><br><span class="line">  <span class="comment">// as the SW can control multiple clients, we have to catch them all</span></span><br><span class="line">  self.<span class="property">clients</span>.<span class="title function_">matchAll</span>(&#123; <span class="attr">includeUncontrolled</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">clients</span>) &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">const</span> client <span class="keyword">of</span> clients) &#123;</span><br><span class="line">              client.<span class="title function_">postMessage</span>(</span><br><span class="line">                &#123;<span class="string">&#x27;type&#x27;</span>: type, <span class="string">&#x27;msg&#x27;</span>: msg &#125;</span><br><span class="line">              );</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">self.<span class="title function_">addEventListener</span>(<span class="string">&#x27;message&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123; </span><br><span class="line">  <span class="keyword">if</span> (!event.<span class="property">data</span>) <span class="keyword">return</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (event.<span class="property">data</span>.<span class="property">type</span> === <span class="string">&#x27;TEST&#x27;</span>) &#123;</span><br><span class="line">    <span class="title function_">sendMessageToClients</span>(event.<span class="property">data</span>.<span class="property">type</span>, <span class="string">&#x27;Hi Clients...&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-Client-receives-the-answer-from-the-Service-Worker"><a href="#4-Client-receives-the-answer-from-the-Service-Worker" class="headerlink" title="4. Client receives the answer from the Service Worker"></a>4. Client receives the answer from the Service Worker</h3><p>In order to get messages from the Service Worker, we have to implement a receiver in the client also:</p><figure class="highlight js"><figcaption><span>sw-management.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="string">&#x27;serviceWorker&#x27;</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//... &#x27;navigator.serviceWorker.register&#x27; stuff</span></span><br><span class="line"></span><br><span class="line">  navigator.<span class="property">serviceWorker</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;message&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (event.<span class="property">data</span>) &#123;</span><br><span class="line">        <span class="comment">// do something with the message from the Service Worker</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="5-…-and-shows-it-in-the-app"><a href="#5-…-and-shows-it-in-the-app" class="headerlink" title="5. … and shows it in the app"></a>5. … and shows it in the app</h3><p>As I pointed out earlier, that the management code has to be loaded alongside with the app code, it’s a breeze to show the message:</p><figure class="highlight js"><figcaption><span>app.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> app = &#123;</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="string">&#x27;ui&#x27;</span>: &#123; <span class="comment">// some UI helper</span></span><br><span class="line">    <span class="string">&#x27;dialog&#x27;</span>: <span class="keyword">function</span>(<span class="params">msg, title</span>) &#123;</span><br><span class="line">      <span class="comment">// show the message in a toast, popup or elsewhere</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">app</span> = app;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><figure class="highlight js"><figcaption><span>sw-management.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="string">&#x27;serviceWorker&#x27;</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//... &#x27;navigator.serviceWorker.register&#x27; stuff</span></span><br><span class="line"></span><br><span class="line">  navigator.<span class="property">serviceWorker</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;message&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (event.<span class="property">data</span>) &#123;</span><br><span class="line">        app.<span class="property">ui</span>.<span class="property">dialog</span>.<span class="title function_">info</span>(event.<span class="property">data</span>.<span class="property">msg</span>, <span class="string">&#x27;Service Worker says...&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="The-Update-Message"><a href="#The-Update-Message" class="headerlink" title="The Update Message"></a>The Update Message</h2><p>With this infrastructure, everything is there to show a message, when the Service Worker is updated:</p><figure class="highlight js"><figcaption><span>sw-management.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(<span class="string">&#x27;serviceWorker&#x27;</span> <span class="keyword">in</span> navigator) &#123;</span><br><span class="line"></span><br><span class="line">  navigator.<span class="property">serviceWorker</span>.<span class="title function_">register</span>(<span class="string">&#x27;service-worker.js&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">registration</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// detect Service Worker update available</span></span><br><span class="line">      registration.<span class="title function_">addEventListener</span>(<span class="string">&#x27;updatefound&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (registration.<span class="property">installing</span>) &#123;</span><br><span class="line"></span><br><span class="line">          <span class="comment">// detect install of new Service Worker</span></span><br><span class="line">          registration.<span class="property">installing</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;statechange&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (registration.<span class="property">waiting</span>) &#123;</span><br><span class="line"></span><br><span class="line">              <span class="keyword">if</span> (navigator.<span class="property">serviceWorker</span>.<span class="property">controller</span>) &#123;</span><br><span class="line">                <span class="comment">// there is an existing controller that has been updated</span></span><br><span class="line"></span><br><span class="line">                app.<span class="property">ui</span>.<span class="property">dialog</span>.<span class="title function_">info</span>(<span class="string">&#x27;New version installed&#x27;</span>, <span class="string">&#x27;Service Worker&#x27;</span>);</span><br><span class="line"></span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// first install</span></span><br><span class="line">              &#125;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Important to point out, that the Service Worker side of the communication is not involved in this case, because only the client-side management code knows when a new version has to be installed.</p><hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>Jake Archibald: <a href="https://web.dev/service-worker-lifecycle/">The service worker lifecycle</a></li><li>Demian Renzulli & Andrew Guan: <a href="https://web.dev/two-way-communication-guide/">Two-way communication with service workers</a></li><li>Adam Bar: <a href="https://whatwebcando.today/articles/handling-service-worker-updates">Handling Service Worker updates – how to keep the app updated and stay sane</a></li><li>Felix Gerschau: <a href="https://www.peterkroener.de/postmessage-zwischen-service-worker-und-clients/">Service Worker Lifecycle Explained</a></li><li>Felix Gerschau: <a href="https://felixgerschau.com/how-to-communicate-with-service-workers/">How to communicate with Service Workers</a></li><li>Peter Kröner: <a href="https://www.peterkroener.de/postmessage-zwischen-service-worker-und-clients/">PostMessage zwischen Service Worker und Client(s) (GERMAN)</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SPA </tag>
            
            <tag> PWA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #20 - CSS &amp; UI</title>
      <link href="/post/Discoveries-20-CSS-UI/"/>
      <url>/post/Discoveries-20-CSS-UI/</url>
      
        <content type="html"><![CDATA[<p>Web interfaces are unthinkable without CSS. It has its pitfalls, but when used correctly it’s damn powerful. It’s always incredible what developers do with it. This month’s Discoveries is about the basics and the amazing.</p>        <ul class="anchorlist">            <li data-anchor="#my-custom-reset">My Custom CSS Reset</li><li data-anchor="#defensive-css">Defensive CSS</li><li data-anchor="#10-useful-css-tricks">10 Useful CSS Tricks for Front-end Developers</li><li data-anchor="#animated-star-rating">Animated Star Rating</li><li data-anchor="#css-marquee-examples">CSS Marquee Examples</li><li data-anchor="#css-rolling-text">CSS Rolling Text</li><li data-anchor="#cool-hover-effects">Cool Hover Effects That Use CSS Text Shadow</li><li data-anchor="#solving-the-dangler">Solving 'The Dangler' Conundrum with Container Queries and :has()</li><li data-anchor="#conditionally-styling-selected-elements">Conditionally Styling Selected Elements in a Grid Container</li><li data-anchor="#intersection-observer-scrolling-effects">Intersection Observer Scrolling Effects</li>        </ul>    <span id="more"></span>    <hr id="my-custom-reset"/>    <h2 style="margin-bottom: 10px;">      My Custom CSS Reset    </h2>    <small>by Josh Comeau&nbsp;<br><a href="https://www.joshwcomeau.com/css/custom-css-reset/">https://www.joshwcomeau.com/css/custom-css-reset/</a></small>    <p>Browsers behave differenly out of the box regarding CSS. Therefore it is always advisable to have a CSS reset. Josh shows us his approach. He also inspired Elly to her <a href="https://gist.github.com/EllyLoel/4ff8a6472247e6dd2315fd4038926522">Gist</a>.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.joshwcomeau.com/css/custom-css-reset/">      <img class="limit" src="my-custom-reset.png" alt="My Custom CSS Reset" />    </a>      <hr id="defensive-css"/>    <h2 style="margin-bottom: 10px;">      Defensive CSS    </h2>    <small>by Ahmad Shadeed&nbsp;<br><a href="https://defensivecss.dev/">https://defensivecss.dev/</a></small>    <p>Ahmad is a master of CSS and one of his concerns, which he also points out repeatedly in his blog, is to use styles defensively. He has now made his own website out of this.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://defensivecss.dev/">      <img class="limit" src="defensive-css.png" alt="Defensive CSS" />    </a>      <hr id="10-useful-css-tricks"/>    <h2 style="margin-bottom: 10px;">      10 Useful CSS Tricks for Front-end Developers    </h2>    <small>by Alex Ivanovs&nbsp;<br><a href="https://stackdiary.com/useful-css-tricks/">https://stackdiary.com/useful-css-tricks/</a></small>    <p>Alex has some useful tips on writing better and smart CSS code. I have to try Shadow for transparent images as soon as possible …</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://stackdiary.com/useful-css-tricks/">      <img class="limit" src="10-useful-css-tricks.png" alt="10 Useful CSS Tricks for Front-end Developers" />    </a>      <hr id="animated-star-rating"/>    <h2 style="margin-bottom: 10px;">      Animated Star Rating|IMGFILE    </h2>    <small>by Jon Kantner&nbsp;<br><a href="https://codepen.io/jkantner/pen/BarvVNa">https://codepen.io/jkantner/pen/BarvVNa</a></small>    <p>Star ratings are everywhere because they encourage the user to interact with the website and may give the following important clues about how good the product is. Jon has taken them to the next level visually with his animations.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/jkantner/pen/BarvVNa">      <img class="limit" src="animated-star-rating.png" alt="Animated Star Rating|IMGFILE" />    </a>      <hr id="css-marquee-examples"/>    <h2 style="margin-bottom: 10px;">      CSS Marquee Examples    </h2>    <small>by Ryan Mulligan&nbsp;<br><a href="https://codepen.io/hexagoncircle/full/eYMrGwW">https://codepen.io/hexagoncircle/full/eYMrGwW</a></small>    <p>Marquee visualizations were all the rage in the 90s, but they still have their place today and are easier to implement than ever before.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/hexagoncircle/full/eYMrGwW">      <img class="limit" src="css-marquee-examples.png" alt="CSS Marquee Examples" />    </a>      <hr id="css-rolling-text"/>    <h2 style="margin-bottom: 10px;">      CSS Rolling Text    </h2>    <small>by Marcello Lopes&nbsp;<br><a href="https://codepen.io/marcell0lopes/pen/oNemQmB">https://codepen.io/marcell0lopes/pen/oNemQmB</a></small>    <p>You have to tease something with more than one verb? Try this simple solution from Marcello on scrolling text with pure CSS.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/marcell0lopes/pen/oNemQmB">      <img class="limit" src="css-rolling-text.png" alt="CSS Rolling Text" />    </a>      <hr id="cool-hover-effects"/>    <h2 style="margin-bottom: 10px;">      Cool Hover Effects That Use CSS Text Shadow    </h2>    <small>by Temani Afif&nbsp;<br><a href="https://css-tricks.com/cool-hover-effects-that-use-css-text-shadow/">https://css-tricks.com/cool-hover-effects-that-use-css-text-shadow/</a></small>    <p>Hover effects are only useful on computers with mouse support, but how cool you can design them Temani shows us on CSS Tricks.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/cool-hover-effects-that-use-css-text-shadow/">      <img class="limit" src="cool-hover-effects.png" alt="Cool Hover Effects That Use CSS Text Shadow" />    </a>      <hr id="solving-the-dangler"/>    <h2 style="margin-bottom: 10px;">      Solving 'The Dangler' Conundrum with Container Queries and :has()    </h2>    <small>by Dave Rupert&nbsp;<br><a href="https://daverupert.com/2022/07/solving-the-dangler-conundrum-with-has-and-container-queries">https://daverupert.com/2022/07/solving-the-dangler-conundrum-with-has-and-container-queries</a></small>    <p>Grids are super cool, but there is the problem how to style leftovers that doesn’t fit in the matrix. Having a 3 column grid and 12 elements? Fine. But what is with the 13th element? Dave shows us how to deal it it in CSS.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://daverupert.com/2022/07/solving-the-dangler-conundrum-with-has-and-container-queries">      <img class="limit" src="solving-the-dangler.png" alt="Solving 'The Dangler' Conundrum with Container Queries and :has()" />    </a>      <hr id="conditionally-styling-selected-elements"/>    <h2 style="margin-bottom: 10px;">      Conditionally Styling Selected Elements in a Grid Container    </h2>    <small>by Preethi&nbsp;<br><a href="https://css-tricks.com/conditionally-styling-selected-elements-in-a-grid-container/">https://css-tricks.com/conditionally-styling-selected-elements-in-a-grid-container/</a></small>    <p>Elements in a grid have their style. Period. … Wait, no! It is possible to style an element regarding to its neighbour, as shown in this article, by a clever using of <code>:nth-of-type</code>.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/conditionally-styling-selected-elements-in-a-grid-container/">      <img class="limit" src="conditionally-styling-selected-elements.png" alt="Conditionally Styling Selected Elements in a Grid Container" />    </a>      <hr id="intersection-observer-scrolling-effects"/>    <h2 style="margin-bottom: 10px;">      Intersection Observer Scrolling Effects    </h2>    <small>by Jhey&nbsp;<br><a href="https://codepen.io/jh3y/pen/xxWyEBQ">https://codepen.io/jh3y/pen/xxWyEBQ</a></small>    <p>Codepen’s user JHey shows us how to animate elements in 5 different ways on scrolling. Pretty neat…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/jh3y/pen/xxWyEBQ">      <img class="limit" src="intersection-observer-scrolling-effects.png" alt="Intersection Observer Scrolling Effects" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Collection </tag>
            
            <tag> UI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>One mouse to rule them all</title>
      <link href="/post/One-mouse-to-rule-them-all/"/>
      <url>/post/One-mouse-to-rule-them-all/</url>
      
        <content type="html"><![CDATA[<p><strong>Multiple monitors on one computer are elementary for effective IT work. However, operating multiple computers with one input set requires tools, for example one from the Microsoft Garage.</strong></p><p>The trend is toward second or third devices, especially among IT workers. In addition to the stationary computer, which may still be under the desk, there is a laptop and possibly a tablet. All of them are connected to cloud services. If the desk is large enough, there may be two monitors and a full-size keyboard connected to the desktop, the laptop on the left, on which two or three special programs are installed, and the Surface tablet on the right for communication with its narrow-track keyboard. And spread out on the table are three mice in different colors so as not to constantly get the wrong one. A scenario that the author of these lines was also confronted with … yes, until a few years ago a small tool for Microsoft Windows fell in front of his feet, which abruptly ended the input chaos: Mouse Without Borders.</p><span id="more"></span><p>Microsoft, like many IT corporations, encourages its employees to create side projects, which then either eventually find their way into one of the main products or are released under the <a href="https://www.microsoft.com/en-us/garage/">Microsoft Garage</a> banner. This is also the case with the work of <strong>Truong Do</strong>, a Microsoft employee from Washington, who deals with Microsoft Dynamics in his daily business. He was probably also fed up with the numerous input devices and developed a tool more than 10 years ago with which the mouse pointer of a Windows device can be moved across its own monitor border to another device, whereby one of the keyboards is then activated on the device on which the mouse pointer is currently located.</p><p>The startup is simple:</p><ol><li>Download tool via <a href="http://aka.ms/mm">http://aka.ms/mm</a></li><li>Make sure that all devices are available on the same network</li><li>Run the installation program on all devices</li><li>From one device, link the other devices using the security code generated by the program</li><li>Arrange the devices on the desktop in the program by dragging and dropping them from their locations</li><li>Done</li></ol><p><img src="/post/One-mouse-to-rule-them-all/mouse-without-borders-setup.png" alt="Mouse Without Borders - Setup"></p><p><img src="/post/One-mouse-to-rule-them-all/mouse-without-borders-options.png" alt="Mouse Without Border - Options"></p><h2 id="Other-features"><a href="#Other-features" class="headerlink" title="Other features"></a>Other features</h2><p>Besides the main purpose of sharing mouse and keyboard across multiple devices, you can also set up a shared clipboard (Share Clipboard) and make it possible to copy files from one computer to another via drag &amp; drop (Transfer File). This creates a special folder on the desktop of the target computer, where these files end up via the clipboard. It is also useful that the user does not become a long-distance pusher when the pointer is on the far right device and he has to go to the far left, because where it stops on the right, it continues on the far left.</p><p>For keyboard lovers, Truong Do has made keyboard shortcuts available for each linked device, with a choice of F-keys or numbers. All machines can also be locked at once via Ctrl-Alt-L. If the connection hangs once, a spirited Ctrl-Alt-R helps to get them all back on track.</p><p>As an extra goodie, Truong Do has included a narrow-gauge screenshot capture, but you can safely turn it off, because it can’t compete with tools like <a href="https://github.com/brhinescot/Cropper">Brian Scott’s Cropper</a> or <a href="https://github.com/greenshot/greenshot">Greenshot</a>, but rather hinders because it uses common keyboard shortcuts.</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Yes, multiple large monitors and classic remote solutions like RDP or TeamViewer help to operate multiple machines at the same time, but when you have the zoo of devices physically together, working with Mouse Without Borders feels like having four or more monitors, with the advantage that the individual machines don’t have to give up any of their performance. The nice thing, too, is that it doesn’t matter at all what version of Windows is running on the devices. Everything from Windows 7 upwards is supported.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> Workflow </tag>
            
            <tag> Remote </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Creating Icon Font from SVG Files</title>
      <link href="/post/Creating-Icon-Font-from-SVG-Files/"/>
      <url>/post/Creating-Icon-Font-from-SVG-Files/</url>
      
        <content type="html"><![CDATA[<p>A several years ago I started building a little PWA and chose <a href="https://bootswatch.com/3/">Bootswatch 3.3.5.</a> for theming. As it depends on Bootstrap I was able to use the <a href="https://icons.getbootstrap.com/">icons from Bootstrap</a>. At the beginning I needed only a handful of these icons, but with the time it became more and more difficult to find the right one, because the Bootstrap Glyphicons in version 3 included only around 250 icons and there was not always the right one. Also, the app was always lugging around well over 100 KB of extra files, of which I actually only needed a few kilobytes.</p><p>In another project I had used <a href="https://fontello.com/">Fontello</a>, where you can build and download your own icon font from a selection of available icons. Very nice, but I didn’t feel like fiddling with project-specific configuration files on the Fontello website. But since you could upload your own SVG files in Fontello, which were then taken over into the font, the same had to work somehow with a Node.JS plugin!?</p><p>And yes <a href="https://www.npmjs.com/package/gulp-iconfont">gulp-iconfont</a> from <a href="https://github.com/nfroidure">Nicolas Froidure</a> was exactly what I needed.</p><p><img src="/post/Creating-Icon-Font-from-SVG-Files/gulp-iconfont.png" alt="gulp-iconfont on GitHub"></p><hr><h2 id="First-Solution"><a href="#First-Solution" class="headerlink" title="First Solution"></a>First Solution</h2><p>Just copy a bunch of SVG files in a folder, run gulp and there was my own customized icon font with a tolerable size of around 20 kilobytes. At that time, <a href="https://github.com/backflip">Thomas Jaggi</a> had taken care of the creation of a CSS file with the correct code points that matched the font with his tool <a href="https://www.npmjs.com/package/gulp-iconfont-css">gulp-iconfont-css</a>.</p><span id="more"></span><h3 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h3><p>First I needed some SVG files…</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">|-- Images</span><br><span class="line"><span class="code">    |-- SVG</span></span><br><span class="line"><span class="code">        |-- alert.svg</span></span><br><span class="line"><span class="code">        |-- cancel.svg</span></span><br><span class="line"><span class="code">        |-- delete.svg</span></span><br><span class="line"><span class="code">        |-- email.svg</span></span><br><span class="line"><span class="code">        |-- flag.svg</span></span><br><span class="line"><span class="code">        |-- link.svg</span></span><br></pre></td></tr></table></figure><p>… and the NPM packages of my task runner <a href="https://gulpjs.com/">gulp.js</a>:</p><figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --<span class="built_in">save</span>-<span class="built_in">dev</span> gulp-iconfont</span><br><span class="line">npm install --<span class="built_in">save</span>-<span class="built_in">dev</span> gulp-iconfont-css</span><br></pre></td></tr></table></figure><p>For generating the CSS file a template called <code>_icons.css</code> is shipped with the NPM package of <strong>gulp-iconfont-css</strong>, which can be customized as needed. In my case I just made a copy into a folder called <code>Templates</code>, where I store all other template files I need for my PWA.</p><figure class="highlight css"><figcaption><span>Templates/icons-template.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;&lt;%= fontName %&gt;&quot;</span>;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;&lt;%= fontName %&gt;.eot&#x27;</span>);</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;&lt;%= fontName %&gt;.eot?#iefix&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;eot&#x27;</span>),</span><br><span class="line">       <span class="built_in">url</span>(<span class="string">&#x27;&lt;%= fontName %&gt;.woff2&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff2&#x27;</span>),</span><br><span class="line">       <span class="built_in">url</span>(<span class="string">&#x27;&lt;%= fontName %&gt;.woff&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff&#x27;</span>),</span><br><span class="line">       <span class="built_in">url</span>(<span class="string">&#x27;&lt;%= fontName %&gt;.ttf&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;truetype&#x27;</span>),</span><br><span class="line">       <span class="built_in">url</span>(<span class="string">&#x27;&lt;%= fontName %&gt;.svg#&lt;%= fontName %&gt;&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;svg&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.&lt;%= cssClass %&gt;<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;&lt;%= fontName %&gt;&quot;</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">font-variant</span>: normal;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">text-transform</span>: none;</span><br><span class="line">  -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">  -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;% _<span class="selector-class">.each</span>(glyphs, function(glyph) &#123; %&gt;</span><br><span class="line">.&lt;%= cssClass %&gt;-&lt;%= glyph<span class="selector-class">.fileName</span> %&gt;<span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\&lt;%= glyph.codePoint %&gt;&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;% &#125;); %&gt;</span><br></pre></td></tr></table></figure><p>As I was using Gulp for building my app, I had to integrate a new task for creating the icon font in the <code>gulpfile.js</code>:</p><figure class="highlight js"><figcaption><span>/gulpfile.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iconfont = <span class="built_in">require</span>(<span class="string">&#x27;gulp-iconfont&#x27;</span>),</span><br><span class="line">    iconfontCss = <span class="built_in">require</span>(<span class="string">&#x27;gulp-iconfont-css&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> distFolder = <span class="string">&#x27;Build&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> fontName = <span class="string">&#x27;MyAppIcons&#x27;</span>; </span><br><span class="line"></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;create-iconfont&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> gulp.<span class="title function_">src</span>([<span class="string">&#x27;Images/SVG/*.svg&#x27;</span>]) </span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">iconfontCss</span>(&#123;</span><br><span class="line">      <span class="attr">fontName</span>: fontName, </span><br><span class="line">      <span class="attr">path</span>: <span class="string">&#x27;Templates/icons-template.css&#x27;</span>,</span><br><span class="line">      <span class="attr">targetPath</span>: fontName + <span class="string">&#x27;.css&#x27;</span>,</span><br><span class="line">      <span class="attr">fontPath</span>: distFolder</span><br><span class="line">    &#125;))</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">iconfont</span>(&#123;</span><br><span class="line">      <span class="attr">formats</span>: [<span class="string">&#x27;svg&#x27;</span>, <span class="string">&#x27;ttf&#x27;</span>, <span class="string">&#x27;eot&#x27;</span>, <span class="string">&#x27;woff&#x27;</span>, <span class="string">&#x27;woff2&#x27;</span>],</span><br><span class="line">      <span class="attr">fontName</span>: fontName, <span class="comment">// Required</span></span><br><span class="line">      <span class="attr">fontHeight</span>: <span class="number">1001</span>,</span><br><span class="line">      <span class="attr">normalize</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">prependUnicode</span>: <span class="literal">true</span>, <span class="comment">// Recommended</span></span><br><span class="line">      <span class="attr">timestamp</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() / <span class="number">1000</span>) <span class="comment">// Recommended</span></span><br><span class="line">    &#125;))</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(distFolder));</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;build&#x27;</span>, </span><br><span class="line">  gulp.<span class="title function_">series</span>(</span><br><span class="line">    <span class="string">&#x27;create-iconfont&#x27;</span></span><br><span class="line">    <span class="comment">// other gulp tasks</span></span><br><span class="line">  )</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>I little explanation on that … First of all the task for <strong>gulp-iconfont-css</strong> has to be inserted before piping the files through <strong>gulp-iconfont</strong>, in order to create the CSS file properly. Following options were used:</p><h4 id="gulp-iconfont-css"><a href="#gulp-iconfont-css" class="headerlink" title="gulp-iconfont-css"></a>gulp-iconfont-css</h4><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td><code>fontName</code></td><td>Name that the generated font will have</td></tr><tr><td><code>path</code></td><td>Path to the template for generating CSS file</td></tr><tr><td><code>targetPath</code></td><td>Path where the CSS file will be generated</td></tr><tr><td><code>fontPath</code></td><td>Path to the icon font file</td></tr></tbody></table><h4 id="gulp-iconfont"><a href="#gulp-iconfont" class="headerlink" title="gulp-iconfont"></a>gulp-iconfont</h4><p>The library combines some other projects such as <a href="https://github.com/nfroidure/svgicons2svgfont">svgicons2svgfont</a>, <a href="https://github.com/nfroidure/svgicons2svgfont#svgicons2svgfontoptions">gulp-svgicons2svgfont</a> and <a href="https://github.com/nfroidure/gulp-svg2ttf">gulp-svg2ttf</a> to create the different font formats, because its just a wrapper around them.</p><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td><code>formats</code></td><td>Font file formats that will be created</td></tr><tr><td><code>fontName</code></td><td>Name of the font (for <em>svgicons2svgfont</em>)</td></tr><tr><td><code>fontHeight</code></td><td>Minimum height on scaling icons</td></tr><tr><td><code>normalize</code></td><td>Normalize icons by scaling them to the height of the highest icon (for <em>svgicons2svgfont</em>)</td></tr><tr><td><code>prependUnicode</code></td><td>Prefix files with their automatically allocated unicode code point (for <em>gulp-svgicons2svgfont</em>)</td></tr><tr><td><code>timestamp</code></td><td>Get consistent builds when watching files (for <em>gulp-svg2ttf</em>)</td></tr></tbody></table><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>After running <code>gulp build</code> all files needed were generated:</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">|-- Build</span><br><span class="line"><span class="code">    |-- MyAppIcons.css</span></span><br><span class="line"><span class="code">    |-- MyAppIcons.eot</span></span><br><span class="line"><span class="code">    |-- MyAppIcons.svg</span></span><br><span class="line"><span class="code">    |-- MyAppIcons.ttf</span></span><br><span class="line"><span class="code">    |-- MyAppIcons.woff</span></span><br><span class="line"><span class="code">    |-- MyAppIcons.woff2</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><figcaption><span>MyAppIcons.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;MyAppIcons&quot;</span>;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;MyAppIcons.eot&#x27;</span>);</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;MyAppIcons.eot?#iefix&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;eot&#x27;</span>),</span><br><span class="line">       <span class="built_in">url</span>(<span class="string">&#x27;MyAppIcons.woff2&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff2&#x27;</span>),</span><br><span class="line">       <span class="built_in">url</span>(<span class="string">&#x27;MyAppIcons.woff&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff&#x27;</span>),</span><br><span class="line">       <span class="built_in">url</span>(<span class="string">&#x27;MyAppIcons.ttf&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;truetype&#x27;</span>),</span><br><span class="line">       <span class="built_in">url</span>(<span class="string">&#x27;MyAppIcons.svg#MyAppIcons&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;svg&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;MyAppIcons&quot;</span>;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">  <span class="attribute">font-variant</span>: normal;</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">text-transform</span>: none;</span><br><span class="line">  -webkit-<span class="attribute">font-smoothing</span>: antialiased;</span><br><span class="line">  -moz-osx-<span class="attribute">font-smoothing</span>: grayscale;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-alert</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\E001&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-cancel</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\E002&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-delete</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\E003&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-email</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\E004&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-flag</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\E005&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.icon-link</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\E006&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>All I had to do now, was to reference the new CSS file in my HTML and decorating my HTML tags with one of the new <code>icon</code>-classes. Yes! My had my own icon font, just by copying some SVG files in a folder…</p><h3 id="The-Problem"><a href="#The-Problem" class="headerlink" title="The Problem"></a>The Problem</h3><p>A while later, as my app grew, I needed some new icons, but in the meantime I had used the content codes elsewhere in static CSS files, for example with other pseudo-selectors like AFTER.</p><figure class="highlight css"><figcaption><span>style.css</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.my-special-link</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;MyAppIcons&quot;</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\E006&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>After copying a few new icon files to the SVG folder and running the build, I found that most of the icons didn’t fit anymore!?</p><p>After a short research it was clear to me what had happened. With the insertion of the new SVG files, the order of the files in the folder was changed. But since the libraries processed this folder in alphabetical order, file by file, and simply incremented the codes to be assigned, the codes had simply shifted.</p><p>In the example above, this can be easily understood if we insert a file named <strong>cloud.svg</strong> here. The code for <em>cancel.svg</em> (<code>E002</code>) remains untouched, but <em>cloud.svg</em> now gets <code>E003</code> and <em>delete.svg</em> <code>E004</code> and so on. The hardwired icon for <code>.my-special-link</code> (<code>E006</code>) now showed instead of the link icon a flag icon.</p><hr><h2 id="Newer-Solution"><a href="#Newer-Solution" class="headerlink" title="Newer Solution"></a>Newer Solution</h2><p>I don’t know when this happened, because I don’t keep a constant eye on my little PWA and thus the further development of the related tools, but after having manually adjusted the moved codes two or three times now and once again wanting to change a few things on the PWA’s icons, I had enough and came across the following sentence on the gulp-iconfont-css page on GitHub:</p>    <div>        <blockquote><p>Recent versions of gulp-iconfont emit a glyphs (or codepoints &lt; 4.0.0) event (see docs) which should likely be used instead of the workflow described below. However, it will continue to work as expected.</p></blockquote>        <cite><a href="https://github.com/backflip/gulp-iconfont-css">--- backflip (Thomas Jaggi)</a></cite>    </div>  <p>Ahh, ok. I don’t need the <strong>gulp-iconfont-css</strong> anymore. I can create the CSS file by myself. Lets see how the <strong>gulp-iconfont</strong> task looks, after rewriting:</p><figure class="highlight js"><figcaption><span>/gulpfile.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iconfont = <span class="built_in">require</span>(<span class="string">&#x27;gulp-iconfont&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> distFolder = <span class="string">&#x27;Build&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> fontObj = &#123;</span><br><span class="line">  <span class="attr">fontName</span>: <span class="string">&quot;MyAppIcons&quot;</span>,</span><br><span class="line">  <span class="attr">cssClass</span>: <span class="string">&quot;icon&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&quot;create-iconfont&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> gulp</span><br><span class="line">    .<span class="title function_">src</span>([<span class="string">&quot;Images/SVG/*.svg&quot;</span>])</span><br><span class="line">    .<span class="title function_">pipe</span>(</span><br><span class="line">      <span class="title function_">iconfont</span>(&#123;</span><br><span class="line">        <span class="attr">fontName</span>: fontObj.<span class="property">fontName</span>,</span><br><span class="line">        <span class="attr">fontHeight</span>: <span class="number">1001</span>,</span><br><span class="line">        <span class="attr">formats</span>: [<span class="string">&quot;svg&quot;</span>, <span class="string">&quot;ttf&quot;</span>, <span class="string">&quot;eot&quot;</span>, <span class="string">&quot;woff&quot;</span>, <span class="string">&quot;woff2&quot;</span>],</span><br><span class="line">        <span class="attr">normalize</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">prependUnicode</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">timestamp</span>: <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() / <span class="number">1000</span>),</span><br><span class="line">      &#125;)</span><br><span class="line">    )</span><br><span class="line">    .<span class="title function_">on</span>(<span class="string">&quot;glyphs&quot;</span>, <span class="keyword">function</span> (<span class="params">glyphs, options</span>) &#123;</span><br><span class="line"></span><br><span class="line">      fontObj.<span class="property">glyphs</span> = glyphs.<span class="title function_">map</span>(mapGlyphs);</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(fontObj, options);</span><br><span class="line"></span><br><span class="line">      gulp</span><br><span class="line">        .<span class="title function_">src</span>(<span class="string">&#x27;Templates/icons-template.css&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">consolidate</span>(<span class="string">&quot;lodash&quot;</span>, fontObj))</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">rename</span>(&#123; <span class="attr">basename</span>: fontObj.<span class="property">fontName</span> &#125;))</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(distFolder));</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(distFolder));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mapGlyphs</span>(<span class="params">glyph</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">fileName</span>: glyph.<span class="property">name</span>,</span><br><span class="line">    <span class="attr">codePoint</span>: glyph.<span class="property">unicode</span>[<span class="number">0</span>].<span class="title function_">charCodeAt</span>(<span class="number">0</span>).<span class="title function_">toString</span>(<span class="number">16</span>).<span class="title function_">toUpperCase</span>(),</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;build&#x27;</span>, </span><br><span class="line">  gulp.<span class="title function_">series</span>(</span><br><span class="line">    <span class="string">&#x27;create-iconfont&#x27;</span></span><br><span class="line">    <span class="comment">// other gulp tasks</span></span><br><span class="line">  )</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>First I have introduced a new <code>fontObj</code> variable to hold all informations for the untouched CSS template. The major difference is now, that <code>iconfont</code> is the only main task, with a subtask where the glyphs are processed directly via <a href="https://www.npmjs.com/package/consolidate"><code>consolidate</code></a>. The <code>mapGlyphs()</code> function ensures that the file names with the CodePoints are transferred into an easily usable structure.</p><p>Works fine, but doesn’t solve my problem with the shifted CodePoints, when inserting new SVG icons … but someone remarked in a StackOverflow article to have a look at the test files of <em>gulp-iconfont</em>. <strong>There, the SVG files carry as prefix the name of the CodePoints to be used for this file!</strong>. Unfortunately, this feature is not documented, but it works…</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">|-- Images</span><br><span class="line"><span class="code">    |-- SVG</span></span><br><span class="line"><span class="code">        |-- uE001-alert.svg</span></span><br><span class="line"><span class="code">        |-- uE002-cancel.svg</span></span><br><span class="line"><span class="code">        |-- uE003-delete.svg</span></span><br><span class="line"><span class="code">        |-- uE004-email.svg</span></span><br><span class="line"><span class="code">        |-- uE005-flag.svg</span></span><br><span class="line"><span class="code">        |-- uE006-link.svg</span></span><br><span class="line"><span class="code">        |-- uE007-cloud.svg</span></span><br></pre></td></tr></table></figure><p>Now the order of the SVG files doesn’t matter anymore. I just copy a new SVG file into the folder and rename it with a currently unused Unicode.</p><hr><h2 id="Upcoming-Solution-Using-SVG-Sprites"><a href="#Upcoming-Solution-Using-SVG-Sprites" class="headerlink" title="Upcoming Solution: Using SVG Sprites"></a>Upcoming Solution: Using SVG Sprites</h2><p>Interestingly, the inventor of <strong>gulp-iconfont</strong> page writes on the GiHub page:</p>    <div>        <blockquote><p>Warning: While this plugin may still be useful for fonts generation or old browser support, you should consider using SVG icons directly. Indeed, when i created gulp-iconfont and all its related modules, using SVG icons was just not realistic for a wide browser suppport but i was already conviced that SVG was the future, that’s why i wanted my SVG source files to sit separated in a folder. So, now, just enjoy switching to SVG with almost no effort :). Was a great open source journey with you all!</p></blockquote>        <cite><a href="https://github.com/nfroidure/gulp-iconfont">--- Nicolas Froidure (nfroidure)</a></cite>    </div>  <p>This goes along with some older articles of Chris Coyer from CSSTricks:</p><ul><li><a href="https://css-tricks.com/svg-sprites-use-better-icon-fonts/">https://css-tricks.com/svg-sprites-use-better-icon-fonts/</a></li><li><a href="https://css-tricks.com/svg-symbol-good-choice-icons/">https://css-tricks.com/svg-symbol-good-choice-icons/</a></li><li><a href="https://github.com/w0rm/gulp-svgstore">https://github.com/w0rm/gulp-svgstore</a></li></ul><p>Maybe it’s time to say goodbye to icon fonts completely and use SVG files directly, but in my opinion this is not suitable for all needs. Especially if you work a lot with pesudo selectors, a general rebuild of the code and the UI will be necessary and you would do well to weigh the cost-benefit carefully.</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Bundling </tag>
            
            <tag> SVG </tag>
            
            <tag> Font </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dopamine, a music player for Windows 10 as it should be</title>
      <link href="/post/Dopamine-a-music-player-for-Windows-10-as-it-should-be/"/>
      <url>/post/Dopamine-a-music-player-for-Windows-10-as-it-should-be/</url>
      
        <content type="html"><![CDATA[<p>There are about fourleventy millions music apps for smartphones running Android and iOS. However, most of them are relatively junk or try to foist malware on users. You have to make sure that you separate the wheat from the chaff. On the other hand, the situation is surprisingly different for Windows, the much older operating system. The older ones of us will still remember the glorious WinAmp times, whose current owner Radionomy has been making a very long new attempt for a new version 6 since 2018 (version 5.8 is already a handsome 6 years old), but you can actually count the good music players for Windows 10 and higher on one hand, if you subtract the streaming apps such as Spotify and Co. and disregard everything that comes along as a jack of all trades and can ALSO play MP3. The best known are the in Windows included and miserably failed iTunes clone from Micosoft called <strong>Groove</strong>, <strong><a href="https://www.aimp.ru/">AIMP</a></strong>, <strong><a href="https://www.foobar2000.org/">foobar2000</a></strong>, <strong><a href="https://www.mediamonkey.com/">MediaMonkey</a></strong> and <strong><a href="https://www.getmusicbee.com/">MusicBee</a></strong>. Some nostalgic people might also add the good old <a href="https://support.microsoft.com/en-us/windows/get-windows-media-player-81718e0d-cfce-25b1-aee3-94596b658287">Windows Media Player</a>, which managed to survive on the net despite Groove. If you look at the download pages of these music player candidates and try to look behind the business model, some of them simply do not download. One or the other player also overdoes it with the featuritis. Bouncing balls or bars to the music are gimmicks that were thought to be outdated long ago, when it is actually only about listening to music.</p><p>Belgian software developer <strong>Raphaël Godart</strong> (<a href="https://twitter.com/RaphaelGodart">twitter.com&#x2F;RaphaelGodart</a>) must have felt the same way a few years ago when he set out to launch his own player for local MP3 collections, which in this case sounds falsely commercial because his player <strong><a href="http://www.digimezzo.com/software/">Dopamine</a></strong> is freely available on GitHub and open source under GPL 3.0 license. It plays music under a plain and simple, yet chic interface … Period. Everything a music lover’s heart desires is on board:</p><span id="more"></span><ul><li>Automatic reading of a folder configured at the beginning.</li><li>Display of the collection by artist, genre, album, title or folder</li><li>Playlist management</li><li>Light and dark theme, including setting the accent color</li><li>Interface in 30 languages</li><li>Integration with taskbar and notification bar</li><li>Automatic updates</li></ul>      <div class="image-slider" id="image-slide-5vg3ww">        <div><img src="/post/Dopamine-a-music-player-for-Windows-10-as-it-should-be/dopamine2.png" alt="Dopamine 2.0.9 on Windows 10" /></div><div><img src="/post/Dopamine-a-music-player-for-Windows-10-as-it-should-be/dopamine2-playlist.png" alt="Dopamine 2.0.9 Playlist" /></div><div><img src="/post/Dopamine-a-music-player-for-Windows-10-as-it-should-be/dopamine2-settings.png" alt="Dopamine 2.0.9 Settings Page" /></div>      </div>      <script>        tns({          container: "#image-slide-5vg3ww",          items: 1,          slideBy: "page",          controls: false,          nav: true        });      </script>    <p>The design of the application is instantly convincing. Everything is limited to the most necessary, an accent color and a lot of white e.g. gray space, so that not only the ear feels comfortable with the music, but also the eye. And all this at a very good speed and nicely animated transitions from one view to another.</p><p>Besides the basic ability to play MP3 files, the author has also included a rudimentary, but well-functioning editing function of the MP3 metadata. Furthermore, any star assignments or added lyrics are stored directly in the file and not just in the SQLite database behind it.</p><p><img src="/post/Dopamine-a-music-player-for-Windows-10-as-it-should-be/dopamine2-edit.png" alt="Dopamine 2.0.9 Edit MP3 Metadata"></p><p>However, Godart has also included a few useful things from the Featuritis department in its program. On the one hand, it downloads information from last.fm about the currently played artist and you can scrobble there if you like, and on the other hand, it scans some lyric collections for the lyrics, which unfortunately rarely works.</p><p>Quite unique is one of the most recently added features: a blacklist! Yes, many an album of a favorite musician contains a track that he would have been better off sparing himself. Such pieces can now be specifically hidden, so that the musical enjoyment is not spoiled.</p><h2 id="Further-development"><a href="#Further-development" class="headerlink" title="Further development"></a>Further development</h2><p>New releases of Dopamine 2 since version 2.0.8 are not as frequent as before, because the program is basically developed out and Raphaël only adds smaller features, translations and bugfixes. Instead, 4 years after the release of the first version two years ago, he has embarked on a completely new development with version 3. Where Dopamine up to version 2 was developed with Microsoft C# and WPF (Windows Presentation Foundation), the latest will be based on Electron, Angular and Typescript, i.e. packaged web technology (HTML, CSS and JavaScript) for all operating systems and not just Windows. Currently, Godart has reached Preview 10, which has by far not the same scope of the previous version, but is already running stable.</p><p><img src="/post/Dopamine-a-music-player-for-Windows-10-as-it-should-be/dopamine3.png" alt="Dopamine 3 under Electron"></p><h2 id="Music-in-the-cloud"><a href="#Music-in-the-cloud" class="headerlink" title="Music in the cloud"></a>Music in the cloud</h2><p>If you’re on the go and have stored your music on a cloud service like Microsoft’s OneDrive, you might pay attention to the fact that on a device connected to it, the entire collection is not downloaded, but only selected parts in order to save local storage space. Microsoft makes it easy for users there: it displays all OneDrive files in Windows Explorer with 0 bytes of space used and only downloads them when they are accessed or when the user selects <em>Always keep on this device</em> in a folder’s context menu. This works quite beautifully with Dopamine 2. It, with support from C# and the operating system, simply ignores all those files that are not available on the disk in real terms when scanning the specified music folder. Dopamine 3, on the other hand, in which the scan must take place via Node.js and the <code>fs.readdir()</code> method, immediately triggers the download function of OneDrive and you unintentionally fill up your disk.</p><h2 id="Curiosity-on-the-side"><a href="#Curiosity-on-the-side" class="headerlink" title="Curiosity on the side"></a>Curiosity on the side</h2><p>Raphaël’s C#&#x2F;WPF solution weighs 76 MB when installed, 2.5 MB of it for the executable, the new Electron-based one under Windows, however, already 302 MB, with the EXE being a whopping 128 MB. If you take a look at the code base, this becomes even more obvious: while the Windows-only version comes along with 760 files, the new Electron version already contains 86,092 files in 7,948 folders with a total weight of almost one gigabyte after running <code>npm install</code>! Once again you can see that platform independence in the brave new Node.JS world is often bought with heavy weight. This is mainly due to the necessity (or the unkindness, depending on how you look at it) to drag along thousands of dependent libraries (dependencies), which occasionally only bring a string to a certain width or something similarly trivial. Not to mention the problems with depublicated or malware-infested dependencies, which have recently upset large parts of the community.</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Dopamine 2 is a really fantastic music player for Windows that simply outshines most others due to its simplicity and well-done interface. Let’s see if Godard manages to do something similar with version 3 and Electron. It’s a challenge, but he seems to be a full-blooded developer. Chapeau Raphaël…</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Audio </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Scandinavian Presets for Lightroom</title>
      <link href="/post/Scandinavian-Presets-for-Lightroom/"/>
      <url>/post/Scandinavian-Presets-for-Lightroom/</url>
      
        <content type="html"><![CDATA[<p>It doesn’t matter what time of year you go to Scandinavia. Countries like Denmark or Norway have a Nordic charm that you can never really escape. But it doesn’t always have to be the far north that provides fascinating motifs for photographers. With these Lightroom presets you can enhance your images with the Nordic feel.</p><span id="more"></span><h2 id="Scandinavian-City-Nights"><a href="#Scandinavian-City-Nights" class="headerlink" title="Scandinavian City Nights"></a>Scandinavian City Nights</h2><p>When it gets late in the city, the artificial light bathes them in a warm veil. The shadows are deeper and the colors are more concise.<br>Time to get a drink.</p>    <div id="image-compare-iddbq1">      <img class="image-compare image-original" src="/post/Scandinavian-Presets-for-Lightroom/D70_0710_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Scandinavian-Presets-for-Lightroom/D70_0710_PRESET-City-Nights.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-iddbq1"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Scandinavian City Nights.xmp" download>        Download Lightroom Preset <strong>Scandinavian City Nights.xmp</strong>      </a>    </p>    <hr><h2 id="Scandinavian-Blue-Hour"><a href="#Scandinavian-Blue-Hour" class="headerlink" title="Scandinavian Blue Hour"></a>Scandinavian Blue Hour</h2><p>All over the world, the Blue Hour is a special time of the day. The light is fading away slightly and everything shines in magic colors. Let them shine…</p>    <div id="image-compare-c57a83">      <img class="image-compare image-original" src="/post/Scandinavian-Presets-for-Lightroom/D70_1197_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Scandinavian-Presets-for-Lightroom/D70_1197_PRESET-Blue-Hour.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-c57a83"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Scandinavian Blue Hour.xmp" download>        Download Lightroom Preset <strong>Scandinavian Blue Hour.xmp</strong>      </a>    </p>    <hr><h2 id="Scandinavian-Colors"><a href="#Scandinavian-Colors" class="headerlink" title="Scandinavian Colors"></a>Scandinavian Colors</h2><p>Nordic nature is far from being as rich and colorful as that in the south, but it has its own charm and with color you can help a little.</p>    <div id="image-compare-swbshv">      <img class="image-compare image-original" src="/post/Scandinavian-Presets-for-Lightroom/D70_1752_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Scandinavian-Presets-for-Lightroom/D70_1752_PRESET-Colors.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-swbshv"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Scandinavian Colors.xmp" download>        Download Lightroom Preset <strong>Scandinavian Colors.xmp</strong>      </a>    </p>    <hr><h2 id="Scandinavian-Drama"><a href="#Scandinavian-Drama" class="headerlink" title="Scandinavian Drama"></a>Scandinavian Drama</h2><p>Not only since Shakespeare and his Hamlet, we know about the dramas of the Nordic sagas. The landscape itself is dramatic and the stories are set in it.</p>    <div id="image-compare-2vlcc4">      <img class="image-compare image-original" src="/post/Scandinavian-Presets-for-Lightroom/D70_1627_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Scandinavian-Presets-for-Lightroom/D70_1627_PRESET-Drama.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-2vlcc4"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Scandinavian Drama.xmp" download>        Download Lightroom Preset <strong>Scandinavian Drama.xmp</strong>      </a>    </p>    <hr><h2 id="Scandinavian-Seascape"><a href="#Scandinavian-Seascape" class="headerlink" title="Scandinavian Seascape"></a>Scandinavian Seascape</h2><p>The sea plays a big role in the Nordic countries, as they have very long coasts. No one who travels there with a camera manages to resist this beauty.</p>    <div id="image-compare-l5xrep">      <img class="image-compare image-original" src="/post/Scandinavian-Presets-for-Lightroom/D70_0151_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Scandinavian-Presets-for-Lightroom/D70_0151_PRESET-Seascape.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-l5xrep"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Scandinavian Seascape.xmp" download>        Download Lightroom Preset <strong>Scandinavian Seascape.xmp</strong>      </a>    </p>    ]]></content>
      
      
      <categories>
          
          <category> Photo-Editing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lightroom </tag>
            
            <tag> Presets </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Gitpod - Visual Studio Code on the Web</title>
      <link href="/post/Gitpod-Visual-Studio-Code-on-the-Web/"/>
      <url>/post/Gitpod-Visual-Studio-Code-on-the-Web/</url>
      
        <content type="html"><![CDATA[<p>It’s amazing how quickly the editor <strong><a href="https://code.visualstudio.com/">Visual Studio Code</a></strong> (VS Code) has conquered the developer community (#1 in the Stack Overflow Developer Survey Ranking 2021) and even those from the Linux faction, who are historically rather critical of Microsoft, but for good reason. The company from Redmond has done quite a lot right with the tool and has gathered a large group of open source developers around it (currently 1,640 contributors), who contribute to the fact that the Swiss Microsoft team around Erich Gamma can bring out a new release for Windows, Linux and macOS every few weeks.</p><p>It all started with the <a href="https://microsoft.github.io/monaco-editor/">Monaco Editor</a>, the core around which VS Code is built and which was first released on April 14, 2016. The exciting thing about Monaco and VS Code is, that it is consistently written using web technologies, i.e. HTML, CSS and Javascript, packaged and executed using the framework <a href="https://www.electronjs.org/">Electron</a> developed by GitHub, which in turn is based on <a href="https://nodejs.org/en/">Node.js</a> and the open source browser engine <a href="https://www.chromium.org/Home/">Chromium</a> from Google.</p><span id="more"></span><p>It is not really surprising that the developers have built a really good editor from the start, which could directly defy the first Chromium-based tool <a href="https://brackets.io/">Brackets</a> from Adobe at that time, because Erich Gamma was the head of the development environment <a href="https://www.eclipse.org/eclipse/">Eclipse</a> for many years and therefore knows about the needs of the worldwide developer community. Surprisingly however is already, that although VS Code is based on Web technologies, it took some years, until the editor made it out of its Electron cardboard, directly into the Browser. For example, it wasn’t until 2020, 2 years after Microsoft acquired GitHub, that they announced <a href="https://github.dev/">github.dev</a>, which is just a call target for the newly introduced <strong>Magic Dot</strong> and opens a project hosted on GitHub in the browser. For those who like to try it out, just go to any GitHub repository and hit the DOT key and the project will open in a VS Code browser window. A variant of this is <a href="https://vscode.dev/">vscode.dev</a>, which can open not only GitHub projects, but any from your own hard drive.</p><p>However, both browser editors have one thing in common: you can code wonderfully on the go, but you cannot start the projects and thus also not validate your own code for executability. The substructure is missing and is therefore not a real IDE. No pre-processing via Grunt or Gulp, no starting web server or similar, simply because there is no console that could communicate with the operating system. However, Microsoft has also announced another tool in 2020 that is supposed to bring exactly this substructure via cloud container: <a href="https://github.com/features/codespaces">GitHub Codespaces</a>. Beta access has been expanding for a few weeks now, and it should be available for team and enterprise cloud plans starting in August.</p><h2 id="Cloud-based-development-environment-from-Kiel-Germany-Gitpod"><a href="#Cloud-based-development-environment-from-Kiel-Germany-Gitpod" class="headerlink" title="Cloud-based development environment from Kiel, Germany: Gitpod"></a>Cloud-based development environment from Kiel, Germany: Gitpod</h2><p>A team around Sven Efftinge and Anton Kosyakov from the beautiful city of Kiel, asked themselves the question why not build an online development environment back in 2017 and launched the project Theia under the umbrella of the Eclipse Foundation. The idea was to develop a remote-first IDE that runs both locally and in the browser and fully supports the numerous VS Code extensions already available. They named the actual product around Theia <strong>Gitpod</strong> (<a href="https://gitpod.io/">gitpod.io</a>). Although there are still numerous Theia solutions available today, such as Eclipse Che, Stackblitz or the Google Cloud Shell Editor, Gitpod decided to move to the VS Code platform in late 2020 after Erich Gamma and his team provided <a href="https://code.visualstudio.com/docs/remote/remote-overview">Remote Support in VS Code</a>, on which github.dev is based, among others.</p><p>However, since Microsoft had decided not to open source the server component for the time being (the commercial GitHub CodeSpaces sends its regards), Anton, by his own account, created a first working version of the <a href="https://github.com/gitpod-io/openvscode-server/">Open VSCode Server</a> in 4 days, which was released in <a href="https://www.gitpod.io/blog/openvscode-server-launch">September 2021</a>. Not a month later, Microsoft also made its own server solution freely available, but with a few restrictions, among other things, regarding the extensions that can be obtained from Gitpod via the <a href="https://open-vsx.org/">Open VSX Registry</a> portal, since the <a href="https://marketplace.visualstudio.com/vscode">Microsoft Extension Marketplace</a> is reserved for Microsoft’s own products.</p><p><img src="/post/Gitpod-Visual-Studio-Code-on-the-Web/open-vsx-registry.png" alt="Open VSX Registry"></p><h2 id="The-name-and-the-technology-behind-it"><a href="#The-name-and-the-technology-behind-it" class="headerlink" title="The name and the technology behind it"></a>The name and the technology behind it</h2><p>The name <strong>gitpod</strong> already tells us something about the technology behind the service. ‘git’ stands for the file management system behind the editor and ‘pod’ for the server technology under the editor.</p><h3 id="git…"><a href="#git…" class="headerlink" title="git…"></a>git…</h3><p>Nowadays, source code is (hopefully) no longer just stored locally on a hard disk, but centrally and managed by source code management software. The current gold standard in this area is the free <a href="https://de.wikipedia.org/wiki/Git">Git</a> initiated by Linus Torvalds in 2005, a distributed version management that forms the basis of popular developer platforms such as GitHub, GitLab or Bitbucket.</p><h3 id="…pod"><a href="#…pod" class="headerlink" title="…pod"></a>…pod</h3><p>A short step back in time: It’s not so long ago that IT’ers called an environment on which they published a server application <em>machines</em>, because it first needed hardware with processor, main memory, hard disks and an operating system of choice, which was then installed and on that in turn the said application.</p><p>However, if the server application was only used sporadically, the expensive hardware was underutilized, i.e. resources were wasted. To solve this problem, work began in the 1970s on virtualizing hardware so that several logically separate systems could share the hardware to increase its utilization. Any operating system and the required server applications can be installed and operated in each of the <a href="https://de.wikipedia.org/wiki/Virtuelle_Maschine">virtual machines (VM’s)</a> created in this way.</p><p>In this concept, however, there are redundancies in the form of the operating system. If, for example, you want to run 5 Linux-based web servers, you will also have to loop along 5 possibly identical Ubuntu installations that want to be maintained.</p><p><a href="https://de.wikipedia.org/wiki/Docker_(Software)">Docker</a> is not the only, but most well-known software that addressed this problem in 2013 by abstracting another layer, in this case the operating system. Here we are now no longer talking about a machine or VM, but a container in which the server application runs. For the orchestration of these containers, the software <a href="https://de.wikipedia.org/wiki/Kubernetes">Kubernetes</a> initiated by Google has been available since 2015, in which the smallest deployable unit is called a <strong>pod</strong>, which contains one or more containers that share the allocated resources.</p><p>Such a pod with a ready installed and configured Open VSCode Server is launched on Google Cloud Platform when a user opens a Gidpod Workspace.</p><h2 id="Let’s-go-…-Starting-a-Gitpod-Workspace"><a href="#Let’s-go-…-Starting-a-Gitpod-Workspace" class="headerlink" title="Let’s go … Starting a Gitpod Workspace"></a>Let’s go … Starting a Gitpod Workspace</h2><p>In Gitpod, you launch a project hosted on Github, Gitlab or Bitbucket into a so-called workspace. To do this, simply prepend the url of your repository with the string <strong>gitpod.io&#x2F;#</strong>.</p><p>Those who prefer buttons, can either use a provided <a href="https://www.gitpod.io/docs/browser-bookmarklet">bookmarklet</a> and resort to a <a href="https://www.gitpod.io/docs/browser-extension">browser extension</a> that adds a Gitpod button to the Github interface.</p><p><img src="/post/Gitpod-Visual-Studio-Code-on-the-Web/gitpod-extension.png" alt="Gitpod Chrome Extension"></p><p>Once the workspace has been started and you have closed the browser window, it will be available for a while on the dashboard under <strong>Workspaces</strong>. If you work frequently with the same project, it is advisable to create a permanent shortcut there under <strong>Projects</strong> if you are not into manual url changes or buttons. Last but not least, the icing on the cake is to install one of these Gitpod projects as a Chrome App and drop it in the toolbar. That way, the code is just a click away and the whole thing almost feels like a local VS Code due to the reduced browser window.</p><p><img src="/post/Gitpod-Visual-Studio-Code-on-the-Web/gitpod-window.png" alt="Creating a Gitpod project as a Chrome App"></p><p><img src="/post/Gitpod-Visual-Studio-Code-on-the-Web/gitpod-pwa.png" alt="Launched project in Gitpod"></p><h2 id="Configuration-of-the-workspace-of-a-project"><a href="#Configuration-of-the-workspace-of-a-project" class="headerlink" title="Configuration of the workspace of a project"></a>Configuration of the workspace of a project</h2><p>In addition to the general setting options, Gitpod offers an individual configuration per project. For this the file <strong>.gitpod.yml</strong> is searched in the root of the project folder and used. All setting options are well documented in the <a href="https://www.gitpod.io/docs/references/gitpod-yml">gitpod Docs</a>.</p><h3 id="Using-a-custom-container"><a href="#Using-a-custom-container" class="headerlink" title="Using a custom container"></a>Using a custom container</h3><p>The default container that Gitpod boots up when starting a workspace is based on Debian&#x2F;Ubuntu and already includes a lot of frameworks and languages like Node, Java, Go, Python and some more. However, if you want to use a different image, you can set this via the <strong>image</strong> entry, either by referencing a public image or by specifying the name of a Dockerfile in the project. The possibilities here are numerous and can be found in the section <a href="https://www.gitpod.io/docs/config-docker">Custom Docker Image</a>.</p><h3 id="Tasks-at-startup"><a href="#Tasks-at-startup" class="headerlink" title="Tasks at startup"></a>Tasks at startup</h3><p>To get a project running in Visual Studio Code, especially in the Node environment, there are a few things that need to be set up, such as installing the correct Node.js version and dependent packages using NPM or another package manager. The same is true for Gitpod, of course, although these actions need to be done again and again after the working environment has been started, for example, if the pod has been discarded after a while. For these recurring tasks, the software provides the <a href="https://www.gitpod.io/docs/config-start-tasks">Tasks section</a> in the <strong>.gitpod.yml</strong> and there, in the forefront, the <strong>init</strong> entry. In the following example, Node 14.17, all local packages and one global package are installed as a multi-line task:</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">tasks:</span><br><span class="line">  - init: |</span><br><span class="line">      nvm <span class="keyword">install</span> <span class="number">14.17</span>.<span class="number">2</span></span><br><span class="line">      npm <span class="keyword">install</span></span><br><span class="line">      npm <span class="keyword">install</span> -g grunt-cli</span><br></pre></td></tr></table></figure><p>With the grouping and naming of tasks, the terminal display settings and the total of three execution levels <strong>before</strong>, <strong>init</strong> and <strong>command</strong> it is easy to create a configuration that starts up the workspace in a fixed way while keeping an overview.</p><p><img src="/post/Gitpod-Visual-Studio-Code-on-the-Web/easingsnet-gitpod.png" alt="Start of a Github project in Gitpod with project-own configuration"></p><p>If you like it even a bit faster, you can use so-called <a href="https://www.gitpod.io/docs/prebuilds">Prebuilds</a>, which serve as a snapshot for creating a new workspace. These prebuilds use the <strong>.gitpod.yml</strong> of the project and are closely linked to the source code management used (currently GitHub, GitLab and Bitbucket). Thus, a prebuild is recreated each time modified code is checked into the project. It doesn’t get much faster and more convenient to code from anywhere in the browser.</p><p><img src="/post/Gitpod-Visual-Studio-Code-on-the-Web/prebuild.png" alt="Gitpod Prebuild via Github"></p><h3 id="Include-extensions-automatically"><a href="#Include-extensions-automatically" class="headerlink" title="Include extensions automatically"></a>Include extensions automatically</h3><p>When creating the gitpod workspace, the configuration file <strong>.gitpod.yml</strong> can also be used to include the Visual Studio code extensions that are needed for working. The easiest way to do this is if the extension is represented on the open platform <a href="https://open-vsx.org/">Open VSX Registry</a>, because gitpod looks for the pattern <code>$&#123;publisher&#125;.$&#123;name&#125;</code> there by default.</p><p>Example:</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">vscode</span><span class="punctuation">:</span></span><br><span class="line">  <span class="attribute">extensions</span><span class="punctuation">:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">HookyQR.beautify</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">kamikillerto.vscode-colorize</span></span><br></pre></td></tr></table></figure><p>However, VSIX files from other sources can also be included via the full url. Microsoft offers with the <a href="https://marketplace.visualstudio.com/">Visual Studio Marketplace</a> the primary and largest source of extensions, but unfortunately omits the specification of a complete download path of the VSIX file. However, it is very easy to build this using the following pattern:</p><p><code>https://$&#123;publisher&#125;.gallery.vsassets.io/_apis/public/gallery/publisher/$&#123;publisher&#125;/extension/$&#123;extension&#125;/$&#123;version&#125;/assetbyname/Microsoft.VisualStudio.Services.VSIXPackage</code></p><p>The necessary information about the variables <em>Publisher</em>, <em>Extension</em> and <em>Version</em> in this pattern can be obtained from the details page of an extension in Visual Studio Code.</p><p><img src="/post/Gitpod-Visual-Studio-Code-on-the-Web/vscode-hexo-utils-details-page.png" alt="Extension detail page in Visual Studio Code"></p><p>Output:</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Name:</span> vscode-hexo-utils</span><br><span class="line"><span class="symbol">Id:</span> fantasy.vscode-hexo-utils</span><br><span class="line"><span class="symbol">Description:</span> vscode extension for hexo</span><br><span class="line"><span class="symbol">Version:</span> <span class="number">0.2</span><span class="number">.1</span></span><br><span class="line"><span class="symbol">Publisher:</span> fantasy</span><br><span class="line">VS Marketplace Link: https:<span class="comment">//marketplace.visualstudio.com/items?itemName=fantasy.vscode-hexo-utils</span></span><br></pre></td></tr></table></figure><p>This will result in the following entry in <strong>.gitpod.yml</strong>:</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vscode:</span><br><span class="line">  extensions:</span><br><span class="line">    - https:<span class="regexp">//</span>fantasy.gallery.vsassets.io<span class="regexp">/_apis/</span>public<span class="regexp">/gallery/</span>publisher<span class="regexp">/fantasy/</span>extension<span class="regexp">/vscode-hexo-utils/</span><span class="number">0.2</span>.<span class="number">1</span><span class="regexp">/assetbyname/</span>Microsoft.VisualStudio.Services.VSIXPackage</span><br></pre></td></tr></table></figure><h2 id="Synchronize-settings"><a href="#Synchronize-settings" class="headerlink" title="Synchronize settings"></a>Synchronize settings</h2><p>Every IDE looks different, depending on the tastes and preferences of the developer sitting in front of it, and so relatively quickly after the first release of VS Code, there were the first extensions that could synchronize the IDE’s settings across multiple machines (mostly via Gists), until Microsoft took on the feature and integrated it directly into the IDE. Now, with Gitpod, we have a new but slightly different instance of Visual Studio Code, but the Kielers thought of that, too. They couldn’t access the data of the integrated synchronization, but they created a by-pass with their own extension that works just as well.</p><p>After the installation in VS Code and a restart of the same, one logs in to the extension with the same account under which one has registered with Gitpod and can thereafter synchronize tasks, code snippets extensions and keyboard shortcuts in addition to the settings.</p><p><img src="/post/Gitpod-Visual-Studio-Code-on-the-Web/gitpod-vscode-extension.png" alt="Gitpod VSCode extension to synchronize settings"></p><h2 id="Prices-and-Services"><a href="#Prices-and-Services" class="headerlink" title="Prices and Services"></a>Prices and Services</h2><p>Gitpod is a company and has to look like all others, how it can work cost-covering. Therefore, as is often the case, there are different plans that can be booked. There are four of them at Gidpod in the Saas area, whereby Free differs from the other plans only in the possible computing time, the timeout and the parallel running workspaces. Thus, in the Free plan, there are 50 hours that you can work with 4 WorkSpaces and in case of inactivity, the pods are shut down again after 30 minutes. A fair free offer for all those who want to code on the go, but most of the time have a computer and a locally installed VS Code.</p><p>You can also host Gitpod yourself on an existing managed Kubernetes environment, for example if you are already a customer of cloud service providers like Amazon, Azure or Google.</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>It will be exciting to see to what extent Microsoft’s own GitHub CodeSpaces will be able to hold its own against this really very manageable opponent once it has been launched en masse. The team from Kiel has at least already set the bar very high, also because it is fantastically documented and structured. A real gain for every tool collection.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
            <tag> GitHub </tag>
            
            <tag> Remote </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #19 - Visual Helpers</title>
      <link href="/post/Discoveries-19-Visual-Helpers/"/>
      <url>/post/Discoveries-19-Visual-Helpers/</url>
      
        <content type="html"><![CDATA[<p>Colors and images are the visual meat on the boil of any web solution. If you don’t convince the visitor’s eye, they will quickly leave and if users have to work with a visually poor solution, they will be too dissatisfied, no matter how well the algorithms work. </p><p>Below are a few JavaScript libraries that help to create appealing interfaces.</p>        <ul class="anchorlist">            <li data-anchor="#color-thief">Color Thief</li><li data-anchor="#vibrant-colors">Vibrant Colors</li><li data-anchor="#colorjs">Color.js</li><li data-anchor="#tinycolor">TinyColor</li><li data-anchor="#qix-color">Qix color</li><li data-anchor="#alpha-paintlet">Alpha Paintlet</li><li data-anchor="#dom-to-image">DOM to Image</li><li data-anchor="#images-loaded">imagesLoaded</li><li data-anchor="#graphery-svg">Graphery SVG</li><li data-anchor="#flickity">Flickity</li>        </ul>    <span id="more"></span>    <hr id="color-thief"/>    <h2 style="margin-bottom: 10px;">      Color Thief    </h2>    <small>by Lokesh Dhakar&nbsp;<br><a href="https://lokeshdhakar.com/projects/color-thief/">https://lokeshdhakar.com/projects/color-thief/</a></small>    <p>Lokesh has developed a JS library which extracts a color palette from any given image. Very useful to adjust the colors of a page for example to the hero image. It works in the client as well as in Node.JS applications.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://lokeshdhakar.com/projects/color-thief/">      <img class="limit" src="color-thief.png" alt="Color Thief" />    </a>      <hr id="vibrant-colors"/>    <h2 style="margin-bottom: 10px;">      Vibrant Colors    </h2>    <small>by Corbin Crutchley et al&nbsp;<br><a href="https://github.com/Vibrant-Colors/node-vibrant">https://github.com/Vibrant-Colors/node-vibrant</a></small>    <p>Corbin Crutchley is one of the maintainer of the library <strong>Color Vibrant</strong>, which extracts the colors from a given image as <em>Color Thief</em> does, but with many more features. It classifies the colors in the extracted palette for using as common shortcuts, it has a WebWorker for avoiding freezing the UI thread and it has converting methods into several color spaces. Stunning work … see the <a href="https://codepen.io/kopol/pen/QWjwrPN">Pen</a> from Konstantin Polunin.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/Vibrant-Colors/node-vibrant">      <img class="limit" src="vibrant-colors.png" alt="Vibrant Colors" />    </a>      <hr id="colorjs"/>    <h2 style="margin-bottom: 10px;">      Color.js - Let's get serious about color    </h2>    <small>by Lea Verou & Chris Lilley&nbsp;<br><a href="https://colorjs.io/">https://colorjs.io/</a></small>    <p>As Lea Verou says in her <a href="https://lea.verou.me/2022/06/releasing-colorjs/">blog post</a> on releasing <strong>Color.js</strong>, there was a lack of color libraries that did the things she (and many others) needed on working with colors. So she teamed up with Chris Lilley, the father of SVG, to create a JS library that covers pretty much everything regarding color coding. I bet Color.js will become a new standard lib for all of us.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://colorjs.io/">      <img class="limit" src="colorjs.png" alt="Color.js - Let's get serious about color" />    </a>      <hr id="tinycolor"/>    <h2 style="margin-bottom: 10px;">      TinyColor    </h2>    <small>by Brian Grinstead&nbsp;<br><a href="https://github.com/bgrins/TinyColor">https://github.com/bgrins/TinyColor</a></small>    <p>Brian’s ambitions were certainly not the same as Lea Verou’s, but with TinyColors he has started something, that can be quite helpful on a smaller scale in converting from one color space to another.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/bgrins/TinyColor">      <img class="limit" src="tinycolor.png" alt="TinyColor" />    </a>      <hr id="qix-color"/>    <h2 style="margin-bottom: 10px;">      Qix color    </h2>    <small>by Josh Junon&nbsp;<br><a href="https://github.com/Qix-/color">https://github.com/Qix-/color</a></small>    <p>Josh Junon, or ‘Qix’ on Github, provides us a lib with only 496 lines and 10.9 KB, for immutable color conversion and manipulation with support for CSS color strings. For in between…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/Qix-/color">      <img class="limit" src="qix-color.png" alt="Qix color" />    </a>      <hr id="alpha-paintlet"/>    <h2 style="margin-bottom: 10px;">      Alpha Paintlet    </h2>    <small>by Dave Rupert&nbsp;<br><a href="https://daverupert.com/2021/10/alpha-paintlet/">https://daverupert.com/2021/10/alpha-paintlet/</a></small>    <p>The Web API <code>CSS.paintWorklet</code> (see <a href="https://developer.mozilla.org/en-US/docs/Web/API/PaintWorklet">MDN</a>) is an experimental feature in Chromium browsers for extending CSS with JavaScript by writing Worklets. Dave shows us how to do this with his ‘Alpha Paintlet’, which manipulates the alpha channel.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://daverupert.com/2021/10/alpha-paintlet/">      <img class="limit" src="alpha-paintlet.png" alt="Alpha Paintlet" />    </a>      <hr id="dom-to-image"/>    <h2 style="margin-bottom: 10px;">      DOM to Image    </h2>    <small>by Anatolii Saienko&nbsp;<br><a href="https://github.com/tsayen/dom-to-image">https://github.com/tsayen/dom-to-image</a></small>    <p>Ever wanted to store an arbitary DOM node as an image? With Anatolii’s solution a breeze. Just load the library and call <code>domtoimage.toPng(node)</code>. It supports PNG, JPEG and SVG.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/tsayen/dom-to-image">      <img class="limit" src="dom-to-image.png" alt="DOM to Image" />    </a>      <hr id="images-loaded"/>    <h2 style="margin-bottom: 10px;">      imagesLoaded    </h2>    <small>by David DeSandro&nbsp;<br><a href="https://imagesloaded.desandro.com/">https://imagesloaded.desandro.com/</a></small>    <p>Sometimes it is important to know when an image was loaded on a website, for example to follow up with further actions. David has a Vanilla script and jQuery solution for this problem and it works with background images too. An important helper … well done.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://imagesloaded.desandro.com/">      <img class="limit" src="images-loaded.png" alt="imagesLoaded" />    </a>      <hr id="graphery-svg"/>    <h2 style="margin-bottom: 10px;">      Graphery SVG    </h2>    <small>by -unknown-&nbsp;<br><a href="https://www.graphery.org/svg/">https://www.graphery.org/svg/</a></small>    <p>Writing an SVG is not really an amusement. If you are more familiar with JS, you can use Vanilla JS with lots of <code>createElement</code> and <code>setAttribut</code> or the wrapper solution from Graphery, which is chainable and very well documented.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.graphery.org/svg/">      <img class="limit" src="graphery-svg.png" alt="Graphery SVG" />    </a>      <hr id="flickity"/>    <h2 style="margin-bottom: 10px;">      Flickity    </h2>    <small>by Evan S&nbsp;<br><a href="https://codepen.io/Skoulix/pen/BRJRPd">https://codepen.io/Skoulix/pen/BRJRPd</a></small>    <p>Last but not least, a very cool hero image solution from Evan. It uses the parallax effect for sliding hero images in the background. Very cool.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/Skoulix/pen/BRJRPd">      <img class="limit" src="flickity.png" alt="Flickity" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Old Sweetheart Rediscovered</title>
      <link href="/post/Old-Sweetheart-Rediscovered/"/>
      <url>/post/Old-Sweetheart-Rediscovered/</url>
      
        <content type="html"><![CDATA[<p>It seems like ages ago that I wrote a tool called <strong>OutlookSignature</strong> with Visual Basic 6 and put it on the web on my old German blog <strong>zerbit.de</strong>. But the <a href="https://web.archive.org/web/20111116021952/http://www.zerbit.de/projekte/outlooksignature.aspx">WayBackMachine</a> says something different. Started in 2006, I released the last version 1.9 at the beginning of December 2008. Just 14 years ago…</p><p><img src="/post/Old-Sweetheart-Rediscovered/zerbit-outlooksignature.png" alt="OutlookSignature on zerbit.de ten years ago"></p><p>The thing was a command line tool, that could be used to automatically generate signatures for Microsoft Outlook in the three formats TXT, RTF and HTML, for example centrally via a Windows login script for the entire organization. No hassle anymore for the users on creating an appropriate mail signature and no more stress for the marketing department in enforcing a uniform appearance. It was based on templates with placeholders for the data and configurable via an INI file. The data could come either from the ActiveDirectory via LDAP or from any database.</p><span id="more"></span><p>I had quite a large fan base and even years later I kept getting requests to integrate new features. The problem I faced after releasing the last version 1.9 in 2008 was on the one hand that Microsoft had fundamentally changed the handling of signatures in Outlook and on the other hand that VB6 was no longer really en-vogue, because everybody (and me too) was switching to VB.NET or C# and that would have meant a complete re-write for me. But there were already commercial alternatives to OutlookSignature at that time and I had turned to other projects, but it was available into 2012 until I decided to close my personal blog. However, to this day there are <a href="https://www.outlook-stuff.com/tipps-tricks/problemloesungen/717-einheitliche-outlook-signaturen-zentral-im-firmennetz-verwalten.html">one</a> or <a href="https://moximo.wordpress.com/2012/08/05/automatische-outlooksignaturen-mit-informationen-aus-der-ads/">two</a> websites where you can download or find information about it.</p><p>OutlookSignature was always freeware, but never Open Source, because of the fact, that I used some code, that did not come from me and was not approved for publication.</p><h2 id="Accidental-Discovery-of-a-Go-based-Implementation"><a href="#Accidental-Discovery-of-a-Go-based-Implementation" class="headerlink" title="Accidental Discovery of a Go-based Implementation"></a>Accidental Discovery of a Go-based Implementation</h2><p>I own the domain <em>zerbit.de</em> until today and the other day I was looking on the web for some references to it and stumbled across a GitHub page with the title <a href="https://github.com/foobar0815/gosignature"><strong>An open source reimplementation of Kristof Zerbe’s (ZerbIT) “OutlookSignature”</strong></a> … What The Heck!?</p><p>I don’t know who the user <a href="https://github.com/foobar0815"><em>‘foobar0815’</em></a> is, but he&#x2F;she is definitely German and had the patience to rebuild my tool in the modern language Go in 2019.</p><p><img src="/post/Old-Sweetheart-Rediscovered/go-signature.png" alt="GoSignature on GitHub"></p><p><strong>GoSignature</strong> uses the orginal INI configuation file, with the field mappings and all the other stuff, but the database connection feature. It works only with LDAP, which is quite enough today.</p><p>I have no idea about Go, but I will certainly look into it a bit in the near future and find out if this thing works. If you have already tried GoSignature or even if you are the author, please contact me. Would be fun to talk about it…</p><p>:)</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mail </tag>
            
            <tag> Office </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Simplest Console File Logger</title>
      <link href="/post/Simplest-Console-File-Logger/"/>
      <url>/post/Simplest-Console-File-Logger/</url>
      
        <content type="html"><![CDATA[<p>When you need to do a task in IT and don’t need a fancy user interface, you usually turn to a console application or develop one. But no UI means not, that you don’t want to get some information about the status of the running program. The means of choice in C#&#x2F;.NET is then the output of certain values in the console via <code>console.WriteLine()</code>.</p><p>But often these applications are supposed to run in the background or hidden, so that crashes or errors are not immediately noticeable if you don’t have at least a rudimentary logging built in. Such logging is also useful for the later evaluation of program runs. For this reason pretty much all programs log in some way. Currently there an incredible number of logging frameworks available, that make it to the news every now and then, like <a href="https://en.wikipedia.org/wiki/Log4Shell">Log4Shell</a> for Java.</p><p>The best known in the .NET area is Microsoft’s own <a href="https://docs.microsoft.com/en-us/dotnet/core/extensions/logging">ILogger (Microsoft.Extensions.Logging)</a>, <a href="https://logging.apache.org/log4net/">log4net</a>, <a href="https://nlog-project.org/">NLog</a> and <a href="https://serilog.net/">Serilog</a>. What they all have in common is, that they are highly flexible in terms of configuration, usage and storage of the logs. On the other hand, they are fat beasts, you have to learn to handle first and you have to deliver with the program always. The latter does not apply to the ILogger, but Microsoft has been known to complicate things so unnecessarily that it is almost no fun anymore.</p><p>Many times this overload is simply not necessary, when you just need a log file for each run of your console application. Let me show you, how to achieve this with a dead simple <code>StringBuilder</code>…</p><span id="more"></span><p>Lets start in the <code>Program.cs</code> of a new .NET Core 6 console application. As you may know, in this version MS has changed the entry point <code>static void Main(string[] args)</code>, which has existed for what feels like centuries, to the so-called <strong>Top-Level Statements</strong>, which means nothing else, that the entry point is now automatically generated … and what most old-school developer think sucks, because you have little control over it anymore. But for this approach we need a global variable and therefore I’ve recreated <code>Main</code> like this:</p><figure class="highlight c#"><figcaption><span>Program.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TOP-LEVEL STATEMENTS</span></span><br><span class="line">Main.Start(args);</span><br><span class="line"></span><br><span class="line"><span class="comment">// MAIN MODULE</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span> </span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Preparation-of-a-small-senseless-console-application"><a href="#Preparation-of-a-small-senseless-console-application" class="headerlink" title="Preparation of a small senseless console application"></a>Preparation of a small senseless console application</h2><p>Let’s implement a little bit of the ‘<em>features</em>‘ first, like a new class called <code>DoSomething</code> that does the actual job:</p><figure class="highlight c#"><figcaption><span>DoSomething.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DoSomething</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Work</span>(<span class="params"><span class="built_in">string</span> param1</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//... doing heavy work with param1</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MoreWork</span>(<span class="params"><span class="built_in">string</span> param2</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//... doing more work with param2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Now let’s process the command line arguments for running the app called <strong>SimplestConsoleFileLogger</strong> like this…</p><p><code>SimplestConsoleFileLogger.exe param1:this param2:that</code></p><p>First we create a new class for holding the parameters…</p><figure class="highlight c#"><figcaption><span>Parameters.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Parameter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Param1 = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Param2 = <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>… and then we populate a new instance of it with the values from the console arguments and run the worker class:</p><figure class="highlight c#"><figcaption><span>Program.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> Parameter PARAMETER = <span class="keyword">new</span> Parameter();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span> </span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//Process Arguments</span></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="built_in">string</span> arg <span class="keyword">in</span> args)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">var</span> a = arg.Split(<span class="string">&#x27;:&#x27;</span>);</span><br><span class="line">      <span class="keyword">switch</span> (a[<span class="number">0</span>].ToUpper())</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;PARAM1&quot;</span>: PARAMETER.Param1 = a[<span class="number">1</span>]; <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">&quot;PARAM2&quot;</span>: PARAMETER.Param1 = a[<span class="number">1</span>]; <span class="keyword">break</span>;</span><br><span class="line">        <span class="literal">default</span>: <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    DoSomething ds = <span class="keyword">new</span> DoSomething();</span><br><span class="line">    ds.Work(PARAMETER.Param1);</span><br><span class="line">    ds.MoreWork(PARAMETER.Param2);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="The-Logging"><a href="#The-Logging" class="headerlink" title="The Logging"></a>The Logging</h2><p>Now we have our pretty senseless app and we want to log the jobs of the worker class. First, we have to implement a global variable for holding the log messages and secondly a small method to simplify the handling of the log:</p><figure class="highlight c#"><figcaption><span>Program.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> StringBuilder LOGDATA = <span class="keyword">new</span> StringBuilder();</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Log</span>(<span class="params"><span class="keyword">params</span> <span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">var</span> msg = <span class="built_in">string</span>.Join(<span class="string">&quot; &quot;</span>, args).TrimEnd();</span><br><span class="line">    LOGDATA.AppendLine(msg);</span><br><span class="line">  &#125;  </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The <code>Log</code> methods gets an infinite number of arguments (ParamArray) to assemble a message to log. This we can use now in our worker class:</p><figure class="highlight c#"><figcaption><span>DoSomething.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DoSomething</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Work</span>(<span class="params"><span class="built_in">string</span> param1</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//... doing heavy work with param1</span></span><br><span class="line">    Main.Log(<span class="string">&quot;Heavy work done with result&quot;</span>, <span class="string">&quot;SUCCESS&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">MoreWork</span>(<span class="params"><span class="built_in">string</span> param2</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//... doing more work with param2</span></span><br><span class="line">    Main.Log(<span class="string">&quot;More work done with result&quot;</span>, <span class="string">&quot;SUCCESS&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>You can use <code>Main.Log(...)</code> wherever you want, because its globally available.</p><h3 id="Writing-the-log-file"><a href="#Writing-the-log-file" class="headerlink" title="Writing the log file"></a>Writing the log file</h3><p>Last, but not least, we have to persist the log messages into a file. This should done just before the application ends. For writing the log, we use a <code>StreamWriter</code> object, which accepts our <code>StringBuilder</code>, where the messages are stored in seperate lines. By checking the length of the StringBuilder <code>LOGDATA</code>, we ensure that the log file is only written, when there is something to write.</p><figure class="highlight c#"><figcaption><span>Program.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Start</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span> </span><br><span class="line">  &#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    HandleEnd();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">HandleEnd</span>()</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="keyword">if</span> (LOGDATA.Length &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="built_in">string</span> logFile = <span class="string">$&quot;<span class="subst">&#123;DateTime.Now.ToString(<span class="string">&quot;u&quot;</span>).Replace(<span class="string">&quot;:&quot;</span>,<span class="string">&quot;-&quot;</span>)&#125;</span>.log&quot;</span>;</span><br><span class="line">      <span class="built_in">string</span> logFilePath = Path.Combine(Environment.CurrentDirectory, logFile);</span><br><span class="line">      StreamWriter logStream = <span class="keyword">new</span> StreamWriter(logFilePath, <span class="literal">true</span>, Encoding.UTF8);</span><br><span class="line">      logStream.Write(LOGDATA);</span><br><span class="line">      logStream.Close();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>That’s it. As you see, the important parts are the globally available <code>StringBuilder</code> and the persistance of the messages in a file at the end. With this you can customize the messages as fancy as you want and you don’t need one of the logging beasts.</p><p><strong>Download the files via <a href="https://gist.github.com/kristofzerbe/4f80cb67e5a3d65c0f7d528af493bf5c">Gist</a></strong></p>]]></content>
      
      
      <categories>
          
          <category> .NET </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
            <tag> Logging </tag>
            
            <tag> C# </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Thanks Dropbox, but I&#39;m off</title>
      <link href="/post/Thanks-Dropbox-but-I-m-off/"/>
      <url>/post/Thanks-Dropbox-but-I-m-off/</url>
      
        <content type="html"><![CDATA[<p>I’m a customer of Dropbox many, many years, a paying customer, and was always happy about the service, as it is fast and easy to use. No problems … until now! Be aware … this will be a rant :&#x2F;</p><p>But first a step back:</p><p>Nowadays it is normal to work with different classes of devices: stationary PCs, different types of laptops, tablets and also smartphones. You start writing a text on your laptop at home in the garden, have to interrupt it because of an appointment and continue writing on your tablet on your way, only to finish it at home on your PC, because it has started to rain. All of these used devices to write the text may have a different hard- and software configuration, but today we have synchronisation services like Dropbox, OneDrive, GoogleDrive and man others, which ensures that the same version of the text is available at all times at all devices.</p><p>To me it is obvious that software manufacturers cannot support every operating system, but I can expect that if they support a particular OS, they will do so on any hardware that the OS manufacturer also supports!</p><span id="more"></span><h2 id="What-has-happened…"><a href="#What-has-happened…" class="headerlink" title="What has happened…"></a>What has happened…</h2><p>I have similar hardware as described above, but with a gap: a Windows tablet. I have one with Android and manage my synchronization with a tool called <a href="https://play.google.com/store/apps/details?id=com.ttxapps.dropsync&hl=de&gl=US">DropSync</a>, but due to limited disc space I can’t sync bigger projects with thousands of files, like this blog. Whenever I want to continue writing an article on the road, I download the corresponding MD file and then upload it again afterwards. A bit cumbersome. Since the first appearance of Microsoft’s Surface several years ago, I thought this type of hardware, which includes the same OS I’m using all the time - Windows - could be close my device gap and a couple of days ago, I put a bunch of Euros in the hand of a local dealer to finally close it with a Surface Pro X. 256GB SSD, 16GB RAM and the size of a sheet of paper should be good to work on stuff while on the road.</p><p>As with any new piece of hardware, I began to install my setup, <a href="/about">essential tools that I use very often</a>. This included Dropbox, of course … with an unexpected result.</p><p>While all the tools installed without a murmur, Dropbox bitched by saying that my device is not compatible with this version of the Dropbox client and that I should install the <a href="https://apps.microsoft.com/store/detail/dropbox-for-s-mode/9WZDNCRFJ0PK">Dropbox S Mode</a> app via the Windows Store instead. Yes sure, a Surface has an ARM processor instead of an x32&#x2F;x64 from Intel or AMD, but what’s the problem? Every single tool in my list works with Windows 10 under ARM64, at least in 32-bit emulation, but not Dropbox?</p><p>To say it loud and clear: the UWP app “Dropbox S Mode” is a disgrace! Not only does it use a technology that Microsoft is just saying goodbye to, no, it also offers less functionality than the actual Dropbox website. Folders cannot be downloaded as a whole, but only individual files, and a synchronization of some kind has been completely omitted. The thing is really just dirt. This kind of software is for grannies who already have a hard time holding a mouse, but not for power users, with several gigabytes of data!</p><p>I don’t let something like that sit on me so easily, but tried to find a trick via some research how to get the Dropbox client to work under ARM after all.  And on Dropbox’s own forum alone, I found a bunch of posts on the topic:</p><ul><li><a href="https://www.dropboxforum.com/t5/Dropbox-installs-integrations/Is-Windows-10-on-ARM-going-to-be-compatible-with-the-Dropbox/td-p/385120">Is Windows 10 on ARM going to be compatible with the Dropbox desktop app?</a></li><li><a href="https://www.dropboxforum.com/t5/Dropbox-installs-integrations/Can-I-have-the-desktop-app-installed-on-my-Surface-Pro-X/td-p/370956/page/7">Can I have the desktop app installed on my Surface Pro X?</a></li><li><a href="https://www.dropboxforum.com/t5/Dropbox-installs-integrations/Dropbox-client-for-Windows-11-ARM/td-p/559111">Dropbox client for Windows 11 ARM?</a></li><li><a href="https://www.dropboxforum.com/t5/Dropbox-installs-integrations/Can-t-install-the-desktop-app-on-a-new-PC/td-p/431247">Can’t install the desktop app on a new PC</a></li></ul><p>The oldest post I have found here was from 2019. Dropbox, you are not able to port your code to ARM within at least 3 years and the only answer you have for your paying users is <em>buy a regular computer</em>. Are you nuts? Are you begging to go under or be bought by one of the big fish due to management incompetence? New Dropbox features like Paper, Capture or Replay are nice ones, but whenever a company neglects its base, the reason why became big, it is close to the abyss. Best examples are <a href="https://knowledge.wharton.upenn.edu/article/innovation-almost-bankrupted-lego-until-it-rebuilt-with-a-better-blueprint/">Lego</a> and Marvel.</p><h2 id="A-New-Start"><a href="#A-New-Start" class="headerlink" title="A New Start"></a>A New Start</h2><p>I was aware of OneDrive (formerly SkyDrive) since it was launched 2007, as Microsoft tried to counter the success of Dropbox, but it had its pitfalls and wasn’t running so fluffy as the original. 15 years later, you can hardly resist the sync software from Redmont, because it is always included in everything that has Windows on it, but it has also become decisively better and more stable. The ARM disaster of Dropbox has now moved me to switch to OneDrive. I’m writing this article on my Surface tablet right now, and whenever I press CTRL-S, OneDrive syncs the MD file to my other machines.</p><p>At the end of the day, we’re all about one thing: Convenience, and if you don’t meet that standard (or abuse it), you die. Good Luck Dropbox …</p>]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Rant </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #18 - JS UI</title>
      <link href="/post/Discoveries-18-JS-UI/"/>
      <url>/post/Discoveries-18-JS-UI/</url>
      
        <content type="html"><![CDATA[<p>This months Discoveries it’s all about Web UI driven by JavaScript. I have found some really cool components in the net you can use in your project right away to give your users a bit more food for the eye. Congrats to the developers for their amazing work.</p>        <ul class="anchorlist">            <li data-anchor="#scroll-linked-animations">Scroll-Linked Animations With the Web Animations API (WAAPI) and ScrollTimeline</li><li data-anchor="#slider-scroll">Slider Scroll</li><li data-anchor="#add-to-calendar-button">Add-to-Calendar Button</li><li data-anchor="#responsive-clock-ui">Responsive Clock Ui</li><li data-anchor="#swiffy-slider">Swiffy Slider</li><li data-anchor="#floating-ui">Floating UI</li><li data-anchor="#card-ui-hover-effects">8 CSS & JavaScript Snippets for Creating Cool Card UI Hover Effects</li><li data-anchor="#expandable-accessible-gallery">How To Build An Expandable Accessible Gallery</li><li data-anchor="#omicron-drag-drop">Omicron drag&drop</li><li data-anchor="#letmescroll">LetMeScroll</li>        </ul>    <span id="more"></span>    <hr id="scroll-linked-animations"/>    <h2 style="margin-bottom: 10px;">      Scroll-Linked Animations With the Web Animations API (WAAPI) and ScrollTimeline    </h2>    <small>by Bramus Van Damme&nbsp;<br><a href="https://css-tricks.com/scroll-linked-animations-with-the-web-animations-api-waapi-and-scrolltimeline/">https://css-tricks.com/scroll-linked-animations-with-the-web-animations-api-waapi-and-scrolltimeline/</a></small>    <p>Bramus shows us how to implement a reading progress bar with the new ScrollTimeline feature coming up within the next versions of Chrome and other browsers, including a polyfill from <a href="https://github.com/flackr/scroll-timeline">Robert Flack</a>. As you read this … look at the orange bar at the top. </p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/scroll-linked-animations-with-the-web-animations-api-waapi-and-scrolltimeline/">      <img class="limit" src="scroll-linked-animations.png" alt="Scroll-Linked Animations With the Web Animations API (WAAPI) and ScrollTimeline" />    </a>      <hr id="slider-scroll"/>    <h2 style="margin-bottom: 10px;">      Slider Scroll    </h2>    <small>by Edixon Piña&nbsp;<br><a href="https://sliderscroll.netlify.app/">https://sliderscroll.netlify.app/</a></small>    <p>Ever wanted to create a web application consisting of individual slides? Then, this is for you. Edixon has to (nearly) perfect and clean solution for this on GitHub.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://sliderscroll.netlify.app/">      <img class="limit" src="slider-scroll.png" alt="Slider Scroll" />    </a>      <hr id="add-to-calendar-button"/>    <h2 style="margin-bottom: 10px;">      Add-to-Calendar Button    </h2>    <small>by Jens Kuerschner&nbsp;<br><a href="https://github.com/jekuer/add-to-calendar-button">https://github.com/jekuer/add-to-calendar-button</a></small>    <p>Jens offers a nice solution for everybody who wants their users to add an events to their calendar within two clicks. It is based on inline JSON-snippets and has several features like dynmamic days, timezone offsets, schema.org support and not to forget, a pleasing UI.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/jekuer/add-to-calendar-button">      <img class="limit" src="add-to-calendar-button.png" alt="Add-to-Calendar Button" />    </a>      <hr id="responsive-clock-ui"/>    <h2 style="margin-bottom: 10px;">      Responsive Clock Ui    </h2>    <small>by Bedimcode&nbsp;<br><a href="https://github.com/bedimcode/responsive-clock-ui">https://github.com/bedimcode/responsive-clock-ui</a></small>    <p>Marlon, a web designer from Peru, who is known on the web as Bedimcode, has created a stunning CSS- and JS-driven analog clock, with a light and a dark theme. Maybe a bit useless for a website, but wonderfully crafted and nice to look at. You can find a demo <a href="https://www.cssscript.com/demo/modern-clock-ui/">here</a>.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/bedimcode/responsive-clock-ui">      <img class="limit" src="responsive-clock-ui.png" alt="Responsive Clock Ui" />    </a>      <hr id="swiffy-slider"/>    <h2 style="margin-bottom: 10px;">      Swiffy Slider    </h2>    <small>by DynamicWeb&nbsp;<br><a href="https://swiffyslider.com/">https://swiffyslider.com/</a></small>    <p>Sliders and carousels are almost everywhere and there are many implementations out there, but this one from the team of DynamicWeb is a bit outstanding because of its features and application possibilities. Well done … espacially the well documentation. No questions left.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://swiffyslider.com/">      <img class="limit" src="swiffy-slider.png" alt="Swiffy Slider" />    </a>      <hr id="floating-ui"/>    <h2 style="margin-bottom: 10px;">      Floating UI    </h2>    <small>by Unknown&nbsp;<br><a href="https://floating-ui.com/">https://floating-ui.com/</a></small>    <p>Whoever has created this solution, is hardly anything to add to their claim:  “Floating UI is a low-level toolkit to create floating elements. Tooltips, popovers, dropdowns, menus, and more.”. and it is hardly anything to add to their feature list. Whenever something needs to float … use this library.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://floating-ui.com/">      <img class="limit" src="floating-ui.png" alt="Floating UI" />    </a>      <hr id="card-ui-hover-effects"/>    <h2 style="margin-bottom: 10px;">      8 CSS & JavaScript Snippets for Creating Cool Card UI Hover Effects    </h2>    <small>by Eric Karkovack&nbsp;<br><a href="https://speckyboy.com/css-javascript-card-ui-hover-effects/">https://speckyboy.com/css-javascript-card-ui-hover-effects/</a></small>    <p>Cards are a good way to bring order in a UI. How to make such cards exciting shows Eric with his collection of stunning card designs. Personally I’m in love with the ‘Profile Card Hover Effect’…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://speckyboy.com/css-javascript-card-ui-hover-effects/">      <img class="limit" src="card-ui-hover-effects.png" alt="8 CSS & JavaScript Snippets for Creating Cool Card UI Hover Effects" />    </a>      <hr id="expandable-accessible-gallery"/>    <h2 style="margin-bottom: 10px;">      How To Build An Expandable Accessible Gallery    </h2>    <small>by Silvestar Bistrović&nbsp;<br><a href="https://www.smashingmagazine.com/2021/10/build-expandable-accessible-gallery/">https://www.smashingmagazine.com/2021/10/build-expandable-accessible-gallery/</a></small>    <p>Photo in galleries or other grid based collections should have the possibility to expand an item in order to see either the full photo or some details of the selected item. To avoid calling a detail page or something similar, Silvestar has developed a method to display this animated in fullscreen mode. Can’t wait to find a problem to check this out.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.smashingmagazine.com/2021/10/build-expandable-accessible-gallery/">      <img class="limit" src="expandable-accessible-gallery.png" alt="How To Build An Expandable Accessible Gallery" />    </a>      <hr id="omicron-drag-drop"/>    <h2 style="margin-bottom: 10px;">      Omicron drag&drop    </h2>    <small>by Franek Boehlke&nbsp;<br><a href="https://github.com/mcFrax/omicron-dnd">https://github.com/mcFrax/omicron-dnd</a></small>    <p>What sounds like a variant of the Corona virus is a fast JavaScript drag-and-drop library for desktop and mobile browsers, made by Franek Boehlke. And this is no coincidence, but rather a pandemic project. It is lean, but has all basic features to nudge things around on your web app.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/mcFrax/omicron-dnd">      <img class="limit" src="omicron-drag-drop.png" alt="Omicron drag&drop" />    </a>      <hr id="letmescroll"/>    <h2 style="margin-bottom: 10px;">      LetMeScroll    </h2>    <small>by Bruno Vieira&nbsp;<br><a href="https://bmsvieira.github.io/letmescroll.js/demo/index.html">https://bmsvieira.github.io/letmescroll.js/demo/index.html</a></small>    <p>Quite a while ago a have implemented a custom scrollbar on my own in a Web App and it wasn’t so funny as I thought. Lot of things to care about. If Bruno had already finished his project at that time, I could have saved myself the work. He brings a native scroll behaviour for desktop and mobile, easy customization and multiple callbacks in 465 lines of vanilla JS code. Great job, Bruno.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://bmsvieira.github.io/letmescroll.js/demo/index.html">      <img class="limit" src="letmescroll.png" alt="LetMeScroll" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #17 - CSS</title>
      <link href="/post/Discoveries-17-CSS/"/>
      <url>/post/Discoveries-17-CSS/</url>
      
        <content type="html"><![CDATA[        <ul class="anchorlist">            <li data-anchor="#easing-functions">Easing Functions Cheat Sheet</li><li data-anchor="#font-loading">A New Way To Reduce Font Loading Impact: CSS Font Descriptors</li><li data-anchor="#container-queries">Container Queries in Web Components</li><li data-anchor="#multi-color-text">Multi Color Text With CSS</li><li data-anchor="#conditional-border-radius">Conditional Border Radius In CSS</li><li data-anchor="#icons-pure-css">Icons in Pure CSS</li><li data-anchor="#parallax-css">parallax.css</li><li data-anchor="#defensive-css">Defensive CSS</li><li data-anchor="#css-only-loader">How to Create a CSS-Only Loader Using One Element</li><li data-anchor="#css-performance-snippet">Getting Your head Straight: A New CSS Performance Diagnostics Snippet</li>        </ul>    <span id="more"></span>    <hr id="easing-functions"/>    <h2 style="margin-bottom: 10px;">      Easing Functions Cheat Sheet    </h2>    <small>by Andrey Sitnik & Ivan Solovev&nbsp;<br><a href="https://github.com/ai/easings.net">https://github.com/ai/easings.net</a></small>    <p>Ever wanted to implement an easing function in CSS and dont know how? Andrey and Ivan provide a really useful web project via Github, with the code of 30 easing function, including samples and the math functions behind. Download or fork and run locally or simply use this <a href="gitpod.io/#https://github.com/ai/easings.net">gitpod Link</a>.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/ai/easings.net">      <img class="limit" src="easing-functions.png" alt="Easing Functions Cheat Sheet" />    </a>      <hr id="font-loading"/>    <h2 style="margin-bottom: 10px;">      A New Way To Reduce Font Loading Impact: CSS Font Descriptors    </h2>    <small>by Barry Pollard&nbsp;<br><a href="https://www.smashingmagazine.com/2021/05/reduce-font-loading-impact-css-descriptors/">https://www.smashingmagazine.com/2021/05/reduce-font-loading-impact-css-descriptors/</a></small>    <p>Barry gives an insight into the modern use of web fonts, hints on how to use <code>font-display</code> and an outlook on how everything could be better in the future.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.smashingmagazine.com/2021/05/reduce-font-loading-impact-css-descriptors/">      <img class="limit" src="font-loading.png" alt="A New Way To Reduce Font Loading Impact: CSS Font Descriptors" />    </a>      <hr id="container-queries"/>    <h2 style="margin-bottom: 10px;">      Container Queries in Web Components    </h2>    <small>by Max Böck&nbsp;<br><a href="https://mxb.dev/blog/container-queries-web-components/">https://mxb.dev/blog/container-queries-web-components/</a></small>    <p>Container Queries are one of the most anticipated new features in CSS and Max gives an insight into the possibilities, including a demo.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://mxb.dev/blog/container-queries-web-components/">      <img class="limit" src="container-queries.png" alt="Container Queries in Web Components" />    </a>      <hr id="multi-color-text"/>    <h2 style="margin-bottom: 10px;">      Multi Color Text With CSS    </h2>    <small>by Shireen Taj&nbsp;<br><a href="https://codepen.io/TajShireen/full/YzZmbep">https://codepen.io/TajShireen/full/YzZmbep</a></small>    <p>UI developer Shireen has made a wonderful sample on CodePen on how to show text in multile colors using linear gradient backgrounds.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/TajShireen/full/YzZmbep">      <img class="limit" src="multi-color-text.png" alt="Multi Color Text With CSS" />    </a>      <hr id="conditional-border-radius"/>    <h2 style="margin-bottom: 10px;">      Conditional Border Radius In CSS    </h2>    <small>by Ahmad Shaheed&nbsp;<br><a href="https://ishadeed.com/article/conditional-border-radius/">https://ishadeed.com/article/conditional-border-radius/</a></small>    <p>CSS expert Ahmad shows us a smart way to provide different border radius regarding the size of an object in the viewport, he has learned from the facebook developers.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://ishadeed.com/article/conditional-border-radius/">      <img class="limit" src="conditional-border-radius.png" alt="Conditional Border Radius In CSS" />    </a>      <hr id="icons-pure-css"/>    <h2 style="margin-bottom: 10px;">      Icons in Pure CSS    </h2>    <small>by Anthony Fu&nbsp;<br><a href="https://antfu.me/posts/icons-in-pure-css">https://antfu.me/posts/icons-in-pure-css</a></small>    <p>Anthony has found a clever way on combining the icon framework <a href="https://docs.iconify.design/icon-components/svg-framework/">iconify</a> with CSS, to save the use of icon fonts and deliver pure SVG instead.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://antfu.me/posts/icons-in-pure-css">      <img class="limit" src="icons-pure-css.png" alt="Icons in Pure CSS" />    </a>      <hr id="parallax-css"/>    <h2 style="margin-bottom: 10px;">      parallax.css    </h2>    <small>by Matyanson&nbsp;<br><a href="https://github.com/Matyanson/parallax.css/">https://github.com/Matyanson/parallax.css/</a></small>    <p>Github user ‘Matyanson’ has written a CSS package for using parallax effects easily on every website.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/Matyanson/parallax.css/">      <img class="limit" src="parallax-css.png" alt="parallax.css" />    </a>      <hr id="defensive-css"/>    <h2 style="margin-bottom: 10px;">      Defensive CSS    </h2>    <small>by Ahmad Shaheed&nbsp;<br><a href="https://ishadeed.com/article/defensive-css/">https://ishadeed.com/article/defensive-css/</a></small>    <p>In order to prevent pittfalls, you have to use CSS wisely. Ahmad show us some techniques on how to write defensive and thus protected code.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://ishadeed.com/article/defensive-css/">      <img class="limit" src="defensive-css.png" alt="Defensive CSS" />    </a>      <hr id="css-only-loader"/>    <h2 style="margin-bottom: 10px;">      How to Create a CSS-Only Loader Using One Element    </h2>    <small>by Temani Afif&nbsp;<br><a href="https://www.freecodecamp.org/news/how-to-create-a-css-only-loader">https://www.freecodecamp.org/news/how-to-create-a-css-only-loader</a></small>    <p>Loaders are everywhere and many of them are based on images or SVG. But this does not have to be, as Temani finds. CSS is perfectly sufficient for this.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.freecodecamp.org/news/how-to-create-a-css-only-loader">      <img class="limit" src="css-only-loader.png" alt="How to Create a CSS-Only Loader Using One Element" />    </a>      <hr id="css-performance-snippet"/>    <h2 style="margin-bottom: 10px;">      Getting Your head Straight: A New CSS Performance Diagnostics Snippet    </h2>    <small>by Vitaly Friedman&nbsp;<br><a href="https://www.smashingmagazine.com/2021/09/css-head-tag/">https://www.smashingmagazine.com/2021/09/css-head-tag/</a></small>    <p>Chrome Debugger has tons of possibilities to ensure to find performance bottlenecks or other discrepancies. Vitaly brings us closer a little snippet that Harry Roberts wrote, which exposes potential performance issues in your page’s <code>&lt;head&gt;</code> tag: <a href="https://csswizardry.com/ct/">ct.css</a>.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.smashingmagazine.com/2021/09/css-head-tag/">      <img class="limit" src="css-performance-snippet.png" alt="Getting Your head Straight: A New CSS Performance Diagnostics Snippet" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Checker Plus - Gmail in better...</title>
      <link href="/post/Checker-Plus-Gmail-in-better/"/>
      <url>/post/Checker-Plus-Gmail-in-better/</url>
      
        <content type="html"><![CDATA[<p>Those who have a Google account usually also use the web-based mailer <a href="https://gmail.com/">Gmail</a>, often <a href="https://calendar.google.com/">Google Calendar</a> for appointments and perhaps <a href="https://drive.google.com/">Google Drive</a> for storing files in the cloud. The US internet company makes it very easy for users to use its web-based services. The entry barriers are low and the interfaces are tidy and intuitive.</p><p>If you use the in-house Chrome browser, you can also be informed about incoming mails or upcoming appointments. One click and the browser opens with Gmail or Google Calendar …</p><p>But it is not always necessary or desirable to load one of the Google tools completely in a new browser window, when you may already have two or three dozen tabs open in several windows and are in danger of losing track of them.</p><p>That’s what Montreal-based software developer <strong><a href="https://jasonsavard.com/">Jason Savard</a></strong> seems to have thought ten years ago. At that time, he began writing a Chrome extension that would report a newly received Gmail by means of a small icon in the extension bar of the browser and display it directly in a separate pop-up window by clicking on it. The result was <strong><a href="https://jasonsavard.com/Checker-Plus-for-Gmail">Checker Plus for Gmail</a></strong>.</p><span id="more"></span><p>In addition to the extension for Gmail, Savard offers others for Calendar and Drive and all of them have one thing in common: You can do the most important functions of the services directly in the popup that opens: Reply to mail, write new mail, create appointment with reminder, upload file, get file link to share - Everything works without having to load the services’ interfaces in a browser window.</p><p>For the author and probably some of the almost 2 million users, the Checker Plus extensions are the kind of tools you can’t imagine working without them - that’s how quickly you get used to the functionality and adapt your own workflow to it.</p><hr><h2 id="Checker-Plus-for-Gmail-Impressive-range-of-functions"><a href="#Checker-Plus-for-Gmail-Impressive-range-of-functions" class="headerlink" title="Checker Plus for Gmail: Impressive range of functions"></a>Checker Plus for Gmail: Impressive range of functions</h2><p>The Checker Plus tool for the web mailer Gmail places an icon in the extension bar that displays the number of unread mails by means of an indicator. Since it is possible to configure several Gmail accounts in the extension, all unread mails are summarised in the number.</p><p>If you click on the icon, a pop-up opens with a clear list of all accounts and the unread mails. The mails are displayed in compact mode, i.e. in addition to the sender and the subject, you also see an excerpt from the mail text.</p><p>If you now click on a mail, it is displayed in full in the popout and also takes any mail thread into account. The icon buttons <em>Archive</em>, <em>Mark Spam</em>, <em>Delete</em>, <em>Mark Read</em> and <em>Mark</em>, which are displayed when hovering over a mail, represent the most frequently used actions and usually make it unnecessary to use the <em>Open in Gmail</em> button.</p><p><img src="/post/Checker-Plus-Gmail-in-better/checker-plus-for-gmail-1.png" alt="Checker Plus for Gmail Chrome Extension Popup"></p><p><img src="/post/Checker-Plus-Gmail-in-better/checker-plus-for-gmail-2.png" alt="Checker Plus for Gmail Chrome Extension Popup - Display Mail Thread"></p><h3 id="Massive-Setting-Options"><a href="#Massive-Setting-Options" class="headerlink" title="Massive Setting Options"></a>Massive Setting Options</h3><p>Over the years and with each new version (currently v22.9), countless options have been added, so that Savard had to divide them into nine groups, including the start page:</p><ol><li>Start Page with Quick Access</li><li>General</li><li>Notifications</li><li>Do not disturb</li><li>Button</li><li>Accounts&#x2F;Labels</li><li>Skins and Themes</li><li>Keys</li><li>Voice Input</li></ol><p>It would be foolish, to go into all the settings in this article, but a few deserve an extra portion of attention, such as those under <em>Accounts&#x2F;Labels</em>. Here, users can decide whether the extension should determine the available Gmail accounts itself based on the login to Gmail saved in the browser or whether they should specify them manually. In both cases, it is then possible to select only certain labels for the notifications or to leave it at the standard inbox. This is very usefull if you have set up a system of automatic distribution to subfolders (labels).</p><p>Since the extensions also control the interactive desktop notifications, it is useful to be able to define periods of time under <em>Do Not Disturb</em>, when this is not to happen. In addition to the option of using dates from the Google Calendar, you can also define weekly schedules for this purpose.</p><hr><h2 id="Checker-Plus-for-Google-Calendar-Better-than-the-original"><a href="#Checker-Plus-for-Google-Calendar-Better-than-the-original" class="headerlink" title="Checker Plus for Google Calendar: Better than the original"></a>Checker Plus for Google Calendar: Better than the original</h2><p>The icon of the Chrome extension for Google Calendar visually warns of upcoming appointments and displays those for the next two days in the tooltip. If you sit at your computer all day and work in the Chrome browser, you can hardly talk your way out of missing an appointment, especially since the extension also takes over warnings via the Windows notification system.</p><p>The pop-up’s interface is similar to the original at <a href="https://calendar.google.com/">calendar.google.com</a>, merely placing the sidebar under a hamburger menu to save space. It replicates the basic functionality of the original and there is little reason to visit the original Google website when using it.</p><p>But it also does a few things better than Google. For example, the pop-up offers the same view options as <em>day</em>, <em>month</em>, <em>week</em>, <em>year</em> and <em>appointment overview</em>, but calls the latter a list and adds an overview as known from the Calendar Android app. In addition, you can define your own view in the settings, for example, if you want to keep an eye on the next three days or six weeks.</p><p><img src="/post/Checker-Plus-Gmail-in-better/checker-plus-for-calendar.png" alt="Pop-up of the Chrome extension Checker Plus for Google Calendar"></p><p>The current version v26.1.1 of Checker Plus for Google Calendar also has a lot of setting options, such as displaying the week numbers or marking the weekends. Particularly noteworthy here are the settings for notifications, which can be fine-tuned very well across multiple accounts and calendars.</p><hr><h2 id="Checker-Plus-for-Google-Drive-Fewer-functions"><a href="#Checker-Plus-for-Google-Drive-Fewer-functions" class="headerlink" title="Checker Plus for Google Drive: Fewer functions"></a>Checker Plus for Google Drive: Fewer functions</h2><p>The pop-up of the Drive extension is basically a copy of the Google interface at <a href="https://drive.google.com/">drive.google.com</a>. It is limited to the list form and does without previews of the files, but also without advertisements, such as “Buy storage space”. It also has nowhere near as many options in the context menu of a folder or file as the original, but this can generally be gotten over because the most important options such as <em>download</em>, <em>copy link</em>, <em>rename</em> and <em>remove</em> are available.</p><p><img src="/post/Checker-Plus-Gmail-in-better/checker-plus-for-drive.png" alt="Pop-up of the Chrome extension Checker Plus for Google Drive"></p><hr><h2 id="Additional-functions-against-donation"><a href="#Additional-functions-against-donation" class="headerlink" title="Additional functions against donation"></a>Additional functions against donation</h2><p>Few Chrome extensions are as close to the needs of users as the <strong><a href="https://jasonsavard.com/">Checker Plus extensions</a></strong>. The functional scope of the Gmail extension in particular is simply impressive and leaves hardly anything to be desired.</p><p>Only when it comes to localising the source code in currently more than 30 languages, Savard could take a little more care. Sometimes a little English gets mixed into otherwise German interfaces, especially in the settings. But any developer who has ever tried to offer his tool in so many languages will forgive him, because he knows the amount of work involved.</p><p>Unfortunately, the settings area <em>Skins and Themes</em> is everything but generally understandable and no comparison to the otherwise good UX of the extensions. If you want to make the pop-up pretty with background images and other colours, you have to read up and understand Jason’s concept of individualising separate elements.</p><p>Since Jason Savard now works full time on his extensions, he is dependent on income to be generated from them. He has declared some settings, which he says he worked on for a long time, as “additional functions” that you get if you donate an amount of money to him once or monthly. A fair concept, especially since he guarantees daily updates and even a response time of five minutes in case of problems. Well ;) But it’s nice to see a developer who puts so much heart and soul into his work.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Browser </tag>
            
            <tag> Plugin </tag>
            
            <tag> Mail </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #16 - JavaScript</title>
      <link href="/post/Discoveries-16-JavaScript/"/>
      <url>/post/Discoveries-16-JavaScript/</url>
      
        <content type="html"><![CDATA[<p>In the first discoveries of 2022 I would like to offer you some interesting links to JavaScript articles that have general language features as their topic or extend them in a clever way. The language (respectively the <a href="https://en.wikipedia.org/wiki/ECMAScript">ECMA standard</a> behind it) is growing from year to year and it is exiting to see how it is expanding.</p>        <ul class="anchorlist">            <li data-anchor="#modern-javascript">Modern Javascript: Everything you missed over the last 10 years</li><li data-anchor="#define-enum">How can I define an enum in JavaScript?</li><li data-anchor="#export-default-thing">'export default thing' is different to 'export { thing as default }'</li><li data-anchor="#dynamic-conditional-imports">Dynamic, Conditional Imports</li><li data-anchor="#storage-options">10 Client-side Storage Options and When to Use Them</li><li data-anchor="#js-proxy">An Intro to JavaScript Proxy</li><li data-anchor="#observer-pattern">The Observer Pattern in JavaScript - The Key to a Reactive Behavior</li><li data-anchor="#prefer-axios-over-fetch">Why JavaScript Developers Should Prefer Axios Over Fetch</li><li data-anchor="#antfu-p">Toolkit for managing multiple promises</li><li data-anchor="#promisify">Promisify an entire object or class instance</li>        </ul>    <span id="more"></span>    <hr id="modern-javascript"/>    <h2 style="margin-bottom: 10px;">      Modern Javascript: Everything you missed over the last 10 years    </h2>    <small>by Sandro Turriate&nbsp;<br><a href="https://turriate.com/articles/modern-javascript-everything-you-missed-over-10-years">https://turriate.com/articles/modern-javascript-everything-you-missed-over-10-years</a></small>    <p>Sandra has written this post about the language features of ECMA Script 2020 a couple of months ago as a kind of CheatSheet, with runnable examples and a lot of useful background knowledge.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://turriate.com/articles/modern-javascript-everything-you-missed-over-10-years">      <img class="limit" src="modern-javascript.png" alt="Modern Javascript: Everything you missed over the last 10 years" />    </a>      <hr id="define-enum"/>    <h2 style="margin-bottom: 10px;">      How can I define an enum in JavaScript?    </h2>    <small>by Angelos Chalaris&nbsp;<br><a href="https://www.30secondsofcode.org/articles/s/javascript-enum">https://www.30secondsofcode.org/articles/s/javascript-enum</a></small>    <p>Angelos describes is this post, two different ways to define enums in JavaScript, as you might know them other languages.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.30secondsofcode.org/articles/s/javascript-enum">      <img class="limit" src="define-enum.png" alt="How can I define an enum in JavaScript?" />    </a>      <hr id="export-default-thing"/>    <h2 style="margin-bottom: 10px;">      'export default thing' is different to 'export { thing as default }'    </h2>    <small>by Jake Archibald&nbsp;<br><a href="https://jakearchibald.com/2021/export-default-thing-vs-thing-as-default/">https://jakearchibald.com/2021/export-default-thing-vs-thing-as-default/</a></small>    <p>IMPORT and EXPORT are a fine way to separate code, but you need to know and keep in mind a few things, as Jake shows us here.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://jakearchibald.com/2021/export-default-thing-vs-thing-as-default/">      <img class="limit" src="export-default-thing.png" alt="'export default thing' is different to 'export { thing as default }'" />    </a>      <hr id="dynamic-conditional-imports"/>    <h2 style="margin-bottom: 10px;">      Dynamic, Conditional Imports    </h2>    <small>by Chris Coyier&nbsp;<br><a href="https://css-tricks.com/dynamic-conditional-imports/">https://css-tricks.com/dynamic-conditional-imports/</a></small>    <p>When you separate code in different ES modules, you may come to the point where you want import a module depending on a specific condition. Chris show us here, how to deal with this easily.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/dynamic-conditional-imports/">      <img class="limit" src="dynamic-conditional-imports.png" alt="Dynamic, Conditional Imports" />    </a>      <hr id="storage-options"/>    <h2 style="margin-bottom: 10px;">      10 Client-side Storage Options and When to Use Them    </h2>    <small>by Craig Buckler&nbsp;<br><a href="https://www.sitepoint.com/client-side-storage-options-comparison/">https://www.sitepoint.com/client-side-storage-options-comparison/</a></small>    <p>Especially if you are writing a web app, you need to consider what storage options you have, to provide the user an optimal user experience. Craig list them all in his post and goes into the specific characteristics and possible uses.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.sitepoint.com/client-side-storage-options-comparison/">      <img class="limit" src="storage-options.png" alt="10 Client-side Storage Options and When to Use Them" />    </a>      <hr id="js-proxy"/>    <h2 style="margin-bottom: 10px;">      An Intro to JavaScript Proxy    </h2>    <small>by Travis Almand&nbsp;<br><a href="https://css-tricks.com/an-intro-to-javascript-proxy/">https://css-tricks.com/an-intro-to-javascript-proxy/</a></small>    <p>JavaScript provides a PROXY, which enables you to intercept and redefine fundamental operations for an object. Is it not that common to use it, but it has great advantages, as Travis show us.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/an-intro-to-javascript-proxy/">      <img class="limit" src="js-proxy.png" alt="An Intro to JavaScript Proxy" />    </a>      <hr id="observer-pattern"/>    <h2 style="margin-bottom: 10px;">      The Observer Pattern in JavaScript - The Key to a Reactive Behavior    </h2>    <small>by Fernando Doglio&nbsp;<br><a href="https://blog.bitsrc.io/the-observer-pattern-in-javascript-the-key-to-a-reactive-behavior-f28236e50e10">https://blog.bitsrc.io/the-observer-pattern-in-javascript-the-key-to-a-reactive-behavior-f28236e50e10</a></small>    <p>Sometimes it is necessary to decouple functionality in JS, in order to write cleaner code or to increase complexity. Fernando shows us how to implement our own observers, with subscribing, notifying and all that stuff.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://blog.bitsrc.io/the-observer-pattern-in-javascript-the-key-to-a-reactive-behavior-f28236e50e10">      <img class="limit" src="observer-pattern.png" alt="The Observer Pattern in JavaScript - The Key to a Reactive Behavior" />    </a>      <hr id="prefer-axios-over-fetch"/>    <h2 style="margin-bottom: 10px;">      Why JavaScript Developers Should Prefer Axios Over Fetch    </h2>    <small>by Sabesan Sathananthan&nbsp;<br><a href="https://betterprogramming.pub/why-javascript-developers-should-prefer-axios-over-fetch-294b28a96e2c">https://betterprogramming.pub/why-javascript-developers-should-prefer-axios-over-fetch-294b28a96e2c</a></small>    <p>FETCH is the method defined in the ECMA standard to get data from remote servers, but in the meanwhile the library <a href="https://github.com/axios/axios">Axios</a> has become almost a de-facto standard in the industry and Sabesan tells why.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://betterprogramming.pub/why-javascript-developers-should-prefer-axios-over-fetch-294b28a96e2c">      <img class="limit" src="prefer-axios-over-fetch.png" alt="Why JavaScript Developers Should Prefer Axios Over Fetch" />    </a>      <hr id="antfu-p"/>    <h2 style="margin-bottom: 10px;">      Toolkit for managing multiple promises    </h2>    <small>by Anthony Fu&nbsp;<br><a href="https://github.com/antfu/p">https://github.com/antfu/p</a></small>    <p>This tiny library makes it easier to deal with multiple promises as it PROMISE.ALL does. Remarkable.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/antfu/p">      <img class="limit" src="antfu-p.png" alt="Toolkit for managing multiple promises" />    </a>      <hr id="promisify"/>    <h2 style="margin-bottom: 10px;">      Promisify an entire object or class instance    </h2>    <small>by Gar&nbsp;<br><a href="https://github.com/wraithgar/gar-promisify">https://github.com/wraithgar/gar-promisify</a></small>    <p>Mixing async with non-async code may have some pitfalls, you can avoid by using Gar’s tiny library.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/wraithgar/gar-promisify">      <img class="limit" src="promisify.png" alt="Promisify an entire object or class instance" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSS Columns and Drop Shadow</title>
      <link href="/post/CSS-Columns-and-Drop-Shadow/"/>
      <url>/post/CSS-Columns-and-Drop-Shadow/</url>
      
        <content type="html"><![CDATA[<p>As of today, there is no true <strong>Masonry Layout</strong> technique in web development that can be implemented exclusively with CSS and is not based on JavaScript. True in the meaning, that the reading direction should be from left to right and not in the form of columns from top to bottom. For the latter, also called <em>Fake Masonry</em>, there are even two implementation options in CSS: Columns or Flex, whereas the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/columns">Columns</a> variant is the much simpler one.</p><p>Lets say you have a list of boxes you want to show in a grid-like list, but the height of every box is defined by its content, which results in different heights. Here is an example with a base64 encoded 1px image with an individually defined height:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">    Box 1</span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">&quot;height:53px&quot;</span> <span class="attr">src</span>=<span class="string">&quot;data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">    Box 2</span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">&quot;height:50px&quot;</span> <span class="attr">src</span>=<span class="string">&quot;data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">    Box 3</span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">&quot;height:33px&quot;</span> <span class="attr">src</span>=<span class="string">&quot;data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- ... 6 more items with different heights --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>By applying <code>column-count</code> and <code>column-gap</code> to the wrapper and a <code>margin-bottom</code> with the same value as the gap to each item, you will achieve this:</p><p><img src="/post/CSS-Columns-and-Drop-Shadow/sample-columns.png" alt="Simple Columns Layout"></p><p>The order of the boxes is from top to bottom and then from left to right … Fake Masonry, but is works as expected. Here is the most important CSS:</p><span id="more"></span><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--gap</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attr">--gap-half</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--gap) / <span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrapper</span> &#123;</span><br><span class="line">  <span class="comment">/* LAYOUT STYLES */</span></span><br><span class="line">  <span class="attribute">width</span>: max-content;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="built_in">var</span>(--gap-half);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* COLUMN STYLES */</span></span><br><span class="line">  <span class="attribute">column-count</span>: <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">column-gap</span>: <span class="built_in">var</span>(--gap);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="comment">/* BASIC STYLES */</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fffaf5</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* LAYOUT STYLES */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="built_in">var</span>(--gap);</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: auto;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* COLUMN STYLES */</span></span><br><span class="line">  <span class="attribute">break-inside</span>: avoid-column;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>See the pen for the complete HTML and CSS:</p>    <iframe class="indiepen"        src="https://indiepen.tech/embed/?url=https%3A%2F%2Fkiko.io%2Fpost%2FCSS-Columns-and-Drop-Shadow%2Fsample-columns&tab=result"        style="width: 100%; overflow: hidden; display: block; border: 0;"        title="Indiepen Embed"        loading="lazy"         width="100%"         height="410">    </iframe>  <hr><h2 id="Drop-Shadow-and-the-Chromium-Bug"><a href="#Drop-Shadow-and-the-Chromium-Bug" class="headerlink" title="Drop Shadow and the Chromium Bug"></a>Drop Shadow and the Chromium Bug</h2><p>To make the list visually a little bit more interesting, we now add a shadow, which is half as thick as the gap, to the boxes:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--gap</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attr">--gap-half</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--gap) / <span class="number">2</span>);</span><br><span class="line">  <span class="attr">--color-border</span>: <span class="built_in">hsl</span>(<span class="number">0</span> <span class="number">0%</span> <span class="number">90%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="comment">/* ... more styles */</span></span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="built_in">var</span>(--color-border) solid;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">2px</span> <span class="built_in">var</span>(--gap-half) <span class="number">5px</span> <span class="built_in">var</span>(--color-border);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In case you work with a Chromium based browser (Version 97.x as of today), you will be confronted with a bug. The “break” from one column to the next doesn’t respect the full 10px high shadow of the next item. <strong>It breaks too late</strong>. You will get something like this:</p><p><img src="/post/CSS-Columns-and-Drop-Shadow/sample-columns-shadows.png" alt="Column layout with DropShadow in Chromium"></p>    <div class="alertbox alertbox-info">      <p>I added a red shadow on hover, to make the bug more obvious. See following pen to inspect the CSS. In case you use Firefox (Version 96.x as of today), you won’t see the bug, because Mozilla did it right.</p>    </div>      <iframe class="indiepen"        src="https://indiepen.tech/embed/?url=https%3A%2F%2Fkiko.io%2Fpost%2FCSS-Columns-and-Drop-Shadow%2Fsample-columns-shadows&tab=result"        style="width: 100%; overflow: hidden; display: block; border: 0;"        title="Indiepen Embed"        loading="lazy"         width="100%"         height="410">    </iframe>  <hr><h2 id="Workaround"><a href="#Workaround" class="headerlink" title="Workaround"></a>Workaround</h2><h3 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h3><p>In order to achieve a proper result, we have to hack the HTML and the CSS a bit. First of all we have to wrap the content of an item with a new element called <code>ìtem-inner</code>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item-inner&quot;</span>&gt;</span></span><br><span class="line">    Box 1</span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">style</span>=<span class="string">&quot;height:53px&quot;</span> <span class="attr">src</span>=<span class="string">&quot;data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h3><p>Next, we move the <code>width</code>, the <code>border</code> and the <code>box-shadow</code> from the item itself to the new inner element. Important here is, to set the background of the <code>item</code> element to <code>transparent</code> in order to prevent interfering with the shadow.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--gap</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attr">--gap-half</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--gap) / <span class="number">2</span>);</span><br><span class="line">  <span class="attr">--color-border</span>: <span class="built_in">hsl</span>(<span class="number">0</span> <span class="number">0%</span> <span class="number">90%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="comment">/* BASIC STYLES */</span></span><br><span class="line">  <span class="attribute">background-color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item-inner</span> &#123;</span><br><span class="line">  <span class="comment">/* BASIC STYLES */</span></span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#fffaf5</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> <span class="built_in">var</span>(--color-border) solid;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">1px</span> <span class="number">2px</span> <span class="built_in">var</span>(--gap-half) <span class="number">5px</span> <span class="built_in">var</span>(--color-border);</span><br><span class="line">  <span class="attribute">transition</span>: all ease-out <span class="number">0.3s</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* LAYOUT STYLES */</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h3><p>Now we have to set the <code>wrapper</code>‘s gap to 0, because we will implement the spacing of the items by applying different paddings to the <code>item</code> element: <strong>half of the gap</strong> to be reached, to the <code>left</code>, the <code>right</code> and the <code>bottom</code> padding and the <strong>full gap</strong> to the <code>top</code>. The latter, to achieve pushing the previous element far enough away so as not to see anything of the shadow.</p><p>But because this would mean that the horizontal gap would be too large by half, we have to use a negative margin to pull the element up by that amount.  </p><p><img src="/post/CSS-Columns-and-Drop-Shadow/sample-columns-shadows-fix-step1.png" alt="Chromium Columns Shadows Fix Step 3.1"></p><p>This in turn would mean, that the first <code>item</code> element in the list would be too high by the now defined negative top margin, which we correct again by using <code>item:first-child</code>.</p><p><img src="/post/CSS-Columns-and-Drop-Shadow/sample-columns-shadows-fix-step2.png" alt="Chromium Columns Shadows Fix Step 3.2"></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  <span class="attr">--gap</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attr">--gap-half</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--gap) / <span class="number">2</span>);</span><br><span class="line">  <span class="comment">/* ... more variables */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.wrapper</span> &#123;</span><br><span class="line">  <span class="comment">/* ...more styles */</span></span><br><span class="line">  <span class="attribute">column-gap</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">  <span class="comment">/* ... BASIC STYLES */</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">/* LAYOUT STYLES */</span></span><br><span class="line">  <span class="attribute">width</span>: auto; </span><br><span class="line">  <span class="attribute">margin</span>: <span class="built_in">var</span>(--gap-half-negative) <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="built_in">var</span>(--gap) <span class="built_in">var</span>(--gap-half) <span class="built_in">var</span>(--gap-half);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/* COLUMN STYLES */</span></span><br><span class="line">  <span class="attribute">break-inside</span>: avoid-column;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.item</span><span class="selector-pseudo">:first</span>-child &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Here is the complete solution as a pen:</p>    <iframe class="indiepen"        src="https://indiepen.tech/embed/?url=https%3A%2F%2Fkiko.io%2Fpost%2FCSS-Columns-and-Drop-Shadow%2Fsample-columns-shadows-fix&tab=result"        style="width: 100%; overflow: hidden; display: block; border: 0;"        title="Indiepen Embed"        loading="lazy"         width="100%"         height="410">    </iframe>  <hr><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Maybe the Chromium team will fix the bug as soon as possible, to no longer have to rely on this hack, but the really best solution would be, to finish the work already started on the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/Masonry_Layout"><strong>true grid masonry</strong></a>, which currently only Firefox offers behind a flag.</p><hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>caniuse.com: <a href="https://caniuse.com/?search=grid-template-rows">Can I Use: CSS property: grid-template-rows</a></li><li>Ryan (dev.to): <a href="https://dev.to/ryandsouza13/creating-a-responsive-masonry-layout-using-the-css-column-count-property-4kf7">Creating A Responsive Masonry Layout Using The CSS column-count Property</a></li><li>MDN WebDocs: <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout/Masonry_Layout">Masonry Layout</a></li><li>Rachel Andrew (Smashing Magazine): <a href="https://www.smashingmagazine.com/native-css-masonry-layout-css-grid/">Native CSS Masonry Layout In CSS Grid</a></li><li>Syed Umar Anis: <a href="https://umaranis.com/2020/09/01/create-masonry-layout-with-css-grid-with-variable-sized-contents-arranged-in-columns/">Create Masonry Layout with CSS</a></li><li>Chris Coyier (CSS-Tricks): <a href="https://css-tricks.com/piecing-together-approaches-for-a-css-masonry-layout">Approaches for a CSS Masonry Layout</a></li><li>Jonas (Kulturbanause): <a href="https://kulturbanause.de/blog/responsive-masonry-layout-mit-css/">Responsive Masonry Layouts mit CSS erstellen (German)</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> UI/UX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Browser </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHub Tag Plugins for Hexo</title>
      <link href="/post/GitHub-Tag-Plugins-for-Hexo/"/>
      <url>/post/GitHub-Tag-Plugins-for-Hexo/</url>
      
        <content type="html"><![CDATA[<p>Currently I’m working on improving my projects section by linking to some of my projects hosted on Github. One idea is to display the Github README there. Playing around with the GitHub API is fun and so I created two new Hexo Tag Plugins that I don’t want to deprive you of and that extend the <a href="https://github.com/kristofzerbe/hexo-tag-plugins">Hexo Tag Plugin Collection</a>.</p>        <ul class="anchorlist">            <li data-anchor="#readme">GitHub README</li><li data-anchor="#user-and-repo-card">GitHub User & Repo Card</li>        </ul>    <span id="more"></span>                <hr id="readme" />            <h2 id="GitHub-README"><a href="#GitHub-README" class="headerlink" title="GitHub README"></a>GitHub README</h2><p>Gets the <strong>README.md</strong> file from a repo and shows it in an expandable <code>detail</code> tag.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% github_readme <span class="string">&quot;kristofzerbe&quot;</span> <span class="string">&quot;hexo-tag-plugins&quot;</span> <span class="string">&quot;README for &#x27;hexo-tag-plugins&#x27; on GitHub&quot;</span> %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>        <details class="github-readme">          <summary>README for 'hexo-tag-plugins' on GitHub</summary>          <div><p><a href="https://github.com/kristofzerbe/hexo-tag-plugins/issues"><img src="https://img.shields.io/github/issues/kristofzerbe/hexo-tag-plugins?label=github%20issues&style=flat-square" alt="issues"></a></p><h1 id="hexo-tag-plugins"><a href="#hexo-tag-plugins" class="headerlink" title="hexo-tag-plugins"></a>hexo-tag-plugins</h1><p><strong>Hexo Tag Plugin Collection from kiko.io</strong></p><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p><strong><a href="https://hexo.io/">Hexo</a></strong> is a <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> based SSG (Static Site Generator). Because the Mardown syntax is limited for good reason, Hexo has <em><strong>tag plugins</strong></em> you can use in your content to simplify and centralize complex structures, instead of writing pure HTML. For more information, see <a href="https://hexo.io/docs/tag-plugins.html">hexo.io&#x2F;docs&#x2F;tag-plugins</a>.</p><p>This project is a growing collection of tag plugins that I have developed and use for my blog <a href="https://kiko.io/">kiko.io</a>. Some of them are quite simple, others are more complex, but overall maybe helpful for you.</p><h2 id="Installation-x2F-Using"><a href="#Installation-x2F-Using" class="headerlink" title="Installation &#x2F; Using"></a>Installation &#x2F; Using</h2><p>There is no automatic installation of all tag plugins via NPM or other package managers, because every tag plugin stands for itself and you can pick the one you need simply by copying the appropriate JS file into your Hexo’s script folder: <code>THEMES</code> &#x2F; <code>&lt;YOUR-THEME&gt;</code> &#x2F; <code>SCRIPTS</code>.</p><p>For every tag plugin in the list below I provide a <a href="https://code.visualstudio.com/docs/editor/userdefinedsnippets">Visual Studio Code Snippet</a> to quickly insert a plugin into the content via the hotkey <code>Ctrl+Space</code>. To use the snippest create a new <code>.code-snippets</code> file in your projects <code>.vscode</code> folder and insert the snippets of all tag plugins you have downloaded into your project.</p><h3 id="Parameter-Description-Syntax"><a href="#Parameter-Description-Syntax" class="headerlink" title="Parameter Description Syntax"></a>Parameter Description Syntax</h3><p>Every tag plugin includes a description in the header how to use it. The syntax is as follows:</p><table><thead><tr><th>Syntax</th><th>Description</th></tr></thead><tbody><tr><td><code>param1</code></td><td>mandatory parameter</td></tr><tr><td><code>[param2]</code></td><td>optional parameter</td></tr><tr><td><code>[param2=default]</code></td><td>optional parameter with default value</td></tr><tr><td><code>param:(option1,option2)</code></td><td>parameter option list to choose one option</td></tr><tr><td><code>...&quot;value1|value2&quot;</code></td><td>pipe delimitered array of values</td></tr></tbody></table><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h2><ul><li><a href="#anchor">Anchor</a></li><li><a href="#anchorlist">Anchorlist</a></li><li><a href="#alertbox">Alertbox</a></li><li><a href="#alternative-blockquote">Alternative Blockquote</a></li><li><a href="#blockquote-details">Blockquote Details</a></li><li><a href="#codepen">Codepen</a></li><li><a href="#codesandbox">CodeSandbox</a></li><li><a href="#download-link">Download Link</a></li><li><a href="#github-readme">Github Readme</a></li><li><a href="#github-user--repo-card">GitHub User &amp; Repo Card</a></li><li><a href="#image-compare">Image Compare</a></li><li><a href="#image-link">Image Link</a></li><li><a href="#image-slide">Image Slide</a></li><li><a href="#indiepen">Indiepen</a></li><li><a href="#more-info">More Info</a></li></ul><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Anchor"><a href="#Anchor" class="headerlink" title="Anchor"></a>Anchor</h2><p>A simple anchor element as <code>A</code>- or <code>HR</code>-Tag as jump target for example from a <code>Anchorlist</code>.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-anchor.js">tag-anchor.js</a></li></ul><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% anchor &quot;anchorId&quot; elementType:(A,HR) %}``</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>anchorId</code></td><td>-</td><td>String to define the anchor id</td></tr><tr><td>2</td><td><code>elementType</code></td><td>-</td><td>Type of tag to render; select out of <code>A</code> or  <code>HR</code></td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% anchor &quot;my-anchor&quot; HR  %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;hr id=&quot;my-anchor&quot;&gt;</code></pre><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.anchor&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.anchor&quot;,  &quot;body&quot;: [    &quot;{% anchor \&quot;${1:anchorId}\&quot; ${2|A,HR|}  %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s anchor&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Anchorlist"><a href="#Anchorlist" class="headerlink" title="Anchorlist"></a>Anchorlist</h2><p>Creates an overview of all anchors in the content with jump links.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-anchorlist.js">tag-anchorlist.js</a></li></ul><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% anchorlist ...&quot;title|anchorId&quot; %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>...&quot;title|anchorId&quot;</code></td><td>-</td><td>List of pipe separated items with referencing title and anchor id</td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% anchorlist  &quot;My First Anchor|a1&quot;  &quot;My Second Anchor|a2&quot;%}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;ul class=&quot;anchorlist&quot;&gt;  &lt;li data-anchor=&quot;#a1&quot;&gt;    &lt;a href=&quot;#a1&quot;&gt;My First Anchor&lt;/a&gt;  &lt;/li&gt;  &lt;li data-anchor=&quot;#a2&quot;&gt;    &lt;a href=&quot;#a2&quot;&gt;My Second Anchor&lt;/a&gt;  &lt;/li&gt;&lt;/ul&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-anchorlist-example.png" alt="Anchorlist Example"></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.anchorlist&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.anchorlist&quot;,  &quot;body&quot;: [    &quot;{% anchorlist ${1:...\&quot;title|anchorId\&quot;} %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s anchorlist&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Alertbox"><a href="#Alertbox" class="headerlink" title="Alertbox"></a>Alertbox</h2><p>Renders a iconized colored box with text for warnings or with some special information. 6 styles are provided: Exclamation, Question, Warning, Info, Success and Note.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-alertbox.js">tag-alertbox.js</a></li><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-alertbox.css">tag-alertbox.css</a></li></ul><p><strong>Prequisites:</strong></p><p>The icons are from the font <strong>FontAwesome Free Solid</strong>, you need to reference in your CSS either from your project or from a CDN. You will find such  references in the file <code>tag-alertbox.css</code>, together with all other necessary styles.</p><p><strong>Syntax:</strong></p><pre><code class="txt">{% alertbox alertType:(exclamation,question,warning,info,success,note) %}content{% endalertbox %}``</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>alertType</code></td><td>-</td><td>Type of the alert (icon and color); select out of <code>exclamation</code>, <code>question</code>, <code>warning</code>, <code>info</code>, <code>success</code> or <code>note</code></td></tr></tbody></table><p><code>content</code> is not a parameter, but Markdown to render.</p><p><strong>Usage Example:</strong></p><pre><code class="js">{% alertbox warning %}Something has failed!{% endalertbox %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;div class=&quot;alertbox alertbox-warning&quot;&gt;  &lt;p&gt;Something has failed!&lt;/p&gt;&lt;/div&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-alertbox-example.png" alt="Alertbox Example"></p><p>See a live example at <a href="https://kiko.io/post/Hexo-Tag-Plugin-Collection/#alertbox">https://kiko.io/post/Hexo-Tag-Plugin-Collection/#alertbox</a></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.alertbox&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.alertbox&quot;,  &quot;body&quot;: [    &quot;{% alertbox ${1|exclamation,question,warning,info,success,note|} %}&quot;,    &quot;${2:content}&quot;,    &quot;{% endalertbox %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s alertbox&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Alternative-Blockquote"><a href="#Alternative-Blockquote" class="headerlink" title="Alternative Blockquote"></a>Alternative Blockquote</h2><p>An alternative blockquote tag plugin for quotes with citator and reference url.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-blockquote_alt.js">tag-blockquote_alt.js</a></li></ul><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% blockquote_alt &quot;cite&quot; [&quot;citeUrl&quot;] %}quote{% endblockquote_alt %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>cite</code></td><td></td><td>Author of the quote</td></tr><tr><td>2</td><td><code>citeUrl</code></td><td>yes</td><td>Url to the quote</td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% blockquote_alt &quot;Anonymous&quot; &quot;https://en.wikipedia.org/wiki/Lorem_ipsum&quot; %}Lorem ipsum dolor sit amet...{% endblockquote_alt %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;div&gt;  &lt;blockquote&gt;    &lt;p&gt;Lorem ipsum dolor sit amet…&lt;/p&gt;  &lt;/blockquote&gt;  &lt;cite&gt;    &lt;a href=&quot;https://en.wikipedia.org/wiki/Lorem_ipsum&quot;&gt;--- Anonymous&lt;/a&gt;  &lt;/cite&gt;&lt;/div&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-blockqoute_alt-example.png" alt="Alternative Blockquote Example"></p><p>See a live example at <a href="https://kiko.io/post/Hexo-Tag-Plugin-Collection/#blockquote_alt">https://kiko.io/post/Hexo-Tag-Plugin-Collection/#blockquote_alt</a></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.blockquote&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.blockquote&quot;,  &quot;body&quot;: [    &quot;{% blockquote_alt \&quot;${1:cite}\&quot; [\&quot;${2:citeUrl}\&quot;] %}&quot;,    &quot;${3:content}&quot;,    &quot;{% endblockquote_alt %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s blockquote&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Blockquote-Details"><a href="#Blockquote-Details" class="headerlink" title="Blockquote Details"></a>Blockquote Details</h2><p>Blockquote including summary, citator and reference url, wrapped in a <code>details</code> tag.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-blockquote_details.js">tag-blockquote_details.js</a></li></ul><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% blockquote_details &quot;summary&quot; &quot;cite&quot; [&quot;citeUrl&quot;] %}quote{% endblockquote_details %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>summary</code></td><td>-</td><td>Summary of the quote</td></tr><tr><td>2</td><td><code>cite</code></td><td>-</td><td>Author of the quote</td></tr><tr><td>3</td><td><code>citeUrl</code></td><td>yes</td><td>Url to the quote</td></tr></tbody></table><p><code>quote</code> is not a parameter, but Markdown to render.</p><p><strong>Usage Example:</strong></p><pre><code class="js">{% blockquote_details &quot;Lorem ipsum&quot; &quot;Anonymous&quot; &quot;https://en.wikipedia.org/wiki/Lorem_ipsum&quot; %}Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.{% endblockquote_details %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;details&gt;  &lt;summary&gt;Lorem ipsum&lt;/summary&gt;  &lt;blockquote&gt;    &lt;p&gt;      Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.    &lt;/p&gt;  &lt;/blockquote&gt;  &lt;cite&gt;    &lt;a href=&quot;https://en.wikipedia.org/wiki/Lorem_ipsum&quot;&gt;--- Anonymous&lt;/a&gt;  &lt;/cite&gt;&lt;/details&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-blockqoute_details-example.png" alt="Blockqoute Details Example"></p><p>See a live example at <a href="https://kiko.io/post/Hexo-Tag-Plugin-Collection/#blockquote_details">https://kiko.io/post/Hexo-Tag-Plugin-Collection/#blockquote_details</a></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.blockquote_details&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.blockquote_details&quot;,  &quot;body&quot;: [    &quot;{% blockquote_details \&quot;${1:summary}\&quot; \&quot;${2:cite}\&quot; [\&quot;${3:citeUrl}\&quot;] %}&quot;,    &quot;${4:quote}&quot;,    &quot;{% endblockquote_details %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s blockquote_details&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Codepen"><a href="#Codepen" class="headerlink" title="Codepen"></a>Codepen</h2><p>Embedding a pen from <a href="https://codepen.io/">codepen.io</a>.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-codepen.js">tag-codepen.js</a></li></ul><p><strong>Prequisites:</strong></p><p>You need following configuration section in your <code>_config.yml</code>:</p><pre><code class="yml"># Codepen Defaultscodepen:  user_id: &quot;your-name&quot;  default_tab: &quot;js&quot;  height: 400  width: &quot;100%&quot;</code></pre><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% codepen &quot;slugHash&quot; &quot;title&quot; [defaultTab:(html,js,css)] [height] [&quot;width&quot;] %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>slugHash</code></td><td>-</td><td>Codepens SlugHash</td></tr><tr><td>2</td><td><code>title</code></td><td>-</td><td>Title</td></tr><tr><td>3</td><td><code>defaultTab</code></td><td>js</td><td>Default tab to show ; select out of <code>html</code>, <code>js</code> or <code>css</code></td></tr><tr><td>4</td><td><code>height</code></td><td>300</td><td>Height as number</td></tr><tr><td>5</td><td><code>width</code></td><td>“100%”</td><td>Width as CSS value</td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% codepen &quot;abjJNYE&quot; &quot;Lorem Ipsum&quot; html %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;iframe   height=&quot;400&quot;   id=&quot;codepen-abjJNYE&quot;   class=&quot;codepen&quot;   src=&quot;https://codepen.io/kristofzerbe/embed/abjJNYE?height=400&amp;amp;default-tab=html,result&amp;amp;theme-id=light&quot;   style=&quot;width: 100%;&quot;   scrolling=&quot;no&quot;   title=&quot;Codepen: Lorem Ipsum&quot;   frameborder=&quot;no&quot;   loading=&quot;lazy&quot;   allowtransparency=&quot;true&quot;   allowfullscreen=&quot;true&quot;&gt;&lt;/iframe&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-codepen-example.png" alt="Codepen Example"></p><p>See a live example at <a href="https://kiko.io/post/Hexo-Tag-Plugin-Collection/#codepen">https://kiko.io/post/Hexo-Tag-Plugin-Collection/#codepen</a></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.codepen&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.codepen&quot;,  &quot;body&quot;: [    &quot;{% codepen \&quot;${1:slugHash}\&quot; \&quot;${2:title}\&quot; [${3|html,js,css|}] [${4:height}] [\&quot;${5:width}\&quot;] %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s codepen&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="CodeSandbox"><a href="#CodeSandbox" class="headerlink" title="CodeSandbox"></a>CodeSandbox</h2><p>Embedding a sandbox from <a href="https://codesandbox.io/">CodeSandbox</a>.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-codesandbox.js">tag-codesandbox.js</a></li></ul><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% codesandbox &quot;slugHash&quot; &quot;title&quot; [height] [&quot;width&quot;] %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>slugHash</code></td><td>-</td><td>Sandbox’ SlugHash</td></tr><tr><td>2</td><td><code>title</code></td><td>-</td><td>Title</td></tr><tr><td>3</td><td><code>height</code></td><td>500</td><td>Height as number</td></tr><tr><td>4</td><td><code>width</code></td><td>“100%”</td><td>Width as CSS value</td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% codesandbox &quot;cool-shamir-de613&quot; &quot;Lorem Ipsum&quot; 300 %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;iframe   src=&quot;https://codesandbox.io/embed/cool-shamir-de613?fontsize=14&amp;amp;theme=light&quot;   style=&quot;width:100%; height:300px; border:0; overflow:hidden;&quot;   title=&quot;Lorem Ipsum&quot;   sandbox=&quot;allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts&quot;&gt;&lt;/iframe&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-codesandbox-example.png" alt="CodeSandbox Example"></p><p>See a live example at <a href="https://kiko.io/post/Hexo-Tag-Plugin-Collection/#codesandbox">https://kiko.io/post/Hexo-Tag-Plugin-Collection/#codesandbox</a></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.codesandbox&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.codesandbox&quot;,  &quot;body&quot;: [    &quot;{% codesandbox ${1:\&quot;slugHash}\&quot; \&quot;${2:title}\&quot; [${3:height}] [\&quot;${4:width}\&quot;] %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s codesandbox&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Download-Link"><a href="#Download-Link" class="headerlink" title="Download Link"></a>Download Link</h2><p>Button link for downloading an asset file, with additional caption (“Download &lt;additionalCaption&gt; &lt;assetFile&gt;”).</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-download-link.js">tag-download-link.js</a></li></ul><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% download_link &quot;assetFile&quot; [&quot;additionalCaption&quot;] %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>assetFile</code></td><td></td><td>Asset file name to download</td></tr><tr><td>2</td><td><code>additionalCaption</code></td><td>yes</td><td>Additional caption between <em>“Download “</em> and file name</td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% download_link &quot;example-image_ORIGINAL.jpg&quot; &quot;Photo&quot; %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;p class=&quot;download-link&quot;&gt;  &lt;a class=&quot;button&quot; href=&quot;example-image_ORIGINAL.jpg&quot; download=&quot;&quot;&gt;    Download Photo &lt;strong&gt;example-image_ORIGINAL.jpg&lt;/strong&gt;  &lt;/a&gt;&lt;/p&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-download-link-example.png" alt="Download Link Example"></p><p>See a live example at <a href="https://kiko.io/post/Hexo-Tag-Plugin-Collection/#download-link">https://kiko.io/post/Hexo-Tag-Plugin-Collection/#download-link</a></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.download_link&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.download_link&quot;,  &quot;body&quot;: [    &quot;{% download_link \&quot;${1:assetFile}\&quot; \&quot;${2:additionalCaption}\&quot; %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s download_link&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Github-Readme"><a href="#Github-Readme" class="headerlink" title="Github Readme"></a>Github Readme</h2><p>Gets the README file of a Github repo and renders its Markdown as HTML in a <code>detail</code> tag.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-github-readme.js">tag-github-readme.js</a></li></ul><p><strong>Prequisites:</strong></p><p>You need to have installed the <a href="https://www.npmjs.com/package/axios"><strong>Axios</strong> package</a> in your project.</p><p>The HTML output has no styles, therefore you need some in your CSS for <code>.github-readme</code>.</p><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% github_readme &quot;user&quot; &quot;repo&quot; [&quot;summary&quot;] %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>user</code></td><td></td><td>Name of the GitHub user</td></tr><tr><td>2</td><td><code>repo</code></td><td></td><td>Name of the GitHub repo</td></tr><tr><td>3</td><td><code>summary</code></td><td>“Project README on Github”</td><td>Caption of the DETAILS element</td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% github_readme &quot;kristofzerbe&quot; &quot;hexo-tag-plugins&quot; %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;details class=&quot;github-readme&quot;&gt;  &lt;summary&gt;Project README on Github&lt;/summary&gt;  &lt;div&gt;    &lt;!-- Content of the README file converted to HTML --&gt;  &lt;/div&gt;&lt;/details&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-github-readme-example.png" alt="Github Readme Example"></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.github_readme&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.github_readme&quot;,  &quot;body&quot;: [    &quot;{% github_readme \&quot;${1:user}\&quot; \&quot;${2:repo}\&quot; \&quot;${3:[summary]}\&quot; %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s github_readme&quot;}</code></pre><p>See a live example at <a href="https://kiko.io/post/GitHub-Tag-Plugins-for-Hexo/#readme">https://kiko.io/post/GitHub-Tag-Plugins-for-Hexo/#readme</a></p><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="GitHub-User-amp-Repo-Card"><a href="#GitHub-User-amp-Repo-Card" class="headerlink" title="GitHub User &amp; Repo Card"></a>GitHub User &amp; Repo Card</h2><p>Renders a card-like info panel, with full information about a GitHub repo and its creator, the GitHub user.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-github-user-and-repo-card.js">tag-github-user-and-repo-card.js</a></li><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-github-user-and-repo-card.css">tag-github-user-and-repo-card.css</a></li></ul><p><strong>Prequisites:</strong></p><p>You need to have installed the <a href="https://www.npmjs.com/package/axios"><strong>Axios</strong> package</a> in your project.</p><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% github_user_and_repo_card &quot;user&quot; &quot;repo&quot; [&quot;cardWidth&quot;] [&quot;userheight&quot;] [&quot;avatarSize&quot;] %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>user</code></td><td></td><td>Name of the GitHub user</td></tr><tr><td>2</td><td><code>repo</code></td><td></td><td>Name of the GitHub repo</td></tr><tr><td>3</td><td><code>cardWidth</code></td><td>“400px”</td><td>Maximum width of the card; Minimum is 300px</td></tr><tr><td>4</td><td><code>userheight</code></td><td>“120px”</td><td>Height of the upper user panel</td></tr><tr><td>5</td><td><code>avatarSize</code></td><td>“90px”</td><td>Size of the avatar image as CSS value</td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% github_user_and_repo_card &quot;kristofzerbe&quot; &quot;hexo-tag-plugins&quot; &quot;500px&quot; %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;!-- see tag-github-user-and-repo-card.html --&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-github-user-and-repo-card-example.png" alt="GitHub User &amp; Repo Card Example"></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.github_user_and_repo_card&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.github_user_and_repo_card&quot;,  &quot;body&quot;: [    &quot;{% github_user_and_repo_card \&quot;${1:user}\&quot; \&quot;${2:repo}\&quot; \&quot;${3:[cardWidth]}\&quot; \&quot;${4:[userhight]}\&quot; \&quot;${5:[avatarSize]}\&quot; %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s github_user_and_repo_card&quot;}</code></pre><p>See a live example at <a href="https://kiko.io/post/GitHub-Tag-Plugins-for-Hexo/#user-and-repo-card">https://kiko.io/post/GitHub-Tag-Plugins-for-Hexo/#user-and-repo-card</a></p><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Image-Compare"><a href="#Image-Compare" class="headerlink" title="Image Compare"></a>Image Compare</h2><p>Comparing two asset images side-by-side with the aid of the JS library <a href="https://image-compare-viewer.netlify.app/">Image Compare Viewer</a>.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-image-compare.js">tag-image-compare.js</a></li></ul><p><strong>Prequisites:</strong></p><p>As this tag plugin relies on an external JS library, the files <code>image-compare-viewer.js</code> and <code>image-compare-viewer.css</code> (or its minified versions) must be loaded in the header of the web page.</p><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% image_compare   &quot;imgFileOriginal&quot;   &quot;imgFileModified&quot;   &quot;descriptionModified&quot;   [orientation=vertical] %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>imgFileOriginal</code></td><td>-</td><td>Original asset image file name</td></tr><tr><td>2</td><td><code>imgFileModified</code></td><td>-</td><td>Modified asset image file name</td></tr><tr><td>3</td><td><code>descriptionModified</code></td><td>-</td><td>Description</td></tr><tr><td>4</td><td><code>orientation</code></td><td>null</td><td>Vertical orientation Mode; set <code>vertical</code> to select</td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% image_compare   &quot;example-image_ORIGINAL.jpg&quot;  &quot;example-image_PRESET.jpg&quot;  &quot;Lightroom Preset&quot; %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;div id=&quot;image-compare-1yrasq&quot;&gt;  &lt;img class=&quot;image-compare image-original&quot;        src=&quot;/post/my-post/example-image_ORIGINAL.jpg&quot; alt=&quot;&quot; /&gt;  &lt;img class=&quot;image-compare image-modified&quot;        src=&quot;/post/my-post/example-image_PRESET.jpg&quot; alt=&quot;&quot; /&gt;&lt;/div&gt;&lt;script&gt;  var themeColor = &quot;#ffffff&quot;;  if (localStorage.getItem(&quot;theme&quot;) === &#39;dark&#39;) {    themeColor = &quot;#222222&quot;  }  new ImageCompare(document.getElementById(&quot;image-compare-1yrasq&quot;),  {    controlColor: themeColor,    controlShadow: false,    verticalMode: false,    showLabels: true,    labelOptions: {      before: &#39;Original&#39;,      after: &#39;Lightroom Preset&#39;,      onHover: true,    }  }).mount();&lt;/script&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-image-compare-example.png" alt="Image Compare Example"></p><p>See a live example at <a href="https://kiko.io/post/Hexo-Tag-Plugin-Collection/#image-compare">https://kiko.io/post/Hexo-Tag-Plugin-Collection/#image-compare</a></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.image_compare&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.image_compare&quot;,  &quot;body&quot;: [    &quot;{% image_compare \&quot;${1:imgFileOriginal}\&quot; \&quot;${2:imgFileModified}\&quot; \&quot;${3:modDesc}\&quot; [\&quot;${4|vertical|}\&quot;] %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s image_compare&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Image-Link"><a href="#Image-Link" class="headerlink" title="Image Link"></a>Image Link</h2><p>Renders an image including ALT attribute within a link.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-image-link.js">tag-image-link.js</a></li></ul><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% image_link &quot;assetImg&quot; &quot;url&quot; &quot;alt&quot; %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>assetImg</code></td><td>-</td><td>Asset image file name</td></tr><tr><td>2</td><td><code>url</code></td><td>-</td><td>Url to link to</td></tr><tr><td>3</td><td><code>alt</code></td><td>-</td><td>Alternate text</td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% image_link &quot;kiko-io-screenshot.png&quot; &quot;http://kiko.io&quot; &quot;Blog kiko.io&quot; %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;a href=&quot;http://kiko.io&quot;&gt;  &lt;img src=&quot;kiko-io-screenshot.png&quot; alt=&quot;Blog kiko.io&quot;&gt;&lt;/a&gt;</code></pre><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.image_link&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.image_link&quot;,  &quot;body&quot;: [    &quot;{% image_link \&quot;${1:assetImg}\&quot; \&quot;${2:url}\&quot; \&quot;${3:alt}\&quot; %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s image_link&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Image-Slide"><a href="#Image-Slide" class="headerlink" title="Image Slide"></a>Image Slide</h2><p>Shows multiple images within a slider with the aid of the JS library <a href="https://github.com/ganlanyuan/tiny-slider">Tiny Slider</a>.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-image-slide.js">tag-image-slide.js</a></li></ul><p><strong>Prequisites:</strong></p><p>As this tag plugin relies on an external JS library, the files <code>tiny-slider.js</code> and <code>tiny-slider.css</code> (or its minified versions) must be loaded in the header of the web page.</p><p>The CSS file doesn’t include styles for the <code>.tns-nav</code> and its controls, but you can use the following to extend the original CSS:</p><pre><code class="css">.tns-nav {    text-align: center;    margin: 10px 0;}.tns-nav &gt; [aria-controls] {    width: 12px;    height: 12px;    padding: 0;    margin: 0 5px;    border-radius: 50%;    background: #ddd;    border: 0;}.tns-nav &gt; .tns-nav-active {    background: #999;}</code></pre><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% image_slide ...&quot;assetImg|title&quot; %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>...&quot;assetImg|title&quot;</code></td><td></td><td>List of pipe separated items with asset image file and title</td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% image_slide  &quot;example-image_ORIGINAL.jpg|Original&quot;  &quot;example-image_PRESET.jpg|Lightroom Preset&quot;%}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;div class=&quot;image-slider&quot; id=&quot;image-slide-w7jgxk&quot;&gt;  &lt;div&gt;    &lt;img src=&quot;/post/my-post/example-image_ORIGINAL.jpg&quot; alt=&quot;Original&quot; /&gt;  &lt;/div&gt;  &lt;div&gt;    &lt;img src=&quot;/post/my-post/example-image_PRESET.jpg&quot; alt=&quot;Lightroom Preset&quot; /&gt;  &lt;/div&gt;&lt;/div&gt;&lt;script&gt;  tns({    container: &quot;#image-slide-w7jgxk&quot;,    items: 1,    slideBy: &quot;page&quot;,    controls: false,    nav: true  });&lt;/script&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-image-slide-example.png" alt="Image Slide Example"></p><p>See a live example at <a href="https://kiko.io/post/Hexo-Tag-Plugin-Collection/#image-slide">https://kiko.io/post/Hexo-Tag-Plugin-Collection/#image-slide</a></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.image_slide&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.image_slide&quot;,  &quot;body&quot;: [    &quot;{% image_slide ${1:...\&quot;assetImg|title\&quot;} %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s image_slide&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="Indiepen"><a href="#Indiepen" class="headerlink" title="Indiepen"></a>Indiepen</h2><p>Embedding a “local” pen (<code>index.html</code>, <code>main.js</code> and <code>styles.css</code> stored in an asset subfolder) via <a href="https://indiepen.tech/">Indiepen</a>.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-indiepen.js">tag-indiepen.js</a></li></ul><p><strong>Prequisites:</strong></p><p>You need following configuration section in your <code>_config.yml</code>:</p><pre><code class="yml"># Indiepen Defaultsindiepen:  default_tab: &quot;result&quot;  height: 450</code></pre><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% indiepen &quot;subfolder&quot; [height] [defaultTab:(result,html,css,js)] %}</code></pre><p><strong>Parameters:</strong></p><table><thead><tr><th>No</th><th>Parameter</th><th>optional&#x2F;default</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td><code>subfolder</code></td><td></td><td>Asset subfolder with indiepen files</td></tr><tr><td>2</td><td><code>defaultTab</code></td><td>result</td><td>Default tab to show ; select out of <code>result</code>, <code>html</code>, <code>js</code> or <code>css</code></td></tr><tr><td>3</td><td><code>height</code></td><td>450</td><td>Height as number</td></tr></tbody></table><p><strong>Usage Example:</strong></p><pre><code class="js">{% indiepen &quot;my-pen&quot; 300 html %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;iframe class=&quot;indiepen&quot;        src=&quot;https://indiepen.tech/embed/?url=https%3A%2F%2Fmy-blog.com%2Fpost%2Fmy-post%2Fmy-pen&amp;tab=html&quot;        style=&quot;width: 100%; overflow: hidden; display: block; border: 0;&quot;        title=&quot;Indiepen Embed&quot;        loading=&quot;lazy&quot;         width=&quot;100%&quot;         height=&quot;300&quot;&gt;&lt;/iframe&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-indiepen-example.png" alt="Indiepen Example"></p><p>See a live example at <a href="https://kiko.io/post/Hexo-Tag-Plugin-Collection/#indiepen">https://kiko.io/post/Hexo-Tag-Plugin-Collection/#indiepen</a></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.indiepen&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.indiepen&quot;,  &quot;body&quot;: [    &quot;{% indiepen \&quot;${1:subfolder}\&quot; ${2:height} ${3|result,html,css,js|} %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s indiepen&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2><p>Renders a list of related, informative links regarding a post.</p><p><strong>Files:</strong></p><ul><li><a href="https://github.com/kristofzerbe/hexo-tag-plugins/blob/main/tag-moreinfo.js">tag-moreinfo.js</a></li></ul><p><strong>Syntax:</strong>  </p><pre><code class="txt">{% moreinfo &#39;{ &quot;list&quot;: [  [ &quot;publisher&quot;, &quot;title&quot;, &quot;url&quot; ]]}&#39; %}</code></pre><p><strong>Usage Example:</strong></p><pre><code class="js">{% moreinfo &#39;{ &quot;list&quot;: [  [ &quot;Wikipedia&quot;, &quot;Markdown&quot;,  &quot;https://en.wikipedia.org/wiki/Markdown&quot; ],  [ &quot;Markdown Guide&quot;, &quot;Basic Syntax&quot;,  &quot;https://www.markdownguide.org/basic-syntax/&quot; ],  [ &quot;Daring Fireball&quot;, &quot;Markdown: Syntax&quot;,  &quot;https://daringfireball.net/projects/markdown/syntax&quot; ]]}&#39; %}</code></pre><p><strong>Output:</strong></p><pre><code class="html">&lt;ul class=&quot;moreinfo-list&quot;&gt;  &lt;li&gt;Wikipedia: &lt;a href=&quot;https://en.wikipedia.org/wiki/Markdown&quot;&gt;Markdown&lt;/a&gt;&lt;/li&gt;  &lt;li&gt;Markdown Guide: &lt;a href=&quot;https://www.markdownguide.org/basic-syntax/&quot;&gt;Basic Syntax&lt;/a&gt;&lt;/li&gt;  &lt;li&gt;Daring Fireball: &lt;a href=&quot;https://daringfireball.net/projects/markdown/syntax&quot;&gt;Markdown: Syntax&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/tag-more-info-example.png" alt="More Info Example"></p><p>See a live example at <a href="https://kiko.io/post/Hexo-Tag-Plugin-Collection/#more-info">https://kiko.io/post/Hexo-Tag-Plugin-Collection/#more-info</a></p><p><strong>VS Code Snippet:</strong></p><pre><code class="json">&quot;hexo.kiko-io.moreinfo&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.moreinfo&quot;,  &quot;body&quot;: [    &quot;{% moreinfo &#39;{ \&quot;list\&quot;: [&quot;,    &quot;  [ ${1:\&quot;publisher\&quot;}, ${2:\&quot;title\&quot;},&quot;,    &quot;  ${3:\&quot;url\&quot;} ]$0&quot;,    &quot;]}&#39; %}&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s moreinfo&quot;}</code></pre><p>To insert one more item to the list, use:</p><pre><code class="json">&quot;hexo.kiko-io.moreinfo.item&quot;: {  &quot;scope&quot;: &quot;markdown&quot;,  &quot;prefix&quot;: &quot;hexo.kiko-io.moreinfo.item&quot;,  &quot;body&quot;: [    &quot;[ ${1:\&quot;publisher\&quot;}, ${2:\&quot;title\&quot;},&quot;,     &quot;${3:\&quot;url\&quot;} ]$0&quot;  ],  &quot;description&quot;: &quot;Insert kiko.io&#39;s moreinfo item&quot;}</code></pre><p><img src="https://raw.githubusercontent.com/kristofzerbe/hexo-tag-plugins/main/assets/divider.png" alt="-"></p><h2 id="History"><a href="#History" class="headerlink" title="History"></a>History</h2><p><strong>2021-12-29</strong></p><ul><li>Description of parameters added</li><li><strong>Github Readme</strong> added</li><li><strong>GitHub User &amp; Repo Card</strong> added</li></ul><p><strong>2021-12-12</strong> </p><ul><li>Initial Commit</li></ul><h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p><strong>MIT</strong> : <a href="http://opensource.org/licenses/MIT">http://opensource.org/licenses/MIT</a></p></div>        </details>      <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#github-readme">https://github.com/kristofzerbe/hexo-tag-plugins#github-readme</a> for more details.</p>                <hr id="user-and-repo-card" />            <h2 id="GitHub-User-amp-Repo-Card"><a href="#GitHub-User-amp-Repo-Card" class="headerlink" title="GitHub User &amp; Repo Card"></a>GitHub User &amp; Repo Card</h2><p>Renders a card-like info panel, with full information about a GitHub repo and its creator, the GitHub user.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% github_user_and_repo_card <span class="string">&quot;kristofzerbe&quot;</span> <span class="string">&quot;hexo-tag-plugins&quot;</span> <span class="string">&quot;500px&quot;</span> %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>    <style>      #gh-card-hexo-tag-plugins {        --gh-card-width: 500px;        --gh-user-height: 120px;        --gh-avatar-size: 90px;          }    </style>    <div id="gh-card-hexo-tag-plugins" class="gh-card">      <a class="gh-logo" href="https://github.com" title="github.com">        <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16" data-view-component="true" fill="#fff"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>      </a>          <a class="gh-link" href="https://kiko.io" title="Blog">      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" aria-hidden="true" fill="#fff"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 0 0 1.06 1.06l1.25-1.25a2 2 0 1 1 2.83 2.83l-2.5 2.5a2 2 0 0 1-2.83 0 .75.75 0 0 0-1.06 1.06 3.5 3.5 0 0 0 4.95 0l2.5-2.5a3.5 3.5 0 0 0-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 0 1 0-2.83l2.5-2.5a2 2 0 0 1 2.83 0 .75.75 0 0 0 1.06-1.06 3.5 3.5 0 0 0-4.95 0l-2.5 2.5a3.5 3.5 0 0 0 4.95 4.95l1.25-1.25a.75.75 0 0 0-1.06-1.06l-1.25 1.25a2 2 0 0 1-2.83 0z"/></svg>                </a>        <a href="https://github.com/kristofzerbe">        <img class="gh-avatar" src="https://avatars.githubusercontent.com/u/243113?v=4" />      </a>      <a href="https://github.com/kristofzerbe" class="gh-user">        <div class="gh-account">          <h1>Kristof Zerbe</h1>          <h2>kristofzerbe</h2>            </div>        <div class="gh-info gh-repos">          <strong>31</strong>          <span>Repos</span>        </div>        <div></div>        <div class="gh-info gh-followers">          <strong>8</strong>          <span>Followers</span>        </div>      </a>      <div class="gh-repo">        <a class="gh-meta gh-stars" href="https://github.com/kristofzerbe/hexo-tag-plugins/stargazers" title="Stargazers">          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16" data-view-component="true"><path fill-rule="evenodd" d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.75.75 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694v.001z"/></svg>          <span>1</span>        </a>        <a class="gh-meta gh-watchers" href="github.com/kristofzerbe/hexo-tag-plugins/watchers" title="Subscribers">          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16" data-view-component="true"><path fill-rule="evenodd" d="M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 0 1 0 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 0 1 0-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 0 0 0 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 0 0 0-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>          <span>1</span>        </a>        <div></div>        <a class="gh-meta gh-forks" href="https://github.com/kristofzerbe/hexo-tag-plugins/network/members" title="Forks">          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16" data-view-component="true"><path fill-rule="evenodd" d="M5 3.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm0 2.122a2.25 2.25 0 1 0-1.5 0v.878A2.25 2.25 0 0 0 5.75 8.5h1.5v2.128a2.251 2.251 0 1 0 1.5 0V8.5h1.5a2.25 2.25 0 0 0 2.25-2.25v-.878a2.25 2.25 0 1 0-1.5 0v.878a.75.75 0 0 1-.75.75h-4.5A.75.75 0 0 1 5 6.25v-.878zm3.75 7.378a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm3-8.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5z"/></svg>          <span>1</span>        </a>        <a class="gh-meta gh-issues" href="github.com/kristofzerbe/hexo-tag-plugins/issues" title="Issues">          <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16" data-view-component="true"><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"/><path fill-rule="evenodd" d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM1.5 8a6.5 6.5 0 1 1 13 0 6.5 6.5 0 0 1-13 0z"/></svg>          <span>0</span>        </a>        <div class="gh-desc">          <h2>            <a href="https://github.com/kristofzerbe/hexo-tag-plugins">hexo-tag-plugins</a>          </h2>          <p>Hexo Tag Plugin Collection from kiko.io</p>          <div class="gh-language-bar">                  <span style="background-color: #f1e05a; width: 64.2%;"></span>          <span style="background-color: #e34c26; width: 18.6%;"></span>          <span style="background-color: #563d7c; width: 17.1%;"></span>              </div>          <ul class="gh-language-list">                  <li>        <svg xmlns="http://www.w3.org/2000/svg" style="color:#f1e05a !important;" aria-hidden="true" viewBox="0 0 16 16" data-view-component="true"><path fill-rule="evenodd" d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"/></svg>        <strong>JavaScript</strong><span>64.2%</span>      </li>          <li>        <svg xmlns="http://www.w3.org/2000/svg" style="color:#e34c26 !important;" aria-hidden="true" viewBox="0 0 16 16" data-view-component="true"><path fill-rule="evenodd" d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"/></svg>        <strong>HTML</strong><span>18.6%</span>      </li>          <li>        <svg xmlns="http://www.w3.org/2000/svg" style="color:#563d7c !important;" aria-hidden="true" viewBox="0 0 16 16" data-view-component="true"><path fill-rule="evenodd" d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"/></svg>        <strong>CSS</strong><span>17.1%</span>      </li>              </ul>          <p class="gh-law">            <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 16 16" data-view-component="true"><path fill-rule="evenodd" d="M8.75.75a.75.75 0 0 0-1.5 0V2h-.984c-.305 0-.604.08-.869.23l-1.288.737A.25.25 0 0 1 3.984 3H1.75a.75.75 0 0 0 0 1.5h.428L.066 9.192a.75.75 0 0 0 .154.838l.53-.53-.53.53v.001l.002.002.002.002.006.006.016.015.045.04a3.514 3.514 0 0 0 .686.45A4.492 4.492 0 0 0 3 11c.88 0 1.556-.22 2.023-.454a3.515 3.515 0 0 0 .686-.45l.045-.04.016-.015.006-.006.002-.002.001-.002L5.25 9.5l.53.53a.75.75 0 0 0 .154-.838L3.822 4.5h.162c.305 0 .604-.08.869-.23l1.289-.737a.25.25 0 0 1 .124-.033h.984V13h-2.5a.75.75 0 0 0 0 1.5h6.5a.75.75 0 0 0 0-1.5h-2.5V3.5h.984a.25.25 0 0 1 .124.033l1.29.736c.264.152.563.231.868.231h.162l-2.112 4.692a.75.75 0 0 0 .154.838l.53-.53-.53.53v.001l.002.002.002.002.006.006.016.015.045.04a3.517 3.517 0 0 0 .686.45A4.492 4.492 0 0 0 13 11c.88 0 1.556-.22 2.023-.454a3.512 3.512 0 0 0 .686-.45l.045-.04.01-.01.006-.005.006-.006.002-.002.001-.002-.529-.531.53.53a.75.75 0 0 0 .154-.838L13.823 4.5h.427a.75.75 0 0 0 0-1.5h-2.234a.25.25 0 0 1-.124-.033l-1.29-.736A1.75 1.75 0 0 0 9.735 2H8.75V.75zM1.695 9.227c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L3 6.327l-1.305 2.9zm10 0c.285.135.718.273 1.305.273s1.02-.138 1.305-.273L13 6.327l-1.305 2.9z"/></svg>            <span>MIT License</span>          </p>        </div>      </div>    </div>  <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#github-user--repo-card">https://github.com/kristofzerbe/hexo-tag-plugins#github-user--repo-card</a> for more details.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> GitHub </tag>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #15 - Self Hosted</title>
      <link href="/post/Discoveries-15-Self-Hosted/"/>
      <url>/post/Discoveries-15-Self-Hosted/</url>
      
        <content type="html"><![CDATA[<p>Especially on Github you can find amazing open source solutions for self hosting, that makes it unnecessary to rely on web services from companies you did not know. In this issue of Discoveries I would like to introduce you to a few of them … Happy Holidays</p>        <ul class="anchorlist">            <li data-anchor="#appflowy">AppFlowy</li><li data-anchor="#bangle-io">Bangle.io</li><li data-anchor="#calendso">Cal.com (formerly Calendso)</li><li data-anchor="#rss-proxy">RSS-proxy</li><li data-anchor="#fresh-rss">FreshRSS</li><li data-anchor="#status-page">Statsig's Status Page</li><li data-anchor="#changedetection">changedetection.io</li><li data-anchor="#homer">Homer</li><li data-anchor="#fiddly">Fiddly</li><li data-anchor="#filedrop">FileDrop</li>        </ul>    <span id="more"></span>    <hr id="appflowy"/>    <h2 style="margin-bottom: 10px;">      AppFlowy    </h2>    <small>by -unknown-&nbsp;<br><a href="https://github.com/AppFlowy-IO/appflowy">https://github.com/AppFlowy-IO/appflowy</a></small>    <p><a href="https://www.appflowy.io/">AppFlowy.IO</a> is a <a href="https://notion.so/">Notion</a> clone, written in Flutter and Rust und runs on macOS (with installer), Windows and Linux.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/AppFlowy-IO/appflowy">      <img class="limit" src="appflowy.png" alt="AppFlowy" />    </a>      <hr id="bangle-io"/>    <h2 style="margin-bottom: 10px;">      Bangle.io    </h2>    <small>by -unknown-&nbsp;<br><a href="https://github.com/bangle-io/bangle-io">https://github.com/bangle-io/bangle-io</a></small>    <p><a href="https://bangle.io/">Bangle.io</a> is a web based note taking platform, like <a href="https://notion.so/">Notion</a>, but local only. It is written in TypeScript and relies on Markdown and works also offline.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/bangle-io/bangle-io">      <img class="limit" src="bangle-io.png" alt="Bangle.io" />    </a>      <hr id="calendso"/>    <h2 style="margin-bottom: 10px;">      Cal.com (formerly Calendso)    </h2>    <small>by Cal.com Team&nbsp;<br><a href="https://github.com/calendso/calendso">https://github.com/calendso/calendso</a></small>    <p><a href="https://cal.com/">Cal.com</a> is an alternative scheduling service to <a href="https://calendly.com/">Calendsy</a>, driven by a company as a service, but also available as Open Source for selfhosting. It is written in JavaScript (Next.js).</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/calendso/calendso">      <img class="limit" src="calendso.png" alt="Cal.com (formerly Calendso)" />    </a>      <hr id="rss-proxy"/>    <h2 style="margin-bottom: 10px;">      RSS-proxy    </h2>    <small>by Github User 'damoeb'&nbsp;<br><a href="https://github.com/damoeb/rss-proxy">https://github.com/damoeb/rss-proxy</a></small>    <p>RSS-proxy (<a href="https://rssproxy-v1.migor.org/">demo</a>), written in TypeScript, is a web service to create ATOM, RSS or JSON feeds by analyzing a websites static HTML structure. Helpful for websites, that doesn’t provide a feed.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/damoeb/rss-proxy">      <img class="limit" src="rss-proxy.png" alt="RSS-proxy" />    </a>      <hr id="fresh-rss"/>    <h2 style="margin-bottom: 10px;">      FreshRSS    </h2>    <small>by Alexandre Alapetite & Others&nbsp;<br><a href="https://github.com/FreshRSS/FreshRSS">https://github.com/FreshRSS/FreshRSS</a></small>    <p>FreshRSS (<a href="https://demo.freshrss.org/">demo</a>) is an alternative to feed.ly and other online RSS readers and aggregators, written in PHP. It supports custom tags, push notifications and extensions and has a CLI.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/FreshRSS/FreshRSS">      <img class="limit" src="fresh-rss.png" alt="FreshRSS" />    </a>      <hr id="status-page"/>    <h2 style="margin-bottom: 10px;">      Statsig's Status Page    </h2>    <small>by statsig.com Team&nbsp;<br><a href="https://github.com/statsig-io/statuspage/">https://github.com/statsig-io/statuspage/</a></small>    <p>This open source status page solution (<a href="https://status.statsig.com/">demo</a>) uses Github actions to run a <code>sh</code> script every hour against configurable URL’s to check their status and log it in a static <code>index.html</code>.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/statsig-io/statuspage/">      <img class="limit" src="status-page.png" alt="Statsig's Status Page" />    </a>      <hr id="changedetection"/>    <h2 style="margin-bottom: 10px;">      changedetection.io    </h2>    <small>by Github User 'dgtlmoon'&nbsp;<br><a href="https://github.com/dgtlmoon/changedetection.io">https://github.com/dgtlmoon/changedetection.io</a></small>    <p>Web solution for monitoring configurable websites or JSON API’s for changes, written in Python. It detects changes, notifies and shows the differences.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/dgtlmoon/changedetection.io">      <img class="limit" src="changedetection.png" alt="changedetection.io" />    </a>      <hr id="homer"/>    <h2 style="margin-bottom: 10px;">      Homer    </h2>    <small>by Bastien Wirtz&nbsp;<br><a href="https://github.com/bastienwirtz/homer">https://github.com/bastienwirtz/homer</a></small>    <p>A simple, but nice dashboard for your servers and services, configurable with YAML and written in Vue.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/bastienwirtz/homer">      <img class="limit" src="homer.png" alt="Homer" />    </a>      <hr id="fiddly"/>    <h2 style="margin-bottom: 10px;">      Fiddly    </h2>    <small>by Sara Vieira&nbsp;<br><a href="https://github.com/SaraVieira/fiddly">https://github.com/SaraVieira/fiddly</a></small>    <p>Fiddly creates customizable HTML pages out of your Github projects README files for hosting on Github Pages , Netlify or others under a dedicated domain.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/SaraVieira/fiddly">      <img class="limit" src="fiddly.png" alt="Fiddly" />    </a>      <hr id="filedrop"/>    <h2 style="margin-bottom: 10px;">      FileDrop    </h2>    <small>by Khodadad (Adrian) Nouchin&nbsp;<br><a href="https://github.com/Xtrendence/FileDrop">https://github.com/Xtrendence/FileDrop</a></small>    <p>FileDrop is an application to share files in the same network through a browser. It is written in JavaScript and Electron (Server) and is using WebSocket for encrypted transport. Releases are available for Windows, macOS and Linux.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/Xtrendence/FileDrop">      <img class="limit" src="filedrop.png" alt="FileDrop" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo Tag Plugin Collection</title>
      <link href="/post/Hexo-Tag-Plugin-Collection/"/>
      <url>/post/Hexo-Tag-Plugin-Collection/</url>
      
        <content type="html"><![CDATA[<p>Since day one of this blog I use <strong>Tag Plugins</strong>, sometimes as NPM packages from other developers, sometimes developed by myself.</p><p>The latter have grown significantly over time and I want to share them with you by publishing them in a Github project called <strong>hexo-tag-plugins</strong>, where you can download and use those you need on extending your own Hexo based blog.</p><p>On the Github page you can find all the info on how to use the plugins. In this article I will only briefly introduce them:</p>        <ul class="anchorlist">            <li data-anchor="#anchor">Anchor</li><li data-anchor="#anchorlist">Anchorlist</li><li data-anchor="#alertbox">Alertbox</li><li data-anchor="#blockquote_alt">Alternative Blockqoute</li><li data-anchor="#blockquote_details">Blockquote Details</li><li data-anchor="#codepen">Codepen</li><li data-anchor="#codesandbox">CodeSandbox</li><li data-anchor="#download-link">Download Link</li><li data-anchor="#image-compare">Image Compare</li><li data-anchor="#image-link">Image Link</li><li data-anchor="#image-slide">Image Slide</li><li data-anchor="#indiepen">Indiepen</li><li data-anchor="#more-info">More Info</li>        </ul>    <span id="more"></span>                <hr id="anchor" />            <h2 id="Anchor"><a href="#Anchor" class="headerlink" title="Anchor"></a>Anchor</h2><p>Anchor element as <code>A</code>- or <code>HR</code>-Tag as jump target for example from a <code>Anchorlist</code>.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% anchor <span class="string">&quot;my-anchor&quot;</span> <span class="variable constant_">HR</span>  %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span> <span class="attr">id</span>=<span class="string">&quot;my-anchor&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#anchor">https://github.com/kristofzerbe/hexo-tag-plugins#anchor</a> for more details.</p>                <hr id="anchorlist" />            <h2 id="Anchorlist"><a href="#Anchorlist" class="headerlink" title="Anchorlist"></a>Anchorlist</h2><p>Creates an overview of all anchors in the content with jump links.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% anchorlist</span><br><span class="line">  <span class="string">&quot;My First Anchor|a1&quot;</span></span><br><span class="line">  <span class="string">&quot;My Second Anchor|a2&quot;</span></span><br><span class="line">%&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>        <ul class="anchorlist">            <li data-anchor="#a1">My First Anchor</li><li data-anchor="#a2">My Second Anchor</li>        </ul>    <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#anchorlist">https://github.com/kristofzerbe/hexo-tag-plugins#anchorlist</a> for more details.</p>                <hr id="alertbox" />            <h2 id="Alertbox"><a href="#Alertbox" class="headerlink" title="Alertbox"></a>Alertbox</h2><p>Renders a iconized colored box with text for warnings or with some special information. 6 styles are provided: Exclamation, Question, Warning, Info, Success and Note.</p><p>This plugin uses a FontAwesome font for the icons and some styles that also need to be included in your Hexo project.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% alertbox warning %&#125;</span><br><span class="line"><span class="title class_">Something</span> has failed!</span><br><span class="line">&#123;% endalertbox %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>    <div class="alertbox alertbox-warning">      <p>Something has failed!</p>    </div>      <div class="alertbox alertbox-exclamation">      <p>Uuh, keep attention!</p>    </div>      <div class="alertbox alertbox-success">      <p>Everything’s fine</p>    </div>      <div class="alertbox alertbox-question">      <p>What’s up?</p>    </div>      <div class="alertbox alertbox-info">      <p>Some important information</p>    </div>      <div class="alertbox alertbox-note">      <p>Just as note…</p>    </div>  <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#alertbox">https://github.com/kristofzerbe/hexo-tag-plugins#alertbox</a> for more details.</p>                <hr id="blockquote_alt" />            <h2 id="Alternative-Blockquote"><a href="#Alternative-Blockquote" class="headerlink" title="Alternative Blockquote"></a>Alternative Blockquote</h2><p>An alternative blockquote tag plugin for quotes with citator and reference url.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% blockquote_alt <span class="string">&quot;Anonymous&quot;</span> <span class="string">&quot;https://en.wikipedia.org/wiki/Lorem_ipsum&quot;</span> %&#125;</span><br><span class="line"><span class="title class_">Lorem</span> ipsum dolor sit amet...</span><br><span class="line">&#123;% endblockquote_alt %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>    <div>        <blockquote><p>Lorem ipsum dolor sit amet…</p></blockquote>        <cite><a href="https://en.wikipedia.org/wiki/Lorem_ipsum">--- Anonymous</a></cite>    </div>  <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#alternative-blockquote">https://github.com/kristofzerbe/hexo-tag-plugins#alternative-blockquote</a> for more details.</p>                <hr id="blockquote_details" />            <h2 id="Blockquote-Details"><a href="#Blockquote-Details" class="headerlink" title="Blockquote Details"></a>Blockquote Details</h2><p>Blockquote including summary, citator and reference url, wrapped in a <code>details</code> tag.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% blockquote_details <span class="string">&quot;Lorem ipsum&quot;</span> <span class="string">&quot;Anonymous&quot;</span> <span class="string">&quot;https://en.wikipedia.org/wiki/Lorem_ipsum&quot;</span> %&#125;</span><br><span class="line"><span class="title class_">Lorem</span> ipsum dolor sit amet, consectetur adipiscing elit, sed <span class="keyword">do</span> eiusmod tempor incididunt ut labore et dolore magna aliqua. <span class="title class_">Ut</span> enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</span><br><span class="line">&#123;% endblockquote_details %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>    <details>        <summary>Lorem ipsum</summary>        <blockquote><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p></blockquote>        <cite><a href="https://en.wikipedia.org/wiki/Lorem_ipsum">--- Anonymous</a></cite>    </details>  <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#blockquote-details">https://github.com/kristofzerbe/hexo-tag-plugins#blockquote-details</a> for more details.</p>                <hr id="codepen" />            <h2 id="Codepen"><a href="#Codepen" class="headerlink" title="Codepen"></a>Codepen</h2><p>Embedding a pen from <a href="https://codepen.io/">Codepen</a>.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% codepen <span class="string">&quot;abjJNYE&quot;</span> <span class="string">&quot;Lorem Ipsum&quot;</span> html <span class="number">250</span> %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>    <iframe height="250"         id="codepen-abjJNYE"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/abjJNYE?height=250&default-tab=html&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: Lorem Ipsum"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#codepen">https://github.com/kristofzerbe/hexo-tag-plugins#codepen</a> for more details.</p>                <hr id="codesandbox" />            <h2 id="CodeSandbox"><a href="#CodeSandbox" class="headerlink" title="CodeSandbox"></a>CodeSandbox</h2><p>Tag Plugin for embedding a sandbox from <a href="https://codesandbox.io/">CodeSandbox</a>.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% codesandbox <span class="string">&quot;cool-shamir-de613&quot;</span> <span class="string">&quot;Lorem Ipsum&quot;</span> <span class="number">300</span> %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>    <iframe         src="https://codesandbox.io/embed/cool-shamir-de613?fontsize=14&theme=light"        style="width:100%; height:300px; border:0; overflow:hidden;"        title="Lorem Ipsum"        sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts">    </iframe>  <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#codesandbox">https://github.com/kristofzerbe/hexo-tag-plugins#codesandbox</a> for more details.</p>                <hr id="downloadlink" />            <h2 id="Download-Link"><a href="#Download-Link" class="headerlink" title="Download Link"></a>Download Link</h2><p>Button link for downloading an asset file, with additional caption (“Download &lt;additionalCaption&gt; &lt;assetFile&gt;”).</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% download_link <span class="string">&quot;example-image_ORIGINAL.jpg&quot;</span> <span class="string">&quot;Photo&quot;</span> %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>    <p class="download-link">      <a class="button" href="example-image_ORIGINAL.jpg" download>        Download Photo <strong>example-image_ORIGINAL.jpg</strong>      </a>    </p>    <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#download-link">https://github.com/kristofzerbe/hexo-tag-plugins#download-link</a> for more details.</p>                <hr id="image-compare" />            <h2 id="Image-Compare"><a href="#Image-Compare" class="headerlink" title="Image Compare"></a>Image Compare</h2><p>Comparing two images side-by-side with the aid of the JS library <a href="https://image-compare-viewer.netlify.app/">Image Compare Viewer</a>.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image_compare </span><br><span class="line">  <span class="string">&quot;example-image_ORIGINAL.jpg&quot;</span></span><br><span class="line">  <span class="string">&quot;example-image_PRESET.jpg&quot;</span></span><br><span class="line">  <span class="string">&quot;Lightroom Preset&quot;</span> </span><br><span class="line">%&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>    <div id="image-compare-nma9dv">      <img class="image-compare image-original" src="/post/Hexo-Tag-Plugin-Collection/example-image_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Hexo-Tag-Plugin-Collection/example-image_PRESET.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-nma9dv"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Lightroom Preset',          onHover: true,        }      }).mount();    </script>  <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#image-compare">https://github.com/kristofzerbe/hexo-tag-plugins#image-compare</a> for more details.</p>                <hr id="image-link" />            <h2 id="Image-Link"><a href="#Image-Link" class="headerlink" title="Image Link"></a>Image Link</h2><p>Renders an image including ALT attribute within a link.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image_link <span class="string">&quot;kiko-io-screenshot.png&quot;</span> <span class="string">&quot;http://kiko.io&quot;</span> <span class="string">&quot;Blog kiko.io&quot;</span> %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>    <a href="http://kiko.io">        <img src="kiko-io-screenshot.png" alt="Blog kiko.io" />    </a>    <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#image-link">https://github.com/kristofzerbe/hexo-tag-plugins#image-link</a> for more details.</p>                <hr id="image-slide" />            <h2 id="Image-Slide"><a href="#Image-Slide" class="headerlink" title="Image Slide"></a>Image Slide</h2><p>Shows multiple images within a slider with the aid of the JS library <a href="https://github.com/ganlanyuan/tiny-slider">Tiny Slider</a>.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% image_slide</span><br><span class="line">  <span class="string">&quot;example-image_ORIGINAL.jpg|Original&quot;</span></span><br><span class="line">  <span class="string">&quot;example-image_PRESET.jpg|Lightroom Preset&quot;</span></span><br><span class="line">%&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>      <div class="image-slider" id="image-slide-rsk80e">        <div><img src="/post/Hexo-Tag-Plugin-Collection/example-image_ORIGINAL.jpg" alt="Original" /></div><div><img src="/post/Hexo-Tag-Plugin-Collection/example-image_PRESET.jpg" alt="Lightroom Preset" /></div>      </div>      <script>        tns({          container: "#image-slide-rsk80e",          items: 1,          slideBy: "page",          controls: false,          nav: true        });      </script>    <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#image-slide">https://github.com/kristofzerbe/hexo-tag-plugins#image-slide</a> for more details.</p>                <hr id="indiepen" />            <h2 id="Indiepen"><a href="#Indiepen" class="headerlink" title="Indiepen"></a>Indiepen</h2><p>Embedding a “local” pen (<code>index.html</code>, <code>main.js</code> and <code>styles.css</code> stored in an asset subfolder) via <a href="https://indiepen.tech/">Indiepen</a>.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% indiepen <span class="string">&quot;indiepen-example&quot;</span> <span class="number">300</span> html %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>    <iframe class="indiepen"        src="https://indiepen.tech/embed/?url=https%3A%2F%2Fkiko.io%2Fpost%2FHexo-Tag-Plugin-Collection%2Findiepen-example&tab=html"        style="width: 100%; overflow: hidden; display: block; border: 0;"        title="Indiepen Embed"        loading="lazy"         width="100%"         height="300">    </iframe>  <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#indiepen">https://github.com/kristofzerbe/hexo-tag-plugins#indiepen</a> for more details.</p>                <hr id="more-info" />            <h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2><p>Renders a list of related, informative links regarding a post.</p><p><strong>Usage Example:</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;% moreinfo <span class="string">&#x27;&#123; &quot;list&quot;: [</span></span><br><span class="line"><span class="string">  [ &quot;Wikipedia&quot;, &quot;Markdown&quot;,</span></span><br><span class="line"><span class="string">  &quot;https://en.wikipedia.org/wiki/Markdown&quot; ],</span></span><br><span class="line"><span class="string">  [ &quot;Markdown Guide&quot;, &quot;Basic Syntax&quot;,</span></span><br><span class="line"><span class="string">  &quot;https://www.markdownguide.org/basic-syntax/&quot; ],</span></span><br><span class="line"><span class="string">  [ &quot;Daring Fireball&quot;, &quot;Markdown: Syntax&quot;,</span></span><br><span class="line"><span class="string">  &quot;https://daringfireball.net/projects/markdown/syntax&quot; ]</span></span><br><span class="line"><span class="string">]&#125;&#x27;</span> %&#125;</span><br></pre></td></tr></table></figure><p><strong>Live Output:</strong></p>        <ul class="moreinfo-list">            <li>Wikipedia: <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a></li><li>Markdown Guide: <a href="https://www.markdownguide.org/basic-syntax/">Basic Syntax</a></li><li>Daring Fireball: <a href="https://daringfireball.net/projects/markdown/syntax">Markdown: Syntax</a></li>        </ul>    <p>See <a href="https://github.com/kristofzerbe/hexo-tag-plugins#more-info">https://github.com/kristofzerbe/hexo-tag-plugins#more-info</a> for more details.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> VS Code </tag>
            
            <tag> GitHub </tag>
            
            <tag> Collection </tag>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Tringula And The Beauty Of Mathematics</title>
      <link href="/post/Tringula-And-The-Beauty-Of-Mathematics/"/>
      <url>/post/Tringula-And-The-Beauty-Of-Mathematics/</url>
      
        <content type="html"><![CDATA[    <div class="alertbox alertbox-note">      <p>This post is a new version of <a href="/post/Triangulate-your-images-with-Triangula/" title="Triangulate your images with Triangula">Triangulate your images with Triangula</a> and the first in a series of articles published on the German news site <a href="https://golem.de/">golem.de</a>.</p>    </div>  <p>When talking about triangulation, non-mathematicians generally understand it as a geometric method for measuring distances. Roughly speaking, two known points in space can be used to calculate a third via the angles to it. In one or the other Hollywood flick of the genres war or spy movie you have surely come across this.</p><p>However, triangulation also refers to the division of a surface into triangles or, more generally, the description of an object by means of polygons. It is used in topology and land surveying, but also in imaging methods of modeling.</p><p>How wonderfully this field of mathematics can be applied to photos is shown by the GitHub user <a href="https://github.com/RH12503"><strong>RyanH</strong></a> with his program <a href="https://github.com/RH12503/triangula"><strong>Triangula</strong></a> written in Go, which first roughly splits a given JPG or PNG image into triangles and then refines it further and further via mutations. Among other things, you can specify how many points you want to start with and how many mutations the program should perform. It is also possible to calculate the new image using hexagons instead of classic triangles.</p><span id="more"></span>      <div class="image-slider" id="image-slide-2bvnrq">        <div><img src="/post/Tringula-And-The-Beauty-Of-Mathematics/triangula.png" alt="UI of the tool Triangula written in Go" /></div><div><img src="/post/Tringula-And-The-Beauty-Of-Mathematics/sample-40-generations.png" alt="Sample 40 generations" /></div><div><img src="/post/Tringula-And-The-Beauty-Of-Mathematics/sample-400-generations.png" alt="Sample 400 generations" /></div><div><img src="/post/Tringula-And-The-Beauty-Of-Mathematics/sample-4000-generations.png" alt="Sample 4000 generations" /></div>      </div>      <script>        tns({          container: "#image-slide-2bvnrq",          items: 1,          slideBy: "page",          controls: false,          nav: true        });      </script>    <p>The result is stylized images of the original, which can be used as a chic desktop background, for example. Due to the abstraction of the actual motif, such images are also very suitable as header images on websites, such as blogs, if the image should not distract from the actual content. Such an image has a great closeness to the original, but looks more like art.</p><p>Besides PNG, SVG (Scalable Vector Graphics) is also available as output format, which makes sense because SVG is an XML format and the polygons calculated by the program can also be written away directly as corresponding <code>polygon</code> entries as text. The generated SVG files are thereby smaller by a factor of 30, depending on the original, and thus fit in many places much better with tight bandwidths or used-up consumption limits on the Internet.</p><hr><h2 id="Using-Triangula-on-the-command-line"><a href="#Using-Triangula-on-the-command-line" class="headerlink" title="Using Triangula on the command line"></a>Using Triangula on the command line</h2><p>Ryan offers his program Triangula also as <a href="https://github.com/RH12503/Triangula-CLI/">CLI version</a>, which is called via the command line. The process of triangulating is separated into two parts: First you create the desired abstraction of an original image via the parameter <code>run</code>, which is stored in a JSON file on the hard disk and in a second step you create either a PNG or an SVG as output file via <code>render</code> and the specification of the JSON file.</p><p>Since the command line tool has the same options as the UI version, it is great for automating the processing of the images used when building a website, for example. It also makes it much easier to turn an entire folder of images into such artistic abstractions.</p><hr><h2 id="Using-triangulated-images-as-placeholders-on-websites"><a href="#Using-triangulated-images-as-placeholders-on-websites" class="headerlink" title="Using triangulated images as placeholders on websites"></a>Using triangulated images as placeholders on websites</h2><p>Depending on how good the Internet connection is and how well the developers brain of a website has worked, it can take a while until the browser of the smartphone has loaded the x-megabyte header or illustration image to finally be able to display it. It gets really annoying when no space has been reserved on the website for the image beforehand and the text that you have started to read suddenly jumps away.</p><p>In any case, the solution is to always use images that are as small as possible and adapted to the device, but they still have a certain file size if they are to look good. To prevent text jumping, nowadays one usually uses gray placeholders with or without loading bars to signal to the user that something will be displayed at this point shortly.</p><p>Ryan has found an amazingly effective solution for this as well: <a href="https://github.com/RH12503/tip">tip - Triagulated Placeholders</a> - creating the smallest possible triangulated images and blending them using JavaScript.</p><p>The basis is a frontend, also written in Go, which uses the same algorithms as Triangula and with which the user can process several original images or an entire folder of photos at once via the interface.</p><p><img src="/post/Tringula-And-The-Beauty-Of-Mathematics/tip.png" alt="Very simple but functional interface of the tool tip, also written in Go, for generating binary placeholders for web pages"></p><p>The output format from <strong>tip</strong> is not PNG or SVG, but a binary file, which consumes the least amount of memory of all technical possibilities.</p><p>For comparison the generated file sizes of the example image with resolution 1024 x 660:</p><table><thead><tr><th>Image</th><th>Size</th></tr></thead><tbody><tr><td>Original</td><td>386 KB</td></tr><tr><td>Triangula PNG</td><td>223 KB</td></tr><tr><td>Triangula SVG</td><td>40,3 KB</td></tr><tr><td>tip TRI</td><td>3,03 KB</td></tr></tbody></table><p>These files, with the extension TRI, are referenced by the web developer in the IMG tag of an image on a page in the <code>data-src</code> attribute, and a <strong>JavaScript</strong>, only 200 lines long, which is also included and delivered with the web page, takes care of immediately displaying this TRI file when the page is loaded and smoothly fading to the original image once it has been loaded. You can hardly make it more beautiful.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Imaging </tag>
            
            <tag> SVG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #14</title>
      <link href="/post/Discoveries-14/"/>
      <url>/post/Discoveries-14/</url>
      
        <content type="html"><![CDATA[<p>In this month discoveries you will find some posts and pens regarding CSS and its possibilities. It’s always amazing what can be done with it and what cool solutions can be found on the web.</p>        <ul class="anchorlist">            <li data-anchor="#sticky-definition-lists">Sticky Definition Lists</li><li data-anchor="#detect-sticky">How to Detect When a Sticky Element Gets Pinned</li><li data-anchor="#inverted-lightness-variables">Dark mode in 5 minutes, with inverted lightness variables</li><li data-anchor="#float-an-element-to-the-bottom-corner">Float an Element to the Bottom Corner</li><li data-anchor="#neat-parallax-hero-effect">Neat Parallax Hero Effect</li><li data-anchor="#underline-animation">Underline animation</li><li data-anchor="#building-split-text-animations">Building split text animations</li><li data-anchor="#intrinsic-typography">Intrinsic Typography is the Future of Styling Text on the Web</li><li data-anchor="#css-morphing">CSS morphing</li><li data-anchor="#css-tips">CSS Tips</li>        </ul>    <span id="more"></span>    <hr id="sticky-definition-lists"/>    <h2 style="margin-bottom: 10px;">      Sticky Definition Lists    </h2>    <small>by Chris Coyier&nbsp;<br><a href="https://css-tricks.com/sticky-definition-lists">https://css-tricks.com/sticky-definition-lists</a></small>    <p>If you want to have an alphabetical definition list on your website, defined by <code>dl</code>, <code>dt</code> and <code>dd</code> tags, you can give your users a better usability on scrolling through this list by using Chris’ sample.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/sticky-definition-lists">      <img class="limit" src="sticky-definition-lists.png" alt="Sticky Definition Lists" />    </a>      <hr id="detect-sticky"/>    <h2 style="margin-bottom: 10px;">      How to Detect When a Sticky Element Gets Pinned    </h2>    <small>by David Walsh&nbsp;<br><a href="https://davidwalsh.name/detect-sticky">https://davidwalsh.name/detect-sticky</a></small>    <p>A very short but useful JS snippet from David Walsh on how to detect if an element is being pinned by CSS’ <code>position:sticky</code>.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://davidwalsh.name/detect-sticky">      <img class="limit" src="detect-sticky.png" alt="How to Detect When a Sticky Element Gets Pinned" />    </a>      <hr id="inverted-lightness-variables"/>    <h2 style="margin-bottom: 10px;">      Dark mode in 5 minutes, with inverted lightness variables    </h2>    <small>by Lea Verou&nbsp;<br><a href="https://lea.verou.me/2021/03/inverted-lightness-variables/">https://lea.verou.me/2021/03/inverted-lightness-variables/</a></small>    <p>Providing a light and dark mode on websites is almost common today. Lea show us how we can save time on using HSL hue and lightness in CSS.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://lea.verou.me/2021/03/inverted-lightness-variables/">      <img class="limit" src="inverted-lightness-variables.png" alt="Dark mode in 5 minutes, with inverted lightness variables" />    </a>      <hr id="float-an-element-to-the-bottom-corner"/>    <h2 style="margin-bottom: 10px;">      Float an Element to the Bottom Corner    </h2>    <small>by Temani Afif&nbsp;<br><a href="https://css-tricks.com/float-an-element-to-the-bottom-corner/">https://css-tricks.com/float-an-element-to-the-bottom-corner/</a></small>    <p>Placing illustration images in the text is a common way to lighten up a web page. Temani shows us how to place such an image at the bottom of a content element.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/float-an-element-to-the-bottom-corner/">      <img class="limit" src="float-an-element-to-the-bottom-corner.png" alt="Float an Element to the Bottom Corner" />    </a>      <hr id="neat-parallax-hero-effect"/>    <h2 style="margin-bottom: 10px;">      Neat Parallax Hero Effect    </h2>    <small>by Dominic Magnifico&nbsp;<br><a href="https://codepen.io/magnificode/pen/GpqGOm">https://codepen.io/magnificode/pen/GpqGOm</a></small>    <p>This Codepen from Dom shows us, how to shrink an hero image on scrolling a page down with little CSS and JavaScript.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/magnificode/pen/GpqGOm">      <img class="limit" src="neat-parallax-hero-effect.png" alt="Neat Parallax Hero Effect" />    </a>      <hr id="underline-animation"/>    <h2 style="margin-bottom: 10px;">      Underline animation    </h2>    <small>by Aaron Iker&nbsp;<br><a href="https://codepen.io/aaroniker/pen/pojaBvb">https://codepen.io/aaroniker/pen/pojaBvb</a></small>    <p>The default underlined links on web pages are really boring. Aaron gives us on his pen an animated alternative, which uses SVG and CSS.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/aaroniker/pen/pojaBvb">      <img class="limit" src="underline-animation.png" alt="Underline animation" />    </a>      <hr id="building-split-text-animations"/>    <h2 style="margin-bottom: 10px;">      Building split text animations    </h2>    <small>by Adam Argyle&nbsp;<br><a href="https://web.dev/building-split-text-animations/">https://web.dev/building-split-text-animations/</a></small>    <p>Animating the title of a web site can be a nice way to add some movement to rigid text. Adam shows us how his approach to animating each character works.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://web.dev/building-split-text-animations/">      <img class="limit" src="building-split-text-animations.png" alt="Building split text animations" />    </a>      <hr id="intrinsic-typography"/>    <h2 style="margin-bottom: 10px;">      Intrinsic Typography is the Future of Styling Text on the Web    </h2>    <small>by Scott Kellum&nbsp;<br><a href="https://css-tricks.com/intrinsic-typography-is-the-future-of-styling-text-on-the-web/">https://css-tricks.com/intrinsic-typography-is-the-future-of-styling-text-on-the-web/</a></small>    <p>Flexible layouts have their pitfalls, especially in terms of adjusting text sizes. In this post, Adam talks about what he calls intrinsic typography, where text is scaled by using a Bézier curve to improve readability.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/intrinsic-typography-is-the-future-of-styling-text-on-the-web/">      <img class="limit" src="intrinsic-typography.png" alt="Intrinsic Typography is the Future of Styling Text on the Web" />    </a>      <hr id="css-morphing"/>    <h2 style="margin-bottom: 10px;">      CSS morphing    </h2>    <small>by Amit Sheen&nbsp;<br><a href="https://codepen.io/amit_sheen/pen/xxqYzvm">https://codepen.io/amit_sheen/pen/xxqYzvm</a></small>    <p>This pen from Amit is about a pure CSS technique on blending a word into another. Neat effect for countdowns for example.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/amit_sheen/pen/xxqYzvm">      <img class="limit" src="css-morphing.png" alt="CSS morphing" />    </a>      <hr id="css-tips"/>    <h2 style="margin-bottom: 10px;">      CSS Tips    </h2>    <small>by Marko Denic&nbsp;<br><a href="https://markodenic.com/css-tips/">https://markodenic.com/css-tips/</a></small>    <p>In this post Marko lists some useful tips on using pure CSS, including Typing Effect, Smooth Scrolling, Truncate text, CSS only modals, custom scrollbars, background-clip text or rounded gradient borders.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://markodenic.com/css-tips/">      <img class="limit" src="css-tips.png" alt="CSS Tips" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VS Code on the Web</title>
      <link href="/post/VS-Code-on-the-Web/"/>
      <url>/post/VS-Code-on-the-Web/</url>
      
        <content type="html"><![CDATA[<p>For most of the years I have been in the IT industry, I have worked with the “fat” Visual Studio from Microsoft. Fat in terms of features, for sure, but also in size and load times. It made no sense to use an other IDE, while developing software with VB.NET&#x2F;C#. But with the advent of Node.JS JavaScript, so far only known as a scripting language for web pages, outgrew itself and became a serious competitor to established languages.</p><p>In 2012 Adobe came out with <a href="https://brackets.io/">Brackets</a>, a lightweight IDE for developing web applications, written with the very same tech stack: HTML, CSS and JavaScript! Based on the <a href="https://en.wikipedia.org/wiki/Chromium_Embedded_Framework">Chromium Embedded Framework</a>, it felt like a normal application! Mind blowing…</p><p>In 2015 there was a new kid in town: <strong><a href="https://code.visualstudio.com/">Visual Studio Code</a> (VS Code)</strong>, of all things from … Microsoft. During this time, the Redmond-based company had finally jumped on the open source bandwagon and perhaps they saw that Adobe was doing some things right on the IDE market with Brackets (but also some things wrong) and you didn’t want to miss the chance to engage the open source community.</p><p>The speed with which VS Code passed other IDE’s in the developer favor was quite amazing, due to the fact that the source code was openly available on GitHub and the developers in Switzerland released a new version every damn month.</p><p>What was exciting for me was the question of how long it would take for someone to make this IDE based on web technology available online, i.e. in a browser. It took until 2021…</p><span id="more"></span><hr><h3 id="github-dev-and-Github-Codespaces"><a href="#github-dev-and-Github-Codespaces" class="headerlink" title="github.dev and Github Codespaces"></a>github.dev and Github Codespaces</h3><p>In Juli 2021 GitHub announced the availability of <strong><a href="">github.dev</a></strong> and <strong><a href="https://github.com/features/codespaces">GitHub Codespaces</a></strong>. The main difference between these two solutions is that Codespaces runs the IDE within a container (VM) in the background, which enables you to run your project and … it is only available for paid plans.</p><p>The main purpose of github.dev is to serve as a call target of the so-called <strong>Magic Dot</strong>, an easy way to open any repository in an editor. I blogged about this capabilty a while ago, see <a href="/post/GitHubs-Magic-Dot/" title="GitHubs Magic Dot">GitHubs Magic Dot</a>. Really amazing! Just press the <code>dot</code> key on every repository and you can browse the code files.</p><p><img src="/post/VS-Code-on-the-Web/github-dev.jpg" alt="github.dev"></p><hr><h2 id="vscode-dev"><a href="#vscode-dev" class="headerlink" title="vscode.dev"></a>vscode.dev</h2><p>Recently, in October 2021, Microsoft (who owns GitHub) announced another online VS Code called <strong><a href="https://vscode.dev/">vscode.dev</a></strong>. It is practically the same IDE as github.dev, with one main difference: It is not bound to a GitHub repository, but is able to open any local project or even remote repositories from GitHub.</p><p>However, it also has the same limitation that you cannot run a project, because there is no VM running in the background. But it is a really neat online editor, which runs on mobile devices too and feels absolutely like a local installed VS Code.</p><p><img src="/post/VS-Code-on-the-Web/vscode-dev.jpg" alt="vscode.dev"></p><hr><h2 id="Gitpod"><a href="#Gitpod" class="headerlink" title="Gitpod"></a>Gitpod</h2><p>Back in 2017 some developers from Kiel, Germany started a web-based platform called <strong><a href="gitpod.io">Gitpod</a></strong> for providing fully functional orchestrated developer environments in the web. Since at that time VS Code was not yet running in the browser, they started the project <a href="https://theia-ide.org/">Eclipse Theia</a>, which powers several online IDE’s until today, but  switched to VS Code as the team around Erich Gamma <a href="code.visualstudio.com/docs/remote/remote-overview">announced remote development capabilities</a> in late 2020.</p><p>Whats special about Gitpod is, that users are able to start a browser-based instance of the IDE just by adding the address of an GitHub repository as a parameter to the URL, like <code>https://gitpod.io#https://github.com/kristofzerbe/kiko.io</code>. Gitpot then starts a container with the source code and shows up the IDE at a random URL like <code>https://coffee-squirrel-htamfigy.ws-eu18.gitpod.io</code>.</p><p>This so called <em>Workspaces</em> can be stopped, resumed, shared and downloaded, because it is a container with everything in it you need to run. Really amazing!</p><p><img src="/post/VS-Code-on-the-Web/gitpod-io.jpg" alt="Gitpod"></p><hr><h2 id="Other-Monaco-driven-IDE’s"><a href="#Other-Monaco-driven-IDE’s" class="headerlink" title="Other Monaco-driven IDE’s"></a>Other Monaco-driven IDE’s</h2><p>VS Code actually consists of two parts: the platform itself, called <a href="https://github.com/Microsoft/vscode">Code-OSS</a>, and the code editor <strong><a href="https://microsoft.github.io/monaco-editor/">Monaco</a></strong> included in it, which is also available as a separate project and used by other web-based IDE’s, like the following…</p><h3 id="Stackblitz"><a href="#Stackblitz" class="headerlink" title="Stackblitz"></a>Stackblitz</h3><p>The IDE on <strong><a href="https://stackblitz.com/">stackblitz.com</a></strong> is mainly useful for web frontend developers. You can easily create Angular, React, Vue, Next.js, Nuxt or even plain JavaScript or static HTML projects and connect them to an new repository on GitHub. But … you can’t load existing projects from GitHub into Stackblitz on the fly, you have to import them.</p><p>What makes Stackblitz very comfortable is that it runs your frontend directly on their servers and gives it to you in a browser-like preview window via a random Url like <code>https://web-platform-ywqj4s.stackblitz.io</code>, you can open up in a separate browser also.</p><p><img src="/post/VS-Code-on-the-Web/stackblitz-com.jpg" alt="Stackblitz"></p><hr><h3 id="CodeSandbox"><a href="#CodeSandbox" class="headerlink" title="CodeSandbox"></a>CodeSandbox</h3><p><strong><a href="https://codesandbox.io/">CodeSandbox</a></strong> works similar to Stackblitz, but offers some more features, like deployment to Vercel, Netlify or GitHub Pages and a test runner. </p><p>Also, you have full control over the sandbox that runs the preview of your project and the ability to invite other developers or visitors to the project, which makes it perfect for online coding seminars e.g. classrooms.</p><p><img src="/post/VS-Code-on-the-Web/codesandbox-io.jpg" alt="CodeSandbox"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VS Code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Croatian Presets for Lightroom</title>
      <link href="/post/Croatian-Presets-for-Lightroom/"/>
      <url>/post/Croatian-Presets-for-Lightroom/</url>
      
        <content type="html"><![CDATA[<p>Staying in Croatia is always a joy, in summer but also in winter. I’m on this side of the Adriatic sea almost every year. In summer you have a pleasant heat, inviting you to swim, and sometimes too many tourists. In winter you have the magic light and space to enjoy the country.</p><p>Over the past years a have created some presets to bring my images, shot in Croatia, to a next level of beauty and I want to share them with you in this post.</p><span id="more"></span><hr><h2 id="Croatian-Warm-Sea"><a href="#Croatian-Warm-Sea" class="headerlink" title="Croatian Warm Sea"></a>Croatian Warm Sea</h2><p>The sea in Croatia is amazing clear because almost the entire coast is made of stone instead of sand. There is hardly any algae or other things that cloud the wonderful green-blue water.</p>    <div id="image-compare-cnsg9s">      <img class="image-compare image-original" src="/post/Croatian-Presets-for-Lightroom/18-09 Kroatien-0508_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Croatian-Presets-for-Lightroom/18-09 Kroatien-0508_PRESET.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-cnsg9s"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Croatian Warm Sea.xmp" download>        Download Lightroom Preset <strong>Croatian Warm Sea.xmp</strong>      </a>    </p>    <hr><h2 id="Croatian-Brightness"><a href="#Croatian-Brightness" class="headerlink" title="Croatian Brightness"></a>Croatian Brightness</h2><p>Yes, I’m guilty: I love colors and contrast! If you do also, his preset is for you. It brings out any image that is too flat or dull by helping to control the brightness and contrast.</p>    <div id="image-compare-0w8jw3">      <img class="image-compare image-original" src="/post/Croatian-Presets-for-Lightroom/21-08-05 Kroatien-3201_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Croatian-Presets-for-Lightroom/21-08-05 Kroatien-3201_PRESET.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-0w8jw3"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Croatian Brightness.xmp" download>        Download Lightroom Preset <strong>Croatian Brightness.xmp</strong>      </a>    </p>    <hr><h2 id="Croatian-Winter-Drama"><a href="#Croatian-Winter-Drama" class="headerlink" title="Croatian Winter Drama"></a>Croatian Winter Drama</h2><p>A drive along the coast in the morning or evening hours makes you want to stop all the time because one panorama is more beautiful than the next.</p>    <div id="image-compare-vaxjdb">      <img class="image-compare image-original" src="/post/Croatian-Presets-for-Lightroom/19-12 Kroatien-0137_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Croatian-Presets-for-Lightroom/19-12 Kroatien-0137_PRESET.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-vaxjdb"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Croatian Winter Drama.xmp" download>        Download Lightroom Preset <strong>Croatian Winter Drama.xmp</strong>      </a>    </p>    <hr><h2 id="Croatian-Winter-City"><a href="#Croatian-Winter-City" class="headerlink" title="Croatian Winter City"></a>Croatian Winter City</h2><p>The walls of Split have this wonderful warm tone of the winter sun and this preset brings this out particularly well.</p>    <div id="image-compare-yk8gro">      <img class="image-compare image-original" src="/post/Croatian-Presets-for-Lightroom/19-12 Kroatien-0172_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Croatian-Presets-for-Lightroom/19-12 Kroatien-0172_PRESET.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-yk8gro"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Croatian Winter City.xmp" download>        Download Lightroom Preset <strong>Croatian Winter City.xmp</strong>      </a>    </p>    <hr><h2 id="Croatian-Winter-Sunset"><a href="#Croatian-Winter-Sunset" class="headerlink" title="Croatian Winter Sunset"></a>Croatian Winter Sunset</h2><p>The sunset in Croatia is special for me, because I feel these wonderful colors and my camera isn’t able to reproduce this feeling. This preset is an approximation of it.</p><p>The walls of Split have this wonderful warm tone of the winter sun and this preset brings this out particularly well.</p>    <div id="image-compare-6dwt2m">      <img class="image-compare image-original" src="/post/Croatian-Presets-for-Lightroom/19-12 Kroatien-0215_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Croatian-Presets-for-Lightroom/19-12 Kroatien-0215_PRESET.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-6dwt2m"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Croatian Winter Sunset.xmp" download>        Download Lightroom Preset <strong>Croatian Winter Sunset.xmp</strong>      </a>    </p>    ]]></content>
      
      
      <categories>
          
          <category> Photo-Editing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lightroom </tag>
            
            <tag> Presets </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>The Last Image Gallery...</title>
      <link href="/post/The-Last-Image-Gallery/"/>
      <url>/post/The-Last-Image-Gallery/</url>
      
        <content type="html"><![CDATA[<p>In the last decade(s) I have seen and tried many image galleries and lightboxes for showing images or groups of images. Depending on your needs, you can choose out of trillions of solutions, for every JS framework or vanilla JS, in every flavour, size and color. With many of them, however, you reach the limits quite quickly. Be it in terms of visual adaptability, extensibility or implementation. Customization cost time and nerves, especially if the respective library has structural weaknesses.</p><p>However, from today on, I don’t need to look for a suitable solution for my next project, because I found one that leaves absolutely none of my wishes unfulfillede: <a href="https://nextapps-de.github.io/spotlight/"><strong>Spotlight</strong></a> by Nextapps from Berlin, Germany.</p><p><img src="/post/The-Last-Image-Gallery/spotlight.jpg" alt="Spotlight"></p><p>To make it clear: this is not a paid advertising text or something like that. That wouldn’t make sense either, because Spotlight is Open Source (<a href="https://en.wikipedia.org/wiki/Apache_License">Apache 2.0 License</a>) and its code is availabel at GitHub. I’m just thrilled with the work of the developers.</p><span id="more"></span><hr><p>The first step on implementing every image gallery solution is the installation. Spotlight has different options, but the easiest one is to download the <strong>bundled version</strong>, which includes both the JS files and the image (icon) and CSS files. For the non-bundles files, you can choose the minified versions or even the original ES6 and LESS files. There is a NPM package also.</p><p>For the implementation you can either choose a declarative way using the <code>spotlight</code> class, where the shown thumb images to click on needs to have a wrapper…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;spotlight&quot;</span> <span class="attr">href</span>=<span class="string">&quot;img1.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;thumb1.jpg&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;spotlight&quot;</span> <span class="attr">href</span>=<span class="string">&quot;img2.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;thumb2.jpg&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>… or programmatically via JavaScript:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gallery = [</span><br><span class="line">    &#123; <span class="attr">src</span>: <span class="string">&quot;img1.jpg&quot;</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">src</span>: <span class="string">&quot;img2.jpg&quot;</span> &#125;</span><br><span class="line">];</span><br><span class="line"><span class="title class_">Spotlight</span>.<span class="title function_">show</span>(gallery <span class="comment">/*, options */</span>);</span><br></pre></td></tr></table></figure><p>Next to the image, at the bottom left corner, a title, a description and&#x2F;or a button can be displayed on a gallery slide, which is completely compatible with all types of devices.</p><p>It is possible to define image groups to show separately in the declaration mode by having an extra wrapper around a bunch of image wrappers. All options how the gallery has to be shown are also declarative:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;spotlight-group&quot;</span> </span></span><br><span class="line"><span class="tag">     <span class="attr">data-title</span>=<span class="string">&quot;Group title&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;spotlight&quot;</span> <span class="attr">href</span>=<span class="string">&quot;img1.jpg&quot;</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">data-title</span>=<span class="string">&quot;This is a title&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;thumb1.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;spotlight&quot;</span> <span class="attr">href</span>=<span class="string">&quot;img2.jpg&quot;</span> </span></span><br><span class="line"><span class="tag">       <span class="attr">data-title</span>=<span class="string">&quot;This is another title&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">data-description</span>=<span class="string">&quot;This is a description&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;thumb2.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Spotlight has 9 built-in controls to show in the bar at the top left:</p><ul><li>Fullscreen</li><li>Zoom in</li><li>Zoom out</li><li>Autofit</li><li>Close</li><li>Theme</li><li>Play (Slideshow)</li><li>Download</li></ul><p>… and there is a possibility to insert custom controls during initialization.</p><p>If you provide several image sizes, Spotlight picks the optimal version regarding the current devices resolution, pixel ratio and bandwidth. But Spotlight is not limited to images. It can also display videos and even custom HTML fragments (DOM nodes) as slides.</p><p>Through its JavaScript API you can fully remote control the gallery and it has several options to customize the appearance of the slides to every need you can imagine.</p><hr><p>The implementation is a breeze. It took me less than 10 minutes to get Spotlight working here on this blog at the <a href="/photos">photo page</a>!</p><p>I can’t think of any use case right now, that you couldn’t implement easily and quickly with this amazing library. Congrats folks … extremely well done!</p><p><a href="https://nextapps-de.github.io/spotlight/"><img src="/post/The-Last-Image-Gallery/logo.png" alt="Spotlight logo"></a></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Plugin </tag>
            
            <tag> Imaging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #13</title>
      <link href="/post/Discoveries-13/"/>
      <url>/post/Discoveries-13/</url>
      
        <content type="html"><![CDATA[<p>This month, Discoveries is all about JavaScript-driven “components” that you can quickly and easily add to your own website to enhance it. Be it with a simple code viewer or an ingenious print function or simply to display or filter photos. Go on a journey of discovery…</p>        <ul class="anchorlist">            <li data-anchor="#indiepen">indiepen</li><li data-anchor="#panzoom">Panzoom</li><li data-anchor="#guggenheim">guggenheim.js</li><li data-anchor="#lazy-loading-mosaic-tiling-plugin">Lazy Loading Mosaic Tiling Plugin</li><li data-anchor="#scrolltrigger">ScrollTrigger</li><li data-anchor="#winbox-js">WinBox.js</li><li data-anchor="#print-js">Print.js</li><li data-anchor="#simple-text-annotations">Simple Text Annotations</li><li data-anchor="#click-menus">Clicky Menus!</li><li data-anchor="#vanilla-navbar-menu">Responsive Dropdown Menu (Vanilla Navbar Menu)</li><li data-anchor="#smooth-side-bar">Smooth-side-bar</li><li data-anchor="#podtablejs">Podtablejs</li>        </ul>    <span id="more"></span>    <hr id="indiepen"/>    <h2 style="margin-bottom: 10px;">      indiepen    </h2>    <small>by Hendrik and André from yetanother.blog&nbsp;<br><a href="https://indiepen.tech/">https://indiepen.tech/</a></small>    <p>indiepen is a solution for showing code samples without the need of a code sharing platform, like codepen. Just reference a index.html, main.js and styles.css from wherever you want and indiepen is wrapping it with a neat viewer inside an IFrame.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://indiepen.tech/">      <img class="limit" src="indiepen.png" alt="indiepen" />    </a>      <hr id="panzoom"/>    <h2 style="margin-bottom: 10px;">      Panzoom    </h2>    <small>by Cesar Morillas&nbsp;<br><a href="https://github.com/cmorillas/panzoom">https://github.com/cmorillas/panzoom</a></small>    <p>Implementing panning and zooming with JavaScript is not the easiest thing. Cesar has done all he work by creating this tiny ES6 module. It works both on a smartphone and in a desktop browser via mouse wheel. It is nearly perfect to zoom into an image to show its details.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/cmorillas/panzoom">      <img class="limit" src="panzoom.png" alt="Panzoom" />    </a>      <hr id="lazy-loading-mosaic-tiling-plugin"/>    <h2 style="margin-bottom: 10px;">      Lazy Loading Mosaic Tiling Plugin    </h2>    <small>by Christopher Peloso&nbsp;<br><a href="https://github.com/cspeloso/Lazy-Loading-Mosaic-Tiling-Plugin">https://github.com/cspeloso/Lazy-Loading-Mosaic-Tiling-Plugin</a></small>    <p>Do you have a bunch of images you want to show in a masonry layout on your website? Whith Chris’ JS library it’s just a one-liner. It supports responsiveness and lazy-loading in tiny 132 lines of JS code and 4 CSS classes. Amazing!</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/cspeloso/Lazy-Loading-Mosaic-Tiling-Plugin">      <img class="limit" src="lazy-loading-mosaic-tiling-plugin.jpg" alt="Lazy Loading Mosaic Tiling Plugin" />    </a>      <hr id="guggenheim"/>    <h2 style="margin-bottom: 10px;">      guggenheim.js    </h2>    <small>by Will McKenzie&nbsp;<br><a href="http://oinutter.co.uk/guggenheim.js/">http://oinutter.co.uk/guggenheim.js/</a></small>    <p>Another approach on showing images in a gallery is Guggenheim.js. It’s not responsive, but has sophisticated filtering options. Perfect for quickly finding a keyworded photo.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="http://oinutter.co.uk/guggenheim.js/">      <img class="limit" src="guggenheim.png" alt="guggenheim.js" />    </a>      <hr id="scrolltrigger"/>    <h2 style="margin-bottom: 10px;">      ScrollTrigger    </h2>    <small>by Greensock Inc.&nbsp;<br><a href="https://greensock.com/scrolltrigger/">https://greensock.com/scrolltrigger/</a></small>    <p>Greensocks ScrollTrigger is unparalleled among scroll animation libraries. Based on its own GSAP library, ScrollTrigger can animate almost everthing, when the user is scolling through a website. Want to see it in action? Visit their <a href="https://greensock.com/st-demos/">demo page</a> with dozens of examples…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://greensock.com/scrolltrigger/">      <img class="limit" src="scrolltrigger.png" alt="ScrollTrigger" />    </a>      <hr id="winbox-js"/>    <h2 style="margin-bottom: 10px;">      WinBox.js    </h2>    <small>by Nextapps GmbH&nbsp;<br><a href="https://nextapps-de.github.io/winbox/">https://nextapps-de.github.io/winbox/</a></small>    <p>The guys from Nextapps have created a JavaScript library to show windows on a website. It’s window manager has features like minimize, maximize, move, resize, fullscreen and much more. Always wanted to recreate Windows 3.11? Let’s go …</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://nextapps-de.github.io/winbox/">      <img class="limit" src="winbox-js.png" alt="WinBox.js" />    </a>      <hr id="print-js"/>    <h2 style="margin-bottom: 10px;">      Print.js    </h2>    <small>by Rodrigo Vieira&nbsp;<br><a href="https://printjs.crabbly.com/">https://printjs.crabbly.com/</a></small>    <p>Print.js is a library, that helps you printing anything, which can be shown in a browser. Primarily written to print PDF, it supports now also HTML (including forms), JSON and all sorts of images, even multiple. It formats the wanted content if needed and shows up the browsers print dialog. Pretty neat.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://printjs.crabbly.com/">      <img class="limit" src="print-js.jpg" alt="Print.js" />    </a>      <hr id="simple-text-annotations"/>    <h2 style="margin-bottom: 10px;">      Simple Text Annotations    </h2>    <small>by Jacek Jarczok&nbsp;<br><a href="https://github.com/k-son/simple-text-annotations">https://github.com/k-son/simple-text-annotations</a></small>    <p>Some texts on websites require commenting. Jacek has developed a simple and elegant solution for such annotations, that works on any device without any dependencies.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/k-son/simple-text-annotations">      <img class="limit" src="simple-text-annotations.png" alt="Simple Text Annotations" />    </a>      <hr id="click-menus"/>    <h2 style="margin-bottom: 10px;">      Clicky Menus!    </h2>    <small>by Mark Root-Wiley&nbsp;<br><a href="https://github.com/mrwweb/clicky-menus">https://github.com/mrwweb/clicky-menus</a></small>    <p>Mark has created a one-level dropdown navigation menu, which is fully accessible, either by mouse click, touch or keyboard. It supports all Modern Browsers such as Firefox, Chrome, Edge, and even the “new IE” Safari.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/mrwweb/clicky-menus">      <img class="limit" src="click-menus.png" alt="Clicky Menus!" />    </a>      <hr id="vanilla-navbar-menu"/>    <h2 style="margin-bottom: 10px;">      Responsive Dropdown Menu (Vanilla Navbar Menu)    </h2>    <small>by Rizal&nbsp;<br><a href="https://github.com/therizaldev/vanilla-navbar-menu">https://github.com/therizaldev/vanilla-navbar-menu</a></small>    <p>This classic responsive sidebar from Rival is beautifully solved with CSS and just a little JavaScript.  See the <a href="vanilla-navbar-menu-sample/index.html">demo</a> …</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/therizaldev/vanilla-navbar-menu">      <img class="limit" src="vanilla-navbar-menu.png" alt="Responsive Dropdown Menu (Vanilla Navbar Menu)" />    </a>      <hr id="smooth-side-bar"/>    <h2 style="margin-bottom: 10px;">      Smooth-side-bar    </h2>    <small>by Pham Quang Huy&nbsp;<br><a href="https://github.com/dunbom6612/smooth-side-bar">https://github.com/dunbom6612/smooth-side-bar</a></small>    <p>This sidebar solution from Pham Quang Huy recalls the sidebars Microsoft, Atlassian and others are using in their dashboards. You can fold&#x2F;unfold them in order to show menu details or the icons only. See the <a href="smooth-side-bar-sample/index.html">demo</a> …</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/dunbom6612/smooth-side-bar">      <img class="limit" src="smooth-side-bar.png" alt="Smooth-side-bar" />    </a>      <hr id="podtablejs"/>    <h2 style="margin-bottom: 10px;">      Podtablejs    </h2>    <small>by Afuwape Sunday&nbsp;<br><a href="https://github.com/inlogicstudio/podtable">https://github.com/inlogicstudio/podtable</a></small>    <p>Podtable is a library to make tables responsive to fit smaller devices. It shows as many columns as possible and hides all others behind a detail button to show them in a separate row if needed. It has no dependencies and varius options to customize the behaviour. See the <a href="https://codepen.io/inlogicstudio/pen/BaZyyGZ">demo</a> …</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/inlogicstudio/podtable">      <img class="limit" src="podtablejs.png" alt="Podtablejs" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Uups ... empty posts</title>
      <link href="/post/Uups-empty-posts/"/>
      <url>/post/Uups-empty-posts/</url>
      
        <content type="html"><![CDATA[<p>A while ago I wrote about <a href="/post/Automatic-Duplicate-Image-Shadow/" title="Automatic Duplicate Image Shadow">Automatic Duplicate Image Shadow</a> and used <a href="https://indiepen.tech/">indiepen</a> for showing the result of my efforts.</p>    <div class="alertbox alertbox-note">      <p><strong><a href="https://indiepen.tech/">indiepen</a></strong> is a solution for showing code samples without the need of a code sharing platform, like <a href="https://codepen.io/">codepen</a>. Just reference a <code>index.html</code>, <code>main.js</code> and <code>styles.css</code> from wherever you want and indiepen is wrapping it with a neat viewer inside an IFrame.</p>    </div>  <p>I did it quick and dirty first (sample files in a static folder) and now it was the time to do it right: place the sample files in a subfolder of the post in my Hexo-driven blog solution, in order to reference it from there AND have the possibility to call it directly via <code>./post/my-post/sample</code>.</p><p>The key to achive that in Hexo is the configuration option <code>post_asset_folder: true</code>, which generates a subfolder for all assets with the same name as the post.</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">|- _posts</span><br><span class="line">   |- my-blog-post</span><br><span class="line">      |- my-first-asset.jpg</span><br><span class="line">      |- my-second-asset.jpg</span><br><span class="line">   |- my-blog-post.md</span><br></pre></td></tr></table></figure><p>My idea regarding the indiepen files was having a subfolder for each indiepen in the post asset folder:</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">|- _posts</span><br><span class="line">   |- my-blog-post</span><br><span class="line">      |- my-first-asset.jpg</span><br><span class="line">      |- my-second-asset.jpg</span><br><span class="line">NEW   |- sample</span><br><span class="line">NEW      |- index.html</span><br><span class="line">NEW      |- main.js</span><br><span class="line">NEW      |- styles.css</span><br><span class="line">   |- my-blog-post.md</span><br></pre></td></tr></table></figure><p>Run <code>hexo generate</code>, check that the indiepen was showing up properly and I thought I was done. Wrong … after commiting my changes to Github, where my blog is living, and checking my RSS feed a while after, I saw this:</p><p><img src="/post/Uups-empty-posts/feed-empty-posts.png" alt="Empty posts in feedly"></p><p>Three empty posts…!?</p><span id="more"></span><hr><p><strong>The indiepen files in the asset subfolder were treated like posts by Hexo by no obvious reason!</strong> A short research on the web lead me to a Github issue called <a href="https://github.com/hexojs/hexo/issues/1490">asset files were rendered when post_asset_folder set to true</a> from 2015, with several requests to fix the bug.</p><p>Since I’m little familiar with Hexo’s processors, I saw two ways to fix the problem:</p><ol><li>Write a plugin like <a href="https://github.com/printempw/hexo-hide-posts">Hexo Hide Posts</a> to filter out unwanted “posts” after processing</li><li>Try to find the problem in Hexo’s source code, to avoid these files to be treated as posts a priori</li></ol><p>After a little searching around in Hexo’s source code, I was able to identify the location where the problem was. In the post processor:</p><figure class="highlight js"><figcaption><span>./node_modules/hexo/lib/plugins/processor/post.js (shortened)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function"><span class="params">ctx</span> =&gt;</span> &#123;</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">pattern</span>: <span class="keyword">new</span> <span class="title class_">Pattern</span>(<span class="function"><span class="params">path</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="title function_">isTmpFile</span>(path)) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> result;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (path.<span class="title function_">startsWith</span>(postDir)) &#123;</span><br><span class="line">        result = &#123;</span><br><span class="line">          <span class="attr">published</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="attr">path</span>: path.<span class="title function_">substring</span>(postDir.<span class="property">length</span>)</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (path.<span class="title function_">startsWith</span>(draftDir)) &#123;</span><br><span class="line">        result = &#123;</span><br><span class="line">          <span class="attr">published</span>: <span class="literal">false</span>,</span><br><span class="line">          <span class="attr">path</span>: path.<span class="title function_">substring</span>(draftDir.<span class="property">length</span>)</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!result || <span class="title function_">isHiddenFile</span>(result.<span class="property">path</span>)) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">      result.<span class="property">renderable</span> = ctx.<span class="property">render</span>.<span class="title function_">isRenderable</span>(path) &amp;&amp; !<span class="title function_">isMatch</span>(path, ctx.<span class="property">config</span>.<span class="property">skip_render</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> result;</span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="attr">process</span>: <span class="keyword">function</span> <span class="title function_">postProcessor</span>(<span class="params">file</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (file.<span class="property">params</span>.<span class="property">renderable</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">processPost</span>(file);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ctx.<span class="property">config</span>.<span class="property">post_asset_folder</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">processAsset</span>(file);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>In the very beginning of processing posts, the code iterates over all files and folders in the <code>_posts</code> folder and creates a <code>param</code> object for each by using the <code>pattern</code>. This object has an attribute named <code>renderable</code>, which is used by the <code>process</code> method later on, to decide if it has to be rendered or not.</p><p>But … the determination of <code>renderable</code> is based solely on wether a file has a renderer (<em>isRenderable</em>) or if it is listed in the <code>skip_render</code> configuration. See line 24 in the sample code. As HTML, JS and CSS files naturally have a renderer in Hexo, they will treated as posts!</p><hr><h2 id="Alleviation-Of-The-Problem"><a href="#Alleviation-Of-The-Problem" class="headerlink" title="Alleviation Of The Problem"></a>Alleviation Of The Problem</h2><p>In this early stage of code execution, only files and folders are listed. There is no reference to a post or something like that, in order to find out if a certain file belongs to a post as an asset. Examination of the path will fail, because it is possible in Hexo to have a folder hierarchy under <code>_posts</code>.</p><p>The only way to approach the problem solution is by making assumptions:</p><ol><li>If the user has activated the configuration <code>post_asset_folder</code>, he wants to have asset files in a folder named after the post</li><li>If the user has configured a certain file name for new posts in <code>new_post_name</code> (for example <em>:title.md</em>), it is not to be assumed, that he will create asset files with the same file extension.</li></ol><p>Important here is, that it is not an option to hide the files in some way, because then they won’t appear in the website. They have to be marked as <em>process it, but don’t render it</em>, by bending the <code>renderable</code> attribute.</p><p>These considerations led to a small extension of the above code below line 24:</p><figure class="highlight js"><figcaption><span>./node_modules/hexo/lib/plugins/processor/post.js (shortened)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line">result.<span class="property">renderable</span> = ctx.<span class="property">render</span>.<span class="title function_">isRenderable</span>(path) &amp;&amp; !<span class="title function_">isMatch</span>(path, ctx.<span class="property">config</span>.<span class="property">skip_render</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//if post_asset_folder is set, restrict renderable files to default file extension </span></span><br><span class="line"><span class="keyword">if</span> (result.<span class="property">renderable</span> &amp;&amp; ctx.<span class="property">config</span>.<span class="property">post_asset_folder</span>) &#123;</span><br><span class="line">  result.<span class="property">renderable</span> = (<span class="title function_">extname</span>(ctx.<span class="property">config</span>.<span class="property">new_post_name</span>) === <span class="title function_">extname</span>(path));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>This is what I pushed as a <a href="https://github.com/hexojs/hexo/pull/4781">Pull Request</a> to the Hexo team today. I know, it not ideal, but maybe they accept my approach and ship the fix with the next version.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Photo Workflow Re-Thought</title>
      <link href="/post/Photo-Workflow-Re-Thought/"/>
      <url>/post/Photo-Workflow-Re-Thought/</url>
      
        <content type="html"><![CDATA[<p>To be honest: many of my posts here on kiko.io are written just for me. To internalize things by writing them down and to give my future me the chance to look up something I did in the past. So is this post. Future me: Don’t forget the following!</p><p>I while ago I was on a trip, shooting a lot of photographs and on my way back home I had three 32GB SD cards full with great photos. I was working with my old Nikon D7000, which has 2 card slots and I just took them out, when one of the cards was full. Worked fine for several years … but after this trip, one of the cards, full with RAW files and wonderful photos, <strong>w-a-s&amp;nbsp;&amp;nbsp;&amp;nbsp;N-O-T&amp;nbsp;&amp;nbsp;&amp;nbsp;r-e-a-d-a-b-l-e&amp;nbsp;&amp;nbsp;&amp;nbsp;a-n-y-m-o-r-e</strong> … f***! I saved myself the backup and now had to suffer over my carelessness.</p><p>I thought about some fancy and expensive backup solutions for professional photographers, but realized after a while, that I already had the equipment to achieve everything I needed and I could even use it to improve my general workflow.</p><p>In this post, I want to show you, what my workflow looks like today and how yours might benefit from my mistake.</p><span id="more"></span><hr><h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><h3 id="Hardware"><a href="#Hardware" class="headerlink" title="Hardware"></a>Hardware</h3><ul><li><p><strong>Nikon D500</strong><br><a href="https://www.amazon.com/Nikon-D500-DX-Format-Digital-16-80mm/dp/B01A7Q0KZ6">amazon.com</a></p></li><li><p><strong>Sony Professional XQD G Series 64GB Memory Card</strong><br><a href="https://www.amazon.com/Sony-Professional-64GB-Memory-QD-G64F/dp/B081B4X9TG">amazon.com</a></p></li><li><p><strong>Prograde Digital SD UHS-II 64GB Card</strong><br><a href="https://www.amazon.com/Professional-Vloggers-Filmmakers-Photographers-Curators/dp/B07TCL222B">amazon.com</a></p>    <div class="alertbox alertbox-note">      <p>The Nikon D500 has 2 different card slots: XQD and SD, where the SD is configured in the camera as backup medium. It is important to use a SD card that is as big and as fast, in terms if writing speed, as the used XQD card!</p>    </div>  </li><li><p><strong>Lenovo Yoga Smart Tab (Android)</strong><br><a href="https://www.amazon.com/Lenovo-Android-Octa-Core-Processor-ZA3V0005US/dp/B0881HDRTH">amazon.com</a></p>    <div class="alertbox alertbox-note">      <p>This tablet has a Micro SD card slot for extending the internal memory up to 128 GB (inofficially up to 2TB) and a USB type C socket.</p>    </div>  </li><li><p><strong>Rocketek Type C XQD&#x2F;SD Card Reader</strong><br><a href="https://www.amazon.com/Reader-Rocketek-Memory-Compatible-Windows/dp/B07YDR57HP">amazon.com</a></p>    <div class="alertbox alertbox-note">      <p>This card reader has two slots for XQD and SD and a USB Type C connector with a short cable.</p>    </div>  </li><li><p>… and any Windows 10 machine</p></li></ul><h3 id="Services"><a href="#Services" class="headerlink" title="Services"></a>Services</h3><ul><li><strong>Dropbox</strong><br><a href="https://www.dropbox.com/">dropbox.com</a></li></ul><h3 id="Apps-for-Android-Tablet"><a href="#Apps-for-Android-Tablet" class="headerlink" title="Apps for Android (Tablet)"></a>Apps for Android (Tablet)</h3><ul><li><p><strong>Solid Explorer File Manager</strong><br><a href="https://play.google.com/store/apps/details?id=pl.solidexplorer2">play.google.com</a></p></li><li><p><strong>Photo Mate R3</strong><br><a href="https://play.google.com/store/apps/details?id=com.tssystems.photomate3">play.google.com</a></p></li><li><p><strong>Autosync for Dropbox - Dropsync</strong><br><a href="https://play.google.com/store/apps/details?id=com.ttxapps.dropsync">play.google.com</a></p></li></ul><h3 id="Apps-for-Windows-10"><a href="#Apps-for-Windows-10" class="headerlink" title="Apps for Windows 10"></a>Apps for Windows 10</h3><ul><li><strong>Adobe Lightroom Classic (CC)</strong><br><a href="https://www.adobe.com/products/photoshop-lightroom-classic.html">adobe.com</a></li></ul><hr><h2 id="The-Workflow-In-General"><a href="#The-Workflow-In-General" class="headerlink" title="The Workflow In General"></a>The Workflow In General</h2><p>The aim of the workflow is to transfer the photos from the camera to other hardware on the one hand and to cloud-based storage on the other, from where they can then be easily moved to the actual storage medium at home. In the end, always 2 different backups will exist on different media.</p><p>When traveling, it is important to always have the tablet and the card reader with you, in addition to the camera and some spare SD cards.</p><hr><h2 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h2><p>Whenever it is necessary or advisable, take both cards out of the camera and put the <strong>XQD card</strong> into the card reader and connect the latter to the tablet. Just put the <strong>SD card</strong> away, as we will use a spare card afterwards.</p><p>Open up <strong>Solid Explorer</strong> on the tablet…</p><p><img src="/post/Photo-Workflow-Re-Thought/1-connect-card-solid-explorer.png" alt="Step 1 - Connected card Solid Explorer"></p><p>Copy the complete folder <code>DCIM/101ND500</code> (where the photos are stored) to a separate folder called <code>RAW</code> on the <code>disk</code> (SD card extension) of the tablet.</p><p><img src="/post/Photo-Workflow-Re-Thought/2-copy-card--to-disc.png" alt="Step 1 - Copy card to disk"></p><hr><h2 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h2><p>Rename the new folder on the <code>disk</code> to something appropriate:<br>(Screenshot says <em>Rename a file</em>, but that’s a bug in the app)</p><p><img src="/post/Photo-Workflow-Re-Thought/3-rename-disk-folder.png" alt="Step 2 - Rename disk folder"></p><hr><h2 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h2><p>Insert the <strong>XQD card</strong> and a <strong>spare SD card</strong> back into the camera and wipe them both via the built-in menu.</p><p><strong>Your backup is now on the orginal SD cards and your tablet.</strong></p><hr><h2 id="Step-4-optional"><a href="#Step-4-optional" class="headerlink" title="Step 4 (optional)"></a>Step 4 (optional)</h2><p>If you have time and leisure, you can use <strong>Photo Mate R3</strong> to review and rate your images.</p><p><img src="/post/Photo-Workflow-Re-Thought/4-open-folder-in-photomate.png" alt="Step 4 - Open folder in Photo Mate"></p>    <div class="alertbox alertbox-warning">      <p><strong>Don’t delete any photos in this step!</strong><br>Just mark photos with RED, which can be removed afterwards, because the app is sometimes not fast enough to delete the right photo, when you has opened the next one!</p>    </div>  <p><img src="/post/Photo-Workflow-Re-Thought/5-rate-photos.png" alt="Step 4 - Rate photos"></p><hr><h2 id="Step-5"><a href="#Step-5" class="headerlink" title="Step 5"></a>Step 5</h2><p>Open up <strong>Dropsync</strong> on the tablet and set up a new sync profile, if you haven’t done so already:</p><p><img src="/post/Photo-Workflow-Re-Thought/6-setup-sync.png" alt="Step 5 - Setup sync"></p><p>The <em><code>remote folder</code></em> is a folder called <code>RAW</code> in your <strong>Dropbox</strong> and the <em><code>local folder</code></em> is the <code>RAW</code> folder on your disk. <em><code>Sync method</code></em> should be <code>Upload then delete</code>, because you don’t need the second backup on your tablet, after the photos are transfered to Dropbox.</p><p>Run the synchronization:</p><p><img src="/post/Photo-Workflow-Re-Thought/7-run-sync.png" alt="Step 5 - Run sync"></p><p><img src="/post/Photo-Workflow-Re-Thought/8-running-sync.png" alt="Step 5 - Running sync"></p><p><strong>Your backup is now on the original SD cards and Dropbox.</strong></p><hr><h2 id="Step-6"><a href="#Step-6" class="headerlink" title="Step 6"></a>Step 6</h2><p>After you have enjoyed your trip and be back home, move the photo folder from your <strong>Dropbox</strong> to your <strong>local storage</strong>, which of course should also have a backup of some kind:</p><p><img src="/post/Photo-Workflow-Re-Thought/9-move-folder-in-windows.png" alt="Step 6 - Move folder in Windows"></p><p><strong>Your backup is now on the original SD cards and your local storage.</strong></p><hr><h2 id="Step-7"><a href="#Step-7" class="headerlink" title="Step 7"></a>Step 7</h2><p>If you’ve already rated your images along the way, <strong>Photo Mate R3</strong> has already stored that metadata in an XMP sidecar file, that is compatible with Lightroom:</p><p><img src="/post/Photo-Workflow-Re-Thought/10-files-in-windows.png" alt="Step 7 - Files in Windows"></p><p>Open up <strong>Lightroom</strong> and import the folder from your <strong>local storage</strong>:</p><p><img src="/post/Photo-Workflow-Re-Thought/11-import-lightroom.png" alt="Step 7 - Import Lightroom"></p><hr><h2 id="Step-8"><a href="#Step-8" class="headerlink" title="Step 8"></a>Step 8</h2><p>In the <strong>Lightroom</strong> library, filter all photos with the RED flag and set them as REJECTED:</p><p><img src="/post/Photo-Workflow-Re-Thought/12-set-red-as-rejected.png" alt="Step 8 - Set red as rejected"></p><hr><h2 id="Step-9"><a href="#Step-9" class="headerlink" title="Step 9"></a>Step 9</h2><p>Delete all photos marked as REJECTED:</p><p><img src="/post/Photo-Workflow-Re-Thought/13-delete-rejected.png" alt="Step 9 - Delete rejected"></p><hr><h2 id="Step-10"><a href="#Step-10" class="headerlink" title="Step 10"></a>Step 10</h2><p>If you are sure that your local backup was done once, you can safely wipe the original SD cards, in order to use them for the next time.</p>]]></content>
      
      
      <categories>
          
          <category> Photo-Editing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lightroom </tag>
            
            <tag> Imaging </tag>
            
            <tag> Workflow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Application-Specific Links on Windows 10</title>
      <link href="/post/Application-Specific-Links-on-Windows-10/"/>
      <url>/post/Application-Specific-Links-on-Windows-10/</url>
      
        <content type="html"><![CDATA[<p>While reading the Chris Coyier’s post <a href="https://css-tricks.com/application-specific-links/">Application-Specific Links</a> the other day, I realized what has been bugging me for a long time now: a proper solution for openening a certain URL in a modern Web App.</p><p>Since the beginning of the digital age (feels like that), we have files associated to a certain application, installed on our machine, regardless if its running Windows, iOS, OS&#x2F;2 or whatever. We have learned that well and no one questions it … but … the IT world keeps on turning and today we are not only talking about files, but about links.</p><p>Many modern applications are written with Web technologies, thanks to cross platform frameworks like <a href="https://www.electronjs.org/">Electron</a>. Some of them are real apps for working on things, like the famous editor <a href="https://code.visualstudio.com/">Visual Studio Code</a>, and some are mirroring their online services in a desktop app only, like <a href="https://slack.com/intl/en-de/downloads/windows">Slack</a> or <a href="https://www.notion.so/desktop">Notion</a>. However, the latter have the problem how to deal with links to their online services. When a user is sent a link and has become accustomed to using the desktop app, it won’t open in the app as he clicks on it, but in his default browser. The question is, how to associate not only files, but links with certain desktop apps?</p><span id="more"></span><hr><h2 id="Executables-and-URL-Schemes"><a href="#Executables-and-URL-Schemes" class="headerlink" title="Executables and URL Schemes"></a>Executables and URL Schemes</h2><p>Triggered by <a href="https://thomasjfrank.com/how-to-share-notion-links-that-open-directly-in-the-app/">Notions announcement</a> of using a dedicated link protocol <code>notion://</code> to open up Notion links directly in the Notion App, Chris wrote about the possibilities an a Mac to associate certain URL schemes with a Web App in general. His choice fell on <a href="https://www.choosyosx.com/">Choosy</a>, an app which hooks into to the process on opening links by beeing the systems default browser and forwarding the URL to configured applications.</p><p>Fair enough, but it’s a tool for Mac. However, it was not particularly difficult to find equivalent programs for Windows 10, my preferred OS:</p><ul><li><a href="https://github.com/DanTup/BrowserSelector">Browser Selector</a></li><li><a href="https://github.com/zumoshi/BrowserSelect">Browser Select</a></li><li><a href="https://github.com/mortenn/BrowserPicker">Browser Picker</a></li><li><a href="https://browserchooser2.com/#about">Browser Choose 2</a></li><li>… name yours</li></ul><p>Interestingly, Microsoft already has something similar built into Windows, but prevents users from messing with it:</p><p><img src="/post/Application-Specific-Links-on-Windows-10/apps-for-websites.png" alt="Apps for Websites"></p><p>The feature is targeted from <a href="https://de.wikipedia.org/wiki/Universal_Windows_Platform">UWP</a> applications only, therefore the developer has to implement it by extending the app manifest: <a href="https://blogs.windows.com/windowsdeveloper/2016/10/14/web-to-app-linking-with-appurihandlers/">Web-to-App Linking with AppUriHandlers</a>.</p><p>What Chris’ approach and all similar Windows programs have in common is, that they are based on executables, EXE files and yes, the cross-platform apps mentioned above are executables, but for me this is too short. What about Chromium based Progressive Web Apps (PWA)?</p><p>Since the Chromium team has introduced the possibility to add a website as desktop shortcut and start it in a new window, without any browser specific toolbars and other stuff, it became very popular, especially if this website was implemented by the developer as a <a href="https://web.dev/progressive-web-apps/">PWA</a>.It does not matter whether all PWA features, such as offline mode or similar, are available. The mere fact of being able to use an online service in its own window is a gain.</p><p>But such an app has no specific executable! It will be executed by the browser with some parameters itself. The question is, how to associate a certain URL scheme or a custom protocol with these web apps?</p><hr><h2 id="PWA’s-on-Windows"><a href="#PWA’s-on-Windows" class="headerlink" title="PWA’s on Windows"></a>PWA’s on Windows</h2><p>Some basics about how Chromium based browsers are dealing with this feature:</p><p>As you click on <strong>Create Shortcut…</strong> in the <strong>More Tools</strong> menu in Chrome or Edge and confirm the following dialog (or install the PWA), a new folder in <code>%LOCALAPPDATA%\Google\Chrome\User Data\Default\Web Applications</code> will be created. Its name starts with <code>_crx_</code> and is followed by a random string (so called <strong>app-id</strong>), f.e. <strong><code>ffokdlainpppngbbhdcobaocmbobgdii</code></strong>. In this folder the <a href="https://en.wikipedia.org/wiki/Favicon">Favicon</a> of the website is stored.</p><p>If it is a real PWA and has a <a href="https://developer.mozilla.org/de/docs/Web/Manifest">Web App Manifest</a>, you will find all resources defined there in another subfolder named by the app-id below <code>%LOCALAPPDATA%\Google\Chrome\User Data\Default\Web Applications\Manifest Resources</code>.</p>    <div class="alertbox alertbox-exclamation">      <p>The paths differ depending on which browser profile is active. In this case <strong>‘default’</strong>.</p>    </div>  <p>The desktop shortcut, which will be created, points to an executable named <code>chrome_proxy.exe</code> or <code>msedge_proxy.exe</code>. These files are scaled-down versions of the browser executable itself. Its main purpose is to bypass a Windows error as described in its <a href="https://chromium.googlesource.com/chromium/src/+/refs/heads/main/chrome/chrome_proxy/chrome_proxy_main_win.cc">source code</a>, in order to create a correct shortcut.</p><p>The important part of the shortcut are the calling parameters:</p><ul><li><code>--app-id</code> - the random ID generated by the browser</li><li><code>--profile-directory</code> - the browser profile to use; mostly ‘default’</li></ul><p>If you are interested, Chromium has dozens of parameters, some to change the behaviour and others only for debugging purposes. Peter Beverloo provides an automatic generated <a href="https://peter.sh/experiments/chromium-command-line-switches/">List of all Chromium Command Line Switches</a>.</p><h3 id="…-a-bit-deeper-just-for-fun"><a href="#…-a-bit-deeper-just-for-fun" class="headerlink" title="… a bit deeper, just for fun"></a>… a bit deeper, just for fun</h3><p>The following has nothing to do with the actual problem and doesn’t help in any way, but it was interesting to dig a bit deeper into the operating principles of Chromium.</p><p>As we saw that the browser creates a unique ID for the new shortcut, we find all needed data referenced in the file <code>%LOCALAPPDATA%\Google\Chrome\User Data\Default\preferences</code>. It has no extension, but it is a JSON file.</p><p>Two sections are relevant in this file:</p><p><strong>browser.app_window_placement._crx_&lt;app-id&gt;</strong></p><p>Holds the information how the window is displayed on the desktop (metrics).</p><figure class="highlight json"><figcaption><span>preferences > browser.app_window_placement</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;_crx_ffokdlainpppngbbhdcobaocmbobgdii&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;bottom&quot;</span><span class="punctuation">:</span> <span class="number">889</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;left&quot;</span><span class="punctuation">:</span> <span class="number">161</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;maximized&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;right&quot;</span><span class="punctuation">:</span> <span class="number">1610</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;top&quot;</span><span class="punctuation">:</span> <span class="number">56</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;work_area_bottom&quot;</span><span class="punctuation">:</span> <span class="number">920</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;work_area_left&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;work_area_right&quot;</span><span class="punctuation">:</span> <span class="number">1707</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;work_area_top&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p><strong>extensions.settings.&lt;app-id&gt;</strong></p><p>Holds every other information about the app, including the complete manifest und the URL to show.</p><figure class="highlight json"><figcaption><span>preferences > extensions.settings (shortened)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;ffokdlainpppngbbhdcobaocmbobgdii&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;active_bit&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;active_permissions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;api&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;manifest_permissions&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;app_launcher_ordinal&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zzo&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;commands&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;content_settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;creation_flags&quot;</span><span class="punctuation">:</span> <span class="number">17</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;events&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;from_bookmark&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;from_webstore&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;granted_permissions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;api&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;manifest_permissions&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;incognito_content_settings&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;incognito_preferences&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;install_time&quot;</span><span class="punctuation">:</span> <span class="string">&quot;13266055455495996&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;launchType&quot;</span><span class="punctuation">:</span> <span class="number">3</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;locallyInstalled&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;location&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;manifest&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;app&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;display_mode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;browser&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;icon_color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#186AA5&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;launch&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;web_url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://trello.com&quot;</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;linked_icons&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span> ... <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Organize anything, together. Trello is a collaboration tool that organizes your projects into boards. In one glance, know what&#x27;s being worked on, who&#x27;s working on what, and where something is in a process.&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;icons&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span> ... <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Trello&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2021.5.21.20218&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;page_ordinal&quot;</span><span class="punctuation">:</span> <span class="string">&quot;y&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ffokdlainpppngbbhdcobaocmbobgdii\\2021.5.21.20218_0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;preferences&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;regular_only_preferences&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;was_installed_by_default&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;was_installed_by_oem&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>    <div class="alertbox alertbox-warning">      <p>It is possible to edit the <code>preferences</code> manually, but not advisable, because its the backbone of your browser profile and you have to restart all browser instances after changes.</p>    </div>  <hr><h2 id="Registering-Protocol-Handlers-via-JavaScript"><a href="#Registering-Protocol-Handlers-via-JavaScript" class="headerlink" title="Registering Protocol Handlers via JavaScript"></a>Registering Protocol Handlers via JavaScript</h2><p>There are native protocol handlers in every OS. The most famous is <code>mailto:</code>. A click on such a link opens the default mail editor. Since 2006 the W3C discusses an extension called <code>registerProtocolHandler</code>, every web app could implement to tell the OS, that it is responsible for a certain protocol.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">navigator.<span class="title function_">registerProtocolHandler</span>(<span class="string">&quot;web+myfancyapp&quot;</span>,</span><br><span class="line">  <span class="string">&quot;https://my-fancy-web-app.com/?url=%s&quot;</span>,</span><br><span class="line">  <span class="string">&quot;My Fancy App Handler&quot;</span>);</span><br></pre></td></tr></table></figure><p>If this registrations as the user enters the site for the first time, he will be asked by the browser for allowance, he has to confirm to make it work.</p><p>As the developer implements the links, he has to write it like that:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;web+myfancyapp:settings&quot;</span>&gt;</span>Go To Settings<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The registration and a click on such a link causes the browser to request <code>https://my-fancy-web-app.com/?url=settings</code>.</p><p>For understandable reasons some protocols are blacklisted, like <em>mailto</em>, <em>irc</em>, <em>tel</em> and others. Custom protocol schemes has to have the prefix <code>web+</code>, in order to avoid interference with the standardized protocols. As of May 2021, it is part of the <a href="https://developers.google.com/web/updates/capabilities">capabilities project</a> and is in development currently.</p><p>Nice … but doesn’t helps in solving our problem in the first place, because we can’t yet break out of the browser with it. We need something to tell the browser that an installed PWA is responsible for this protocol…</p><hr><h2 id="Manifest-Protocol-Handlers"><a href="#Manifest-Protocol-Handlers" class="headerlink" title="Manifest Protocol Handlers"></a>Manifest Protocol Handlers</h2><p>There is no official W3C proposal, but experiments around the Chromium team to extend the <strong>PWA’s manifest file</strong> like that:</p><figure class="highlight json"><figcaption><span>web.manifest</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;protocol_handlers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;protocol&quot;</span><span class="punctuation">:</span> <span class="string">&quot;web+myfancyapp&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/?url=%s&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>This could be the bridge we need to bind a PWA to a certain protocol, in order to open up the registered browser app, instead of a new tab. But its is just an experiment.</p><hr><h2 id="Manifest-URL-Handlers"><a href="#Manifest-URL-Handlers" class="headerlink" title="Manifest URL Handlers"></a>Manifest URL Handlers</h2><p>Another approach on connecting certain links to a PWA is similar to the manifests <code>protocol_handlers</code> but for URL schemes. No need for registering a protocol … browser just parse the URL and show up my app:</p><figure class="highlight json"><figcaption><span>web.manifest</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;url_handlers&quot;</span> <span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;origin&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://my-fancy-app.com&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;origin&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://*.my-fancy-app.com&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>Simple and straightforward. There is a <a href="https://www.chromestatus.com/feature/5739732661174272">Chrome Platform Page</a> for this feature and the current status is <em>Origin Trial</em> for version 93!</p><p>To try it out, you can enable <code>#enable-desktop-pwas-url-handling</code> in Edge and Chrome:</p><p><img src="/post/Application-Specific-Links-on-Windows-10/enable-desktop-pwas-url-handling.png" alt="Chrome Flag: Desktop PWA URL handling"></p><p>But … it is also not even on the way to an official proposal :|</p><hr><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>As of today there is no solution for Windows users to associate links with the bunch of different applicationson windows, as we are used to from the files. But there is a special technique regarding web apps at the horizon, zo ease this pain, even if it depends on the app developers. </p><p>Maybe Microsoft should think about their approach of <strong>Apps for Websites</strong>, in order to make it possible for users to extend that. The cherry on top would be then, if they decide to integrate the upcoming Protocol and URL Handlers, defined by the developers, right into this tool.</p><hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>whatwg.org: <a href="https://html.spec.whatwg.org/multipage/system-state.html#custom-handlers">HTML - Living Standard</a></li><li>MDB Web Docs: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/registerProtocolHandler/Web-based_protocol_handlers">Web-based protocol handlers</a></li><li>Thomas Steiner (web.dev): <a href="https://web.dev/url-protocol-handler/">URL protocol handler registration for PWAs</a></li><li>Matt West: <a href="https://mattwest.design/registering-protocol-handlers-to-intercept-special-links">Registering Protocol Handlers to Intercept Special Links</a></li><li>Gyuyoung: <a href="https://blogs.igalia.com/gyuyoung/2017/12/13/what-is-navigator-registerprotocolhandler/">What is navigator.registerProtocolHandler?</a></li><li>GitHub Issue on W3C/Manifest: <a href="https://github.com/w3c/manifest/issues/846">Add manifest option for PWAs to be registered as scheme/protocol handlers</a></li><li>MDN Web Docs: <a href="https://developer.mozilla.org/en-US/docs/Web/Manifest/protocol_handlers">protocol_handlers</a></li><li>Microsoft Docs: <a href="https://docs.microsoft.com/en-us/microsoft-edge/progressive-web-apps-chromium/experimental-features">Experimental features in Progressive Web Apps (PWAs)</a></li><li>GitHub MicrosoftEdge/MSEdgeExplainers: <a href="https://github.com/MicrosoftEdge/MSEdgeExplainers/blob/main/URLProtocolHandler/explainer.md">URL Protocol Handler Registration for PWAs</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Browser </tag>
            
            <tag> Windows </tag>
            
            <tag> PWA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pattern for dynamic Hexo pages</title>
      <link href="/post/Pattern-for-dynamic-Hexo-pages/"/>
      <url>/post/Pattern-for-dynamic-Hexo-pages/</url>
      
        <content type="html"><![CDATA[<p><a href="https://hexo.io/">Hexo</a> is a great SSG platform for blogging. Just write your Markdown beneath some Frontmatter meta data, run <code>hexo generate</code> and publish the results to a web server.</p><p>But at some point you may want to process different data from internal or external sources and integrate it into your blog. Hexo doesn’t support this out of the box, but has a powerful feature called <a href="https://hexo.io/api/generator.html">Generator</a>, which helps you to achieve your goal. The following is a sample and pattern of how to implement this.</p><p>The starting point of my example is the requirement to display several elements of the same type on a dynamic page, but you can of course adapt the example according to your needs.</p><span id="more"></span><hr><h2 id="The-Page"><a href="#The-Page" class="headerlink" title="The Page"></a>The Page</h2><p>First of all we need a Hexo page for the meta data and for some text we want to show at the beginning of the page to describe what is shown below. In order not to interfer the classic post generation, we create a new folder in Hexo’s <code>source</code> folder called <strong><code>_dynamic</code></strong>, where we place the MD file for the new dynamic page.</p>    <div class="alertbox alertbox-exclamation">      <p>The underscore in the name of the folder <code>_dynamic</code> is important, because Hexo doesn’t touch subfolders in <code>source</code> with this starting character while generating the site. Without, it would be treated as a normal page.</p>    </div>  <figure class="highlight md"><figcaption><span>./source/_dynamic/my-special-page.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: My Title</span><br><span class="line">subtitle: My Subtitle</span><br><span class="line">date: 2021-08-24 19:24:00</span><br><span class="line"><span class="section">mySpecialProperty: &quot;Lorem ipsum dolor sit amet&quot;</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line">Some text to show above the dynamic created content...</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>The Frontmatter data has no limits. You can add as much properties as you like.</p><hr><h2 id="The-Layout-Template"><a href="#The-Layout-Template" class="headerlink" title="The Layout Template"></a>The Layout Template</h2><p>Hexo works with EJS layout files. Whenever a page should be created, the calling method has to define which layout file should be used. Therefor we create a special EJS file for our dynamic page and place it in the <code>layout</code> folder.</p><figure class="highlight js"><figcaption><span>./themes/&lt;your-theme&gt;/layout/my-special-layout.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1 <span class="keyword">class</span>=<span class="string">&quot;page-title&quot;</span>&gt;&lt;%= page.<span class="property">title</span> %&gt;&lt;/h1&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">class</span>=<span class="string">&quot;page-subtitle&quot;</span>&gt;</span>&lt;%= page.subtitle %&gt;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page-content&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  &lt;%- page.content %&gt;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;view grid&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &lt;% for(var i=0; i &lt; page.items.length; i++) &#123; %&gt;</span></span><br><span class="line"><span class="language-xml">      &lt;%- partial(&#x27;_partial/my-special-item&#x27;, &#123; item: page.items[i] &#125;) %&gt;</span></span><br><span class="line"><span class="language-xml">    &lt;% &#125; %&gt;</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">// Extend the page with JavaScript ...</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>On generating the page later on, an object called <code>page</code> will be used to process the EJS, with all information we want to show on the page, like <code>content</code> (text of the Markdown file) and all meta data from the Frontmatter (title, subtitle and so on).</p><p>Special attention is paid to <strong><code>items</code></strong>, because this property holds the list of all items we want to show on the page. Each object in this list have multiple custom properties you define, when you are assemble the data to show in the generator, but more about that later.</p><p>In the <code>script</code> tag you can write JavaScript to interact with your data on the page, like filtering stuff or other things the user should can do with your data.</p><hr><h2 id="The-Partial-Template-For-Items"><a href="#The-Partial-Template-For-Items" class="headerlink" title="The Partial Template For Items"></a>The Partial Template For Items</h2><p>In order not to blow up the layout EJS, it is advisable to separate the template for the item itself to an extra file, referenced in the layout file (<code>_partial/my-special-item</code>) as a Partial.</p><figure class="highlight js"><figcaption><span>./themes/&lt;your-theme&gt;/layout/_partial/my-special-item.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="keyword">class</span>=<span class="string">&quot;my-item&quot;</span>&gt;</span><br><span class="line">    &lt;!-- <span class="title class_">Definition</span> <span class="keyword">of</span> an item --&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>The layout EJS will iterate over the list of items in the FOR loop and handover one of these object to the Partial to render.</p><hr><h2 id="The-Generator"><a href="#The-Generator" class="headerlink" title="The Generator"></a>The Generator</h2><p>As we have made our preparations, we are now able to implement our special generator itself.</p><p>Hexo uses so called Generators to “produce” the HTML for your site and you can add your own by using the <code>register</code> method. The result of a generator has to be an object with at least three properties:</p><ul><li><code>data</code> - Data object with all necessary information to process the given layout EJS</li><li><code>path</code> - The path where the HTML file should be created</li><li><code>layout</code> - The layout EJS file, which should be processed</li></ul><figure class="highlight js"><figcaption><span>./themes/&lt;your-theme&gt;/scripts/my-special-generator.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">hexo.<span class="property">extend</span>.<span class="property">generator</span>.<span class="title function_">register</span>(<span class="string">&quot;my-special-generator&quot;</span>, <span class="keyword">async</span> <span class="keyword">function</span>(<span class="params">locals</span>) &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// INSTANTIATE A NEW DATA OBJECT</span></span><br><span class="line">  <span class="keyword">let</span> page = &#123;&#125;;</span><br><span class="line">  page.<span class="property">name</span> = <span class="string">&quot;my-special-page&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Do something to get content and data for the page</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// INSTANTIATE THE RESULT OBJECT</span></span><br><span class="line">  <span class="keyword">let</span> result = &#123;</span><br><span class="line">    <span class="attr">data</span>: page,</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(page.<span class="property">name</span>, <span class="string">&quot;index.html&quot;</span>),</span><br><span class="line">    <span class="attr">layout</span>: <span class="string">&quot;my-special-layout&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// RETURN THE RESULT</span></span><br><span class="line">  <span class="keyword">return</span> result;  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>In this basic structure, you will find again the layout file, we created earlier. The output will be rendered in an HTML file called <code>index.html</code> at the subfolder <code>my-special-page</code>, as we take the name of the page for it, as we did it for the name of the source MD file.</p><p>The next thing we have to implement here, is the content of the source MD file.</p>    <div class="alertbox alertbox-info">      <p>The parameter <code>locals</code> gives you access to the site variables, with all information about the site and its pages, posts, categories and tags!</p>    </div>  <p>The first 4 lines in the following script are the references to some helpers we need. Please be sure, that you install them first via <code>npm install</code>.</p><figure class="highlight js"><figcaption><span>./themes/&lt;your-theme&gt;/scripts/my-special-generator.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> log = <span class="built_in">require</span>(<span class="string">&#x27;hexo-log&#x27;</span>)(&#123; <span class="attr">debug</span>: <span class="literal">false</span>, <span class="attr">silent</span>: <span class="literal">false</span> &#125;);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;hexo-fs&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> front = <span class="built_in">require</span>(<span class="string">&#x27;hexo-front-matter&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">generator</span>.<span class="title function_">register</span>(<span class="string">&quot;my-special-generator&quot;</span>, <span class="keyword">async</span> <span class="keyword">function</span>(<span class="params">locals</span>) &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// GET REFERENCE TO HEXO&#x27;S CONFIGURATION</span></span><br><span class="line">  <span class="keyword">let</span> config = <span class="variable language_">this</span>.<span class="property">config</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// SHOW MESSAGE ON GENERATING</span></span><br><span class="line">  log.<span class="title function_">info</span>(<span class="string">&quot;Processing items for dynamic page&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> page = &#123;&#125;;</span><br><span class="line">  page.<span class="property">name</span> = <span class="string">&quot;my-special-page&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// GET THE PATH TO THE SOURCE FILE</span></span><br><span class="line">  <span class="keyword">const</span> mdSource = path.<span class="title function_">join</span>(config.<span class="property">source_dir</span>, <span class="string">&quot;_dynamic&quot;</span>, page.<span class="property">name</span> + <span class="string">&quot;.md&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// GET THE CONTENT OF THE SOURCE FILE</span></span><br><span class="line">  <span class="keyword">const</span> md = fs.<span class="title function_">readFileSync</span>(mdSource);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// PARSE THE FRONTMATTER OF THE SOURCE FILE</span></span><br><span class="line">  <span class="keyword">let</span> fm = front.<span class="title function_">parse</span>(md);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ADD THE FRONTMATTER TO THE DATA OBJECT</span></span><br><span class="line">  page = &#123;...page, ...fm&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// CONVERT MARKDOWN CONTENT OF THE SOURCE FILE INTO HTML</span></span><br><span class="line">  page.<span class="property">content</span> = hexo.<span class="property">render</span>.<span class="title function_">renderSync</span>(&#123; <span class="attr">text</span>: page.<span class="property">_content</span>, <span class="attr">engine</span>: <span class="string">&#x27;markdown&#x27;</span> &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Do something to get items data for the page</span></span><br><span class="line">  <span class="comment">//page.items = [];</span></span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> result = &#123;</span><br><span class="line">    <span class="attr">data</span>: page,</span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(page.<span class="property">name</span>, <span class="string">&quot;index.html&quot;</span>),</span><br><span class="line">    <span class="attr">layout</span>: <span class="string">&quot;my-special-layout&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> result;  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>The only thing missing now, is your implemention of filling <code>page.items</code> with a list of objects you want to show on the page. There are no limits to your imagination. Get data from external API’s or process JSON data, stored in the <code>data</code> folder … or whatever you prefer.</p><p>A live example of this approach are the pages <a href="/collections/tiny-tools/">TINY TOOLS</a> (processing data from the Trello API) and <a href="/photos">PHOTOS</a> here on this blog.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Visualize the codebase of your GitHub repo</title>
      <link href="/post/Visualize-the-codebase-of-your-GitHub-repo/"/>
      <url>/post/Visualize-the-codebase-of-your-GitHub-repo/</url>
      
        <content type="html"><![CDATA[<p>Beginning of the month, <a href="https://twitter.com/Wattenberger">Amelia Wattenberger</a> of <a href="https://next.github.com/">GitHub Next</a> has published a project to create a SVG visualization of a GitHub repository’s codebase.</p><p>On the project page <strong><a href="https://next.github.com/projects/repo-visualization">Visualizing a codebase</a></strong>, she talks about the advantages of code vizualization in terms of a better overview and comparability of code …  and I loved it at first sight, because I’m an absolute visual person.</p><p><img src="/post/Visualize-the-codebase-of-your-GitHub-repo/screenshot-repo-visualization.png" alt="Screenshot from the project page"></p><p>But her attempt was not only to show us what’s possible (static SVG files and even interactive apps for code browsing, filtering and comparing), but give us the possibility to create our own codebase diagrams as SVG automatically, whenever we commit our code, by running a <a href="https://docs.github.com/en/actions">GitHub Action</a>, she and her team has developed … the <a href="https://github.com/githubocto/repo-visualizer"><strong>Repo Vizualizer</strong></a></p><span id="more"></span><p>Actually, her instructions are quite simple to implement, but the devil is in the details and I would like to show you what you may need for this. The goal is to prepare every project hosted on GitHub with instructions to run the Repo Visualizer after every commit to create or update a SVG file in the project, we can use in the README or via hotlinking in every other web page.</p><p>Let’s start with my setup:</p><ul><li>Windows 10</li><li>Visual Studio Code</li><li>a bunch of tiny projects hosted on GitHub</li></ul><hr><h2 id="Project-Integration"><a href="#Project-Integration" class="headerlink" title="Project Integration"></a>Project Integration</h2><p>GitHub actions are configured via YAML files in the folder <code>.github\workflows</code>. Therefore, just take Amelias demo file <code>diagram.yaml</code> and copy it to this folder.</p><figure class="highlight yaml"><figcaption><span>.github\workflows\diagram.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Create</span> <span class="string">Vizualizing</span> <span class="string">Codebase</span> <span class="string">Diagram</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">workflow_dispatch:</span> &#123;&#125;</span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">get_data:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">code</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@master</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Update</span> <span class="string">diagram</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">githubocto/repo-visualizer@main</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">excluded_paths:</span> <span class="string">&quot;ignore,.github&quot;</span></span><br></pre></td></tr></table></figure><p>You don’t have to change anything in this file, except the name if you want to. It is clear to run correctly.</p><hr><h2 id="Prepare-Windows"><a href="#Prepare-Windows" class="headerlink" title="Prepare Windows"></a>Prepare Windows</h2><p>In case you get the following error message on pushing the new file in your project to GitHub …</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">refusing to allow an OAuth App to create or update workflow .github/workflows/diagram.yml without workflow scope</span><br></pre></td></tr></table></figure><p>… you have a problem with your OAuth Token the Git Credential Manager created for you, while installing Git for Windows. This token doesn’t include the permission to update GitHub action workflows.</p><p>A workaround is, to create a <strong>Personal Access Token</strong> on Github WITH this permission …</p><p><img src="/post/Visualize-the-codebase-of-your-GitHub-repo/create-personal-access-token.png" alt="Create personal access token"></p><p>… and replace the existing token in the <strong>Windows Credential Manager</strong> (in German the wonderful word “Anmeldeinformationsverwaltung”):</p><p><img src="/post/Visualize-the-codebase-of-your-GitHub-repo/windows-credential-manager.png" alt="Windows Credential Manager"></p><hr><h2 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h2><p>There are a few interesting parameters to place within the <code>with</code> section, that allow you to customize the output of the graph to your needs:</p><ul><li><code>output_file</code> - The name and relative path to the SVG file to generate. Default is <em>.&#x2F;diagram.svg</em></li><li><code>root_path</code> - The root path of the code to be vizualized</li><li><code>excluded_paths</code> - Folders to exclude from visualizing (as in the demo YAML)</li><li><code>excluded_globs</code> - Files to exclude from visualizing in micromatch syntax</li><li><code>commit_message</code> - After the action has created the diagram, it will be commited with this custom message</li></ul><p>After pushing your changes, you can watch the action run in the ACTIONS tab in GitHub:</p><p><img src="/post/Visualize-the-codebase-of-your-GitHub-repo/github-workflow.png" alt="Github Workflow"></p><p><img src="/post/Visualize-the-codebase-of-your-GitHub-repo/github-workflow-details.png" alt="Github Workflow Details"></p><hr><h2 id="The-README"><a href="#The-README" class="headerlink" title="The README"></a>The README</h2><p>As the SVG is part of yor project, you can use it easily in your repos README:</p><figure class="highlight md"><figcaption><span>README.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">## Codebase Vizualization</span></span><br><span class="line">For an inactive diagram, please visit [<span class="string">Repo Visualization App</span>](<span class="link">https://octo-repo-visualization.vercel.app/?repo=kristofzerbe%2Fhexo-generator-anything</span>)...</span><br><span class="line">![<span class="string">Visualization of the codebase</span>](<span class="link">./DIAGRAM.svg</span>)</span><br></pre></td></tr></table></figure><p><img src="/post/Visualize-the-codebase-of-your-GitHub-repo/diagram-svg.png" alt="Diagram SVG"></p><p>This SVG is not interactive as Amelias Repo Visualization React app is, but it is a good overview of a repos codebase und it looks really good.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Windows </tag>
            
            <tag> Imaging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>GitHubs Magic Dot</title>
      <link href="/post/GitHubs-Magic-Dot/"/>
      <url>/post/GitHubs-Magic-Dot/</url>
      
        <content type="html"><![CDATA[<p>GitHub has released the long awaited solution für code editing in the web today, or more precisely, the two new solutions: <a href="https://github.com/features/codespaces"><strong>CodeSpaces</strong> and <strong>github.dev</strong></a>.</p><p>As Brigit Murtaugh and Allison Weins pointed out in their presentation at the live stream on Youtube (<a href="https://www.youtube.com/watch?v=c3hHhRME_XI">VS Code anywhere: GitHub Codespaces and github.dev</a>), both solutions are based on the codebase of Visual Studio Code, but have different approaches and target groups.</p><p>Where <strong>Codespaces</strong> is an online editor with computing capabilities (realized by running a VM in the backend) and is only available für paid plans, <strong>github.dev</strong> is a free online editor to change files in your GitHub repo as you do it in your local VSCode, but without running and debugging capabilities.</p><span id="more"></span><p>Features like extensions, code completion, references, creating pull requests and other things we need all day in our VSCode, works also in these web editors, including settings sync!</p><h2 id="github-dev"><a href="#github-dev" class="headerlink" title="github.dev"></a>github.dev</h2><p>The non-computing web editor is fully integrated in GitHub itself. There is no URL <code>github.dev</code>, where you can load your repo. Instead, if the URL to your repo is f.e. <code>https://github.com/myname/myrepo</code>, just replace <code>.com</code> with <code>.dev</code> and your code is available in the editor! For people who like it even more comfortable: go to your repo and just <strong>press the DOT key</strong>. Really smart.</p><p><img src="/post/GitHubs-Magic-Dot/githubdev-demo-compressed.gif" alt="Github.dev Demo"></p><p>This even works on mobile, which will definitely change my workflow…</p><p><img src="/post/GitHubs-Magic-Dot/githubdev-mobile.jpg" alt="Github.dev Demo on mobile"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Browser </tag>
            
            <tag> VS Code </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #12 - Tutorials</title>
      <link href="/post/Discoveries-12-Tutorials/"/>
      <url>/post/Discoveries-12-Tutorials/</url>
      
        <content type="html"><![CDATA[<p>This months discoveries it’s all about CSS tutorials. You will find some of the best articles of profound CSS masters like <a href="https://ishadeed.com/">Ahmad Shadeed</a> or <a href="https://www.joshwcomeau.com/">Josh Comeau</a>. All tips are vital to bring your CSS to the next level. Happy learning…</p>        <ul class="anchorlist">            <li data-anchor="#css-variables-101">CSS Variables 101</li><li data-anchor="#full-bleed-layout-grid">Full-Bleed Layout Using CSS Grid</li><li data-anchor="#deep-dive-cssgrid-minmax">A Deep Dive Into CSS Grid minmax()</li><li data-anchor="#pure-css-diagonal-layouts">Create Diagonal Layouts Like It's 2020</li><li data-anchor="#using-calc-to-figure-out-optimal-line-height">Using calc to figure out optimal line-height</li><li data-anchor="#drop-shadow-the-underrated-css-filter">Drop-Shadow: The Underrated CSS Filter</li><li data-anchor="#guide-to-the-responsive-images">A Guide to the Responsive Images Syntax in HTML</li><li data-anchor="#centering-in-css">Centering in CSS</li><li data-anchor="#trigger-a-css-animation-on-scroll">How to trigger a CSS animation on scroll</li><li data-anchor="#css-scroll-snap">CSS Scroll Snap</li>        </ul>    <span id="more"></span>    <hr id="css-variables-101"/>    <h2 style="margin-bottom: 10px;">      CSS Variables 101    </h2>    <small>by Ahmad Shadeed&nbsp;<br><a href="https://ishadeed.com/article/css-vars-101/">https://ishadeed.com/article/css-vars-101/</a></small>    <p>CSS variables (or ‘custom properties’) are a huge helper to structure your CSS code and make it more maintainable. Ahmad shows us how to use their complete power.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://ishadeed.com/article/css-vars-101/">      <img class="limit" src="css-variables-101.png" alt="CSS Variables 101" />    </a>      <hr id="full-bleed-layout-grid"/>    <h2 style="margin-bottom: 10px;">      Full-Bleed Layout Using CSS Grid    </h2>    <small>by Josh Comeau&nbsp;<br><a href="https://www.joshwcomeau.com/css/full-bleed/">https://www.joshwcomeau.com/css/full-bleed/</a></small>    <p>Today it can be tricky to layout websites for small devices like smartphones and very large desktop screens. Josh shows us how to utilize CSS Grid on a classic 3-column layout the smart way.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.joshwcomeau.com/css/full-bleed/">      <img class="limit" src="full-bleed-layout-grid.png" alt="Full-Bleed Layout Using CSS Grid" />    </a>      <hr id="deep-dive-cssgrid-minmax"/>    <h2 style="margin-bottom: 10px;">      A Deep Dive Into CSS Grid minmax()    </h2>    <small>by Ahmad Shadeed&nbsp;<br><a href="https://ishadeed.com/article/css-grid-minmax/">https://ishadeed.com/article/css-grid-minmax/</a></small>    <p>Ahmad again. In this tutorial he brings us a deeper look into the MINMAX() function, which is not easy to understand and to use.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://ishadeed.com/article/css-grid-minmax/">      <img class="limit" src="deep-dive-cssgrid-minmax.png" alt="A Deep Dive Into CSS Grid minmax()" />    </a>      <hr id="pure-css-diagonal-layouts"/>    <h2 style="margin-bottom: 10px;">      Create Diagonal Layouts Like It's 2020    </h2>    <small>by Nils Binder&nbsp;<br><a href="https://9elements.com/blog/pure-css-diagonal-layouts/">https://9elements.com/blog/pure-css-diagonal-layouts/</a></small>    <p>Over 90% of all websites have an easy to understand rectangular layout, I guess. Nils shows us how to bring some disruptions into those layouts, by implementing diagonal sections, to make them less boring.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://9elements.com/blog/pure-css-diagonal-layouts/">      <img class="limit" src="pure-css-diagonal-layouts.png" alt="Create Diagonal Layouts Like It's 2020" />    </a>      <hr id="using-calc-to-figure-out-optimal-line-height"/>    <h2 style="margin-bottom: 10px;">      Using calc to figure out optimal line-height    </h2>    <small>by Jesús Ricarte&nbsp;<br><a href="https://kittygiraudel.com/2020/05/18/using-calc-to-figure-out-optimal-line-height/">https://kittygiraudel.com/2020/05/18/using-calc-to-figure-out-optimal-line-height/</a></small>    <p>Text on the web must be easy to read and one of the probably most underrated options on styling text is the line height. Jesús shows us, how to calculate the line height for an optimal reading experience.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://kittygiraudel.com/2020/05/18/using-calc-to-figure-out-optimal-line-height/">      <img class="limit" src="using-calc-to-figure-out-optimal-line-height.png" alt="Using calc to figure out optimal line-height" />    </a>      <hr id="drop-shadow-the-underrated-css-filter"/>    <h2 style="margin-bottom: 10px;">      Drop-Shadow: The Underrated CSS Filter    </h2>    <small>by Michelle Barker&nbsp;<br><a href="https://css-irl.info/drop-shadow-the-underrated-css-filter/">https://css-irl.info/drop-shadow-the-underrated-css-filter/</a></small>    <p>There are two shadow properties in CSS: <code>box-shadow</code> and <code>drop-shadow</code>. Michelle show us how to use the one or the other properly.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-irl.info/drop-shadow-the-underrated-css-filter/">      <img class="limit" src="drop-shadow-the-underrated-css-filter.png" alt="Drop-Shadow: The Underrated CSS Filter" />    </a>      <hr id="guide-to-the-responsive-images"/>    <h2 style="margin-bottom: 10px;">      A Guide to the Responsive Images Syntax in HTML    </h2>    <small>by Chris Coyier&nbsp;<br><a href="https://css-tricks.com/a-guide-to-the-responsive-images-syntax-in-html/">https://css-tricks.com/a-guide-to-the-responsive-images-syntax-in-html/</a></small>    <p>Chris must not be missing in a list of CSS tutorials. As CSS has a bunch of tags and properties to show images in responsive layouts, he shows us how to use them effectively.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/a-guide-to-the-responsive-images-syntax-in-html/">      <img class="limit" src="guide-to-the-responsive-images.png" alt="A Guide to the Responsive Images Syntax in HTML" />    </a>      <hr id="centering-in-css"/>    <h2 style="margin-bottom: 10px;">      Centering in CSS    </h2>    <small>by Adam Argyle&nbsp;<br><a href="https://web.dev/centering-in-css/">https://web.dev/centering-in-css/</a></small>    <p>Centering elements can be a mess, but not for Adam who shows all possibilities with PRO’s and CON’s.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://web.dev/centering-in-css/">      <img class="limit" src="centering-in-css.png" alt="Centering in CSS" />    </a>      <hr id="trigger-a-css-animation-on-scroll"/>    <h2 style="margin-bottom: 10px;">      How to trigger a CSS animation on scroll    </h2>    <small>by Nick Ciliak&nbsp;<br><a href="https://coolcssanimation.com/how-to-trigger-a-css-animation-on-scroll/">https://coolcssanimation.com/how-to-trigger-a-css-animation-on-scroll/</a></small>    <p>Animations, cleverly used, give a page the finishing touches. But it is important to control them. Nick shows us how to achieve this using CSS and a bit JavaScript.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://coolcssanimation.com/how-to-trigger-a-css-animation-on-scroll/">      <img class="limit" src="trigger-a-css-animation-on-scroll.png" alt="How to trigger a CSS animation on scroll" />    </a>      <hr id="css-scroll-snap"/>    <h2 style="margin-bottom: 10px;">      CSS Scroll Snap    </h2>    <small>by Ahmad Shadeed&nbsp;<br><a href="https://ishadeed.com/article/css-scroll-snap/">https://ishadeed.com/article/css-scroll-snap/</a></small>    <p>And finally once again Ahmad. In this tutorial he deals comprehensively with CSS’s <code>scroll-snap</code> feature.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://ishadeed.com/article/css-scroll-snap/">      <img class="limit" src="css-scroll-snap.png" alt="CSS Scroll Snap" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> UI/UX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
            <tag> Tutorial </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Running Rollup with Gulp</title>
      <link href="/post/Running-Rollup-with-Gulp/"/>
      <url>/post/Running-Rollup-with-Gulp/</url>
      
        <content type="html"><![CDATA[<p>Writing an SPA (Single Page Application) in JavaScript&#x2F;CSS always means to keep an eye on small files to deliver. Especially when utilizing a bunch of libraries and frameworks, bundling is some sort of a must. The offer on bundlers and task runners is large on the web: <a href="https://webpack.js.org/">WebPack</a>, <a href="https://www.snowpack.dev/">Snowpack</a>, <a href="https://browserify.org/">Browserify</a>, <a href="https://parceljs.org/">Parcel</a>, <a href="https://gruntjs.com/">Grunt</a>, <a href="https://gulpjs.com/">Gulp</a> and “DingDong” (just replace with the hotest new shit available).</p><p>But, it is not always necessary to replace your complete building pipeline, when the new “DingDong” is hyped in the media. Brave old tools like <a href="https://gulpjs.com/">Gulp</a> are doing their job pretty well … and you are able to integrate some more modern approaches on bundling JS, for example.</p><p>I couple of months ago, while working on a private project, I became attentive to <a href="https://www.rollupjs.org/">Rollup.js</a>, a next-generation JavaScript module bundler from Rich Harris, the author of Svelte. Rollup uses the new standardized format for code modules included in the ES6 revision of JavaScript and supports Tree-Shaking, which means that it analyzes all your ES6 <code>imports</code> statements and bundles only the code which is used. Pretty cool … but … it is a JavaScript bundler only and there are no plugins for Gulp, my favourite task runner.</p><p>In this article I will show you, how to integrate Rollup in your Gulp bundling pipeline.</p><span id="more"></span><hr><h2 id="Install-Rollup"><a href="#Install-Rollup" class="headerlink" title="Install Rollup"></a>Install Rollup</h2><p>Best practice is to install Rollup globally:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --<span class="variable language_">global</span> rollup</span><br></pre></td></tr></table></figure><hr><h2 id="The-Gulp-File"><a href="#The-Gulp-File" class="headerlink" title="The Gulp File"></a>The Gulp File</h2><p>Starting point was my <code>gulpfile.js</code> as follows:</p><figure class="highlight js"><figcaption><span>gulpfile.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; src, dest, watch, series, parallel &#125; = <span class="built_in">require</span>(<span class="string">&#x27;gulp&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> del = <span class="built_in">require</span>(<span class="string">&#x27;del&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> cssimport = <span class="built_in">require</span>(<span class="string">&quot;gulp-cssimport&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> cleancss = <span class="built_in">require</span>(<span class="string">&#x27;gulp-clean-css&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> sourcemaps = <span class="built_in">require</span>(<span class="string">&#x27;gulp-sourcemaps&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Clean distribution folder */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">clean</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">del</span>(<span class="string">&#x27;./dist/**&#x27;</span>, &#123; <span class="attr">force</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* Bundle CSS with sourcemapping, imports and cleaning */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">css</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">src</span>(<span class="string">&#x27;./styles/app.css&#x27;</span>)</span><br><span class="line">    .<span class="title function_">pipe</span>(sourcemaps.<span class="title function_">init</span>())</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">cssimport</span>(&#123;&#125;))</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">cleancss</span>(&#123; <span class="attr">debug</span>: <span class="literal">true</span> &#125;, <span class="function">(<span class="params">details</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;details.name&#125;</span> BEFORE: <span class="subst">$&#123;details.stats.originalSize&#125;</span>`</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;details.name&#125;</span> AFTER: <span class="subst">$&#123;details.stats.minifiedSize&#125;</span>`</span>);</span><br><span class="line">    &#125;))</span><br><span class="line">    .<span class="title function_">pipe</span>(sourcemaps.<span class="title function_">write</span>(<span class="string">&#x27;.&#x27;</span>, &#123; <span class="attr">sourceRoot</span>: <span class="string">&#x27;/styles&#x27;</span> &#125;))</span><br><span class="line">    .<span class="title function_">pipe</span>(<span class="title function_">dest</span>(<span class="string">&#x27;./dist/&#x27;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.<span class="property">default</span> = <span class="title function_">series</span>(clean, css);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>This pipeline only bundles CSS yet, when calling <code>gulp</code> in the command line.</p><hr><h2 id="Calling-Rollup-for-JS-bundling"><a href="#Calling-Rollup-for-JS-bundling" class="headerlink" title="Calling Rollup for JS bundling"></a>Calling Rollup for JS bundling</h2><p>Rollup has <a href="https://www.rollupjs.org/guide/en/#command-line-reference">dozens of parameters</a> to define everything you need, but it also supports a config file, which allows you to configure everything there and run <code>rollup -c</code> only. Very useful on this approach.</p><figure class="highlight js"><figcaption><span>rollup.config.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">input</span>: <span class="string">&#x27;./js/app.js&#x27;</span>,</span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">file</span>: <span class="string">&#x27;./dist/app.js&#x27;</span>,</span><br><span class="line">    <span class="attr">format</span>: <span class="string">&#x27;es&#x27;</span>,</span><br><span class="line">    <span class="attr">sourcemap</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>As there is no Gulp plugin for Rollup, we need to execute Rollup in the Gulp pipeline by command. For this I’ve created a helper in my <code>gulpfile.js</code>, to be able to execute whichever command:</p><figure class="highlight js"><figcaption><span>gulpfile.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable constant_">HELPERS</span> = &#123;</span><br><span class="line">  <span class="attr">execute</span>: <span class="function">(<span class="params">command</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> process = <span class="title function_">exec</span>(command);</span><br><span class="line">    process.<span class="property">stdout</span>.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="function">(<span class="params">data</span>) =&gt;</span> &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="title function_">toString</span>()); &#125;)</span><br><span class="line">    process.<span class="property">stderr</span>.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="function">(<span class="params">data</span>) =&gt;</span> &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="title function_">toString</span>()); &#125;)</span><br><span class="line">    process.<span class="title function_">on</span>(<span class="string">&#x27;exit&#x27;</span>, <span class="function">(<span class="params">code</span>) =&gt;</span> &#123; </span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Process exited with code &#x27;</span> + code.<span class="title function_">toString</span>()); </span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> process;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This helper is used in a Gulp command function to call Rollup:</p><figure class="highlight js"><figcaption><span>gulpfile.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">javascript</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable constant_">HELPERS</span>.<span class="title function_">execute</span>(<span class="string">&#x27;rollup -c&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The last thing I had to do, is to insert the command in the pipeline to run in parallel to the CSS bundling:</p><figure class="highlight js"><figcaption><span>gulpfile.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.<span class="property">default</span> = <span class="title function_">series</span>(clean, <span class="title function_">parallel</span>(css, javascript));</span><br></pre></td></tr></table></figure><p>Pretty straightforward, isn’t it? Happy bundling with Rollup and Gulp…</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SPA </tag>
            
            <tag> Bundling </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Automatic Duplicate Image Shadow</title>
      <link href="/post/Automatic-Duplicate-Image-Shadow/"/>
      <url>/post/Automatic-Duplicate-Image-Shadow/</url>
      
        <content type="html"><![CDATA[<p>At the beginning of the year I wrote a <a href="/post/Use-a-duplicate-image-to-drop-a-shadow/" title="Use a duplicate image to drop a shadow">post</a> about showing a shadow on an image with the image itself instead of using <code>box-shadow</code>, to make the image appear glass-like.</p><p><img src="/post/Automatic-Duplicate-Image-Shadow/image-shadow.jpg" alt="Image Shadow"></p><p>Nice trick, but it would be much easier to have a little script, that does this automatically for all images on a page. In this post I will show you how to achieve this.</p><span id="more"></span><p>The script is not really rocket science: We just have to surround an image tag….</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;my-image.jpg&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>… with a wrapper, which holds the original image and a blurred duplicate of it:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;shadow-wrapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;drop-shadow&quot;</span> <span class="attr">src</span>=<span class="string">&quot;my-image.jpg&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;shadow&quot;</span> <span class="attr">src</span>=<span class="string">&quot;my-image.jpg&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The rest will be done by CSS:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.shadow-wrapper</span> &#123; <span class="comment">/* Wrapper */</span></span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.shadow-wrapper</span> <span class="selector-tag">img</span><span class="selector-class">.drop-shadow</span> &#123; <span class="comment">/* Original image */</span></span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">float</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.shadow-wrapper</span> <span class="selector-tag">img</span><span class="selector-class">.shadow</span> &#123; <span class="comment">/* Shadow image */</span> </span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">90%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">5%</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">15%</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">10px</span>);</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">float</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>To make long story short: The wrapper is positioned <code>relative</code> and both images <code>absolute</code>. The shadow image is 10% smaller than the original, blurred by 10 pixels and lies beneath the original one, slightly shifted down by 15%.</p><p>Very important is to give the wrapper a bottom margin, otherwise the shadow will be rendered to tight to other elements, what looks not good.</p><h2 id="The-Script"><a href="#The-Script" class="headerlink" title="The Script"></a>The Script</h2><p>What the script should do:</p><ul><li>Take any image tag with a particular class name (here <code>drop-shadow</code>)</li><li>Create a new wrapper with all classes the image tag has</li><li>Size the wrapper as the image</li><li>Place the image tag inside the wrapper</li><li>Clone the image tag and append it to the wrapper also</li><li>Replace the image tag with the new wrapper HTML</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;img.drop-shadow&quot;</span>).<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">item</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> wrapper = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">  wrapper.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;shadow-wrapper&quot;</span>);</span><br><span class="line"></span><br><span class="line">  item.<span class="property">classList</span>.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">c</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (c != <span class="string">&quot;drop-shadow&quot;</span>) wrapper.<span class="property">classList</span>.<span class="title function_">add</span>(c);</span><br><span class="line">  &#125;);</span><br><span class="line">  wrapper.<span class="property">style</span>.<span class="property">width</span> = item.<span class="property">clientWidth</span> + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">  wrapper.<span class="property">style</span>.<span class="property">height</span> = item.<span class="property">clientHeight</span> + <span class="string">&quot;px&quot;</span>;</span><br><span class="line"></span><br><span class="line">  wrapper.<span class="title function_">insertAdjacentHTML</span>(<span class="string">&quot;beforeend&quot;</span>, item.<span class="property">outerHTML</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> shadow = item.<span class="title function_">cloneNode</span>();</span><br><span class="line">  shadow.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;drop-shadow&quot;</span>);</span><br><span class="line">  shadow.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;shadow&quot;</span>);</span><br><span class="line">  wrapper.<span class="title function_">insertAdjacentHTML</span>(<span class="string">&quot;beforeend&quot;</span>, shadow.<span class="property">outerHTML</span>);</span><br><span class="line"></span><br><span class="line">  item.<span class="property">outerHTML</span> = wrapper.<span class="property">outerHTML</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The result in comparison with no shadow and the default <code>box-shadow</code>:</p>    <iframe class="indiepen"        src="https://indiepen.tech/embed/?url=https%3A%2F%2Fkiko.io%2Fpost%2FAutomatic-Duplicate-Image-Shadow%2Fsample&tab=result"        style="width: 100%; overflow: hidden; display: block; border: 0;"        title="Indiepen Embed"        loading="lazy"         width="100%"         height="600">    </iframe>  <p>Happy shadowing…</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Imaging </tag>
            
            <tag> DOM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Generate Social Media Images Automatically</title>
      <link href="/post/Generate-Social-Media-Images-Automatically/"/>
      <url>/post/Generate-Social-Media-Images-Automatically/</url>
      
        <content type="html"><![CDATA[<p>From day one of this blog I wanted to combine two of my passions: tech stuff and photography. All these photos I have shot myself in recent years and now they are representing my thoughts &amp; findings about digital technology. I wrote about my approach to provide these images in my post <a href="/post/Automatic-Header-Images-in-Hexo/" title="Automatic Header Images in Hexo">Automatic Header Images in Hexo</a>.</p><p>When I share one of my posts on social media I provide the appropriate image as a visual anchor to my writing. The technique behind this are the <code>meta</code> tags in the HTML of my posts:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Schema.org for Google --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">itemprop</span>=<span class="string">&quot;image&quot;</span> <span class="attr">content</span>=<span class="string">&quot;https://kiko.io/photos/normal/DSC_6776.jpg&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Open Graph --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;og:image&quot;</span> <span class="attr">content</span>=<span class="string">&quot;https://kiko.io/photos/normal/DSC_6776.jpg&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Twitter --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;twitter:card&quot;</span> <span class="attr">content</span>=<span class="string">&quot;summary_large_image&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">property</span>=<span class="string">&quot;twitter:image&quot;</span> <span class="attr">content</span>=<span class="string">&quot;https://kiko.io/photos/normal/DSC_6776.jpg&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>There are several meta tags for different purposes regarding images. For more information see the links at the end of this post. To make a long story short: The sum of these approaches ensures that when an article is posted, the corresponding image is also displayed in the social media post.</p><p>But … it’s only the image, without a visual reference to the post itself. In this article I want to show you how to combine the photo with some meta information of the post automatically, to get a <strong>Social Media Image</strong>.</p><p><img src="/post/Generate-Social-Media-Images-Automatically/generation-flow.png" alt="Generation Flow"></p><span id="more"></span><hr><p>Starting point of my thoughts were two posts from <a href="https://24ways.org/2018/dynamic-social-sharing-images/"><strong>Drew McLellan</strong> (Dynamic Social Sharing Images)</a> and <a href="https://www.ryanfiller.com/blog/automatic-social-share-images/"><strong>Ryan Filler</strong> (Automatic Social Share Images)</a>, to which I have already referred in my post <a href="/post/Discoveries-11/" title="Discoveries #11">Discoveries #11</a>.</p><p>Drew and Ryan utilizes the Node.JS library <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a>, which runs a headless Chromium (or Chrome browser) over the DevTools protocol to process a web page … for example to take a screenshot:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> puppeteer = <span class="built_in">require</span>(<span class="string">&#x27;puppeteer&#x27;</span>);</span><br><span class="line">(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> browser = <span class="keyword">await</span> puppeteer.<span class="title function_">launch</span>();</span><br><span class="line">  <span class="keyword">const</span> page = <span class="keyword">await</span> browser.<span class="title function_">newPage</span>();</span><br><span class="line">  <span class="keyword">await</span> page.<span class="title function_">goto</span>(<span class="string">&#x27;https://example.com&#x27;</span>);</span><br><span class="line">  <span class="keyword">await</span> page.<span class="title function_">screenshot</span>(&#123; <span class="attr">path</span>: <span class="string">&#x27;example.png&#x27;</span> &#125;);</span><br><span class="line">  <span class="keyword">await</span> browser.<span class="title function_">close</span>();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p>The idea is, to create a temporary HTML page with the photo and all necessary text for the social media image, take a screenshot of it and save it as PNG.</p><p>As I run my blog with <a href="https://hexo.io/">Hexo</a>, a Static Site Generator (SSG), all information about a post is defined in a <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> (MD) file with some <a href="https://hexo.io/docs/front-matter.html">Frontmatter</a> for the meta information.</p><p>Therefore, the <strong>Social Media Image Generator</strong> script in my mind had to do following tasks:</p><ol><li>Iterate recursively over all MD files in Hexo <code>_source/posts</code> folder</li><li>Read the MD’s Frontmatter (for information about photo, title, subtitle and more)</li><li>Create a temporary HTML file with the aid of a template</li><li>Run Puppeteer script over the temporary file to take a screenshot</li><li>Store the PNG to a central folder</li><li>Optimize the PNG</li><li>Change the meta tags in the posts to reference the new image</li></ol><hr><h2 id="The-Frontmatter"><a href="#The-Frontmatter" class="headerlink" title="The Frontmatter"></a>The Frontmatter</h2><p>I pimped the Frontmatter of the original Hexo configuration a bit, in order to provide an individual photo for each post:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Generate</span> <span class="string">Social</span> <span class="string">Media</span> <span class="string">Images</span> <span class="string">Automatically</span></span><br><span class="line"><span class="attr">subtitle:</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2021-07-10 11:07:31</span></span><br><span class="line"><span class="attr">photograph:</span></span><br><span class="line">  <span class="attr">file:</span> <span class="string">DSC_6776.jpg</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">Color</span> <span class="string">Brushes</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">&#x27;https://500px.com/photo/79965349&#x27;</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">JavaScript</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>Among other, there are the basic information, I wanted to have on my social media image: <code>photograph.file</code> (as the image itself) and <code>title</code>, <code>subtitle</code> and <code>categories</code> (for the text on the image).</p><hr><h2 id="The-Script"><a href="#The-Script" class="headerlink" title="The Script"></a>The Script</h2><p><strong>The complete script, in two versions (CommonJS and ES Module) is available at <a href="https://github.com/kristofzerbe/social-media-image-generator">GitHub</a>.</strong></p><p>tl;dr</p><p>My script became a JavaScript <code>class</code>, separating the tasks in several methods and a constructor to get all necessary information as parameters. The class exports the main method <code>generate()</code> for calling the script:</p><figure class="highlight js"><figcaption><span>social-media-image-generator.cjs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> _currentPath = __dirname;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _postFolder;</span><br><span class="line"><span class="keyword">var</span> _photoFolder;</span><br><span class="line"><span class="keyword">var</span> _templateFile;</span><br><span class="line"><span class="keyword">var</span> _targetFolder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Generator</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">postFolder, photoFolder, templateFile, targetFolder</span>) &#123; </span><br><span class="line">    _postFolder = path.<span class="title function_">join</span>(_currentPath, postFolder);</span><br><span class="line">    _photoFolder = path.<span class="title function_">join</span>(_currentPath, photoFolder);</span><br><span class="line">    _templateFile = path.<span class="title function_">join</span>(_currentPath, templateFile);</span><br><span class="line">    _targetFolder = path.<span class="title function_">join</span>(_currentPath, targetFolder);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">generate</span>(<span class="params"></span>) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getPostFiles</span>(<span class="params">dirPath, allFiles</span>) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">processPost</span>(<span class="params">fileName, vars</span>) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">createImage</span>(<span class="params">fileName, tempFile</span>) &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">Generator</span> = <span class="title class_">Generator</span></span><br></pre></td></tr></table></figure><p>I chose parameters, in order not to bind the script too tightly to my favourite SSG Hexo:</p><ul><li><code>_postFolder</code> - Where are the post files stored?</li><li><code>_photoFolder</code> - Where are the photos stored?</li><li><code>_templateFile</code> - Where is the template file for the temporary HTML stored?</li><li><code>_targetFolder</code> - Where should the generated PNG files be stored?</li></ul><h3 id="Get-the-posts"><a href="#Get-the-posts" class="headerlink" title="Get the posts"></a>Get the posts</h3><p>First task was to get all MD files out of the <code>_postFolder</code> recursively:</p><figure class="highlight js"><figcaption><span>social-media-image-generator.cjs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Generator</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">generate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> postFiles = <span class="variable language_">this</span>.<span class="title function_">getPostFiles</span>(_postFolder);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getPostFiles</span>(<span class="params">dirPath, allFiles</span>) &#123;</span><br><span class="line">      <span class="comment">// READ FOLDER CONTENT</span></span><br><span class="line">      <span class="keyword">let</span> files = fs.<span class="title function_">readdirSync</span>(dirPath);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//INIT TEMP ARRAY</span></span><br><span class="line">      allFiles = allFiles || [];</span><br><span class="line"></span><br><span class="line">      files.<span class="title function_">forEach</span>(<span class="function">(<span class="params">file</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (fs.<span class="title function_">statSync</span>(dirPath + <span class="string">&quot;/&quot;</span> + file).<span class="title function_">isDirectory</span>()) &#123;</span><br><span class="line">          <span class="comment">// CALL THE METHOD RECURSIVELY</span></span><br><span class="line">          allFiles = <span class="variable language_">this</span>.<span class="title function_">getPostFiles</span>(dirPath + <span class="string">&quot;/&quot;</span> + file, allFiles)</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (file.<span class="title function_">indexOf</span>(<span class="string">&quot;.md&quot;</span>)&gt;=<span class="number">0</span>) &#123;</span><br><span class="line">          <span class="comment">// PUSH MD FILES TO TEMP ARRAY</span></span><br><span class="line">          allFiles.<span class="title function_">push</span>(path.<span class="title function_">join</span>(dirPath, <span class="string">&quot;/&quot;</span>, file))</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">return</span> allFiles;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Get-the-template-and-the-temporary-folder"><a href="#Get-the-template-and-the-temporary-folder" class="headerlink" title="Get the template and the temporary folder"></a>Get the template and the temporary folder</h3><p>I chose <a href="https://handlebarsjs.com/">Handlebars</a> as the template engine to generate the temporary HTML file, because it is so easy to handle.</p><figure class="highlight html"><figcaption><span>social-media-image.handlebars</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">      ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wrap&quot;</span>&gt;</span></span><br><span class="line">      ...</span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">&quot;photo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;photo&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">&quot;title&quot;</span>&gt;</span></span><br><span class="line">            &#123;&#123;#each categories&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">small</span>&gt;</span>&#123;&#123;this&#125;&#125;<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">            &#123;&#123;/each&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">            &#123;&#123;#if subtitle&#125;&#125;</span><br><span class="line">            <span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123;subtitle&#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            &#123;&#123;/if&#125;&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>Handlebars is able to compile a template into a JavaScript variable, what makes it easy to reuse it. Good for performance and stability.</p><p>As I wanted to utilize the template to generate temporary HTML files, I needed a temporary folder, which can be deleted afterwards.</p><figure class="highlight js"><figcaption><span>social-media-image-generator.cjs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> handlebars = <span class="built_in">require</span>(<span class="string">&quot;handlebars&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> _template;</span><br><span class="line"><span class="keyword">const</span> _tempFolder = <span class="string">&quot;./~temp&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Generator</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">postFolder, photoFolder, templateFile, targetFolder</span>) &#123; </span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">// GET THE TEMPLATE CONTENT</span></span><br><span class="line">    <span class="keyword">let</span> source = fs.<span class="title function_">readFileSync</span>(_templateFile).<span class="title function_">toString</span>(<span class="string">&#x27;utf8&#x27;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// COMPILE THE TEMPLATE FOR FURTHER USE ONCE</span></span><br><span class="line">    _template = handlebars.<span class="title function_">compile</span>(source);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// CREATE TEMP FOLDER IN THE WORKING DIRECTORY</span></span><br><span class="line">    <span class="keyword">if</span> (!fs.<span class="title function_">existsSync</span>(_tempFolder)) &#123;</span><br><span class="line">      fs.<span class="title function_">mkdirSync</span>(_tempFolder);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Process-the-posts"><a href="#Process-the-posts" class="headerlink" title="Process the posts"></a>Process the posts</h3><p>Second step was to process all the posts found.</p><figure class="highlight js"><figcaption><span>social-media-image-generator.cjs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> url = <span class="built_in">require</span>(<span class="string">&quot;url&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> frontmatter = <span class="built_in">require</span>(<span class="string">&quot;front-matter&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> _tempFolder = <span class="string">&quot;./~temp&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Generator</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">generate</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> self = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> postFiles = <span class="variable language_">this</span>.<span class="title function_">getPostFiles</span>(_postFolder);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> postsProcessed = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ITERATE OVER ALL POSTS</span></span><br><span class="line">      postFiles.<span class="title function_">forEach</span>(<span class="function">(<span class="params">file</span>) =&gt;</span> &#123;</span><br><span class="line">        fs.<span class="title function_">readFile</span>(file, <span class="string">&#x27;utf8&#x27;</span>, <span class="keyword">function</span>(<span class="params">err, data</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (err) <span class="keyword">throw</span> err</span><br><span class="line"></span><br><span class="line">          <span class="comment">// READ THE FRONTMATTER</span></span><br><span class="line">          <span class="keyword">let</span> content = <span class="title function_">frontmatter</span>(data);</span><br><span class="line"></span><br><span class="line">          <span class="keyword">let</span> fileName = path.<span class="title function_">basename</span>(file, path.<span class="title function_">extname</span>(file));</span><br><span class="line">      </span><br><span class="line">          <span class="comment">// only process posts with defined photograph file </span></span><br><span class="line">          <span class="comment">// and if social media file is missing</span></span><br><span class="line">          <span class="keyword">if</span> (content.<span class="property">attributes</span>.<span class="property">photograph</span>?.<span class="property">file</span> &amp;&amp; </span><br><span class="line">              !fs.<span class="title function_">existsSync</span>(path.<span class="title function_">join</span>(_targetFolder, fileName + <span class="string">&quot;.png&quot;</span>))) &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// CALL PROCESSING METHOD</span></span><br><span class="line">            self.<span class="title function_">processPost</span>(</span><br><span class="line">              fileName,</span><br><span class="line">              &#123;</span><br><span class="line">                <span class="attr">title</span>: content.<span class="property">attributes</span>.<span class="property">title</span>, </span><br><span class="line">                <span class="attr">subtitle</span>: content.<span class="property">attributes</span>.<span class="property">subtitle</span>, </span><br><span class="line">                <span class="attr">categories</span>: content.<span class="property">attributes</span>.<span class="property">categories</span>,</span><br><span class="line">                <span class="attr">photo</span>: url.<span class="title function_">pathToFileURL</span>(</span><br><span class="line">                  path.<span class="title function_">join</span>(_photoFolder, content.<span class="property">attributes</span>.<span class="property">photograph</span>.<span class="property">file</span>)</span><br><span class="line">                )</span><br><span class="line">              &#125;)</span><br><span class="line">              .<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// DELETE TEMP FOLDER AFTER PROCESSING</span></span><br><span class="line">                <span class="keyword">if</span> (postsProcessed === postFiles.<span class="property">length</span>) &#123;</span><br><span class="line">                  fs.<span class="title function_">rmdirSync</span>(_tempFolder, &#123; <span class="attr">recursive</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">          postsProcessed += <span class="number">1</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">processPost</span>(<span class="params">fileName, vars</span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// GET HTML FOR POST VIA HANDLEBARS</span></span><br><span class="line">      <span class="keyword">let</span> html = <span class="title function_">_template</span>(vars);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> tempFile = path.<span class="title function_">join</span>(_tempFolder, fileName + <span class="string">&quot;.html&quot;</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//WRITE TEMPORARY HTML FILE</span></span><br><span class="line">      fs.<span class="title function_">writeFile</span>(tempFile, html, <span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(err) &#123; <span class="keyword">throw</span>(err); &#125;</span><br><span class="line">        <span class="comment">//console.log(tempFile + &quot; saved&quot;);</span></span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//CALL IMAGING METHOD</span></span><br><span class="line">      <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">createImage</span>(fileName, tempFile);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Get-the-image"><a href="#Get-the-image" class="headerlink" title="Get the image"></a>Get the image</h3><p>As I had the temporary HTML file now, I only had to open up a Puppeteer instance, load the file and take the screenshot:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> puppeteer = <span class="built_in">require</span>(<span class="string">&quot;puppeteer/cjs-entry&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> imagemin = <span class="built_in">require</span>(<span class="string">&quot;imagemin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> imageminPngquant = <span class="built_in">require</span>(<span class="string">&quot;imagemin-pngquant&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Generator</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">createImage</span>(<span class="params">fileName, tempFile</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> self = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// LAUNCH CHROMIUM AND A NEW PAGE</span></span><br><span class="line">    <span class="keyword">const</span> browser = <span class="keyword">await</span> puppeteer.<span class="title function_">launch</span>();</span><br><span class="line">    <span class="keyword">const</span> page = <span class="keyword">await</span> browser.<span class="title function_">newPage</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// LOAD THE TEMPORARY HTML FILE</span></span><br><span class="line">    <span class="keyword">await</span> page.<span class="title function_">goto</span>(url.<span class="title function_">pathToFileURL</span>(tempFile));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// SET THE EXACT WIDTH &amp; HEIGHT</span></span><br><span class="line">    <span class="keyword">await</span> page.<span class="title function_">setViewport</span>(&#123;</span><br><span class="line">      <span class="attr">width</span>: <span class="number">1200</span>,</span><br><span class="line">      <span class="attr">height</span>: <span class="number">630</span>,</span><br><span class="line">      <span class="attr">deviceScaleFactor</span>: <span class="number">1</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> imgFile = path.<span class="title function_">join</span>(_targetFolder, fileName + <span class="string">&quot;.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// TAKE SCREENSHOT INTO PNG FILE AT TARGET FOLDER</span></span><br><span class="line">    <span class="keyword">await</span> page.<span class="title function_">screenshot</span>(&#123;</span><br><span class="line">      <span class="attr">path</span>: imgFile</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> browser.<span class="title function_">close</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// OPTIMIZE THE PNG FILE</span></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">imagemin</span>([imgFile], <span class="string">&#x27;build&#x27;</span>, &#123;</span><br><span class="line">      <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="title function_">imageminPngquant</span>(&#123; <span class="attr">quality</span>: <span class="string">&#x27;75-90&#x27;</span> &#125;)</span><br><span class="line">      ]</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="Running-the-script"><a href="#Running-the-script" class="headerlink" title="Running the script"></a>Running the script</h2><p>If you already have lots of post in MD files and appropriate photographs, you can create an execution script…</p><figure class="highlight js"><figcaption><span>run-social-media-images.cjs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">Generator</span> = <span class="built_in">require</span>(<span class="string">&quot;./social-media-image-generator.cjs&quot;</span>).<span class="property">Generator</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> postFolder = process.<span class="property">argv</span>[<span class="number">2</span>].<span class="title function_">toString</span>();</span><br><span class="line"><span class="keyword">const</span> photoFolder = process.<span class="property">argv</span>[<span class="number">3</span>].<span class="title function_">toString</span>();</span><br><span class="line"><span class="keyword">const</span> templateFile = process.<span class="property">argv</span>[<span class="number">4</span>].<span class="title function_">toString</span>();</span><br><span class="line"><span class="keyword">const</span> targetFolder = process.<span class="property">argv</span>[<span class="number">5</span>].<span class="title function_">toString</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> generator = <span class="keyword">new</span> <span class="title class_">Generator</span>(postFolder, photoFolder, templateFile, targetFolder);</span><br><span class="line">generator.<span class="title function_">generate</span>();</span><br></pre></td></tr></table></figure><p>… and run it as follows:</p><figure class="highlight js"><figcaption><span>Example execution in the console...</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node <span class="string">&quot;./lib/run-social-media-images.cjs&quot;</span> <span class="string">&quot;../source/_posts&quot;</span> <span class="string">&quot;../static/photos/normal&quot;</span> <span class="string">&quot;../templates/social-media-image.handlebars&quot;</span> <span class="string">&quot;../static/images/social-media&quot;</span></span><br></pre></td></tr></table></figure><hr><h2 id="Hexo-Integration"><a href="#Hexo-Integration" class="headerlink" title="Hexo Integration"></a>Hexo Integration</h2><p>In case you are running your blog with Hexo also, you can hook on the <code>ready</code> event to let it run on <code>hexo generate</code> automatically:</p><figure class="highlight js"><figcaption><span>/scripts/on-ready-generate-social-media-images.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> log = <span class="built_in">require</span>(<span class="string">&#x27;hexo-log&#x27;</span>)(&#123;</span><br><span class="line">    <span class="attr">debug</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">silent</span>: <span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Generator</span> = <span class="built_in">require</span>(<span class="string">&quot;../lib/social-media-image-generator.cjs&quot;</span>).<span class="property">Generator</span>;</span><br><span class="line"></span><br><span class="line">hexo.<span class="title function_">on</span>(<span class="string">&quot;ready&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    </span><br><span class="line">    log.<span class="title function_">info</span>(<span class="string">&quot;Running Social-Media-Image-Generator...&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> postFolder = <span class="string">&quot;../source/_posts&quot;</span>;</span><br><span class="line">    <span class="keyword">const</span> photoFolder = <span class="string">&quot;../static/photos/normal&quot;</span>;</span><br><span class="line">    <span class="keyword">const</span> templateFile = <span class="string">&quot;../templates/social-media-image.handlebars&quot;</span>;</span><br><span class="line">    <span class="keyword">const</span> targetFolder = <span class="string">&quot;../static/images/social-media&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> generator = <span class="keyword">new</span> <span class="title class_">Generator</span>(postFolder, photoFolder, templateFile, targetFolder);</span><br><span class="line">    generator.<span class="title function_">generate</span>();</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>It is important not to store the <code>social-media-image-generator.cjs</code> in Hexo’s <code>scripts</code> folder like the event script above, because Hexo will try to execute it automatically. You have to create a different folder like <code>lib</code> to store and reference it from there.</p><hr><h2 id="The-Result"><a href="#The-Result" class="headerlink" title="The Result"></a>The Result</h2><p>Here is the result from my approach in Hexo, as I run <code>hexo generate</code> for this blog post:</p><img src="/images/social-media/Generate-Social-Media-Images-Automatically.png" /><p>The very last thing I had to do, was to change the source of the image meta tag mentioned at the top, to reference to newly created social media image.</p><p>Here’s the new image in action at Twitter:</p><p><img src="/post/Generate-Social-Media-Images-Automatically/twitter.png" alt="Tweet Preview"></p><hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>CSS Tricks: <a href="https://css-tricks.com/essential-meta-tags-social-media/">The Essential Meta Tags for Social Media</a></li><li>The Open Graph Protocol: <a href="https://opengraphprotocol.org/">The Open Graph Protocol</a></li><li>Drew McLellan: <a href="https://24ways.org/2018/dynamic-social-sharing-images/">Dynamic Social Sharing Images</a></li><li>Ryan Filler: <a href="https://www.ryanfiller.com/blog/automatic-social-share-images/">Automatic Social Share Images</a></li><li>The GitHub Blog: <a href="https://github.blog/2021-06-22-framework-building-open-graph-images/">A framework for building Open Graph images</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
            <tag> GitHub </tag>
            
            <tag> Imaging </tag>
            
            <tag> ES6 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #11</title>
      <link href="/post/Discoveries-11/"/>
      <url>/post/Discoveries-11/</url>
      
        <content type="html"><![CDATA[<p>Todays issue of <strong>Discoveries</strong> is all about images. Show them, manipulate them, get information about them, protect them, use them and create them with JavaScript. Have fun trying out one of these cool solutions.</p>        <ul class="anchorlist">            <li data-anchor="#photo-swipe">PhotoSwipe</li><li data-anchor="#light-gallery">lightGallery</li><li data-anchor="#pica">Pica</li><li data-anchor="#resemble-js">Resemble.js</li><li data-anchor="#medium-zoom">medium-zoom</li><li data-anchor="#lc-mouse-drag">LC-Mouse-Drag</li><li data-anchor="#protect-image-js">ProtectImage.js</li><li data-anchor="#tinygraphs">Tinygraphs</li><li data-anchor="#dynamic-social-sharing-images">Dynamic Social Sharing Images</li><li data-anchor="#automatic-social-share-images">Automatic Social Share Images</li>        </ul>    <span id="more"></span>    <hr id="photo-swipe"/>    <h2 style="margin-bottom: 10px;">      PhotoSwipe    </h2>    <small>by Dmytro Semenov&nbsp;<br><a href="https://photoswipe.com">https://photoswipe.com</a></small>    <p>PhotoSwipe is a simple, but powerful image gallery written with jQuery, which has plugin support for some CRM’s. Currently Dmytro is working on the next version <a href="https://photoswipe.com/v5/docs/getting-started/">v5</a>.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://photoswipe.com">      <img class="limit" src="photo-swipe.png" alt="PhotoSwipe" />    </a>      <hr id="light-gallery"/>    <h2 style="margin-bottom: 10px;">      lightGallery    </h2>    <small>by Sachin Neravath&nbsp;<br><a href="https://www.lightgalleryjs.com/">https://www.lightgalleryjs.com/</a></small>    <p>Another wionderful image gallery, but with more (useful?) images features, realized as plugins. It supports video and IFrames also and is fully responsive.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.lightgalleryjs.com/">      <img class="limit" src="light-gallery.png" alt="lightGallery" />    </a>      <hr id="pica"/>    <h2 style="margin-bottom: 10px;">      Pica    </h2>    <small>by Nodeca&nbsp;<br><a href="https://github.com/nodeca/pica">https://github.com/nodeca/pica</a></small>    <p>Pica is an Open Source project for resizing images with JavaScript. It supports several technologies, like WebAssembly, WebWorkers or even pure JS.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/nodeca/pica">      <img class="limit" src="pica.png" alt="Pica" />    </a>      <hr id="resemble-js"/>    <h2 style="margin-bottom: 10px;">      Resemble.js    </h2>    <small>by James Cryer&nbsp;<br><a href="http://rsmbl.github.io/Resemble.js/">http://rsmbl.github.io/Resemble.js/</a></small>    <p>Analyse and compare images with Javascript and visualizes the differences. Great stuff.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="http://rsmbl.github.io/Resemble.js/">      <img class="limit" src="resemble-js.png" alt="Resemble.js" />    </a>      <hr id="medium-zoom"/>    <h2 style="margin-bottom: 10px;">      medium-zoom    </h2>    <small>by François Chalifour&nbsp;<br><a href="https://github.com/francoischalifour/medium-zoom">https://github.com/francoischalifour/medium-zoom</a></small>    <p>Zoom your images on your website to fullsize like on medium.com.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/francoischalifour/medium-zoom">      <img class="limit" src="medium-zoom.png" alt="medium-zoom" />    </a>      <hr id="lc-mouse-drag"/>    <h2 style="margin-bottom: 10px;">      LC-Mouse-Drag    </h2>    <small>by Luca from LCWeb Italia&nbsp;<br><a href="https://github.com/LCweb-ita/LC-Mouse-Drag">https://github.com/LCweb-ita/LC-Mouse-Drag</a></small>    <p>Instead of zooming your image on your website, you can let the users scroll into an oversized image, to see the details.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/LCweb-ita/LC-Mouse-Drag">      <img class="limit" src="lc-mouse-drag.png" alt="LC-Mouse-Drag" />    </a>      <hr id="protect-image-js"/>    <h2 style="margin-bottom: 10px;">      ProtectImage.js    </h2>    <small>by ColonelParrot&nbsp;<br><a href="https://github.com/ColonelParrot/ProtectImage.js">https://github.com/ColonelParrot/ProtectImage.js</a></small>    <p>ProtectImage.js is a Javascript library that helps prevent image theft by disabling traditional user interactions to download&#x2F;copy images.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/ColonelParrot/ProtectImage.js">      <img class="limit" src="protect-image-js.png" alt="ProtectImage.js" />    </a>      <hr id="tinygraphs"/>    <h2 style="margin-bottom: 10px;">      Tinygraphs    </h2>    <small>by Taironas&nbsp;<br><a href="https://www.tinygraphs.com/">https://www.tinygraphs.com/</a></small>    <p>Supporting avatars in the comment section of a website is cool, but not every user wants to share an image. Tinygraphs helps out with random graphic images.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.tinygraphs.com/">      <img class="limit" src="tinygraphs.png" alt="Tinygraphs" />    </a>      <hr id="dynamic-social-sharing-images"/>    <h2 style="margin-bottom: 10px;">      Dynamic Social Sharing Images    </h2>    <small>by Drew McLellan&nbsp;<br><a href="https://24ways.org/2018/dynamic-social-sharing-images/">https://24ways.org/2018/dynamic-social-sharing-images/</a></small>    <p>Sharing posts on Social Media is vital to get readers and it is a good idea to provide a generic post image. Drew shows how to utilize Node.js to get a page screenshot automatically. The posted script has some pitfalls, but I will post a HowTo shortly.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://24ways.org/2018/dynamic-social-sharing-images/">      <img class="limit" src="dynamic-social-sharing-images.png" alt="Dynamic Social Sharing Images" />    </a>      <hr id="automatic-social-share-images"/>    <h2 style="margin-bottom: 10px;">      Automatic Social Share Images    </h2>    <small>by Ryan Filler&nbsp;<br><a href="https://www.ryanfiller.com/blog/automatic-social-share-images/">https://www.ryanfiller.com/blog/automatic-social-share-images/</a></small>    <p>Having a screenshot of a page is one side of the coin on creating Social Share images. Ryan shows us, how to enrich them with the appropriate text.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.ryanfiller.com/blog/automatic-social-share-images/">      <img class="limit" src="automatic-social-share-images.png" alt="Automatic Social Share Images" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Open Source Insights - Seeing the big picture</title>
      <link href="/post/Open-Source-Insights-Seeing-the-big-picture/"/>
      <url>/post/Open-Source-Insights-Seeing-the-big-picture/</url>
      
        <content type="html"><![CDATA[<p>A while ago I needed some functionality regarding database access in one of my spare time projects and I decided to use a library from NPM. Typed <code>npm install</code> and the hell was breaking loose … 186 direct dependencies and nearly 200K of files were flooding my harddrive!</p><p>The mental basis of IT is lazyness, which means that we produce software to make our and others life easier. This also applies to the building process. Don’t reinvent the wheel, but reuse the work of other developers. But … we have to recognize the limits and prevent to fall into the dependency hell.</p><p>To get a better overview over dependencies, regarding NPM and other repositories, some Google engineers have published a project called <strong><a href="https://deps.dev/">Open Source Insights</a></strong> a couple of days ago.</p><span id="more"></span><p><img src="/post/Open-Source-Insights-Seeing-the-big-picture/overview.png" alt="Open Source Insights - Overview"></p><p>If you look at a library on NPM, you immediately see the direct dependencies, but that could just be the tip of the iceberg. Insights shows you the big picture in form of an interactive graph or a complete list with many additional information of the complete dependency chain.</p><p><img src="/post/Open-Source-Insights-Seeing-the-big-picture/graph.png" alt="Open Source Insights - Overview"></p><p>As Google says:</p><blockquote><p>Your software and your users rely not only on the code you write, but also on the code your code depends on, the code that code depends on, and so on. An accurate view of the complete dependency graph is critical to understanding the state of your project.</p></blockquote><p>Next time, before you type <code>npm install ...</code> take a quick look at the Insights page of the library, because it won’t give you an overview over the dependecies only, but also some security advisories to let you decide if it is a good idea to use it.</p><p>Very valueable for the authors of exisiting NPM projects also, because it shows the consequences of dependency decisions very clearly and gives hints to make the own library less sensitive to vulnerabilities.</p><p>Let us hope, that Google removes the describing adjective <em>experimental</em> from the project some day and adds more and more functionality to it (like a working responsiveness ;) in order to establish <strong>Open Source Insights</strong> as a main source of information about reusable Open Source software.</p><br><p><a href="https://deps.dev/"><img src="/post/Open-Source-Insights-Seeing-the-big-picture/logo.png" alt="Logo"></a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #10</title>
      <link href="/post/Discoveries-10/"/>
      <url>/post/Discoveries-10/</url>
      
        <content type="html"><![CDATA[<p>Todays Discoveries it’s all about my favourite programming language JavaScript. Some tiny tips and tricks alongside with a deep dive into ‘console’ and some helful UI libraries. Have fun…</p>        <ul class="anchorlist">            <li data-anchor="#beyond-console-log">Beyond Console.log()</li><li data-anchor="#dom-guard">DOMGuard - Stop scammers from the manipulating DOM</li><li data-anchor="#handling-permissions-in-js">Handling User Permissions in JavaScript</li><li data-anchor="#html-chain">html-chain - Make html by chaining javascript functions</li><li data-anchor="#accessible-autocomplete">Accessible Autocomplete</li><li data-anchor="#js-datatable">JS DataTable</li><li data-anchor="#mk-charts">MK Charts</li><li data-anchor="#snabbt-js">Snabbt.js - Fast animations with Javascript and CSS transforms</li><li data-anchor="#simply-lazy,">SimplyLazy - Pure JavaScript Image Lazy Loader</li><li data-anchor="#blury-loading">Blury-Loading</li>        </ul>    <span id="more"></span>    <hr id="beyond-console-log"/>    <h2 style="margin-bottom: 10px;">      Beyond Console.log()    </h2>    <small>by Christian Heilmann&nbsp;<br><a href="https://www.sitepoint.com/beyond-console-log-level-up-your-debugging-skills/">https://www.sitepoint.com/beyond-console-log-level-up-your-debugging-skills/</a></small>    <p>The browser console is propably the most used tool for debugging JavaScript, but most of the time we all just scatch the surface. Christian show us the power of the console.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.sitepoint.com/beyond-console-log-level-up-your-debugging-skills/">      <img class="limit" src="beyond-console-log.png" alt="Beyond Console.log()" />    </a>      <hr id="dom-guard"/>    <h2 style="margin-bottom: 10px;">      DOMGuard - Stop scammers from the manipulating DOM    </h2>    <small>by David Wells&nbsp;<br><a href="https://dom-guard.netlify.app/">https://dom-guard.netlify.app/</a></small>    <p>There are many attack vectors scammers use to draw money out of the pockets. You have to make it as difficult as possible for them. Davids idea is to protect the DOM of the browser against changes utilizing the JS MutationObserver. Clever.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://dom-guard.netlify.app/">      <img class="limit" src="dom-guard.png" alt="DOMGuard - Stop scammers from the manipulating DOM" />    </a>      <hr id="handling-permissions-in-js"/>    <h2 style="margin-bottom: 10px;">      Handling User Permissions in JavaScript    </h2>    <small>by Andreas Remdt&nbsp;<br><a href="https://css-tricks.com/handling-user-permissions-in-javascript/">https://css-tricks.com/handling-user-permissions-in-javascript/</a></small>    <p>In case you have to intregrate a permission system into your Web App, to separate features from different user groups, Andreas post on CSS Tricks is a very good entry point into the subject.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/handling-user-permissions-in-javascript/">      <img class="limit" src="handling-permissions-in-js.png" alt="Handling User Permissions in JavaScript" />    </a>      <hr id="html-chain"/>    <h2 style="margin-bottom: 10px;">      html-chain - Make html by chaining javascript functions    </h2>    <small>by Matthew Elphick&nbsp;<br><a href="https://github.com/maael/html-chain">https://github.com/maael/html-chain</a></small>    <p>There are several ways on dealing with HTML in JavaScript. My favourite approach are literals. Matthew gives us with his library the possibility to do it in a LINQ-style by chaining commands.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/maael/html-chain">      <img class="limit" src="html-chain.png" alt="html-chain - Make html by chaining javascript functions" />    </a>      <hr id="accessible-autocomplete"/>    <h2 style="margin-bottom: 10px;">      Accessible Autocomplete    </h2>    <small>by Government Digital Service&nbsp;<br><a href="https://github.com/alphagov/accessible-autocomplete">https://github.com/alphagov/accessible-autocomplete</a></small>    <p>Many cool looking UI elements on the web are not accessible for the impaired. But especially public services has to be aware of that. Developers from the British Government Digital Service have created a full WAI-ARIA compatible library for autocomplete inputs.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/alphagov/accessible-autocomplete">      <img class="limit" src="accessible-autocomplete.png" alt="Accessible Autocomplete" />    </a>      <hr id="js-datatable"/>    <h2 style="margin-bottom: 10px;">      JS DataTable    </h2>    <small>by Luigi Verolla&nbsp;<br><a href="https://github.com/luverolla/js-datatable">https://github.com/luverolla/js-datatable</a></small>    <p>Deaing with tables in HTML can be a mess, when you try to add some functionality like searching, sorting and paging and that also responsive. Take a nap, because Luigi has a fully functional solution for this.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/luverolla/js-datatable">      <img class="limit" src="js-datatable.png" alt="JS DataTable" />    </a>      <hr id="mk-charts"/>    <h2 style="margin-bottom: 10px;">      MK Charts    </h2>    <small>by Marcus Kirschen&nbsp;<br><a href="https://mkirschen.de/mk-scripts/mk-charts/">https://mkirschen.de/mk-scripts/mk-charts/</a></small>    <p>Dashboards everywhere. In case you don’t have a specialized UI library and just want to add some circle charts to your UI, try out Marcus’ solution. Just define the values in your HTML tag and let MK Charts do the rest. Simple and easy.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://mkirschen.de/mk-scripts/mk-charts/">      <img class="limit" src="mk-charts.png" alt="MK Charts" />    </a>      <hr id="snabbt-js"/>    <h2 style="margin-bottom: 10px;">      Snabbt.js - Fast animations with Javascript and CSS transforms    </h2>    <small>by Daniel Lundin&nbsp;<br><a href="https://daniel-lundin.github.io/snabbt.js/">https://daniel-lundin.github.io/snabbt.js/</a></small>    <p>Snabbt is quite old in terms of the IT industry, but still worth mentioning, because it is a really light and fast solution for adding animations to your Web App. See the demos … it’s still stunning.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://daniel-lundin.github.io/snabbt.js/">      <img class="limit" src="snabbt-js.png" alt="Snabbt.js - Fast animations with Javascript and CSS transforms" />    </a>      <hr id="simply-lazy"/>    <h2 style="margin-bottom: 10px;">      SimplyLazy - Pure JavaScript Image Lazy Loader    </h2>    <small>by Max (maxshuty)&nbsp;<br><a href="https://maxshuty.github.io/simply-lazy/">https://maxshuty.github.io/simply-lazy/</a></small>    <p>Lazy loading can be a must on image heavy webs and you got bazillion results while searching for the right JS library. I can recommend Max’s solution, because it’s quite tiny and has callback as well as default image support.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://maxshuty.github.io/simply-lazy/">      <img class="limit" src="simply-lazy.png" alt="SimplyLazy - Pure JavaScript Image Lazy Loader" />    </a>      <hr id="blury-loading"/>    <h2 style="margin-bottom: 10px;">      Blury-Loading    </h2>    <small>by S.M.Abtahi Noor&nbsp;<br><a href="https://github.com/19smabtahinoor/Blury-Loading">https://github.com/19smabtahinoor/Blury-Loading</a></small>    <p>Apropos loading … maybe you want to preload your Web App’s sources completely and show the user a loading visual? Take this nice looking approach: while a percentage figure is running upwards, the background image is getting less blurry. A three-liner, but cool. Thanks Mr. Noor.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/19smabtahinoor/Blury-Loading">      <img class="limit" src="blury-loading.png" alt="Blury-Loading" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo and the IndieWeb (Receiving Webmentions)</title>
      <link href="/post/Hexo-and-the-IndieWeb-Receiving-Webmentions/"/>
      <url>/post/Hexo-and-the-IndieWeb-Receiving-Webmentions/</url>
      
        <content type="html"><![CDATA[    <div class="alertbox alertbox-info">      <p>This is part three of the splitted original post <a href="/post/Hexo-and-the-IndieWeb/" title="Hexo and the IndieWeb">Hexo and the IndieWeb</a>. Don’t miss Part 2 <a href="/post/Hexo-and-the-IndieWeb-Sending-Webmentions/" title="Hexo and the IndieWeb (Sending Webmentions)">Hexo and the IndieWeb (Sending Webmentions)</a> either.</p>    </div>  <hr><p>A meaningful interaction has always two directions: sending and receiving. In this part of the post I want to show you how to receive Webmentions from other blogs participating in the IndieWeb.</p><p>As Hexo is a SSG it generates static HTML pages. This has the advantage that the pages can be hosted just about anywhere (in my case <a href="https://pages.github.com/">Github Pages</a>, but also the disadvantage of not having a real backend. Therefore, we need an external service that acts as an Webmention endpoint, where other people can send their webmentions.</p><p><a href="https://aaronparecki.com/">Aaron Parecki</a>, co-founder of the IndieWeb, has made a service called <a href="https://webmention.io/"><strong>webmention.io</strong></a> we can use for free. It is able to convert old-fashioned Pingbacks to Webmentions, supports deleting of unwanted mentions, has a Blocklist for blocking domains, Webhooks for real-time processing and last but not least an API to get all your Webmentions per page or per site.</p><span id="more"></span><h2 id="Setup"><a href="#Setup" class="headerlink" title="Setup"></a>Setup</h2><p>webmention.io needs a registration and Aaron uses his own authentication method <strong>Web Sign-In</strong> over <a href="https://indielogin.com/">IndieLogin</a> to achieve that.</p><p><img src="/post/Hexo-and-the-IndieWeb-Receiving-Webmentions/indielogin.png" alt="IndieLogin.com"></p><p>After you have signed in, you see your settings with two important links, you have to integrate in the head of your HTML:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;webmention&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://webmention.io/[YOUR-BLOG-DOMAIN]/webmention&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;pingback&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://webmention.io/[YOUR-BLOG-DOMAIN]/xmlrpc&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>They define your page on the one hand as a webmention- and on the other hand as a pingback endpoint. Every send Webmention or Pingback from another blog is routed to these URL’s.</p><p>You will also find your <strong>API Key</strong> on this page. To be honest, is not a real API key, but rather a key to retrieve all incoming webmentions at once. Therefore it does not need to be kept private and secured. There is no way to modify your incoming Webmentions over it.</p><h2 id="Incoming-Webmentions"><a href="#Incoming-Webmentions" class="headerlink" title="Incoming Webmentions"></a>Incoming Webmentions</h2>    <div class="alertbox alertbox-info">      <p>I’m implementing my Hexo&#x2F;Webmention solution as I’m writing this post, therefore I don’t have any Webmentions to show as an example. Since all mentions on webmention.io are publicly accessible, I simply use Max Böcks article <a href="https://mxb.dev/blog/using-webmentions-on-static-sites/">Using Webmentions in Eleventy</a> in the following. Max, I hope it is ok … :)</p>    </div>  <p>Aaron has defined three ways to get the incoming mentions of a particular article on your blog:</p><h3 id="1-View-as-HTML-page"><a href="#1-View-as-HTML-page" class="headerlink" title="1. View as HTML page"></a>1. View as HTML page</h3>    <figure class="highlight">        <pre>https://webmention.io/api/<b>mentions.html</b>?target=<i>https://mxb.dev/blog/using-webmentions-on-static-sites/</i></pre>    </figure>  <p><img src="/post/Hexo-and-the-IndieWeb-Receiving-Webmentions/view-html.png" alt="View HTML"></p><p>Using it this way, webmention.io integrates the content with some styles and other information of the sending post for easy reading.<br><br></p><h3 id="2-Consume-as-Atom-feed"><a href="#2-Consume-as-Atom-feed" class="headerlink" title="2. Consume as Atom feed"></a>2. Consume as Atom feed</h3>    <figure class="highlight">        <pre>https://webmention.io/api/<b>mentions.atom</b>?target=<i>https://mxb.dev/blog/using-webmentions-on-static-sites/</i></pre>    </figure>  <p><img src="/post/Hexo-and-the-IndieWeb-Receiving-Webmentions/view-atom.png" alt="View ATOM"><br><br></p><h3 id="3-Get-as-JSON"><a href="#3-Get-as-JSON" class="headerlink" title="3. Get as JSON"></a>3. Get as JSON</h3>    <figure class="highlight">        <pre>https://webmention.io/api/<b>mentions.jf2</b>?target=<i>https://mxb.dev/blog/using-webmentions-on-static-sites/</i></pre>    </figure>  <p><img src="/post/Hexo-and-the-IndieWeb-Receiving-Webmentions/view-json.png" alt="View JSON"><br><br></p><p>Especially the last one is interesting for us, because we can use it to automate getting the data and integrate it in our blog post.</p><p>You can also use all these Url’s to get the Webmentions of all of your pages, by changing the <code>target</code> parameter into:</p>    <figure class="highlight">        <pre>...?<b>token</b>=[YOUR-API-KEY]</pre>    </figure>  <p>The feed with token for getting all webmentions is particularly practical for checking whether there are new ones for your blog via a feed reader.</p><p>There are some parameters you have to be aware of:</p><table><thead><tr><th>Parameter</th><th>Example</th></tr></thead><tbody><tr><td>Paging</td><td><code>?per-page=20&amp;page=0</code> (<strong>default</strong>, page 1 with 20 entries)</td></tr><tr><td>Sorting By</td><td><code>?sort-by=created</code> (<strong>default</strong>)</td></tr><tr><td>Sorting Direction</td><td><code>?sort-dir=down</code> (<strong>default</strong>, newest first)</td></tr><tr><td>Time Limit</td><td><code>?since=2021-05-10T12:00:00-0700</code></td></tr><tr><td>ID Limit</td><td><code>?since_id=500</code>).</td></tr></tbody></table><p>You can find more on parameters in the documentation of webmention.io’s source code here: <a href="https://github.com/aaronpk/webmention.io">https://github.com/aaronpk/webmention.io</a>.</p><h2 id="The-Data"><a href="#The-Data" class="headerlink" title="The Data"></a>The Data</h2><p>Let’s dive into the data. The JSON is a list and every Webmention is an entry underneath <code>children</code>, with following useful fields:</p><table><thead><tr><th>Field</th><th>Purpose</th></tr></thead><tbody><tr><td><code>author.name</code></td><td>Name of the sender</td></tr><tr><td><code>author.photo</code></td><td>Avatar photo of the sender</td></tr><tr><td><code>author.url</code></td><td>Personal URL of the sender</td></tr><tr><td><code>wm-id</code></td><td>Unique ID of the Webmention</td></tr><tr><td><code>wm-target</code></td><td>URL of your post</td></tr><tr><td><code>wm-received</code></td><td>UTC Date&#x2F;Time sended</td></tr><tr><td><code>wm-source</code></td><td>URL of the sending post</td></tr><tr><td><code>published</code></td><td>Publish Date&#x2F;Time of the sending post</td></tr><tr><td><code>wm-property</code></td><td>Webmention type out of the following values:<ul><li><b>mention-of</b>&amp;nbsp;:&amp;nbsp;Mention as link in post</li><li><b>in-reply-to</b>&amp;nbsp;:&amp;nbsp;Reply to your post</li><li><b>like-of</b>&amp;nbsp;:&amp;nbsp;Like of your post</li><li><b>repost-of</b>&amp;nbsp;:&amp;nbsp;Repost of your post</li><li><b>bookmark-of</b>&amp;nbsp;:&amp;nbsp;Bookmark of your post</li></ul></td></tr></tbody></table><p>Other occuring fields are optional, but no less interesting for displaying them at your post:</p><table><thead><tr><th>Field</th><th>Purpose</th></tr></thead><tbody><tr><td><code>name</code></td><td>Name of the Webmention (title of the sending post or something)</td></tr><tr><td><code>summary.type</code></td><td>Summary type of the Webmention, e.g. “text&#x2F;plain”</td></tr><tr><td><code>summary.value</code></td><td>Summary text of the Webmention</td></tr><tr><td><code>content.html</code></td><td>Content as HTML of sending post</td></tr><tr><td><code>content.text</code></td><td>Content as text of sending post</td></tr></tbody></table><p>The fact that we get the complete HTML content of the sending post, means that we easily can parse it for IndieWeb microformats (see <a href="/post/Hexo-and-the-IndieWeb/" title="Hexo and the IndieWeb">Part 1</a>) to get even more information about it and the blog owner!</p><hr><h2 id="Integration"><a href="#Integration" class="headerlink" title="Integration"></a>Integration</h2><p>We have two ways to choose from in order to integrate the data thus obtained into the post:</p><ol><li>Static … means while generating the site</li><li>Dynamic … means real-time via client-side Javascript</li></ol><p>The static approach has two big disadvantages:</p><ul><li>The Webmentions are only visible with a time delay, due to the need of generating the pages of the site</li><li>Hexos generation mechanism only takes those, whose content has beed updated in the meanwhile, but do not take into account any external data like Webmentions. We would have to fire up the time consuming <code>clean</code> and <code>generate</code> all the time</li></ul><p>So, let’s go for the dynamic approach, a little bit JavaScript, which loads the Webmentions on page load (like most Commenting platforms do).</p><p>First of all, we need a placeholder in our article.ejs, where the Webmentions will be displayed. Somewhere near the comments and implemented as another partial:</p><figure class="highlight html"><figcaption><span>layout/_partial/article.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">id</span>=<span class="string">&quot;&lt;%= post.layout %&gt;-&lt;%= post.slug %&gt;&quot;</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">class</span>=<span class="string">&quot;article article-type-&lt;%= post.layout %&gt; h-entry&quot;</span> <span class="attr">itemscope</span> <span class="attr">itemprop</span>=<span class="string">&quot;blogPost&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  &lt;%- partial(&#x27;post/webmentions&#x27;) %&gt;</span><br><span class="line"></span><br><span class="line">  &lt;%- partial(&#x27;post/comments&#x27;) %&gt;</span><br><span class="line">  &lt;%- partial(&#x27;post/related&#x27;) %&gt;</span><br><span class="line">  &lt;%- partial(&#x27;post/nav&#x27;) %&gt;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><figcaption><span>layout/_partial/post/webmentions.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-webmentions&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;webmentions-placeholder&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;wm-placeholder&quot;</span>&gt;</span>No Webmentions yet...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">insertWebmentions</span>(<span class="string">&#x27;&lt;%- post.slug.toLowerCase() %&gt;&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;)    </span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The call <code>insertWebmentions</code> references to the asset script <code>webmentions.js</code>, which will be bundled via Grunt in my case, but you can place it where you want and add it to your articles head element. The main thing is, that it will load when the article page is launched.</p><p>The script checks, if the user has already loaded the Webmentions for the current page from webmention.io in the last hour and do so if not, and stores the data in the browser by the pages key (slug) and with a timestamp:</p><figure class="highlight js"><figcaption><span>assets/webmentions.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">insertWebmentions</span>(<span class="params">key</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> lsTimestamp = <span class="string">&quot;wmts_&quot;</span> + key;</span><br><span class="line">  <span class="keyword">const</span> lsWebmentions = <span class="string">&quot;wm_&quot;</span> + key;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> currentUrl = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>;</span><br><span class="line">  <span class="keyword">const</span> wmUrl = <span class="string">`https://webmention.io/api/mentions.jf2?target=<span class="subst">$&#123;currentUrl&#125;</span>&amp;per-page=1000&amp;sort-dir=up`</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> lastRequest;</span><br><span class="line">  <span class="keyword">let</span> webmentions;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Get data from browser storage, if available</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(lsTimestamp) &amp;&amp; </span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(lsWebmentions)) &#123;</span><br><span class="line"></span><br><span class="line">    lastRequest = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(lsTimestamp);</span><br><span class="line">    webmentions = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(lsWebmentions));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(webmentions &amp;&amp; lastRequest &amp;&amp; <span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() - lastRequest) / (<span class="number">60</span>*<span class="number">60</span>*<span class="number">1000</span>) &lt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// Webmentions are present and not older than an hour</span></span><br><span class="line">    <span class="title function_">process</span>();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// Get Webmentions from webmention.io</span></span><br><span class="line">    <span class="title function_">load</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123; <span class="title function_">process</span>(); &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Load webmention.io&#x27;s JSON data for the current page</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">load</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(wmUrl);</span><br><span class="line">    webmentions = <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(lsWebmentions, <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(webmentions));</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(lsTimestamp, <span class="title class_">Date</span>.<span class="title function_">now</span>());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Process Webmentions</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">process</span>(<span class="params"></span>) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Actually the script loads the first 1000 Webmentions in ascending order of their retreiving date. Should last for a while or I may feel like adding real paging at some point ;)</p><p>On processing the webmentions, a separate HTML block is generated for each type (<code>wm-property</code>) regarding the content of the Webmention, whereby the header is always the same. The <code>VERB</code> refers to the Webmentions type: <em>mentioned</em>, <em>replied</em>, <em>liked</em>, <em>bookmarked</em> or <em>reposted</em>.</p><figure class="highlight html"><figcaption><span>HEADER</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wm-card h_card&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;wm-photo-link u-url&quot;</span> <span class="attr">href</span>=<span class="string">&quot;[AUTHOR.URL]&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;wm-photo u-photo&quot;</span> <span class="attr">width</span>=<span class="string">&quot;44&quot;</span> <span class="attr">height</span>=<span class="string">&quot;44&quot;</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">src</span>=<span class="string">&quot;[AUTHOR.PHOTO]&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;[AUTHOR.NAME]&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wm-meta&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;wm-name p-name&quot;</span> <span class="attr">href</span>=<span class="string">&quot;[AUTHOR.URL]&quot;</span>&gt;</span>[AUTHOR.NAME]<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;wm-verb&quot;</span>&gt;</span>[VERB] on<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">time</span> <span class="attr">class</span>=<span class="string">&quot;wm-date dt-published&quot;</span> <span class="attr">datetime</span>=<span class="string">&quot;[WM-RECEIVED]&quot;</span>&gt;</span></span><br><span class="line">      [formatted WM-RECEIVED]</span><br><span class="line">    <span class="tag">&lt;/<span class="name">time</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">small</span>&gt;</span>[Running Number]<span class="tag">&lt;/<span class="name">small</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The HTML of the five implemented types:</p><figure class="highlight html"><figcaption><span>MENTION</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;webmention wm-mentioned&quot;</span> <span class="attr">id</span>=<span class="string">&quot;[WM-ID]&quot;</span>&gt;</span></span><br><span class="line">  [HEADER HTML]</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wm-content p-content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>[First 50 words of CONTENT.TEXT with ellipsis]<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;wm-source&quot;</span> <span class="attr">href</span>=<span class="string">&quot;[WM-SOURCE]&quot;</span>&gt;</span>[WM-SOURCE]<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><figcaption><span>REPLY</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;webmention wm-mentioned&quot;</span> <span class="attr">id</span>=<span class="string">&quot;[WM-ID]&quot;</span>&gt;</span></span><br><span class="line">  [HEADER HTML]</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wm-content p-content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>[Complete CONTENT.HTML]<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;wm-source&quot;</span> <span class="attr">href</span>=<span class="string">&quot;[WM-SOURCE]&quot;</span>&gt;</span>[WM-SOURCE]<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><figcaption><span>LIKE & BOOKMARK (no content)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;webmention wm-mentioned&quot;</span> <span class="attr">id</span>=<span class="string">&quot;[WM-ID]&quot;</span>&gt;</span></span><br><span class="line">  [HEADER HTML]</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><figcaption><span>REPOST</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;webmention wm-mentioned&quot;</span> <span class="attr">id</span>=<span class="string">&quot;[WM-ID]&quot;</span>&gt;</span></span><br><span class="line">  [HEADER HTML]</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;wm-content p-content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      ... at <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;[WM-SOURCE]&quot;</span>&gt;</span>[WM-SOURCE]<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The result will look like this, after adding some styles:</p><p><img src="/post/Hexo-and-the-IndieWeb-Receiving-Webmentions/wm-example.png" alt="Webmention example"></p><p>You can download the complete JavaScript- and the Stylus file on Github:<br><a href="https://github.com/kristofzerbe/Hexo-and-the-IndieWeb-Files"><strong>https://github.com/kristofzerbe/Hexo-and-the-IndieWeb-Files</strong></a></p><hr><h3 id="Form-for-sending-Webmentions-manually"><a href="#Form-for-sending-Webmentions-manually" class="headerlink" title="Form for sending Webmentions manually"></a>Form for sending Webmentions manually</h3><p>As you may noticed in <a href="/post/Hexo-and-the-IndieWeb-Sending-Webmentions/" title="Hexo and the IndieWeb (Sending Webmentions)">Part 2</a>, some manual work is necessary to have webmentions sent. Therefore, it is good to give the user a possibility to submit his blog post, where he mentions yours, directly. As webmentions.io supports posting a new source, the HTML form is quite simple an we can integrate it in the partial from above, below the script tag:</p><figure class="highlight html"><figcaption><span>layout/_partial/post/webmentions.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-webmentions&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">&quot;webmention-form&quot;</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">action</span>=<span class="string">&quot;https://webmention.io/&lt;%- config.title %&gt;&gt;/webmention&quot;</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">name</span>=<span class="string">&quot;webmention-form&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;webmention-form-source&quot;</span>&gt;</span>Your Article URL:<span class="tag">&lt;/<span class="name">label</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;webmention-form-source&quot;</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">type</span>=<span class="string">&quot;url&quot;</span> <span class="attr">name</span>=<span class="string">&quot;source&quot;</span> </span></span><br><span class="line"><span class="tag">          <span class="attr">placeholder</span>=<span class="string">&quot;https://your-blog.com/your-article&quot;</span> <span class="attr">required</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;target&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;%- post.permalink %&gt;&gt;&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Send Webmention&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The variable <code>config.title</code> defines the name of your blog with which you have registered at webmention.io. In the hidden input, we use the permalink of the current page&#x2F;article as the mentions target.</p><hr><h2 id="Building-Bridges"><a href="#Building-Bridges" class="headerlink" title="Building Bridges"></a>Building Bridges</h2><p>Yes, the IndieWeb and Webmentions are an alternative concept of social networking, bypassing the big silos like Facebook, Twitter and Co. … but they exist and they have a massive reach. Of course, your posts will be shared there, so why not include those mentions?</p><p><a href="https://brid.gy/"><strong>Bridgy</strong></a> is such a bridge builder. It connects your blog with the big social media players:</p><p><img src="/post/Hexo-and-the-IndieWeb-Receiving-Webmentions/bridgy.png" alt="Bridgy"></p><p>The only thing you have to do, is to allow Bridgy to access your social media data, like your Tweets on Twitter. If somebody mentions you and one of your articles as a Tweet, Reply or Like, it sends a mention to the endpoint defined in your HTML, in our case webmention.io. Thats it … kinda magic.</p><hr><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Some people say, Webmentions makes commenting forms on blogs, like Disqus or others, obsolete, but I don’t agree with that, because not every visitor owns a blog and not every blog owner want’s to write a post only to comment the thoughts of another blogger. Both approaches work well side by side and complement each other. Webmentions are super to build a blog network and  increasing your blogs coverage. As I said in <a href="/post/Hexo-and-the-IndieWeb/" title="Hexo and the IndieWeb">Part 1</a> … we write for readers.</p><hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>indieweb.org: <a href="https://indieweb.org/webmention.io">webmention.io</a></li><li>Max Böck: <a href="https://mxb.dev/blog/using-webmentions-on-static-sites/">Using Webmentions in Eleventy</a></li><li>Max Böck: <a href="https://mxb.dev/blog/webmention-analytics/">Webmention Analytics</a></li><li>Paul Kinlan: <a href="https://paul.kinlan.me/using-web-mentions-in-a-static-sitehugo/">Using Web Mentions in a static site (Hugo)</a></li><li>Sia Karamalegos: <a href="https://sia.codes/posts/webmentions-eleventy-in-depth/">An In-Depth Tutorial of Webmentions + Eleventy</a></li><li>Keith J. Grant: <a href="https://keithjgrant.com/posts/2019/02/adding-webmention-support-to-a-static-site/">Adding Webmention Support to a Static Site</a></li><li>Chris Bongers: <a href="https://h.daily-dev-tips.com/goodbye-comments-welcome-webmentions">Goodbye comments, welcome Webmentions</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
            <tag> Publishing </tag>
            
            <tag> Share </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo and the IndieWeb (Sending Webmentions)</title>
      <link href="/post/Hexo-and-the-IndieWeb-Sending-Webmentions/"/>
      <url>/post/Hexo-and-the-IndieWeb-Sending-Webmentions/</url>
      
        <content type="html"><![CDATA[    <div class="alertbox alertbox-info">      <p>This is part two of a blog post that turned out to be a bit too long. Don’t miss Part 1: <a href="/post/Hexo-and-the-IndieWeb/" title="Hexo and the IndieWeb">Hexo and the IndieWeb</a> …</p>    </div>  <hr><p>After you have created your new Hexo post with <code>hexo new post &quot;My Fancy Post&quot;</code> and spend a couple of minutes&#x2F;hours&#x2F;days on writing meaningful text, you publish it by running <code>hexo generate</code> and copying the generated HTML to your server.</p><p>Next step would be to inform all the blogs you linked to in your now published post, that you have done just that. You want to send <strong>Webmentions</strong>.</p><p>Good news: you don’t have to write your own solution to scan your article for external URL’s and sending Webmentions to their creators: <a href="https://remysharp.com/2019/06/18/send-outgoing-webmentions">Remy Sharp has done that</a> already with his service <a href="https://webmention.app/"><strong>webmention.app</strong></a>. It supports the long existing <a href="http://www.hixie.ch/specs/pingback/pingback">Pingbacks</a> too and offers several ways to achieve your goal:</p><span id="more"></span><p><strong>(1)</strong> <em>Use the service at <a href="https://webmention.app/test">https://webmention.app/test</a> manually with your newly published article URL</em><br>Very time consuming approach and actually only intended for tests. You rely on Remy’s service and need a token to avoid existing rate limits.</p><p><strong>(2)</strong> <em>Perform a POST of your new article URL or the URL of your RSS feed to his service endpoint using CURL or any other HTTP requesting method</em><br>Can be integrated at the end of your build &amp; deploy process. Rely on Remy’s service and needs a token.</p><p><strong>(3)</strong> <em>Use IFTTT to do the job described in (2) using your feed</em><br>Seems best way for ‘set up and forget’, but you rely not only on Remy’s service, but on IFTTT also. Not really controllable.</p><p><strong>(4)</strong> <em><strong>Use his Command line tool independently</strong></em><br>Use the executable behind Remy’s service on your own, without tokens and stuff. Integrable into your build &amp; deploy process and the <a href="https://github.com/remy/wm">source code is available on Github</a>, in case you want to change it to your needs.</p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">REM Install</span></span><br><span class="line">npm install @remy/webmention</span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">REM Run test locally</span></span><br><span class="line">npx webmention https://localhost:<span class="number">4000</span>/my-fancy-post --debug</span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">REM Run send with your published URL</span></span><br><span class="line">npx webmention https://my-blog.com/my-fancy-post --send --limit <span class="number">0</span></span><br></pre></td></tr></table></figure>    <div class="alertbox alertbox-exclamation">      <p>Whatever method you use: If you use your <strong>RSS feed</strong> for scanning, you have to ensure, that your feeds content contains the complete text of your article and <strong>not only the excerpt</strong>, in case you work with Hexo’s <code>&lt;!-- more --&gt;</code> feature.</p>    </div>  <h2 id="Sending-Hexo-Style"><a href="#Sending-Hexo-Style" class="headerlink" title="Sending Hexo-Style"></a>Sending Hexo-Style</h2><p>To avoid having to look up the published URL each time, I wrote a <a href="https://hexo.io/api/console.html">Hexo console command</a> that either processes a post by its filename (slug) or simply the last ones. It is based on and uses Remy’s <a href="https://www.npmjs.com/package/@remy/webmention">NPM package</a>.</p><p>You can install <strong>hexo-console-webmention</strong> by executing:</p><p><code>npm install hexo-console-webmention --save</code></p><p>The command has 3 options:</p><table><thead><tr><th>Parameter</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><strong>slug</strong></td><td>string</td><td>Parse a particular post by its filename (slug)</td></tr><tr><td><strong>count</strong></td><td>int</td><td>Parse a number of latest posts (not considered when –slug is used)&gt;; default &#x3D; 1</td></tr><tr><td><strong>send</strong></td><td>bool</td><td>Parse and send Webmentions (without, only the endpoints found are displayed)</td></tr></tbody></table><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><p>Parse and show endpoints for the latest post:</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo webmention</span><br></pre></td></tr></table></figure><p>Parse and show endpoints for the latest 20 posts:</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo webmention --count <span class="number">20</span></span><br></pre></td></tr></table></figure><p>Parse and send Webmentions for the latest post:</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo webmention --send true</span><br></pre></td></tr></table></figure><p>Parse and send Webmentions for the post “My Fancy Blogpost”:</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo webmention --slug my-fancy-blogpost --send true</span><br></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output"></a>Sample Output</h3><p><img src="/post/Hexo-and-the-IndieWeb-Sending-Webmentions/output-hexo-console-webmention.png" alt="Sample console output"></p><p>The source code is available at: <a href="https://github.com/kristofzerbe/hexo-console-webmention">https://github.com/kristofzerbe/hexo-console-webmention</a>.</p><hr>    <div class="alertbox alertbox-info">      <p>Do not linger … this way to Part 3: <a href="/post/Hexo-and-the-IndieWeb-Receiving-Webmentions/" title="Hexo and the IndieWeb (Receiving Webmentions)">Hexo and the IndieWeb (Receiving Webmentions)</a> …</p>    </div>  <hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>Paul Kinlan: <a href="https://paul.kinlan.me/webmention-app/">Webmention.app</a></li><li>Remy Sharp: <a href="https://remysharp.com/2019/06/18/send-outgoing-webmentions">Send Outgoing Webmentions</a></li><li>Github: Remy Sharp: <a href="https://github.com/remy/wm">Source Code from webmention.app</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
            <tag> Publishing </tag>
            
            <tag> Share </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo and the IndieWeb</title>
      <link href="/post/Hexo-and-the-IndieWeb/"/>
      <url>/post/Hexo-and-the-IndieWeb/</url>
      
        <content type="html"><![CDATA[    <a href="https://news.indieweb.org/en" class="u-syndication" style="display:none;">Posted on IndieNews</a>  <p>It is cool to publish your thoughts on your own blog under your only domain and not only on big social media platforms, because that way you keep control over your content. But what makes Facebook, Twitter and others “social” is the interaction between the people. Likes, Retweets, Mentions, Replies are the fuel which drives them. But most of the blogging solutions offers only rudimentary interactions, in form of article comments. The comment hurdle is high because interacting on someone else’s site is different from interacting on what is supposed to be your own, such as your Twitter or Facebook feed.</p><p>The project <a href="https://indieweb.org/"><strong>IndieWeb</strong></a> and their approach of <a href="https://indieweb.org/Webmention"><strong>Webmentions</strong></a>, has the goal to fill this gap. As a <a href="https://www.w3.org/TR/webmention/">W3C recommendation</a>, it defines standards how the social interaction of independent blogging solutions can be technically implemented without the need of manual intervention. Let software do the job…</p><p>In this article I will only briefly go into the basics and then show an implementation solution for the SSG <a href="https://hexo.io/"><strong>Hexo</strong></a>.</p><span id="more"></span><hr><h2 id="Basic-Concepts"><a href="#Basic-Concepts" class="headerlink" title="Basic Concepts"></a>Basic Concepts</h2><p>Nothing describes the flow of Webmentions better than this:</p>    <div>        <blockquote><ol><li>Frankie posts a blog entry.</li><li>Alex has thoughts in response, so also posts a blog entry linking to Frankie’s.</li><li>Alex’s publishing software finds the link and fetches Frankie’s post, finding the URL of Frankie’s Webmention endpoint in the document.</li><li>Alex’s software sends a notification to the endpoint.</li><li>Frankie’s software then fetches Alex’s post to verify that it really does link back, and then chooses how to display the reaction alongside Frankie’s post.</li></ol></blockquote>        <cite><a href="https://allinthehead.com/retro/378/implementing-webmentions">--- Drew McLellan</a></cite>    </div>  <p>Basically Webmentions allow notifications between <strong>web addresses</strong>, therefore every post, which is part of the interaction, has to have a unique <a href="https://en.wikipedia.org/wiki/Permalink">permalink</a>.</p><p>A blog software that wants to support webmentions must cover 4 main points:</p><ol><li>The HTML has to tell others who you are</li><li>The HTML has to give dedicated informations about your posts</li><li>Sending a message to another blog, in case you mentioned one of its posts</li><li>Reveiving messages from other blogs, in case they mentioned one of your posts</li></ol><p>Point 4 is probably the most interesting for all of us, because it pats our own ego on the back, since we usually don’t write for ourselves, but for others, and reactions to it, show us that it wasn’t pointless.</p><hr><h2 id="Step-1-The-Personal-amp-Profile-HTML"><a href="#Step-1-The-Personal-amp-Profile-HTML" class="headerlink" title="Step 1: The Personal &amp; Profile HTML"></a>Step 1: The Personal &amp; Profile HTML</h2><p>As you want to interact with other blogs participating in the IndieWeb with your posts, they have to know something about you and your articles in a machine-readable form.</p><h3 id="Personal-Information"><a href="#Personal-Information" class="headerlink" title="Personal Information"></a>Personal Information</h3><p>HTML is machine-readable per se, but you have to tell others what to look for by adding defined classes to the tags which holds the information, in order to enable them to get specific information about you, like your name, your mail-address or links to other profiles f.e. Github, Twitter and so on.</p><p>It is necessary to have this information not only in an ABOUT page, but also on each post page. You can achieve this either by having an ABOUT block like here on kiko.io or providing the information in hidden HTML tags elsewhere in your HTML.</p><p>It does not matter which tags you use, you only have to add the defined class to the tag of a particular information in your Hexo EJS file. The information will be extracted out of the tag’s inner text.</p><!-- more --><p>The most used classes for personal blogs as follows:</p><table><thead><tr><th>Class</th><th>Information</th></tr></thead><tbody><tr><td><a href="http://microformats.org/wiki/h-card"><strong>h-card</strong></a></td><td>Wrapper for all personal information.<br> <em>All other classes below has to be used on child tags</em></td></tr><tr><td><strong>p-name</strong></td><td>Full name</td></tr><tr><td><strong>u-email</strong></td><td>Email address</td></tr><tr><td><strong>u-photo</strong></td><td>Photo</td></tr><tr><td><strong>p-role</strong></td><td>Role</td></tr><tr><td><strong>u-url</strong></td><td>URL representing the person</td></tr><tr><td><strong>p-locality</strong></td><td>City or Town</td></tr><tr><td><strong>p-region</strong></td><td>State or province</td></tr><tr><td><strong>p-country-name</strong></td><td>Country name</td></tr></tbody></table>    <div class="alertbox alertbox-exclamation">      <p>Please keep in mind not to give too much information about you to the public. It could get unpleasant…</p>    </div>  <h3 id="Profile-Information"><a href="#Profile-Information" class="headerlink" title="Profile Information"></a>Profile Information</h3><p>For providing links to other profiles, anchor (<code>A</code>) tags with the special attribute <a href="http://microformats.org/wiki/rel-me"><code>rel=&quot;me&quot;</code></a> will be used, which indicates profile equivalence and can be used for <a href="http://microformats.org/wiki/identity-consolidation">identity-consolidation</a>.</p><p>With this extension of your blog HTML, you are able to sign in using your domain at sites which supports <strong>Web Sign-In</strong> over the concept of <strong>RelMeAuth</strong>, for example those who use <a href="https://indieauth.net/"><strong>IndieAuth.net - OAuth for the open web</strong></a>. You only have to make sure, that the endpoints of your profile links have <strong>backlinks to your blog</strong> with a <code>rel=&quot;me</code>“. Unfortunately, not many services offer the definition of such a backlink. Github, for example, is an exception. You can give it a try at <a href="https://indieauth.com/">IndieAuth.com</a>.</p><h4 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h4><p><img src="/post/Hexo-and-the-IndieWeb/about-markup.png" alt="About markup"></p><hr><h2 id="Step-2-The-Article-HTML"><a href="#Step-2-The-Article-HTML" class="headerlink" title="Step 2: The Article HTML"></a>Step 2: The Article HTML</h2><p>Tagging articles with meta information for the IndieWeb is similarly simple, by adding following classes in your article.ejs file:</p><table><thead><tr><th>Class</th><th>Information</th></tr></thead><tbody><tr><td><a href="http://microformats.org/wiki/h-entry"><strong>h-entry</strong></a></td><td>Wrapper for all article related information</td></tr><tr><td><strong>p-name</strong></td><td>Title</td></tr><tr><td><strong>p-summary</strong></td><td>Short summary</td></tr><tr><td><strong>e-content</strong></td><td>Content</td></tr><tr><td><strong>dt-published</strong></td><td>Publish date</td></tr><tr><td><strong>dt-updated</strong></td><td>Update date</td></tr><tr><td><strong>u-url</strong></td><td>Permalink</td></tr></tbody></table><p>In case you work with the default Hexo theme ‘landscape’, I advise you to split your <code>article.ejs</code> in two files, because it is used for the article itself and for the excerpts on the start page and archive pages also. I have made an <code>excerpt.ejs</code> with all the information needed for listing the posts and cut back my <code>article.ejs</code> to the bare minimum, but with the IndieWeb related classes above (or in the linked partials if necessary), because only the article page itself should have these informations, respectively an <code>h-entry</code> class, to indicate that there are IndieWeb data!</p><figure class="highlight html"><figcaption><span>layout/_partial/article.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">id</span>=<span class="string">&quot;&lt;%= post.layout %&gt;-&lt;%= post.slug %&gt;&quot;</span> </span></span><br><span class="line"><span class="tag">         <span class="attr">class</span>=<span class="string">&quot;article article-type-&lt;%= post.layout %&gt; h-entry&quot;</span> <span class="attr">itemscope</span> <span class="attr">itemprop</span>=<span class="string">&quot;blogPost&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-meta&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;h-card p-author&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;u-photo&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&lt;%- config.photo %&gt;&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&lt;%- config.author %&gt;&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;p-name u-url&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%- config.url %&gt;&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;author&quot;</span>&gt;</span>&lt;%- config.author %&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    &lt;%- partial(&#x27;post/date&#x27;, &#123; class_name: &#x27;article-date dt-published&#x27;, date_format: &#x27;DD MMM YYYY&#x27; &#125;) %&gt;</span><br><span class="line">    &lt;%- partial(&#x27;post/category&#x27;, &#123; class_name: &#x27;article-category p-category&#x27; &#125;) %&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-inner&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;article-header&quot;</span>&gt;</span></span><br><span class="line">      &lt;%- partial(&#x27;post/title&#x27;, &#123; class_name: &#x27;article-title p-name&#x27;, show_link: false &#125;) %&gt;</span><br><span class="line">      &lt;%- partial(&#x27;post/subtitle&#x27;, &#123; class_name: &#x27;article-subtitle p-summary&#x27; &#125;) %&gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-entry e-content&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;articleBody&quot;</span>&gt;</span></span><br><span class="line">      &lt;%- post.content %&gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span> <span class="attr">class</span>=<span class="string">&quot;article-footer&quot;</span>&gt;</span>      </span><br><span class="line">      &lt;%- partial(&#x27;post/tag&#x27;, &#123; class_name: &#x27;article-tags&#x27; &#125;) %&gt;</span><br><span class="line">      &lt;%- partial(&#x27;post/permalink&#x27;, &#123; class_name: &#x27;article-permalink u-url&#x27; &#125;) %&gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &lt;%- partial(&#x27;post/comments&#x27;) %&gt;</span><br><span class="line">  &lt;%- partial(&#x27;post/related&#x27;) %&gt;</span><br><span class="line">  &lt;%- partial(&#x27;post/nav&#x27;) %&gt;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="External-Links"><a href="#External-Links" class="headerlink" title="External Links"></a>External Links</h3><p>The Interaction with other blogs takes place through linking to those external sources in the content of your article.</p><p>Lets say you want to write about a specific topic and to mention the work of another developer, then you just place a link to his post in your Markdown, as you have been doing all along:</p><figure class="highlight md"><figcaption><span>/source/_posts/my-fancy-post.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># My Fancy Post</span></span><br><span class="line">...</span><br><span class="line">Jack has done a wonderful job with his [<span class="string">Awesome Work</span>](<span class="link">https://jacks-blog.com/awesome-work</span>)</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>It will be transformed while generating into something like that:</p><figure class="highlight html"><figcaption><span>/output/.../my-fancy-post/index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">&quot;h-entry&quot;</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-inner&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;article-header&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;p-name&quot;</span>&gt;</span>My Fancy Post<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-entry e-content&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">          Jack has done a wonderful job with his <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://jacks-blog.com/awesome-work&quot;</span>&gt;</span>Awesome Work<span class="tag">&lt;/<span class="name">a</span>&gt;</span>.</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>In the terms of the IndieWeb concept, your post will a be an <a href="https://indieweb.org/article">article</a>, which mentions other posts, as the old-fashioned pingbacks do.</p><hr><h2 id="Special-Post-Formats"><a href="#Special-Post-Formats" class="headerlink" title="Special Post Formats"></a>Special Post Formats</h2><p>A true interaction takes place, when you are posting in a certain syndication context … with a <a href="https://indieweb.org/note">note</a> as a <a href="https://indieweb.org/responses">response</a> to the work of others, mainly by adding additional classes to the external link:</p><ul><li><a href="https://indieweb.org/reply">u-in-reply-to</a> … to indicate that your post is a <strong>reply</strong> to a post as part of a conversation</li><li><a href="https://indieweb.org/like">u-like-of</a> … to indicate that your post is a <strong>like</strong></li><li><a href="https://indieweb.org/repost">u-repost-of</a> … to indicate that your post is a <strong>repost</strong> (100% re-publication)</li><li><a href="https://indieweb.org/bookmark">u-bookmark-of</a> … to indicate that your post is a <strong>bookmark</strong></li></ul><p>Every response type can have additional information about your post and the syndication of it.</p><h3 id="Example-REPLY"><a href="#Example-REPLY" class="headerlink" title="Example REPLY"></a>Example REPLY</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;h-entry&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">      In reply to: <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;u-in-reply-to&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://jacks-blog.com/awesome-work&quot;</span>&gt;</span>Jacks Blog: Awesome Work<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;p-name e-content&quot;</span>&gt;</span></span><br><span class="line">      Jack, you have done a wonderful job!</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Example-LIKE"><a href="#Example-LIKE" class="headerlink" title="Example LIKE"></a>Example LIKE</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;h-entry&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;p-summary&quot;</span>&gt;</span></span><br><span class="line">      Kristof liked <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;u-like-of&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://jacks-blog.com/awesome-work&quot;</span>&gt;</span>Jacks Awesome Work at https://jacks-blog.com/awesome-work<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>    <div class="alertbox alertbox-exclamation">      <p>Currently, I would not recommend writing responses as a normal post in Hexo, as it is based on structured text, that best describes the IndieWeb concept of an ARTICLE.<br><strong>As this post is part of a new series called <a href="/series/indieweb/">IndieWeb</a>, I will post a solution for responses is the near future.</strong></p>    </div>  <hr><h2 id="Verification"><a href="#Verification" class="headerlink" title="Verification"></a>Verification</h2><p>To check all your changes, you can use <a href="https://indiewebify.me/">IndieWebify.Me (Level 1 &amp; 2)</a>:</p><p><img src="/post/Hexo-and-the-IndieWeb/indiewebify-me-level1+2.png" alt="IndieWebify.Me (Level 1 &amp; 2)"></p><hr>    <div class="alertbox alertbox-info">      <p>This was supposed to be just one post, but it got longer and longer and so I split it into 3 parts. Don’t miss Part 2: <a href="/post/Hexo-and-the-IndieWeb-Sending-Webmentions/" title="Hexo and the IndieWeb (Sending Webmentions)">Hexo and the IndieWeb (Sending Webmentions)</a> …</p>    </div>  <hr><h2 id="Terminology"><a href="#Terminology" class="headerlink" title="Terminology"></a>Terminology</h2><p>There are a lot of posts out there which explains the basic concepts of the IndieWeb and Webmentions in particular and you will stumble upon some terms, which has to be explained:</p>    <details>        <summary>Personal Domain</summary>        <blockquote><p>… is a domain name that you personally own, control, and use to represent yourself on the internet. Getting a personal domain is the first step towards getting on the indieweb, and is therefore a requirement for IndieMark Level 1</p></blockquote>        <cite><a href="https://indieweb.org/personal-domain">--- indieweb.org (Personal Domain)</a></cite>    </details>      <details>        <summary>Microformats</summary>        <blockquote><p>… are small patterns of HTML to represent commonly published things like people, events, blog posts, reviews and tags in web pages. They are the quickest &amp; simplest way to provide an API to the information on your website.</p></blockquote>        <cite><a href="http://microformats.org/">--- microformats.org (Wiki)</a></cite>    </details>      <details>        <summary>POSSE</summary>        <blockquote><p>… is an abbreviation for Publish (on your) Own Site, Syndicate Elsewhere, the practice of posting content on your own site first, then publishing copies or sharing links to third parties (like social media silos) with original post links to provide viewers a path to directly interacting with your content.</p></blockquote>        <cite><a href="https://indieweb.org/POSSE">--- indieweb.org (POSSE)</a></cite>    </details>      <details>        <summary>Backfeed</summary>        <blockquote><p>… is the process of syndicating interactions on your POSSE copies back (AKA reverse syndicating) to your original posts.</p></blockquote>        <cite><a href="https://indieweb.org/backfeed">--- indieweb.org (Backfeed)</a></cite>    </details>      <details>        <summary>Web sign-in</summary>        <blockquote><p>… is signing in to websites using your personal web address (without having to use your e-mail address). Web sign-in supersedes OpenID.</p></blockquote>        <cite><a href="https://indieweb.org/Web_sign-in">--- indieweb.org (Web sign-in)</a></cite>    </details>      <details>        <summary>RelMeAuth</summary>        <blockquote><p>… is a proposed open standard for using rel&#x3D;”me” links to profiles on oauth supporting services to authenticate via either those profiles or your own site. RelMeAuth is the technology behind Web sign-in.</p></blockquote>        <cite><a href="http://microformats.org/wiki/RelMeAuth">--- microformats.org (RelMeAuth)</a></cite>    </details>      <details>        <summary>IndieAuth</summary>        <blockquote><p>… is a federated login protocol for Web sign-in, enabling users to use their own domain to sign in to other sites and services.</p></blockquote>        <cite><a href="https://indieweb.org/IndieAuth">--- indieweb.org (IndieAuth)</a></cite>    </details>  <hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>A List Apart: <a href="https://alistapart.com/article/webmentions-enabling-better-communication-on-the-internet/">Webmentions: Enabling Better Communication on the Internet</a></li><li>indieweb.org: <a href="https://indieweb.org/Getting_Started">Getting Started</a></li><li>indieweb.org: <a href="https://indieweb.org/How_to_set_up_web_sign-in_on_your_own_domain">How to set up web sign-in on your own domain</a></li><li>indieweb.org: <a href="https://indieweb.org/Webmention-developer#IndieWeb_Examples">IndieWeb Examples</a></li><li>Bryce Wray: <a href="https://brycewray.com/posts/2020/04/webmentions-three-ssgs-1">Webmentions in three SSGs: Part 1</a></li><li>Keith J. Grant: <a href="https://keithjgrant.com/posts/2019/02/adding-webmention-support-to-a-static-site/">Adding Webmention Support to a Static Site</a></li><li>Alessio Caiazza: <a href="https://abisso.org/stream/tags/indieweb/">Articles tagged ´indieweb´</a></li><li>* (Forum): <a href="https://discourse.gohugo.io/t/anyone-for-webmention/10411">Anyone for Webmention?</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
            <tag> Publishing </tag>
            
            <tag> Share </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Triangulate your images with Triangula</title>
      <link href="/post/Triangulate-your-images-with-Triangula/"/>
      <url>/post/Triangulate-your-images-with-Triangula/</url>
      
        <content type="html"><![CDATA[<p>As I am a photo enthusiast I’m always excited to find new tools, to give images a unique look. Today I stumbled over <a href="https://github.com/RH12503/triangula"><strong>Triangula</strong></a>. Ever seen one of those cool backgrounds, where a picture has been broken up into lots of little triangles?</p><blockquote><p>In trigonometry and elementary geometry, the division of a surface into triangles is called a triangular grid, triangular mesh or triangulation.<br><em>Wikipedia</em></p></blockquote><p>Whoever <a href="https://github.com/RH12503">RH12503 (Ryan H??)</a> is, he did an amazing job on creating this little Go program, including a pleasing UI, do convert images into those equivalents.</p><span id="more"></span><p><img src="/post/Triangulate-your-images-with-Triangula/triangula.gif" alt="Triangula UI"></p><p>These images are absolute great for background images in websites, in order to make the details less recognisable.</p><p>There is a <a href="https://rh12503.github.io/triangula/">web version of Triangula</a>, but the desktop version (including a console version) is much faster. Best feature is the ability not only to save the generated images as PNG, but also as SVG!</p><h3 id="Example-with-1-000-Generations"><a href="#Example-with-1-000-Generations" class="headerlink" title="Example with 1.000 Generations"></a>Example with 1.000 Generations</h3>    <div id="image-compare-clcisd">      <img class="image-compare image-original" src="/post/Triangulate-your-images-with-Triangula/DSC_7006-HDR_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Triangulate-your-images-with-Triangula/DSC_7006-HDR_TRIANGULATED.png" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-clcisd"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Triangulated',          onHover: true,        }      }).mount();    </script>  <h3 id="Example-with-10-000-Generations"><a href="#Example-with-10-000-Generations" class="headerlink" title="Example with 10.000 Generations"></a>Example with 10.000 Generations</h3>    <div id="image-compare-smtyiv">      <img class="image-compare image-original" src="/post/Triangulate-your-images-with-Triangula/19-07 Schottland-0512_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Triangulate-your-images-with-Triangula/19-07 Schottland-0512_TRIANGULATED.png" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-smtyiv"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Triangulated',          onHover: true,        }      }).mount();    </script>  <h3 id="Example-with-20-000-Generations"><a href="#Example-with-20-000-Generations" class="headerlink" title="Example with 20.000 Generations"></a>Example with 20.000 Generations</h3>    <div id="image-compare-324328">      <img class="image-compare image-original" src="/post/Triangulate-your-images-with-Triangula/DSC_8860_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Triangulate-your-images-with-Triangula/DSC_8860_TRIANGULATED.png" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-324328"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Triangulated',          onHover: true,        }      }).mount();    </script>  ]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Imaging </tag>
            
            <tag> SVG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Forking Hexo plugin &#39;hexo-index-anything&#39;</title>
      <link href="/post/Forking-Hexo-plugin-hexo-index-anything/"/>
      <url>/post/Forking-Hexo-plugin-hexo-index-anything/</url>
      
        <content type="html"><![CDATA[<p>As I started with this blog 2 years ago, I wanted to document the customization of Hexo to my needs in a series of articles. To group these articles I considered using the build-in <code>categories</code>, but I already used them to group articles by the underlying tech stack or area, like ´JavaScript´, ´C#´ or ´Tools´ and I didn’t want to mix it, as the category was also used in the Url of a post.</p><p>I was researching another grouping solution for Hexo and stumbled upon <a href="https://github.com/leviwheatcroft/hexo-index-anything">hexo-index-anything</a>, a very clever Hexo plugin to generate index pages for almost every <a href="https://hexo.io/docs/front-matter.html">FrontMatter</a> variable in a post.</p><p>As it was freely available under a MIT license on Github, I forked it in July 2020 and made some bug fixes and drop a pull request to Levi … but he  unfortunately never answered my pull or issue requests and has set the status of the project to DEPRECATED.</p><p>Ok then … make a successor on your own, fella…</p><span id="more"></span><h2 id="Basic-Functionality"><a href="#Basic-Functionality" class="headerlink" title="Basic Functionality"></a>Basic Functionality</h2><p>Let me describe how the original plugin and my successor are working in general:</p><p>Assume, you have several posts from different authors and you want a list of all posts for every author. The only thing you have to do (after installation and configuration of the plugin), is to add a custom variable called <code>author</code> to the FrontMatter of each post, with the name of the author as value.</p><figure class="highlight yml"><figcaption><span>/source/_posts/my-fancy-post.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">My</span> <span class="string">Fancy</span> <span class="string">Post</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2021-04-25 13:41:46</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Kristof</span></span><br><span class="line"><span class="string">...</span></span><br></pre></td></tr></table></figure><p>Next time you run <code>hexo generate</code>, several new files will be available in your output folder:</p><p><strong>One INDEX page</strong></p><p>… for the <strong>author index</strong>, with a list of all available authors and the number of the posts:</p><ul><li>&#x2F;authors&#x2F;index.html</li></ul><p><strong>Many POSTS pages</strong></p><p>…, one for each author for the <strong>author index</strong>, with all of the authors posts:</p><ul><li>&#x2F;authors&#x2F;kristof&#x2F;index.html</li><li>&#x2F;authors&#x2F; … &#x2F;index.html</li></ul><h2 id="New-Plugin-Name"><a href="#New-Plugin-Name" class="headerlink" title="New Plugin Name"></a>New Plugin Name</h2><p>In order to avoid confusion (and be able to provide the plugin on Github&#x2F;NPM) I needed a new name for the plugin and due to the fact that it is a generator, I named it simply <strong>hexo-generator-anything</strong>.</p><h2 id="New-Features"><a href="#New-Features" class="headerlink" title="New Features"></a>New Features</h2><p>The original code was really hard to read, because every second variable was named ‘index’, therefore I started with some refactorings, before I continued implementing new features.</p><h3 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h3><p>The original, one-dimensional variable to index mapping, wasn’t meaningful enough for me. The new mapping is now a dictionary and has unique identifiers:</p><figure class="highlight yml"><figcaption><span>/_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">anything:</span></span><br><span class="line">  <span class="attr">layout_index:</span> <span class="string">anything-index</span></span><br><span class="line">  <span class="attr">layout_posts:</span> <span class="string">anything-posts</span></span><br><span class="line">  <span class="attr">index_mappings:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">variable:</span> <span class="string">author</span></span><br><span class="line">      <span class="attr">path:</span> <span class="string">authors</span></span><br></pre></td></tr></table></figure><p>The <code>template*</code> setting names has changed into <code>layout_*</code>, to make more clear what they are meant for. They are pointing to an existing EJS file in your Hexo themes layout folder to render the particular page.</p><ul><li><p><code>layout_index</code><br>EJS file (without extension) to render the INDEX page</p></li><li><p><code>layout_Posts</code><br>EJS file (without extension) to render each POSTS page</p></li></ul><p>On <a href="https://github.com/kristofzerbe/hexo-generator-anything">Github</a> and in the <a href="https://www.npmjs.com/package/hexo-generator-anything">NPM package</a> you will find sample EJS files and some partials, to take the SoC pattern into account.</p><p>The original <code>titleSeparator</code> setting is not longer available, because it is not necessary anymore. By providing a data structure for <code>index</code> with the attributes <code>name</code> and <code>caption</code>, a title can be put together in the EJS file itself.</p><h3 id="Introducing-linked-Markdown-files"><a href="#Introducing-linked-Markdown-files" class="headerlink" title="Introducing linked Markdown files"></a>Introducing linked Markdown files</h3><p>One of my needs was, to provide more information on the INDEX page and the POSTS pages for each entry or, to stay with the example, for each author. As the <code>_posts</code> folder is used for storing the post data files, I introduced a <strong><code>_anything</code></strong> folder for dropping MD files, which are linked to the index and its values.</p><p><img src="/post/Forking-Hexo-plugin-hexo-index-anything/anything-folder.png" alt="Anything folder"></p><p>The subfolders of <strong><code>_anything</code></strong> are representing the index and the files in it each possible value of the index.</p><p>The file is structured like any other post file: the FrontMatter data at the top and below some content to show along with the the entry to describe it:</p><figure class="highlight yml"><figcaption><span>/source/_anything/authors/kristof.md</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Kristof</span></span><br><span class="line"><span class="attr">github:</span> <span class="string">https://github.com/kristofzerbe</span></span><br><span class="line"><span class="attr">avatar:</span> <span class="string">kristof.png</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="string">...</span> <span class="string">some</span> <span class="string">smart</span> <span class="string">things</span> <span class="string">to</span> <span class="string">say</span> <span class="string">about</span> <span class="string">Kristof,</span> <span class="string">or</span> <span class="string">links</span> <span class="string">or</span> <span class="string">images,</span> <span class="string">whatever</span> <span class="string">...</span></span><br></pre></td></tr></table></figure><p>The INDEX file itself may have its own Markdown file, to provide addition text or data to it, like describing the list.</p><p>The variable <code>title</code> is a requirement in the Markdown files, but you can add as many variables as you need and use it in the EJS files. All data will be passed through to the template.</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>The new plugin runs very well and it is heavy in use on generating the sections <a href="https://kiko.io/series">Series</a> and <a href="https://kiko.io/projects">Projects</a> of this blog. Give it a try …</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> GitHub </tag>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #9</title>
      <link href="/post/Discoveries-9/"/>
      <url>/post/Discoveries-9/</url>
      
        <content type="html"><![CDATA[<p>Todays issue is all about extending your Web Developers toolbox with some useful libraries to provide the best UX to your users or visitors. Tables, Dropdowns, Color Pickers, Footnotes and GDPR dialogs on steroids.</p>        <ul class="anchorlist">            <li data-anchor="#jstable">JSTable</li><li data-anchor="#luckysheet">Luckysheet</li><li data-anchor="#virtual-select">Virtual Select</li><li data-anchor="#lc-select">LC Select</li><li data-anchor="#vanilla-colorful">Vanilla Colorful</li><li data-anchor="#duet-date-picker">Duet Date Picker</li><li data-anchor="#cookie-though">Cookie Though</li><li data-anchor="#full-screen-touch-slider">Full-Screen-Touch-Slider</li><li data-anchor="#bigfoot">Bigfoot</li><li data-anchor="#number-rollup">Number Rollup</li>        </ul>    <span id="more"></span>    <hr id="jstable"/>    <h2 style="margin-bottom: 10px;">      JSTable    </h2>    <small>by Tobias Hägenläuer&nbsp;<br><a href="https://github.com/Trekky12/JSTable">https://github.com/Trekky12/JSTable</a></small>    <p>JSTable is a library to convert a static HTML TABLE element into an interactive and responsive one, which supports paging, sorting and searching.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/Trekky12/JSTable">      <img class="limit" src="jstable.png" alt="JSTable" />    </a>      <hr id="luckysheet"/>    <h2 style="margin-bottom: 10px;">      Luckysheet    </h2>    <small>by MengShu Open Source&nbsp;<br><a href="https://github.com/mengshukeji/Luckysheet">https://github.com/mengshukeji/Luckysheet</a></small>    <p>Luckysheet is an Excel or Google Sheets clone, for using in your own web projects. It is nearly as powerfull as his role models, but Open Source. Supports imports and has a plugin interface.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/mengshukeji/Luckysheet">      <img class="limit" src="luckysheet.png" alt="Luckysheet" />    </a>      <hr id="virtual-select"/>    <h2 style="margin-bottom: 10px;">      Virtual Select    </h2>    <small>by Sa Si Dev&nbsp;<br><a href="https://sa-si-dev.github.io/virtual-select/#/">https://sa-si-dev.github.io/virtual-select/#/</a></small>    <p>Whoever ‘Sa Si Dev’ is … he&#x2F;she made a replacement for the ordinary HTML SELECT element, which is nearly unrivalled. It supports search, matched term marking, multi-select, disabling options, option groups, adding new options and many others. One of the best features, is the dialog style select on mobile devices.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://sa-si-dev.github.io/virtual-select/#/">      <img class="limit" src="virtual-select.png" alt="Virtual Select" />    </a>      <hr id="lc-select"/>    <h2 style="margin-bottom: 10px;">      LC Select    </h2>    <small>by Luca&nbsp;<br><a href="https://lcweb.it/lc-select-javascript-plugin">https://lcweb.it/lc-select-javascript-plugin</a></small>    <p>Luca from Italy made this excellent SELECT replacement, which can show the selected options as pills or as grouped lists with images. It supports a search bar, light&#x2F;dark theme, multilanguage and is mobile ready as well as it has full keyboard support.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://lcweb.it/lc-select-javascript-plugin">      <img class="limit" src="lc-select.png" alt="LC Select" />    </a>      <hr id="vanilla-colorful"/>    <h2 style="margin-bottom: 10px;">      Vanilla Colorful    </h2>    <small>by Serhii Kulykov&nbsp;<br><a href="https://web-padawan.github.io/vanilla-colorful/">https://web-padawan.github.io/vanilla-colorful/</a></small>    <p>This color picker is just awesome. It looks really pleasing and has all the features you expect. It is written in TypeScript and authored using native ES modules, without dependencies.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://web-padawan.github.io/vanilla-colorful/">      <img class="limit" src="vanilla-colorful.png" alt="Vanilla Colorful" />    </a>      <hr id="duet-date-picker"/>    <h2 style="margin-bottom: 10px;">      Duet Date Picker    </h2>    <small>by Duet Design System&nbsp;<br><a href="https://duetds.github.io/date-picker/">https://duetds.github.io/date-picker/</a></small>    <p>This clean looking date picker is easy to integrate and supports mostly everything you can expect: keyboard, mobile devices and even screen readers.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://duetds.github.io/date-picker/">      <img class="limit" src="duet-date-picker.png" alt="Duet Date Picker" />    </a>      <hr id="cookie-though"/>    <h2 style="margin-bottom: 10px;">      Cookie Though    </h2>    <small>by In The Pocket&nbsp;<br><a href="https://cookiethough.dev/">https://cookiethough.dev/</a></small>    <p>Since the GDPR has hit the industry, there are tons of solutions to show the necessary consent dialog. A team from Belgium has made a really nice one, without misleading buttons, annoying full screen modes or other dark patterns. And it is Open Source…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://cookiethough.dev/">      <img class="limit" src="cookie-though.png" alt="Cookie Though" />    </a>      <hr id="full-screen-touch-slider"/>    <h2 style="margin-bottom: 10px;">      Full-Screen-Touch-Slider    </h2>    <small>by Will Adams&nbsp;<br><a href="https://github.com/bushblade/Full-Screen-Touch-Slider">https://github.com/bushblade/Full-Screen-Touch-Slider</a></small>    <p>Will has created a really simple, but good looking and animated full screen touch slider, which works great on mobile devices. The only question is: Why is he so addicted to knifes?</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/bushblade/Full-Screen-Touch-Slider">      <img class="limit" src="full-screen-touch-slider.png" alt="Full-Screen-Touch-Slider" />    </a>      <hr id="bigfoot"/>    <h2 style="margin-bottom: 10px;">      Bigfoot    </h2>    <small>by Chris Sauve&nbsp;<br><a href="http://www.bigfootjs.com/">http://www.bigfootjs.com/</a></small>    <p>Chris from Canada has a smart solution for showing footnotes in HTML documents: show them as bubbles above the text by clicking a tiny button, which replaces the orginial footnote. Only drawback: it’s a jQuery plugin…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="http://www.bigfootjs.com/">      <img class="limit" src="bigfoot.png" alt="Bigfoot" />    </a>      <hr id="number-rollup"/>    <h2 style="margin-bottom: 10px;">      Number Rollup    </h2>    <small>by marknorrapscm&nbsp;<br><a href="https://marknorrapscm.github.io/number-rollup/">https://marknorrapscm.github.io/number-rollup/</a></small>    <p>Number Rollup does what the name suggests: it rollups a number from a starting to an end point, animated and customizable. Nice.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://marknorrapscm.github.io/number-rollup/">      <img class="limit" src="number-rollup.png" alt="Number Rollup" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Scotch Presets for Lightroom</title>
      <link href="/post/Scotch-Presets-for-Lightroom/"/>
      <url>/post/Scotch-Presets-for-Lightroom/</url>
      
        <content type="html"><![CDATA[<p>Have you ever been in Scotland during summertime? Wonderful tranquility, great scenery and great photo opportunities at every turn. In 2019 I’ve made some great shots there and I want to share the presets with you, that I have developed for processing the photos from my trip through the Highlands and the Isle of Skye.</p><span id="more"></span><h2 id="Scotch-Lights"><a href="#Scotch-Lights" class="headerlink" title="Scotch Lights"></a>Scotch Lights</h2><p>So far in the north the light is totally different. When it shines through the clouds, it hits you.</p>    <div id="image-compare-wqoj7x">      <img class="image-compare image-original" src="/post/Scotch-Presets-for-Lightroom/19-07 Schottland-0025_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Scotch-Presets-for-Lightroom/19-07 Schottland-0025_PRESET-Lights.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-wqoj7x"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Scotch Lights.xmp" download>        Download Lightroom Preset <strong>Scotch Lights.xmp</strong>      </a>    </p>    <hr><h2 id="Scotch-Strength"><a href="#Scotch-Strength" class="headerlink" title="Scotch Strength"></a>Scotch Strength</h2><p>You must be made of different stuff if you are Scottish. There is hardly anything fine and graceful about the landscape and the weather. It’s rough and tough and you have to deal with it.</p>    <div id="image-compare-fso2pm">      <img class="image-compare image-original" src="/post/Scotch-Presets-for-Lightroom/19-07 Schottland-0080_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Scotch-Presets-for-Lightroom/19-07 Schottland-0080_PRESET-Strength.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-fso2pm"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Scotch Strength.xmp" download>        Download Lightroom Preset <strong>Scotch Strength.xmp</strong>      </a>    </p>    <hr><h2 id="Scotch-Sunset"><a href="#Scotch-Sunset" class="headerlink" title="Scotch Sunset"></a>Scotch Sunset</h2><p>The view over the North Sea at the edge of the continent is really unique, especially at sunset. Hear the the seagulls scream, the waves crashing against the cliffs and see the stunning colors.</p>    <div id="image-compare-q6n0b5">      <img class="image-compare image-original" src="/post/Scotch-Presets-for-Lightroom/19-07 Schottland-0310_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Scotch-Presets-for-Lightroom/19-07 Schottland-0310_PRESET-Sunset.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-q6n0b5"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Scotch Sunset.xmp" download>        Download Lightroom Preset <strong>Scotch Sunset.xmp</strong>      </a>    </p>    <hr><h2 id="Scotch-Energy"><a href="#Scotch-Energy" class="headerlink" title="Scotch Energy"></a>Scotch Energy</h2><p>Scotland is bold and so full with energy, even in the details.</p>    <div id="image-compare-zkuoi1">      <img class="image-compare image-original" src="/post/Scotch-Presets-for-Lightroom/19-07 Schottland-0595_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Scotch-Presets-for-Lightroom/19-07 Schottland-0595_PRESET-Energy.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-zkuoi1"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Scotch Energy.xmp" download>        Download Lightroom Preset <strong>Scotch Energy.xmp</strong>      </a>    </p>    <hr><h2 id="Scotch-Tattoo"><a href="#Scotch-Tattoo" class="headerlink" title="Scotch Tattoo"></a>Scotch Tattoo</h2><p>The Edinburgh Military Tattoo, which takes place twice a year, is a feast for the senses. The incredible sound on one hand and the colors on the other. The brass, the feathers, the uniforms stand out in the setting sun.</p>    <div id="image-compare-6yql7c">      <img class="image-compare image-original" src="/post/Scotch-Presets-for-Lightroom/19-07 Schottland-0935_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Scotch-Presets-for-Lightroom/19-07 Schottland-0935_PRESET-Tattoo.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-6yql7c"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Scotch Tattoo.xmp" download>        Download Lightroom Preset <strong>Scotch Tattoo.xmp</strong>      </a>    </p>    ]]></content>
      
      
      <categories>
          
          <category> Photo-Editing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lightroom </tag>
            
            <tag> Presets </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spice Up Windows Terminal</title>
      <link href="/post/Spice-Up-Windows-Terminal/"/>
      <url>/post/Spice-Up-Windows-Terminal/</url>
      
        <content type="html"><![CDATA[<p>Working with the PowerShell in 2020 means fun, because of the new <a href="https://www.microsoft.com/en-us/p/windows-terminal/9n0dx20hk701"><strong>Windows Terminal</strong> (get it from Windows Store)</a>. It has more power as the old Powershell Console and it is visually adaptable to your personal taste, by installing the wonderful theming engine <a href="https://github.com/JanDeDobbeleer/oh-my-posh"><strong>oh-my-posh</strong> from Jan De Dobbeleer</a>.</p><p><img src="/post/Spice-Up-Windows-Terminal/terminal-original.png" alt="Original Terminal"></p><p><img src="/post/Spice-Up-Windows-Terminal/terminal-oh-my-posh.png" alt="Terminal with oh-my-posh"></p><p>To get Oh-My-Posh properly run, there are several steps to do I want to show here in a nutshell…</p><span id="more"></span><h2 id="Step-1-Install-a-suitable-font"><a href="#Step-1-Install-a-suitable-font" class="headerlink" title="Step 1 -  Install a suitable font"></a>Step 1 -  Install a suitable font</h2><p>As the theming engine uses Powerline glyphs, you need to install a font which support them, for example the new <a href="https://github.com/microsoft/cascadia-code/releases"><strong>Cascadia Code PL</strong> from Microsoft</a>. Download, unzip and install the OTF and&#x2F;or TTF font files via context menu in your Windows Explorer.</p><h2 id="Step-2-Set-new-font-in-your-settings"><a href="#Step-2-Set-new-font-in-your-settings" class="headerlink" title="Step 2 - Set new font in your settings"></a>Step 2 - Set new font in your settings</h2><p>Open up you Terminal settings…</p><p><img src="/post/Spice-Up-Windows-Terminal/terminal-settings.png" alt="Windows Terminal Settings"></p><p>… and add following new line to the PowerShell section:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;fontFace&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Cascadia Code PL&quot;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p><img src="/post/Spice-Up-Windows-Terminal/terminal-settings-font.png" alt="Font"></p><h2 id="Step-3-Install-oh-my-posh"><a href="#Step-3-Install-oh-my-posh" class="headerlink" title="Step 3 - Install oh-my-posh"></a>Step 3 - Install oh-my-posh</h2><p>Following PowerShell command installs the theming engine itself:</p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> <span class="built_in">oh</span><span class="literal">-my-posh</span> <span class="literal">-Scope</span> CurrentUser</span><br></pre></td></tr></table></figure><p>If you want to display <strong>Git status information</strong> also, run this command:</p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> posh<span class="literal">-git</span> <span class="literal">-Scope</span> CurrentUser</span><br></pre></td></tr></table></figure><p>To let the command-line editing environment to be customized install <strong>PSReadline</strong>:</p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Install-Module</span> <span class="literal">-Name</span> PSReadLine <span class="literal">-Scope</span> CurrentUser <span class="literal">-Force</span> <span class="literal">-SkipPublisherCheck</span></span><br></pre></td></tr></table></figure><h2 id="Step-4-Load-on-startup"><a href="#Step-4-Load-on-startup" class="headerlink" title="Step 4 - Load on startup"></a>Step 4 - Load on startup</h2><p>In order to load the theming engine in every new terminal window, edit your PowerShell profile by opening it up with the command …</p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notepad <span class="variable">$PROFILE</span></span><br></pre></td></tr></table></figure><p>and add following lines in the upcoming text file:</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Import-Module oh-my-posh</span><br><span class="line">Import-Module posh-git</span><br><span class="line">Set-Theme Paradox</span><br></pre></td></tr></table></figure><p><em>Paradox</em> is one of 27 themes available. You will find all themes in your DOCUMENTS folder under <code>..\WindowsPowerShell\Modules\oh-my-posh\&lt;version&gt;\Themes</code> and some visual representations at <a href="https://github.com/JanDeDobbeleer/oh-my-posh#themes">https://github.com/JanDeDobbeleer/oh-my-posh?#themes</a>.</p><h2 id="Update-April-2021"><a href="#Update-April-2021" class="headerlink" title="#Update, April 2021"></a>#Update, April 2021</h2><p>Scott Hanselman has mentioned a new improvement recently: Show suitable icons on listing files:</p><ol><li>Download and install <strong>CaskaydiaCove Nerd Font</strong> at <a href="https://www.nerdfonts.com/font-downloads">https://www.nerdfonts.com/font-downloads</a></li><li>Open Terminal Settings (like in Step 2)</li><li>Replace the <code>fontface</code> with <code>&quot;CaskaydiaCove Nerd Font&quot;</code></li><li>Run <code>Install-Module -Name Terminal-Icons -Repository PSGallery</code> in Terminal, opened as administrator</li><li>Add <code>Import-Module -Name Terminal-Icons</code> in your profile (like in Step 4)</li></ol><p>You will get this on calling <code>dir</code>, for example:</p><p><img src="/post/Spice-Up-Windows-Terminal/terminal-icons.png" alt="Windows Terminal Icons"></p><hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>Windows Store: <a href="https://www.microsoft.com/en-us/p/windows-terminal/9n0dx20hk701">Windows Terminal</a></li><li>Microsoft: <a href="https://github.com/microsoft/cascadia-code">Cascadia Code PL</a></li><li>GitHub: <a href="https://github.com/JanDeDobbeleer/oh-my-posh">JanDeDobbeleer/oh-my-posh</a></li><li>Microsoft Docs: <a href="https://docs.microsoft.com/de-de/windows/terminal/tutorials/powerline-setup">Set up Powerline in Windows Terminal</a></li><li>Scott Hanselman: <a href="https://www.hanselman.com/blog/how-to-make-a-pretty-prompt-in-windows-terminal-with-powerline-nerd-fonts-cascadia-code-wsl-and-ohmyposh">How to make a pretty prompt in Windows Terminal with Powerline, Nerd Fonts, Cascadia Code, WSL, and oh-my-posh</a></li><li>Scott Hanselman: <a href="https://www.hanselman.com/blog/taking-your-powershell-prompt-to-the-next-level-with-windows-terminal-and-oh-my-posh-3">Taking your PowerShell prompt to the next level with Windows Terminal and Oh my Posh 3</a></li><li>Scott Hanselman: <a href="https://www.hanselman.com/blog/take-your-windows-terminal-and-powershell-to-the-next-level-with-terminal-icons">Take your Windows Terminal and PowerShell to the next level with Terminal Icons</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> Theming </tag>
            
            <tag> PowerShell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Adding Screenshots to Trello Cards on Android</title>
      <link href="/post/Adding-Screenshots-to-Trello-Cards-on-Android/"/>
      <url>/post/Adding-Screenshots-to-Trello-Cards-on-Android/</url>
      
        <content type="html"><![CDATA[<p>I’m collecting interesting One-Page-Tools on the web on a Trello board. To add a new card, I use a simple little script on my Android smartphone, I wrote about here: <a href="/post/Add-website-to-Trello-card-the-better-way/" title="Add website to Trello card the better way">Add website to Trello card the better way</a>.</p><p>On processing the page to store on a card, Trello scrapes the page and takes the <code>&lt;meta&gt;</code> tag <code>og:image</code> out of the HTML to generate an image attachment and take it as cover for the card. This sometimes works, but most of the time it doesn’t, because website owners often don’t pay attention to reasonable <code>&lt;meta&gt;</code> tags.</p><p>Because it is easier to find a card with visual support, I create my own screenshots for the cards in a manual, but streamlined, process, I want to show you here.</p><span id="more"></span><h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><p>OS:</p><ul><li><strong>Android</strong> 5 and above</li></ul><p>Apps:</p><ul><li><p><strong>Trello</strong><br>  <a href="https://play.google.com/store/apps/details?id=com.trello">https://play.google.com/store/apps/details?id=com.trello</a>  </p></li><li><p><strong>Screenshot Touch</strong><br>  <a href="https://play.google.com/store/apps/details?id=com.mdiwebma.screenshot">https://play.google.com/store/apps/details?id=com.mdiwebma.screenshot</a></p></li></ul><hr><h2 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h2><ul><li>Open up <strong>Screenshot Touch</strong> and set under <code>Shaking and Delay</code> the option <code>Caption by shaking</code> <strong>[1]</strong>.</li><li>Set the <code>Shake sensitivity</code> option to <code>Hard</code> <strong>[2]</strong>.</li><li>Set the <code>Resize</code> option to <code>50%</code> <strong>[3]</strong>.</li><li>Start the capture monitoring service <strong>[4]</strong>.</li></ul><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/step-01.png" alt="Step 1"></p><hr><h2 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h2><ul><li>Open up <strong>Trello</strong> and got to the card, where you want to add an screenshot for use as an cover.</li><li>Click on the URL attachment to open it in your browser <strong>[1]</strong>.</li></ul><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/step-02.png" alt="Step 2"></p><hr><h2 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h2><ul><li>Shake you smartphone to capture the current website.</li></ul><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/step-03.png" alt="Step 3"></p><hr><h2 id="Step-4"><a href="#Step-4" class="headerlink" title="Step 4"></a>Step 4</h2><ul><li>Switch to <strong>Screenshot Touch</strong> and open the <code>Photo Viewer</code> <strong>[1]</strong></li></ul><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/step-04.png" alt="Step 4"></p><hr><h2 id="Step-5"><a href="#Step-5" class="headerlink" title="Step 5"></a>Step 5</h2><ul><li>Open the <code>Crop Image</code> dialog.</li></ul><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/step-05.png" alt="Step 5"></p><hr><h2 id="Step-6"><a href="#Step-6" class="headerlink" title="Step 6"></a>Step 6</h2><ul><li>Set the <code>Crop Mode</code> to <code>1:1</code> to get a squared image. It will be persisted in the apps settings for further use.</li></ul><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/step-06.png" alt="Step 6"></p><hr><h2 id="Step-7"><a href="#Step-7" class="headerlink" title="Step 7"></a>Step 7</h2><ul><li>Place the overlay to select you preferred part of the image <strong>[1]</strong>.</li><li>Save the image <strong>[2]</strong>.</li></ul><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/step-07.png" alt="Step 7"></p><hr><h2 id="Step-8"><a href="#Step-8" class="headerlink" title="Step 8"></a>Step 8</h2><ul><li>Switch back to <strong>Trello</strong> and click to add a new attachment <strong>[1]</strong>.</li></ul><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/step-08.png" alt="Step 8"></p><hr><h2 id="Step-9"><a href="#Step-9" class="headerlink" title="Step 9"></a>Step 9</h2><ul><li>Choose to add from file <strong>[1]</strong>.</li></ul><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/step-09.png" alt="Step 9"></p><hr><h2 id="Step-10"><a href="#Step-10" class="headerlink" title="Step 10"></a>Step 10</h2><ul><li>In Androids file dialog, head up to <code>Recent Files</code> <strong>[1]</strong>.</li><li>Select the new image <strong>[2]</strong>.</li></ul><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/step-10.png" alt="Step 10"></p><hr><h2 id="Step-11"><a href="#Step-11" class="headerlink" title="Step 11"></a>Step 11</h2><ul><li>In the context menu of the added attachment, select <code>Make Card Cover</code> <strong>[1]</strong>, if Trello has not done it yet.</li></ul><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/step-11.png" alt="Step 11"></p><hr><h2 id="Result"><a href="#Result" class="headerlink" title="Result"></a>Result</h2><p>Once you have done this two or three times, the process takes less than 30 seconds.</p><p><img src="/post/Adding-Screenshots-to-Trello-Cards-on-Android/result.png" alt="Result"></p>]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Trello </tag>
            
            <tag> Android </tag>
            
            <tag> Imaging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SVG Resources</title>
      <link href="/post/SVG-Resources/"/>
      <url>/post/SVG-Resources/</url>
      
        <content type="html"><![CDATA[<style>  #post-SVG-Resources button {    background-color: #f1f1f1;    border: none;    padding: 1rem;    margin-bottom: 1rem;    margin-right: 1rem;    cursor: pointer;  }  #post-SVG-Resources em {    opacity: 0.33;  }  #post-SVG-Resources #info {    color: silver;    display: block;    height: 24px;  }  #post-SVG-Resources #info.result {    color: green;    font-weight: bold;  }</style><script>  var timeoutID;  function setInfo(e,m) {    let info = document.getElementById(e);    info.textContent = m;    info.classList.add("result");    window.clearTimeout(timeoutID);    timeoutID = setTimeout(function() {      info.textContent = "Guess and click...";      info.classList.remove("result");      window.clearTimeout(timeoutID);    }, 2000);  }</script><p>Since beginning beginning of time, people are using symbols to make things clear quickly and easily. So do we when developing websites and web apps by using icons. Everybody knows what’s behind a loupe symbol or a hamburger icon.</p><button onClick="setInfo('info', 'Yes, it\'s a SEARCH button ;)');"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">  <path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"    d="M18.319 14.4326C20.7628 11.2941 20.542 6.75347 17.6569 3.86829C14.5327 0.744098 9.46734 0.744098 6.34315 3.86829C3.21895 6.99249 3.21895 12.0578 6.34315 15.182C9.22833 18.0672 13.769 18.2879 16.9075 15.8442C16.921 15.8595 16.9351 15.8745 16.9497 15.8891L21.1924 20.1317C21.5829 20.5223 22.2161 20.5223 22.6066 20.1317C22.9971 19.7412 22.9971 19.1081 22.6066 18.7175L18.364 14.4749C18.3493 14.4603 18.3343 14.4462 18.319 14.4326ZM16.2426 5.28251C18.5858 7.62565 18.5858 11.4246 16.2426 13.7678C13.8995 16.1109 10.1005 16.1109 7.75736 13.7678C5.41421 11.4246 5.41421 7.62565 7.75736 5.28251C10.1005 2.93936 13.8995 2.93936 16.2426 5.28251Z" /></svg></button><button onClick="setInfo('info', 'Yeah ... an OPEN MENU button ;)');"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">  <path fill="currentColor"    d="M2 6C2 5.44772 2.44772 5 3 5H21C21.5523 5 22 5.44772 22 6C22 6.55228 21.5523 7 21 7H3C2.44772 7 2 6.55228 2 6Z" />  <path fill="currentColor"    d="M2 12.0322C2 11.4799 2.44772 11.0322 3 11.0322H21C21.5523 11.0322 22 11.4799 22 12.0322C22 12.5845 21.5523 13.0322 21 13.0322H3C2.44772 13.0322 2 12.5845 2 12.0322Z" />  <path fill="currentColor"    d="M3 17.0645C2.44772 17.0645 2 17.5122 2 18.0645C2 18.6167 2.44772 19.0645 3 19.0645H21C21.5523 19.0645 22 18.6167 22 18.0645C22 17.5122 21.5523 17.0645 21 17.0645H3Z" /></svg></button><br><span id="info">Guess and click...</span><p>The way we implement icons have changed in the past. From BMP files to GIF and JPG files, PNG files, to complete or customizable symbol fonts like <a href="https://fontello.com/">fontello.com</a>, to Scalable Vector Graphics (SVG).</p><p>SVG’s in particular are becoming increasingly popular, because they are nothing more than XML-like code, that can be manipulated via CSS or JS, their digital footprint is unbeatable small and they scale seemlessly.</p><p>Dealing with SVG’s is a little bit more difficult than placing a PNG in HTML, because of its complexity, but it is worth learning as much as possible about it. So did I in the last couple of month and I want to share my finds on the web with you in this post.</p><span id="more"></span><h2 id="Using-SVG’s-in-brief"><a href="#Using-SVG’s-in-brief" class="headerlink" title="Using SVG’s in brief"></a>Using SVG’s in brief</h2><p>The most useful way of using SVG’s is as an image out of a file, either directly …:</p><p><button><img src="options.svg" /></button><br><em>(use DevTools [F12] to inspect the element)</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;images/options.svg&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>… or as a background image:</p><style>  button.options {    height: 56px;    width: 56px;    background-image: url(options.svg);    background-repeat: no-repeat;    background-position: 50% 50%;  }</style><p><button class="options"></button><br><em>(use DevTools [F12] to inspect the element)</em></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-tag">button</span><span class="selector-class">.options</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">height</span>: <span class="number">56px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">56px</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">images/options.svg</span>);</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-repeat</span>: no-repeat;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-position</span>: <span class="number">50%</span> <span class="number">50%</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;options&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>As files, no matter how small, has to be requested from the server, you can also define SVG’s inline for better performance:</p><div><button><svg xmlns="http://www.w3.org/2000/svg"      width="24" height="24" viewBox="0 0 24 24" fill="none">  <path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"        d="M7 3C8.86384 3 10.4299 4.27477 10.874 6H19V8H10.874C10.4299 9.72523 8.86384 11 7 11C4.79086 11 3 9.20914 3 7C3 4.79086 4.79086 3 7 3ZM7 9C8.10457 9 9 8.10457 9 7C9 5.89543 8.10457 5 7 5C5.89543 5 5 5.89543 5 7C5 8.10457 5.89543 9 7 9Z" />  <path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"        d="M17 20C15.1362 20 13.5701 18.7252 13.126 17H5V15H13.126C13.5701 13.2748 15.1362 12 17 12C19.2091 12 21 13.7909 21 16C21 18.2091 19.2091 20 17 20ZM17 18C18.1046 18 19 17.1046 19 16C19 14.8954 18.1046 14 17 14C15.8954 14 15 14.8954 15 16C15 17.1046 15.8954 18 17 18Z" /></svg></button><br><em>(use DevTools [F12] to inspect the element)</em></div><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">width</span>=<span class="string">&quot;24&quot;</span> <span class="attr">height</span>=<span class="string">&quot;24&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 24 24&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;none&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> <span class="attr">fill-rule</span>=<span class="string">&quot;evenodd&quot;</span> <span class="attr">clip-rule</span>=<span class="string">&quot;evenodd&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">d</span>=<span class="string">&quot;M7 3C8.86384 3 10.4299 4.27477 10.874 6H19V8H10.874C10.4299 9.72523 8.86384 11 7 11C4.79086 11 3 9.20914 3 7C3 4.79086 4.79086 3 7 3ZM7 9C8.10457 9 9 8.10457 9 7C9 5.89543 8.10457 5 7 5C5.89543 5 5 5.89543 5 7C5 8.10457 5.89543 9 7 9Z&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> <span class="attr">fill-rule</span>=<span class="string">&quot;evenodd&quot;</span> <span class="attr">clip-rule</span>=<span class="string">&quot;evenodd&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">d</span>=<span class="string">&quot;M17 20C15.1362 20 13.5701 18.7252 13.126 17H5V15H13.126C13.5701 13.2748 15.1362 12 17 12C19.2091 12 21 13.7909 21 16C21 18.2091 19.2091 20 17 20ZM17 18C18.1046 18 19 17.1046 19 16C19 14.8954 18.1046 14 17 14C15.8954 14 15 14.8954 15 16C15 17.1046 15.8954 18 17 18Z&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>If you want to use a SVG multiple times, you can define it once by wrapping it up in a <code>symbol</code> tag with an <code>id</code> and use it wherever you want:</p><div><svg xmlns="http://www.w3.org/2000/svg" hidden style="display:none">  <symbol id="options" width="24" height="24" viewBox="0 0 24 24" fill="none">    <path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"          d="M7 3C8.86384 3 10.4299 4.27477 10.874 6H19V8H10.874C10.4299 9.72523 8.86384 11 7 11C4.79086 11 3 9.20914 3 7C3 4.79086 4.79086 3 7 3ZM7 9C8.10457 9 9 8.10457 9 7C9 5.89543 8.10457 5 7 5C5.89543 5 5 5.89543 5 7C5 8.10457 5.89543 9 7 9Z" />    <path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"          d="M17 20C15.1362 20 13.5701 18.7252 13.126 17H5V15H13.126C13.5701 13.2748 15.1362 12 17 12C19.2091 12 21 13.7909 21 16C21 18.2091 19.2091 20 17 20ZM17 18C18.1046 18 19 17.1046 19 16C19 14.8954 18.1046 14 17 14C15.8954 14 15 14.8954 15 16C15 17.1046 15.8954 18 17 18Z" />  </symbol></svg><button><svg width="24" height="24"><use xlink:href="#options" /></svg></button><button><svg width="24" height="24"><use xlink:href="#options" /></svg></button><br><em>(use DevTools [F12] to inspect the elements)</em></div><br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">symbol</span> <span class="attr">id</span>=<span class="string">&quot;options&quot;</span> <span class="attr">width</span>=<span class="string">&quot;24&quot;</span> <span class="attr">height</span>=<span class="string">&quot;24&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 24 24&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;none&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> <span class="attr">fill-rule</span>=<span class="string">&quot;evenodd&quot;</span> <span class="attr">clip-rule</span>=<span class="string">&quot;evenodd&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">d</span>=<span class="string">&quot;M7 3C8.86384 3 10.4299 4.27477 10.874 6H19V8H10.874C10.4299 9.72523 8.86384 11 7 11C4.79086 11 3 9.20914 3 7C3 4.79086 4.79086 3 7 3ZM7 9C8.10457 9 9 8.10457 9 7C9 5.89543 8.10457 5 7 5C5.89543 5 5 5.89543 5 7C5 8.10457 5.89543 9 7 9Z&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">path</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> <span class="attr">fill-rule</span>=<span class="string">&quot;evenodd&quot;</span> <span class="attr">clip-rule</span>=<span class="string">&quot;evenodd&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">d</span>=<span class="string">&quot;M17 20C15.1362 20 13.5701 18.7252 13.126 17H5V15H13.126C13.5701 13.2748 15.1362 12 17 12C19.2091 12 21 13.7909 21 16C21 18.2091 19.2091 20 17 20ZM17 18C18.1046 18 19 17.1046 19 16C19 14.8954 18.1046 14 17 14C15.8954 14 15 14.8954 15 16C15 17.1046 15.8954 18 17 18Z&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">symbol</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;24&quot;</span> <span class="attr">height</span>=<span class="string">&quot;24&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#options&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;24&quot;</span> <span class="attr">height</span>=<span class="string">&quot;24&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">use</span> <span class="attr">xlink:href</span>=<span class="string">&quot;#options&quot;</span> /&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="SVG-Resources"><a href="#SVG-Resources" class="headerlink" title="SVG Resources"></a>SVG Resources</h2><p>Finding the right SVG for your project is time consuming, like it is for symbol fonts or PNG’s. So here are a few tips getting SVG’s for free:</p>    <h2 style="margin-bottom: 10px;">css.gg</h2>    <small><a href="https://css.gg">https://css.gg</a></small>    <p>700+ icons, downloadable as SVG, PNG, XD, Figma, Styled Component (Typescript) or even pure CSS.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css.gg">      <img src="css_gg.png" alt="css.gg" />    </a>  <hr>    <h2 style="margin-bottom: 10px;">Tabler Icons</h2>    <small><a href="https://tabler-icons.io">https://tabler-icons.io</a></small>    <p>Over 1.250 icons in several categories, downloadable as SVG or PNG.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://tabler-icons.io">      <img src="tabler-icons_io.png" alt="Tabler Icons" />    </a>  <hr>    <h2 style="margin-bottom: 10px;">Boxicons</h2>    <small><a href="https://boxicons.com">https://boxicons.com</a></small>    <p>1.500 regular or filled icons, downloadable as SVG or PNG. Supports animations, Web Components and is also available as font.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://boxicons.com">      <img src="boxicons_com.png" alt="Boxicons" />    </a>  <hr>    <h2 style="margin-bottom: 10px;">Feather</h2>    <small><a href="https://feathericons.com">https://feathericons.com</a></small>    <p>268 icons as SVG, with customizable size, stroke with and color.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://feathericons.com">      <img src="feathericons_com.png" alt="Feather" />    </a>  <hr>    <h2 style="margin-bottom: 10px;">Majesticons</h2>    <small><a href="https://majesticons.com">https://majesticons.com</a></small>    <p>210 line and solid icons, with Figma support and also available as Github repository.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://majesticons.com">      <img src="majesticons_com.png" alt="Majesticons" />    </a>  <hr>    <h2 style="margin-bottom: 10px;">Simple icons</h2>    <small><a href="https://simpleicons.org">https://simpleicons.org</a></small>    <p>Over 1800 icons of popular brands, with hex color code.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://simpleicons.org">      <img src="simpleicons_org.png" alt="Simple icons" />    </a>  <hr>    <h2 style="margin-bottom: 10px;">SVG Repo</h2>    <small><a href="https://www.svgrepo.com">https://www.svgrepo.com</a></small>    <p>300.000+ vectors and icons in over 400 collections from different artists.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.svgrepo.com">      <img src="svg-repo_com.png" alt="SVG Repo" />    </a>  <hr>    <h2 style="margin-bottom: 10px;">Google Fonts - Material Icons</h2>    <small><a href="https://fonts.google.com/icons">https://fonts.google.com/icons</a></small>    <p>At least … an own frontend of Googles Material Icons inside <a href="https://font.google.com/">Google Fonts</a> for downloading them individually as SVG, PNG or Android&#x2F;iOS package.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://fonts.google.com/icons">      <img src="fonts_google_com+icons.png" alt="Google Fonts - Material Icons" />    </a>  <hr><p>Last but not least, SVG is more powerful then drawing stuff. It’s possible to add raster images, text with a particular font and use many CSS-like techniques like gradients and animations. See links below…</p><hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>CSS Tricks: <a href="https://css-tricks.com/using-svg/">Using SVG</a></li><li>CSS-Tricks: <a href="https://css-tricks.com/use-and-reuse-everything-in-svg-even-animations/">Use and Reuse Everything in SVG… Even Animations!</a></li><li>CSS Tricks: <a href="https://css-tricks.com/svg-isnt-svg/">An SVG That Isn’t All… SVG</a></li><li>mediaevent.de: <a href="https://www.mediaevent.de/svg-in-html-seiten/">Sieben Wege, SVG in HTML-Seiten zu setzen (German)</a></li><li>Foxland: <a href="https://foxland.fi/simple-accessible-svg-menu-hamburger-animation/">Simple and Accessible SVG Menu Hamburger Animation</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> UI/UX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
            <tag> Imaging </tag>
            
            <tag> SVG </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #8</title>
      <link href="/post/Discoveries-8/"/>
      <url>/post/Discoveries-8/</url>
      
        <content type="html"><![CDATA[<p>This month my discoveries are all about CSS … at least almost. See the stunning solutions developers around the world have created and take them to improve yours. Have fun exploring.</p>        <ul class="anchorlist">            <li data-anchor="#charts-css">Charts.css</li><li data-anchor="#anim-xyz">AnimXYZ</li><li data-anchor="#magic-animations">Magic Animations</li><li data-anchor="#transition-css">transition.css</li><li data-anchor="#animated-content-placeholders">Make Animated Content Placeholders with HTML and CSS</li><li data-anchor="#animating-underlines">Animating Underlines</li><li data-anchor="#new-aspect-ratio">New aspect-ratio CSS property</li><li data-anchor="#language-specific-quotes">How to display language-specific quotes in CSS</li><li data-anchor="#details-modal">Making the DETAILS element look and behave like a modal</li><li data-anchor="#better-line-breaks">Better Line Breaks for Long URLs</li>        </ul>    <span id="more"></span>    <hr id="charts-css"/>    <h2 style="margin-bottom: 10px;">      Charts.css    </h2>    <small>by Rami Yushuvaev and Lana Gordiievski&nbsp;<br><a href="https://chartscss.org">https://chartscss.org</a></small>    <p>Mentioned in hundreds of other blog posts earlier, Chart.css is so good that I have to mention it here too. Pure CSS charts, with animations, responsiveness, customizable and Open Source … what more could a heart desire?</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://chartscss.org">      <img class="limit" src="charts-css.png" alt="Charts.css" />    </a>      <hr id="anim-xyz"/>    <h2 style="margin-bottom: 10px;">      AnimXYZ    </h2>    <small>by Miles and Mattan Ingram&nbsp;<br><a href="https://animxyz.com">https://animxyz.com</a></small>    <p>AnimXYZ is a CSS library for composing animations, powered by CSS variables. It has Vue and React support.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://animxyz.com">      <img class="limit" src="anim-xyz.png" alt="AnimXYZ" />    </a>      <hr id="magic-animations"/>    <h2 style="margin-bottom: 10px;">      Magic Animations    </h2>    <small>by Christian Pucci&nbsp;<br><a href="https://www.minimamente.com/project/magic">https://www.minimamente.com/project/magic</a></small>    <p>Christian from Italy brings us an animation library with 64 beautiful effects, to get started directly.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.minimamente.com/project/magic">      <img class="limit" src="magic-animations.png" alt="Magic Animations" />    </a>      <hr id="transition-css"/>    <h2 style="margin-bottom: 10px;">      transition.css    </h2>    <small>by Adam Argyle&nbsp;<br><a href="https://github.com/argyleink/transition.css">https://github.com/argyleink/transition.css</a></small>    <p>Another CSS library for animating things on the web. Adam is targeting the transition of an element. Cool and easy to use.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/argyleink/transition.css">      <img class="limit" src="transition-css.png" alt="transition.css" />    </a>      <hr id="animated-content-placeholders"/>    <h2 style="margin-bottom: 10px;">      Make Animated Content Placeholders with HTML and CSS    </h2>    <small>by James Sinkala&nbsp;<br><a href="https://dev.to/xinnks/make-animated-content-placeholders-with-html-and-css-3ekn">https://dev.to/xinnks/make-animated-content-placeholders-with-html-and-css-3ekn</a></small>    <p>A modern approach to entertain web users while loading some content or images is to show animated placeholders, like Instagram, Facebook and others do. James gives us the instructions how to implement these with pre CSS.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://dev.to/xinnks/make-animated-content-placeholders-with-html-and-css-3ekn">      <img class="limit" src="animated-content-placeholders.png" alt="Make Animated Content Placeholders with HTML and CSS" />    </a>      <hr id="animating-underlines"/>    <h2 style="margin-bottom: 10px;">      Animating Underlines    </h2>    <small>by Michelle Barker&nbsp;<br><a href="https://css-irl.info/animating-underlines">https://css-irl.info/animating-underlines</a></small>    <p>From the beginning of time, URL’s has shown as underlined text. How boring. Michelle has some ideas to bring some life into links.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-irl.info/animating-underlines">      <img class="limit" src="animating-underlines.png" alt="Animating Underlines" />    </a>      <hr id="new-aspect-ratio"/>    <h2 style="margin-bottom: 10px;">      New aspect-ratio CSS property    </h2>    <small>by Una Kravets&nbsp;<br><a href="https://web.dev/aspect-ratio">https://web.dev/aspect-ratio</a></small>    <p>Dealing with images in CSS can be a mess sometimes, especially on responsive layouts. Read about the common hacks regarding aspect ratio and the upcoming new CSS feature <strong>aspect-ratio</strong>.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://web.dev/aspect-ratio">      <img class="limit" src="new-aspect-ratio.png" alt="New aspect-ratio CSS property" />    </a>      <hr id="language-specific-quotes"/>    <h2 style="margin-bottom: 10px;">      How to display language-specific quotes in CSS    </h2>    <small>by Stefan Judis&nbsp;<br><a href="https://www.stefanjudis.com/today-i-learned/how-to-use-language-dependent-quotes-in-css">https://www.stefanjudis.com/today-i-learned/how-to-use-language-dependent-quotes-in-css</a></small>    <p>Doing internationalization right, you have to beware of some pitfalls, like the different quotes in some languages. Germans are using different double quotes for start and end, French are using double arrows and so on. Stefan shows us how to do it right.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.stefanjudis.com/today-i-learned/how-to-use-language-dependent-quotes-in-css">      <img class="limit" src="language-specific-quotes.png" alt="How to display language-specific quotes in CSS" />    </a>      <hr id="details-modal"/>    <h2 style="margin-bottom: 10px;">      Making the DETAILS element look and behave like a modal    </h2>    <small>by Niels Voogt&nbsp;<br><a href="https://codepen.io/NielsVoogt/full/XWjPdjO">https://codepen.io/NielsVoogt/full/XWjPdjO</a></small>    <p>In this pen, Niels is playing around with the DETAILS tag and shows how it can be used for a modal dialog with CSS only. Great idea!</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/NielsVoogt/full/XWjPdjO">      <img class="limit" src="details-modal.png" alt="Making the DETAILS element look and behave like a modal" />    </a>      <hr id="better-line-breaks"/>    <h2 style="margin-bottom: 10px;">      Better Line Breaks for Long URLs    </h2>    <small>by Reuben Lillie&nbsp;<br><a href="https://css-tricks.com/better-line-breaks-for-long-urls">https://css-tricks.com/better-line-breaks-for-long-urls</a></small>    <p>Reuben addresses in his post at CSS-Tricks the problem of displaying long URL’s and shows a solution with a little bit JavaScript how to do it right once and for all.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/better-line-breaks-for-long-urls">      <img class="limit" src="better-line-breaks.png" alt="Better Line Breaks for Long URLs" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> UI/UX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Custom Caller Authentication with ASP.NET Core 5.0 Web API</title>
      <link href="/post/Custom-Caller-Authentication-with-ASP-NET-Core-5-0-WebApi/"/>
      <url>/post/Custom-Caller-Authentication-with-ASP-NET-Core-5-0-WebApi/</url>
      
        <content type="html"><![CDATA[<p>Developing micro services with Microsoft ASP.NET Core 5.0 Web API is powerful and fun, but the fun stops, if your data are accesses unauthorized. It is absolutely fundamental to have a protection layer, which filters out unwanted data requests.  </p><p>A common way is to limit the service access by providing API Keys to well known clients. In this post I will show you how to implement such a filter in terms of API keys and IP addresses. </p><span id="more"></span><h2 id="The-Settings"><a href="#The-Settings" class="headerlink" title="The Settings"></a>The Settings</h2><p>Lets start with the list of clients, who should be able to access the data. The most useful place for this is in the <strong>appsettings.json</strong> of the Core 5.0 Web API project:</p><figure class="highlight json"><figcaption><span>appsettings.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="attr">&quot;Callers&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;Name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;localhost&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;ApiKey&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;IPAddress&quot;</span><span class="punctuation">:</span> <span class="string">&quot;::1&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;Name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;John Doe&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;ApiKey&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mytopsecretapikeyforjohndoe&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;IPAddress&quot;</span><span class="punctuation">:</span>  <span class="string">&quot;*&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>This list has two entries: one for the server itself (“localhost”), which is restricted to the local IP address <code>&quot;::1&quot;</code>, and one for the test user <code>&quot;John Doe&quot;</code>, who can access from any IP address (<code>&quot;*&quot;</code>), but must supply his personal API key with his requests.</p><p>In order to handle this setting, we have to introduce it to the system at startup as a class:</p><figure class="highlight c#"><figcaption><span>CallerSetting.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CallerSetting</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> ApiKey &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> IPAddress &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><figcaption><span>Startup.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ConfigureServices</span>(<span class="params">IServiceCollection services</span>)</span> </span><br><span class="line">&#123;</span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  IConfigurationSection configSection = Configuration.GetSection(<span class="string">&quot;Callers&quot;</span>);</span><br><span class="line">  services.Configure&lt;List&lt;CallerSetting&gt;&gt;(configSection);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h2 id="The-Controller"><a href="#The-Controller" class="headerlink" title="The Controller"></a>The Controller</h2><p>Let’s assume we have a controller, which handles the API requests, like this:</p><figure class="highlight c#"><figcaption><span>MyFancyController.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Microsoft.AspNetCore.Mvc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyAPIProject</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">Route(<span class="string">&quot;api/helloworld&quot;</span>)</span>]</span><br><span class="line">    [<span class="meta">ApiController</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyFancyAPIController</span> : <span class="title">ControllerBase</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">HttpGet</span>]</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">Get</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>To prevent to write a request check against our new settings in each action method, we can decorate the whole controller class by introducing an new custom <code>Attribute</code>, which will do the work:</p><figure class="highlight c#"><figcaption><span>MyFancyController.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line">[<span class="meta">Route(<span class="string">&quot;api/helloworld&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">ApiController</span>]</span><br><span class="line">[<span class="meta">AuthenticateApiRequest</span>]</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MyFancyAPIController</span> : <span class="title">ControllerBase</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><h2 id="The-Attribute"><a href="#The-Attribute" class="headerlink" title="The Attribute"></a>The Attribute</h2><p>Here is the code for the new attribute. It uses the <code>IActionFilter</code>. These filters run within the ASP.NET Core action invocation pipeline, in our case BEFORE the action is entered (<code>OnActionExecutionAsync</code>).</p><figure class="highlight c#"><figcaption><span>AuthenticateApiRequestAttribute.cs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Microsoft.AspNetCore.Mvc;</span><br><span class="line"><span class="keyword">using</span> Microsoft.AspNetCore.Mvc.Filters;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.Configuration;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.DependencyInjection;</span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Threading.Tasks;</span><br><span class="line"><span class="keyword">using</span> System.Linq;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MyAPIProject</span></span><br><span class="line">&#123;</span><br><span class="line">  [<span class="meta">AttributeUsage(AttributeTargets.Class)</span>]</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AuthenticateApiRequestAttribute</span> : <span class="title">Attribute</span>, <span class="title">IAsyncActionFilter</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task <span class="title">OnActionExecutionAsync</span></span></span><br><span class="line"><span class="function">    (<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">      ActionExecutingContext context, </span></span></span><br><span class="line"><span class="params"><span class="function">      ActionExecutionDelegate next</span></span></span><br><span class="line"><span class="params"><span class="function">    </span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// Get an Api Key from Request Header</span></span><br><span class="line">      context.HttpContext.Request.Headers.TryGetValue(</span><br><span class="line">        <span class="string">&quot;ApiKey&quot;</span>, <span class="keyword">out</span> <span class="keyword">var</span> requestApiKey</span><br><span class="line">      );</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Get the remote IP Address</span></span><br><span class="line">      <span class="keyword">var</span> requestIpAddress = </span><br><span class="line">        context.HttpContext.Connection.RemoteIpAddress.ToString();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Get access to &#x27;appsettings.json&#x27;</span></span><br><span class="line">      <span class="keyword">var</span> appSettings = </span><br><span class="line">        context.HttpContext.RequestServices.GetRequiredService&lt;IConfiguration&gt;();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Get &#x27;Callers&#x27; list from settings</span></span><br><span class="line">      <span class="keyword">var</span> callers = appSettings.GetSection(<span class="string">&quot;Callers&quot;</span>)</span><br><span class="line">        .Get&lt;List&lt;CallerSetting&gt;&gt;();</span><br><span class="line"></span><br><span class="line">      <span class="comment">// Get all Callers with matching IP Adress and/or API Key via LINQ</span></span><br><span class="line">      <span class="keyword">var</span> current = callers.Where(c =&gt; </span><br><span class="line">        (c.IPAddress == requestIpAddress) || </span><br><span class="line">        (c.IPAddress == <span class="string">&quot;*&quot;</span> &amp;&amp; c.ApiKey == requestApiKey) ||</span><br><span class="line">        (c.IPAddress == requestIpAddress &amp;&amp; c.ApiKey == requestApiKey));</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// Do we have a match?</span></span><br><span class="line">      <span class="keyword">if</span> (current.Count() == <span class="number">0</span>)</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// No, then return with an error </span></span><br><span class="line">        context.Result = <span class="keyword">new</span> ContentResult()</span><br><span class="line">        &#123;</span><br><span class="line">          StatusCode = <span class="number">401</span>,</span><br><span class="line">          Content = <span class="string">&quot;Unauthorized Access&quot;</span></span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125; </span><br><span class="line"></span><br><span class="line">      <span class="keyword">await</span> next(); </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="The-Result"><a href="#The-Result" class="headerlink" title="The Result"></a>The Result</h2><p><img src="/post/Custom-Caller-Authentication-with-ASP-NET-Core-5-0-WebApi/api-request-nightingale.png" alt="Test Request with Nightingale"></p><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>Microsoft Docs: <a href="https://docs.microsoft.com/de-de/aspnet/core/mvc/controllers/filters?view=aspnetcore-5.0">Filters in ASP.NET Core</a></li><li>Microsoft Docs: <a href="https://docs.microsoft.com/de-de/aspnet/core/fundamentals/configuration/?view=aspnetcore-5.0">Configuration in ASP.NET Core</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> .NET </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
            <tag> WebAPI </tag>
            
            <tag> Authentication </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #7</title>
      <link href="/post/Discoveries-7/"/>
      <url>/post/Discoveries-7/</url>
      
        <content type="html"><![CDATA[<p>February and the first sunny days in 2021. What a delight! Have fun, sitting in the sun, discovering my newest finds on the web. This time, all regarding JavaScript…</p>        <ul class="anchorlist">            <li data-anchor="#github1s">github1s: One second to read GitHub code with VS Code</li><li data-anchor="#enhance-fetch-decorator-pattern">How to enhance fetch() with the Decorator Pattern</li><li data-anchor="#ky">Ky - Delightful HTTP Requests</li><li data-anchor="#vscode-rest-client">VS Code’s REST Client Plugin is All You Need to Make API Calls</li><li data-anchor="#jsonview">json-view</li><li data-anchor="#you-might-not-need-jquery">You might not need jQuery</li><li data-anchor="#js-algorithms-data-structures">JavaScript Algorithms and Data Structures</li><li data-anchor="#date-fns">date-fns - Modern JavaScript date utility library</li><li data-anchor="#parsing-markdown-into-toc">Parsing Markdown into an Automated Table of Contents</li><li data-anchor="#fake-scroll">FakeScroll - lightweight custom-looking scrollbars</li>        </ul>    <span id="more"></span>    <hr id="github1s"/>    <h2 style="margin-bottom: 10px;">      github1s: One second to read GitHub code with VS Code    </h2>    <small>by netcon (conwnet)&nbsp;<br><a href="https://github.com/conwnet/github1s">https://github.com/conwnet/github1s</a></small>    <p>How do you peak in the code of a Github repository? Navigate back and forth on github.com? The chinese developer <em>netcon</em> from Shenzhen has better idea: just add the 2 characters <strong>1s</strong> to the github url and the repository opens up in the new version of VSCode, which now can be built for  browsers. Pretty handy…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/conwnet/github1s">      <img class="limit" src="github1s.png" alt="github1s: One second to read GitHub code with VS Code" />    </a>      <hr id="enhance-fetch-decorator-pattern"/>    <h2 style="margin-bottom: 10px;">      How to enhance fetch() with the Decorator Pattern    </h2>    <small>by Dmitri Pavlutin&nbsp;<br><a href="https://dmitripavlutin.com/enhance-fetch-with-decorator-pattern/">https://dmitripavlutin.com/enhance-fetch-with-decorator-pattern/</a></small>    <p>Fetching JSON files with JavaScript means to call fetch() asynchronously and pick the response manually. Two AWAITS and a lot of stuff can go wrong. Dmitri shows how to construct a class which enables you to do this in one step.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://dmitripavlutin.com/enhance-fetch-with-decorator-pattern/">      <img class="limit" src="enhance-fetch-decorator-pattern.png" alt="How to enhance fetch() with the Decorator Pattern" />    </a>      <hr id="ky"/>    <h2 style="margin-bottom: 10px;">      Ky - Delightful HTTP Requests    </h2>    <small>by Sindre Sorhus&nbsp;<br><a href="https://github.com/sindresorhus/ky">https://github.com/sindresorhus/ky</a></small>    <p>Fetch is nice, but if you want it nice and easy, you have to rely on a 3rd-party library, like *<em>Ky</em>. Sindre Sorhus did a great job to bring fetching in one line, within around 13KB.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/sindresorhus/ky">      <img class="limit" src="ky.png" alt="Ky - Delightful HTTP Requests" />    </a>      <hr id="vscode-rest-client"/>    <h2 style="margin-bottom: 10px;">      VS Code’s REST Client Plugin is All You Need to Make API Calls    </h2>    <small>by Paige Niedringhaus&nbsp;<br><a href="https://blog.bitsrc.io/vs-codes-rest-client-plugin-is-all-you-need-to-make-api-calls-e9e95fcfd85a">https://blog.bitsrc.io/vs-codes-rest-client-plugin-is-all-you-need-to-make-api-calls-e9e95fcfd85a</a></small>    <p>Using <a href="https://www.postman.com/product/rest-client/">Postman</a> or <a href="https://nightingale.rest/">Nightingale</a> for testing your microservices? Not absolutely necessary, as there are possibilities to do it right in VSCode, as Paige show us in her post here. No need to leave your editor.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://blog.bitsrc.io/vs-codes-rest-client-plugin-is-all-you-need-to-make-api-calls-e9e95fcfd85a">      <img class="limit" src="vscode-rest-client.png" alt="VS Code’s REST Client Plugin is All You Need to Make API Calls" />    </a>      <hr id="jsonview"/>    <h2 style="margin-bottom: 10px;">      json-view    </h2>    <small>by Pavel&nbsp;<br><a href="https://github.com/pgrabovets/json-view">https://github.com/pgrabovets/json-view</a></small>    <p>It’s not often that a developer has to display raw JSON data on a website or app. Pavel from the Ukraine has a solution to do this with style.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/pgrabovets/json-view">      <img class="limit" src="jsonview.png" alt="json-view" />    </a>      <hr id="you-might-not-need-jquery"/>    <h2 style="margin-bottom: 10px;">      You might not need jQuery    </h2>    <small>by Zack Bloom and Adam Schwartz&nbsp;<br><a href="http://youmightnotneedjquery.com/">http://youmightnotneedjquery.com/</a></small>    <p>Many of us relied on <a href="https://jquery.com/">jQuery</a> in the past. So did Zack Bloom and Adam Schwartz as I suppose. They have published a website, that contrasts the native JavaScript methods for the most common jQuery methods. Go Vanilla, go!</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="http://youmightnotneedjquery.com/">      <img class="limit" src="you-might-not-need-jquery.png" alt="You might not need jQuery" />    </a>      <hr id="js-algorithms-data-structures"/>    <h2 style="margin-bottom: 10px;">      JavaScript Algorithms and Data Structures    </h2>    <small>by Oleksii Trekhleb&nbsp;<br><a href="https://github.com/trekhleb/javascript-algorithms">https://github.com/trekhleb/javascript-algorithms</a></small>    <p>Oleksii has collected a huge bunch of useful JS methods in his Github repository and has translated the docs for every method into 14 (!) languages. Whoop … what a job! Ever wanted to know how to calculate the Euclidean Distance? Oleksii has the answer and the code.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/trekhleb/javascript-algorithms">      <img class="limit" src="js-algorithms-data-structures.png" alt="JavaScript Algorithms and Data Structures" />    </a>      <hr id="date-fns"/>    <h2 style="margin-bottom: 10px;">      date-fns - Modern JavaScript date utility library    </h2>    <small>by {Many}&nbsp;<br><a href="https://date-fns.org/">https://date-fns.org/</a></small>    <p><a href="https://momentjs.com/">moment.js</a>, maybe the most used JS library for calculating dates, is now in maintenance mode, because it is getting on in years. A good alternative is <strong>date-fns</strong>, which supports tree-shaking and other modern approaches. In addition to that, you will find <a href="https://github.com/you-dont-need/You-Dont-Need-Momentjs">here</a> and <a href="https://blog.logrocket.com/4-alternatives-to-moment-js-for-internationalizing-dates/">here</a> good comparisons between several date libraries or even native JS.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://date-fns.org/">      <img class="limit" src="date-fns.png" alt="date-fns - Modern JavaScript date utility library" />    </a>      <hr id="parsing-markdown-into-toc"/>    <h2 style="margin-bottom: 10px;">      Parsing Markdown into an Automated Table of Contents    </h2>    <small>by Lisi Linhart&nbsp;<br><a href="https://css-tricks.com/parsing-markdown-into-an-automated-table-of-contents/">https://css-tricks.com/parsing-markdown-into-an-automated-table-of-contents/</a></small>    <p>A well-structured text has headings, subheadings and paragraphs. For the web we often write our stuff in <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>. Lisi shows us how to process such a Markdown file to get a TOC automatically.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/parsing-markdown-into-an-automated-table-of-contents/">      <img class="limit" src="parsing-markdown-into-toc.png" alt="Parsing Markdown into an Automated Table of Contents" />    </a>      <hr id="fake-scroll"/>    <h2 style="margin-bottom: 10px;">      FakeScroll - lightweight custom-looking scrollbars    </h2>    <small>by Yair Even Or&nbsp;<br><a href="https://github.com/yairEO/fakescroll">https://github.com/yairEO/fakescroll</a></small>    <p>The scrollbar belongs to the website or app a developer is creating, in my opinion. Therefore it is a mess what browser manufacturers offer developers in terms of possibilities. Yair has constructed a JS library which replaces the build-in scrollbars completely with standard HTML elements. Nice…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/yairEO/fakescroll">      <img class="limit" src="fake-scroll.png" alt="FakeScroll - lightweight custom-looking scrollbars" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Native JavaScript Multilanguage Templating</title>
      <link href="/post/Native-JavaScript-Multilanguage-Templating/"/>
      <url>/post/Native-JavaScript-Multilanguage-Templating/</url>
      
        <content type="html"><![CDATA[<p>In the project I’m currently working on, I faced the “problem” to integrate multilanguage support, but due to the fact that the new app should be written in vanilla JS, without any plugins, libraries or other dependencies, I had to develop my own localization layer. In this article I want to show you my approach on this…</p><span id="more"></span><p>My solution is based on a template system that I implemented into my project at an earlier stage. If you are interested in how this works, I recommend you read my article <strong><a href="https://kiko.io/categories/JavaScript/Utilize-a-repository-of-reusable-ES6-template-literals/">Utilize a repository of reusable ES6 template literals</a></strong>.</p><p>Let’s start with the standard scaffold of an HTML5 app, extended with some <code>style</code>‘s, an initialization <code>script</code> and a lonely <code>main</code> element, we want to fill with some localized content:</p><figure class="highlight html"><figcaption><span>index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;language&quot;</span> <span class="attr">content</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Native JavaScript Multilanguage Templating<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">body</span> &#123; <span class="attribute">padding</span>: <span class="number">2rem</span>; &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">main</span> &#123; <span class="attribute">text-align</span>: center; &#125;</span></span><br><span class="line"><span class="language-css">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">import</span> &#123; <span class="title class_">App</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app.js&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">window</span>.<span class="property">app</span> = <span class="keyword">new</span> <span class="title class_">App</span>(); </span></span><br><span class="line"><span class="language-javascript">            app.<span class="title function_">init</span>();</span></span><br><span class="line"><span class="language-javascript">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">main</span>&gt;</span><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>The <code>script</code> points to the following ES6 module class in the file <strong>app.js</strong>:</p><figure class="highlight js"><figcaption><span>app.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123; </span><br><span class="line">    <span class="comment">// do something when the class is instantiated</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// do something to initialize the app</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; <span class="title class_">App</span> &#125;;</span><br></pre></td></tr></table></figure><p>Nothing uncommon so far, if you are familiar with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes">ES6 classes</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">imports</a>&#x2F;<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export">exports</a>. </p><p>Now let’s create a <strong>localizations.js</strong> file, to store the needed localized strings in all wanted languages. Every language will have its own branch in a <code>Localizations</code> object, represented by its two-letter <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO-639-1 language code</a>. All translations are accessible via an unique english key word:</p><figure class="highlight js"><figcaption><span>localizations.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">Localizations</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">&quot;EN&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;helloWorld&quot;</span>: <span class="string">&quot;Hello World&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;DE&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;helloWorld&quot;</span>: <span class="string">&quot;Hallo Welt&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;ES&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;helloWorld&quot;</span>: <span class="string">&quot;Hola, mundo&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;FR&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;helloWorld&quot;</span>: <span class="string">&quot;Bonjour le monde&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;RU&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;helloWorld&quot;</span>: <span class="string">&quot;Здравствуйте, мир&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;JP&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;helloWorld&quot;</span>: <span class="string">&quot;ハローワールド&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>As we import the <strong>localizations.js</strong> in our <strong>app.js</strong>, we can initialize the localizations in the constructor of the app class with the language code of the users browser:</p><figure class="highlight js"><figcaption><span>app.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Localizations</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./localizations.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123; </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Get browser language</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">langCode</span> = </span><br><span class="line">      <span class="variable language_">window</span>.<span class="property">navigator</span>.<span class="property">language</span>.<span class="title function_">split</span>(<span class="string">&quot;-&quot;</span>)[<span class="number">0</span>].<span class="title function_">toUpperCase</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Init localization to access via &#x27;app.localization&#x27; globally</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">localization</span> = <span class="title class_">Localizations</span>()[<span class="variable language_">this</span>.<span class="property">langCode</span>];</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure><p><code>app.localization</code> now holds the key&#x2F;value list of the current language.</p><p>Now we implement the templating class, as described in <a href="https://kiko.io/categories/JavaScript/Utilize-a-repository-of-reusable-ES6-template-literals/">Utilize a repository of reusable ES6 template literals</a> and define a first template called <code>helloWorld</code> …</p><figure class="highlight js"><figcaption><span>templates.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Templates</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">helloWorld</span>(<span class="params">data</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">fillTemplate</span>(<span class="string">`</span></span><br><span class="line"><span class="string">            &lt;h1&gt;<span class="subst">$&#123;app.localization.helloWorld&#125;</span>&lt;/h1&gt;</span></span><br><span class="line"><span class="string">        `</span>, data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">fillTemplate</span>(<span class="params">templateString, templateVars</span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> func = <span class="keyword">new</span> <span class="title class_">Function</span>(...<span class="title class_">Object</span>.<span class="title function_">keys</span>(templateVars),  </span><br><span class="line">          <span class="string">&quot;return `&quot;</span> + templateString + <span class="string">&quot;`;&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">func</span>(...<span class="title class_">Object</span>.<span class="title function_">values</span>(templateVars));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; <span class="title class_">Templates</span> &#125;;</span><br></pre></td></tr></table></figure><p>The inner text of the <code>h1</code> element in the <code>helloWorld</code> template refers to the globally available variable <code>app.localization</code>, we initialized in the last step, and points to the translation <code>helloWorld</code>.</p><p>In <strong>app.js</strong> we import the <strong>templates.js</strong> and implement some code in the <code>init</code> method, to get the template and bring it to the DOM:</p><figure class="highlight js"><figcaption><span>app.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Localizations</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./localizations.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Templates</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./templates.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line"></span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123; </span><br><span class="line"></span><br><span class="line">    <span class="comment">// Get &quot;Hello World&quot; H1 element in current language</span></span><br><span class="line">    <span class="keyword">let</span> helloWorld = app.<span class="property">templates</span>.<span class="title function_">helloWorld</span>(&#123;&#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Insert H1 element into MAIN element</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;main&quot;</span>)</span><br><span class="line">      .<span class="title function_">insertAdjacentHTML</span>(<span class="string">&quot;beforeend&quot;</span>, helloWorld);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>This is it …</p><p>In the following <strong>Github</strong> repository you will find a solution based on this example, extented with a language selector, cookie support and some helper methods to keep the code nice and clean:</p><p>  <a href="https://github.com/kristofzerbe/Native-JavaScript-Multilanguage-Templating">https://github.com/kristofzerbe/Native-JavaScript-Multilanguage-Templating</a></p><p><img src="/post/Native-JavaScript-Multilanguage-Templating/github-solution.gif"></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Localization </tag>
            
            <tag> ES6 </tag>
            
            <tag> Templating </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Remote Testing and Debugging with Chrome</title>
      <link href="/post/Remote-Testing-and-Debugging-with-Chrome/"/>
      <url>/post/Remote-Testing-and-Debugging-with-Chrome/</url>
      
        <content type="html"><![CDATA[<p>Developing a website or web app means, you have installed an editor locally on your computer, writing your code locally and start a tiny, built-in web server for debugging locally in your preferred browser. In most browsers, there are some features to mimic a smartphone, to see if your solution is working on such a device too, but you only get a hint if it’s running properly. Some mobile features like <code>navigator.canShare</code> do not work at all. Better is to see it live on your device.</p><p>This article will show you firstly, how to test your local solution on a smartphone and secondly, how to debug it locally, when it runs on the smartphone after releasing.</p><span id="more"></span><p>I will use following setup:</p><ul><li>Editor: <strong>Visual Studio Code</strong></li><li>Smartphone: <strong>Android</strong></li><li>Browser for Desktop &amp; Mobile: <strong>Microsoft Edge</strong> (any other Chromium based browser will work also)</li></ul><p>Before we start, we have to enable the Android smartphone to connect to other devices, by switching on <strong>USB Debugging</strong>:</p><h3 id="Enable-the-Developer-Options"><a href="#Enable-the-Developer-Options" class="headerlink" title="Enable the Developer Options"></a>Enable the Developer Options</h3><ol><li>Go to <code>Settings</code></li><li>&amp;nbsp;&gt; <code>About Phone</code>  </li><li>Tap 7 times on <code>Build Number</code></li></ol><h3 id="Enable-USB-Debugging"><a href="#Enable-USB-Debugging" class="headerlink" title="Enable USB Debugging"></a>Enable USB Debugging</h3><ol><li>Go to <code>Settings</code></li><li>&amp;nbsp;&gt; <code>System</code></li><li>&amp;nbsp;&gt; <code>Advanced</code></li><li>&amp;nbsp;&gt; <code>Developer Options</code></li><li>Switch <code>USB debugging</code> to <code>ON</code></li></ol><h1 id="Test-your-local-site-on-a-mobile-device"><a href="#Test-your-local-site-on-a-mobile-device" class="headerlink" title="Test your local site on a mobile device"></a>Test your local site on a mobile device</h1><p>When you start your local web server from VS Code, your solution can be accessed by a <code>localhost</code> address at a specific port:</p><p><img src="/post/Remote-Testing-and-Debugging-with-Chrome/localhost.png" alt="Localhost"></p><p>Even if you are in the same network with all your devices, this address is only available locally. You need to “announce” this address to your mobile device by using the mechanism called <strong>Port Forwarding</strong>. This is a job for the browser…</p><ol><li><p>Connect you mobile device via USB with your local machine</p></li><li><p>Open up <strong><a href="chrome://inspect/#devices">chrome:&#x2F;&#x2F;inspect&#x2F;#devices</a></strong> in your Chromium based browser (works in all Chromium browsers)</p></li><li><p>Your mobile device will ask you to allow USB-Debugging … say <code>ALLOW</code></p></li><li><p>Under <code>Devices</code>, your mobile device will appear after a few seconds … my is here the <code>Pixel 4</code></p></li></ol><p><img src="/post/Remote-Testing-and-Debugging-with-Chrome/devtools-devices.png" alt="DevTools, Devices"></p><ol start="5"><li><p>Click on <code>Port Forwarding</code></p></li><li><p>Enter your local, to be forwarded address (<code>&#39;localhost:&#39; and port number</code>) and check <code>Enable port forwarding</code></p></li></ol><p><img src="/post/Remote-Testing-and-Debugging-with-Chrome/enable-port-forwarding.png" alt="Enable Port Forwarding"></p><ol start="7"><li><p>Open your Chromium based browser on your mobile device</p></li><li><p>Enter the URL <code>localhost:4000</code></p></li></ol><p>Your local solution will now be loaded on your mobile device and you will see this in your local DevTools:</p><p><img src="/post/Remote-Testing-and-Debugging-with-Chrome/remote-view-localhost.png" alt="Remote View"></p><p><img src="/post/Remote-Testing-and-Debugging-with-Chrome/remotely-loaded.png" alt="Remotely Loaded"></p><h1 id="Debug-a-site-running-on-your-mobile-device-locally"><a href="#Debug-a-site-running-on-your-mobile-device-locally" class="headerlink" title="Debug a site running on your mobile device locally"></a>Debug a site running on your mobile device locally</h1><p>This step is now very easy, because we are connected to the mobile device and a remote site is loaded. Just click <code>inspect</code> at the appropriate item:</p><p><img src="/post/Remote-Testing-and-Debugging-with-Chrome/inspect-remote.png" alt="Inspect Remote">.</p><p>This works now also on the released version of your solution, you want to debug. Just enter the URL in a new tab on your mobile device, find the item in DevTools-Devices and click on <code>inspect</code>.</p><p>The window, which will be opened on <code>inspect</code>, are the Chrome Developer Tools and every interaction with it, will be reflected on your mobile device, as you are used to when debugging locally: </p><p><img src="/post/Remote-Testing-and-Debugging-with-Chrome/devtools-remote.png" alt="DevTools Remote"></p><p><img src="/post/Remote-Testing-and-Debugging-with-Chrome/remote-view-debugging.png" alt="Remote View Debugging"></p><hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>Chrome DevTools: <a href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging/local-server">Access Local Servers</a></li><li>Chrome DevTools: <a href="https://developers.google.com/web/tools/chrome-devtools/remote-debugging/">Get Started with Remote Debugging Android Devices</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Browser </tag>
            
            <tag> VS Code </tag>
            
            <tag> Debugging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #6</title>
      <link href="/post/Discoveries-6/"/>
      <url>/post/Discoveries-6/</url>
      
        <content type="html"><![CDATA[<p>2020 is over and history. Well, may 2021 be with us. With this post I would like to continue the <strong>Discoveries</strong>, with new momentum. There was a lot to read over the holidays.</p><p>All the finds in this issue have something to do with visual aspects of web design in the broadest sense.</p>        <ul class="anchorlist">            <li data-anchor="#drop-shadow-underrated-css-filter">Drop-Shadow: The Underrated CSS Filter</li><li data-anchor="#css-gg">css.gg - 700+ CSS Icons</li><li data-anchor="#svgbox">SVGBox - API for Web Icons</li><li data-anchor="#change-color-svg-on-hover">Change Color of SVG on Hover</li><li data-anchor="#css-filter-generator">CSS filter generator to convert from black to target hex color</li><li data-anchor="#responsive-configurable-svg-waves">Responsive && Configurable SVG Waves</li><li data-anchor="#balloon">Balloon.css</li><li data-anchor="#build-css-only-org-chart">How to Build a CSS-only Organizational Chart</li><li data-anchor="#shifty">Shifty</li><li data-anchor="#50-projects-50-days">Brad Traversy's 50 Projects 50 Days</li>        </ul>    <span id="more"></span>    <hr id="drop-shadow-underrated-css-filter"/>    <h2 style="margin-bottom: 10px;">      Drop-Shadow: The Underrated CSS Filter    </h2>    <small>by Michelle Barker&nbsp;<br><a href="https://css-irl.info/drop-shadow-the-underrated-css-filter">https://css-irl.info/drop-shadow-the-underrated-css-filter</a></small>    <p>There are 2 built-in ways to drop a shadow on a HTML element with CSS. Michelle shows us the difference and the additional features <code>filter: drop-shadow</code> has.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-irl.info/drop-shadow-the-underrated-css-filter">      <img class="limit" src="drop-shadow-underrated-css-filter.png" alt="Drop-Shadow: The Underrated CSS Filter" />    </a>      <hr id="css-gg"/>    <h2 style="margin-bottom: 10px;">      css.gg - 700+ CSS Icons    </h2>    <small>by Astrit Malësia&nbsp;<br><a href="https://css.gg">https://css.gg</a></small>    <p>Astrit, a swedish designer, has build this outstanding icon repository, with tons of icons in pure CSS or SVG. Chapeau…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css.gg">      <img class="limit" src="css-gg.png" alt="css.gg - 700+ CSS Icons" />    </a>      <hr id="svgbox"/>    <h2 style="margin-bottom: 10px;">      SVGBox - API for Web Icons    </h2>    <small>by ?&nbsp;<br><a href="https://svgbox.net">https://svgbox.net</a></small>    <p>In case css.gg has not the appropriate SVG icon you are looking for, visit this site and explorer 12 icon sets with over 3.000 icons. Whoever brought this to us, thanks.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://svgbox.net">      <img class="limit" src="svgbox.png" alt="SVGBox - API for Web Icons" />    </a>      <hr id="change-color-svg-on-hover"/>    <h2 style="margin-bottom: 10px;">      Change Color of SVG on Hover    </h2>    <small>by Chris Coyier&nbsp;<br><a href="https://css-tricks.com/change-color-of-svg-on-hover">https://css-tricks.com/change-color-of-svg-on-hover</a></small>    <p>Once again Chris, who shows us here, how to colorize a SVG icon in case you use it as a background image by using CSS filter.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/change-color-of-svg-on-hover">      <img class="limit" src="change-color-svg-on-hover.png" alt="Change Color of SVG on Hover" />    </a>      <hr id="css-filter-generator"/>    <h2 style="margin-bottom: 10px;">      CSS filter generator to convert from black to target hex color    </h2>    <small>by Barrett Sonntag&nbsp;<br><a href="https://codepen.io/sosuke/pen/Pjoqqp">https://codepen.io/sosuke/pen/Pjoqqp</a></small>    <p>As Chris Coyer mentioned in the discovery above, you need the appropriate filter values on colorizing SVG’s. Barret has developed a converter in a pen. Useful tool…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/sosuke/pen/Pjoqqp">      <img class="limit" src="css-filter-generator.png" alt="CSS filter generator to convert from black to target hex color" />    </a>      <hr id="responsive-configurable-svg-waves"/>    <h2 style="margin-bottom: 10px;">      Responsive && Configurable SVG Waves    </h2>    <small>by Jhey Tompkins&nbsp;<br><a href="https://codepen.io/jh3y/pen/poEvKxo">https://codepen.io/jh3y/pen/poEvKxo</a></small>    <p>Seperating content on a web site with some kind of divider is advisable  and motion is nice, if you don’t overdo it.  Jhey shows us, how to combine both with an animated wave.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/jh3y/pen/poEvKxo">      <img class="limit" src="responsive-configurable-svg-waves.png" alt="Responsive && Configurable SVG Waves" />    </a>      <hr id="balloon"/>    <h2 style="margin-bottom: 10px;">      Balloon.css    </h2>    <small>by Claudio Holanda&nbsp;<br><a href="https://kazzkiq.github.io/balloon.css">https://kazzkiq.github.io/balloon.css</a></small>    <p>Ever needed tooltips for elements, which are not self-describing? Download this pure CSS solution from Claudio und you never search again for something like that.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://kazzkiq.github.io/balloon.css">      <img class="limit" src="balloon.png" alt="Balloon.css" />    </a>      <hr id="build-css-only-org-chart"/>    <h2 style="margin-bottom: 10px;">      How to Build a CSS-only Organizational Chart    </h2>    <small>by someone at Envato Tuts+&nbsp;<br><a href="https://codepen.io/tutsplus/pen/MWedpoj">https://codepen.io/tutsplus/pen/MWedpoj</a></small>    <p>Org charts are important to visualize hierarchies. Why not creating them with nothing else than HTML and CSS?</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/tutsplus/pen/MWedpoj">      <img class="limit" src="build-css-only-org-chart.png" alt="How to Build a CSS-only Organizational Chart" />    </a>      <hr id="shifty"/>    <h2 style="margin-bottom: 10px;">      Shifty    </h2>    <small>by Warren Galyen&nbsp;<br><a href="https://wgalyen.github.io/shifty">https://wgalyen.github.io/shifty</a></small>    <p>No one can escape parallax effects on backgrounds. They are just too pleasing. Warren addresses this with his tiny JavaScript library.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://wgalyen.github.io/shifty">      <img class="limit" src="shifty.png" alt="Shifty" />    </a>      <hr id="50-projects-50-days"/>    <h2 style="margin-bottom: 10px;">      Brad Traversy's 50 Projects 50 Days    </h2>    <small>by Brad Traversy&nbsp;<br><a href="https://github.com/bradtraversy/50projects50days">https://github.com/bradtraversy/50projects50days</a></small>    <p>There are a lot of doing-a-thing-every-day projects, but Brad is pushing it with his 50 web projects in 50 days. Check out <a href="https://50projects50days.com/projects/expanding-cards/">Expanding Cards</a> or <a href="https://50projects50days.com/projects/rotating-navigation-animation/">Rotating Navigation Animation</a> or <a href="https://50projects50days.com/projects/theme-clock/">Theme Clock</a>. Cool stuff and source code is available.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/bradtraversy/50projects50days">      <img class="limit" src="50-projects-50-days.png" alt="Brad Traversy's 50 Projects 50 Days" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Use a duplicate image to drop a shadow</title>
      <link href="/post/Use-a-duplicate-image-to-drop-a-shadow/"/>
      <url>/post/Use-a-duplicate-image-to-drop-a-shadow/</url>
      
        <content type="html"><![CDATA[<p>Depending on your design, sometimes it is nice to drop a shadow on an image to highlight it:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;my-image.jpg&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0px</span> <span class="number">25px</span> <span class="number">25px</span> -<span class="number">10px</span> <span class="number">#666</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/post/Use-a-duplicate-image-to-drop-a-shadow/normal-shadow.jpg" alt="Normal Box Shadow"></p><p>But … it looks like a paper print of the image, with a light bulb in the first third above it. The shade is grey, boring and has been used and seen many times before…</p><p>An design related <a href="https://www.instagram.com/p/CIXUIXkBHMk/">Instagram post</a> from Muhammad Abdull of <a href="https://www.instagram.com/thewilsonwings">thewilsonthings</a>, inspired me to <strong>use the image itself as the shadow</strong> in order to make the image look a bit translucent. Should be the same technique as that of a reflection. Here is the HTML&#x2F;CSS code for it, as the people asking for it in the comments.</p><span id="more"></span><p>What we want to achieve is this:</p><p><img src="/post/Use-a-duplicate-image-to-drop-a-shadow/image-shadow.jpg" alt="Duplicate Image Shadow"></p><p>Basically, we use a duplicate of the image and position it below the actual image, but slightly offset and blurred. It won’t be a performance issue, as some might think, because it is the very same file and will be loaded only once by the browser.</p><p>For showing two images in the nearly same place in different layers, we need a wrapper…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;image-wrapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;my-image.jpg&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;shadow&quot;</span> <span class="attr">src</span>=<span class="string">&quot;my-image.jpg&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>… and some CSS for positioning the images on top of each other first. Here are the defaults for both <code>image</code> elements:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.image-wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.image-wrapper</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Now we have to style the duplicate image that it looks similar to the shadow. We washing it out using the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/filter-function/blur">blur filter</a> and the opacity.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.image-wrapper</span> <span class="selector-tag">img</span><span class="selector-class">.shadow</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">10px</span>);</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/post/Use-a-duplicate-image-to-drop-a-shadow/blurred-image.jpg" alt="Blurred Duplicate"></p><p>Last step is to change the duplicates dimensions and the positioning below the original image. We squeeze it by 10% and shift it from left with half of the value back to the center, shift it from top to make it standout at the bottom and send it to the back by taking a lower z-index than the original image.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span><span class="selector-class">.image-wrapper</span> <span class="selector-tag">img</span><span class="selector-class">.shadow</span> &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">10px</span>);</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.8</span>;</span><br><span class="line"></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">90%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">5%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">40px</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Thats it. Here’s a pen to play around with the solution:</p>    <iframe height="400"         id="codepen-XWjGBGy"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/XWjGBGy?height=400&default-tab=css&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: Image Shadows"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  ]]></content>
      
      
      <categories>
          
          <category> UI/UX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Safely remove multiple classes using a prefix</title>
      <link href="/post/Safely-remove-multiple-classes-using-a-prefix/"/>
      <url>/post/Safely-remove-multiple-classes-using-a-prefix/</url>
      
        <content type="html"><![CDATA[<p>Writing a Web App with HTML and JavaScript means you deal with several classes on your DOM elements in order to visualize state changes. And there are some pitfalls to be aware of with regard to removal.</p><p>Assuming you want to open some kind of sidebar above a container. In this sidebar you have several buttons to show different content via JavaScript and a close button, which closes the sidebar again. You HTML code maybe looks like this:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;container&quot;</span>&gt;</span>... Main Content ...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;open-sidebar&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">aside</span> <span class="attr">id</span>=<span class="string">&quot;sidebar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span>... Sidebar Content ...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;close&quot;</span>&gt;</span>Close Sidebar<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;content1&quot;</span>&gt;</span>Show Content 1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;content2&quot;</span>&gt;</span>Show Content 2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;content3&quot;</span>&gt;</span>Show Content 3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>By clicking on the <code>open-sidebar</code> button, the sidebar is opened and the action, respectively the new state, is vizualized by adding an appropriate class to the parent sidebar element. In order to make it easy for the user, the default content (Content 1) will be loaded also and its state will be marked with another class.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">&quot;sidebar open open-content1&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>A click on of the other content buttons (let’s say Content 2), will replace the current content and the <code>aside</code> classes will change into:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">aside</span> <span class="attr">class</span>=<span class="string">&quot;sidebar open open-content2&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Now we want to close the sidebar again, assuming that we don’t have stored the currently opened content in the JavaScript code…</p><span id="more"></span><p>What we have to do, is to iterate over all classes of <code>aside</code> and remove those which starts with <code>open</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sidebar = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sidebar&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; sidebar.<span class="property">classList</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">let</span> value = sidebar.<span class="property">classList</span>[i];</span><br><span class="line">  <span class="keyword">if</span> (value.<span class="title function_">startsWith</span>(<span class="string">&quot;open&quot;</span>)) &#123;</span><br><span class="line">    sidebar.<span class="property">classList</span>.<span class="title function_">remove</span>(value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//or</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sidebar = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sidebar&quot;</span>);</span><br><span class="line">sidebar.<span class="property">classList</span>.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(value.<span class="title function_">includes</span>(<span class="string">&quot;open&quot;</span>)) &#123;</span><br><span class="line">    sidebar.<span class="property">classList</span>.<span class="title function_">remove</span>(value);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;); </span><br></pre></td></tr></table></figure><p>Both approaches have a pitfall: when the first class, starting with <code>open</code>, is removed from the list, the length of the <code>classList</code> array changes immediatly and we won’t reach the last class in the list … !</p><p>The solution is to find and remove all appropriate classes at once, for example by using <code>RegEx</code> and a reusable helper function:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">removeClassByPrefix</span>(<span class="params">el, prefix</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> pattern = <span class="string">&#x27;(&#x27;</span> + prefix + <span class="string">&#x27;(\\s|(-)?(\\w*)(\\s)?)).*?&#x27;</span>;</span><br><span class="line">  <span class="keyword">var</span> regEx = <span class="keyword">new</span> <span class="title class_">RegExp</span>(pattern, <span class="string">&#x27;g&#x27;</span>);</span><br><span class="line">  el.<span class="property">className</span> = el.<span class="property">className</span>.<span class="title function_">replace</span>(regEx, <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> sidebar = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;sidebar&quot;</span>);</span><br><span class="line"><span class="title function_">removeClassByPrefix</span>(sidebar, <span class="string">&quot;open&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="Update-24-Jan-2021"><a href="#Update-24-Jan-2021" class="headerlink" title="Update, 24 Jan 2021"></a>Update, 24 Jan 2021</h3><p>The first posted RegEx pattern didn’t worked properly, because it has found the prefix only and not the whole word, so I have updated the pattern.</p><p>You can try it out at <a href="https://regexr.com/5ktn3">RegExr.com - Remove Class By Prefix</a>.</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> DOM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Use and manage multiple Node.js versions on Windows 10</title>
      <link href="/post/Use-and-manage-multiple-Node-js-versions-on-Windows-10/"/>
      <url>/post/Use-and-manage-multiple-Node-js-versions-on-Windows-10/</url>
      
        <content type="html"><![CDATA[<p>For a new project I needed to have Node 14 running on my Windows 10 machine, so installation was done quickly via downloading and running the setup file.</p><p>A short time later I wanted to write a new blog post here on kiko.io, which depends on the Node.js based static site generator <a href="https://hexo.io/">Hexo</a> … and ran into several problems.</p><p>First of all my hero image processing script (see <a href="/post/Automatic-Header-Images-in-Hexo/" title="Automatic Header Images in Hexo">Automatic Header Images in Hexo</a>) returned an exception. The script uses <a href="https://github.com/hexojs/hexo-fs">hexo-fs</a> and the problem is known quite some time, according to this <a href="https://github.com/hexojs/hexo/issues/4263">Github issue</a>. The guys recommend to downgrade to an older version of Node.js … :(</p><p>Ok … I needed a solution to install multiple Node.js versions and switch between them, depending on which project I want to work on … and there is one: <strong><a href="https://github.com/coreybutler/nvm-windows">nvm-windows</a></strong> by Corey Butler!</p><span id="more"></span><p>This <strong>Node.js Version Manager for Windows</strong> is working similar to the often mentioned <a href="https://github.com/tj/n">n</a> and <a href="https://github.com/nvm-sh/nvm">nvm</a>, which support Linux and Mac only. The latest release of <strong>nvm-windows</strong> can be downloaded <a href="https://github.com/coreybutler/nvm-windows/releases">here</a>.</p><p>The setup is pretty straight forward and asks you at the very end, if the currently installed Node.js version should be managed by it. Confirmed…</p><p>There are just a few commands to know and to run in the command line:</p><p><strong>List available Node.js versions</strong></p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm list available</span><br></pre></td></tr></table></figure><p><img src="/post/Use-and-manage-multiple-Node-js-versions-on-Windows-10/nvm-list-available.png" alt="nvm install"></p><p><strong>Install needed Node.js version</strong></p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm install &lt;version&gt;</span><br></pre></td></tr></table></figure><p><img src="/post/Use-and-manage-multiple-Node-js-versions-on-Windows-10/nvm-install.png" alt="nvm install"></p><p><em><strong>Switch to particular Node.js version</strong></em></p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm use &lt;version&gt;</span><br></pre></td></tr></table></figure><p><img src="/post/Use-and-manage-multiple-Node-js-versions-on-Windows-10/nvm-use.png" alt="nvm use"></p><p><em><strong>List all installed Node.js versions</strong></em></p><figure class="highlight ps"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvm <span class="built_in">ls</span></span><br></pre></td></tr></table></figure><p><img src="/post/Use-and-manage-multiple-Node-js-versions-on-Windows-10/nvm-ls.png" alt="nvm ls"></p>    <div class="alertbox alertbox-exclamation">      <p>In case you have Node.js version dependend utilities installed globally, you need to run <code>npm install -g</code> after switch.</p>    </div>  <hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>Github: <a href="https://github.com/coreybutler/nvm-windows">coreybutler/nvm-windows</a></li><li>Microsoft Docs: <a href="https://docs.microsoft.com/en-us/windows/nodejs/setup-on-windows">Set up your Node.js development environment directly on Windows</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Windows </tag>
            
            <tag> Node.js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How to prevent duplicate events</title>
      <link href="/post/How-to-prevent-duplicate-events/"/>
      <url>/post/How-to-prevent-duplicate-events/</url>
      
        <content type="html"><![CDATA[<p>I’m working on a new web app that contains a sliding out panel with some additional information on the selected element. This panel can be closed by the user via the ESC key. The implementation on initializing the panel seems very straight forward:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Panel</span>() &#123;</span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;keydown&quot;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(event.<span class="property">key</span> === <span class="string">&quot;Escape&quot;</span>)&#123;</span><br><span class="line">        <span class="comment">//close the panel</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Problem is: the panel, which is part of the basic HTML, will be initialized with its content and functionality in a ES6 class. So … on every init, another event listener is added.</p><p>You can easily figure that out, by calling <code>getEventListeners(document)</code> in the Chrome DevTools:</p><p><img src="/post/How-to-prevent-duplicate-events/chromedevtools-multiple-listeners.png" alt="Chrome DevTools: Multiple Event Listeners"></p><span id="more"></span><p>As there is no way in JS to find and replace the event which was previously added, we have to remove the existing event by using <code>removeEventListener</code> and add it again. Most important parameter on removing is the instance of the event handler, which was used the add the event previously.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Panel</span>() &#123;</span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">onEscapeKey</span> (event) &#123;</span><br><span class="line">      <span class="keyword">if</span>(event.<span class="property">key</span> === <span class="string">&quot;Escape&quot;</span>)&#123;</span><br><span class="line">        <span class="comment">//close the panel</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">removeEventListener</span>(<span class="string">&quot;keydown&quot;</span>, onEscapeKey);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;keydown&quot;</span>, onEscapeKey);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>But … as the handler <code>onEscapeKey</code> is defined in a class, every time a new instance of the class is created, the handler will be not the same as the previous one! We have to store the event handler globally…</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Panel</span>() &#123;</span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">removeEventListener</span>(<span class="string">&quot;keydown&quot;</span>, <span class="variable language_">window</span>.<span class="property">panelEscapeKeyHandler</span>);</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">panelEscapeKeyHandler</span> = <span class="keyword">function</span> <span class="title function_">onEscapeKey</span>(<span class="params">event</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(event.<span class="property">key</span> === <span class="string">&quot;Escape&quot;</span>)&#123;</span><br><span class="line">        <span class="comment">//close the panel</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;keydown&quot;</span>, <span class="variable language_">window</span>.<span class="property">panelEscapeKeyHandler</span>);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Works!</p><p><img src="/post/How-to-prevent-duplicate-events/chromedevtools-one-listener.png" alt="Chrome DevTools: One Event Listener"></p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Events </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Utilize a repository of reusable ES6 template literals</title>
      <link href="/post/Utilize-a-repository-of-reusable-ES6-template-literals/"/>
      <url>/post/Utilize-a-repository-of-reusable-ES6-template-literals/</url>
      
        <content type="html"><![CDATA[<p>The <a href="http://es6-features.org/#StringInterpolation"><strong>Template Literals</strong></a> introduced with ES6 are very useful to deal with multiline strings, because they support <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#Expression_interpolation">embedded expressions</a>. Gone are the days of endless string concatination or replacing variables in a string by using RegEx.</p><p>Instead of… </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url = ...</span><br><span class="line"><span class="keyword">var</span> file = ...</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> template = </span><br><span class="line">  <span class="string">&#x27;&lt;div class=&quot;photo&quot;&gt;&#x27;</span> + </span><br><span class="line">     <span class="string">&#x27;&lt;a href=&quot;&#x27;</span> + url + <span class="string">&quot;&#x27; + </span></span><br><span class="line"><span class="string">        &#x27;style=&quot;</span>background-<span class="attr">image</span>: <span class="title function_">url</span>(<span class="string">&#x27; + file + &#x27;</span>)<span class="string">&quot;&lt;/a&gt;&#x27; + </span></span><br><span class="line"><span class="string">  &#x27;&lt;/div&gt;&#x27;</span></span><br></pre></td></tr></table></figure><p>… you can write:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> url = ...</span><br><span class="line"><span class="keyword">var</span> file = ...</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> template = <span class="string">`</span></span><br><span class="line"><span class="string">  &lt;div class=&quot;photo&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;<span class="subst">$&#123;url&#125;</span>/&quot;</span></span><br><span class="line"><span class="string">    style=&quot;background-image: url(<span class="subst">$&#123;file&#125;</span>);&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">`</span>,</span><br></pre></td></tr></table></figure><p>It’s much cleaner and easier to handle, as you can copy your needed HTML right into your code and surround it by <strong>backtick</strong> (!) characters. Insert your variable placeholders (expressions), indicated by a dollar sign and curly braces, and you are done.</p><p>But there is one “restriction”, you have to be aware of: the interpolation (substitution of the expressions) is done at declaration time and not at runtime. You can’t define your literals seperatly, take one and make your substitution as you need it, like you would do with <a href="https://handlebarsjs.com/">Handlebars</a> or other templating engines. Therefore the name <em>template</em> literals is a bit misleading. But … there is a way to achieve this anyway…</p><span id="more"></span><h2 id="Tagged-Templates"><a href="#Tagged-Templates" class="headerlink" title="Tagged Templates"></a>Tagged Templates</h2><p>Beside Template Literals, ES6 introduced <strong>Tagged Templates</strong> (exact: Tagged Template Literals). These tags are functions, which allows you to parse a Template Literal. Definition is like this:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myTag</span>(<span class="params">literals, ...expressions</span>) &#123;</span><br><span class="line">  <span class="comment">//do the substitution and return a string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>You can use these tags by prefixing you literal:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myTag<span class="string">`Hello <span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>!`</span></span><br></pre></td></tr></table></figure><p>Using Tagged Templates to build a template repository would mean, you have to write one tag function for every template … doable, but time consuming.</p><h2 id="Dynamic-Tag-Function"><a href="#Dynamic-Tag-Function" class="headerlink" title="Dynamic Tag Function"></a>Dynamic Tag Function</h2><p>To avoid this, we can write a universal tag function, which utilizes the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/Function">Function constructor</a>, to create the tag function dynamically:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fillTemplate</span>(<span class="params">templateString, templateVars</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> func = <span class="keyword">new</span> <span class="title class_">Function</span>(</span><br><span class="line">    ...<span class="title class_">Object</span>.<span class="title function_">keys</span>(templateVars),  </span><br><span class="line">    <span class="string">&quot;return `&quot;</span> + templateString + <span class="string">&quot;`;&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="title function_">func</span>(...<span class="title class_">Object</span>.<span class="title function_">values</span>(templateVars));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>    <div class="alertbox alertbox-warning">      <p>Don’t use this approach on user inputs as expressions, to avoid XSS!</p>    </div>  <h2 id="Let’s-see-an-example…"><a href="#Let’s-see-an-example…" class="headerlink" title="Let’s see an example…"></a>Let’s see an example…</h2><p>Given is a tiny web app with the following structure:</p><figure class="highlight html"><figcaption><span>index.html</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Reusable ES6 template literals<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/src/style.css&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span> <span class="attr">id</span>=<span class="string">&quot;main&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;src/index.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><figcaption><span>index.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">App</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./app.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> <span class="title class_">App</span>();</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">init</span>();</span><br></pre></td></tr></table></figure><figure class="highlight js"><figcaption><span>app.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//do something</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; <span class="title class_">App</span> &#125;;</span><br></pre></td></tr></table></figure><p>What we want to do now, is to load some images into the <code>main</code> element, by using a more or less complex element structure:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;photo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;&lt;!-- Url to view the photo --&gt;&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">style</span>=<span class="string">&quot;background-image: url(&lt;!-- Url of the photo file --&gt;);&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>To separate our templates from the main code, we create a template module, which contains the dynamic tag function from above and a <code>photo</code> template we want to use in our app</p><figure class="highlight js"><figcaption><span>template.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Templates</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//Template</span></span><br><span class="line">  <span class="title function_">photo</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">fillTemplate</span>(</span><br><span class="line">      <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;photo&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;a href=&quot;<span class="subst">$&#123;data.url&#125;</span>/&quot;</span></span><br><span class="line"><span class="string">        style=&quot;background-image: url(<span class="subst">$&#123;data.file&#125;</span>);&quot;&gt;&lt;/a&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">      `</span>,</span><br><span class="line">      data</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//Dynamic Tag Function</span></span><br><span class="line">  <span class="title function_">fillTemplate</span>(<span class="params">templateString, templateVars</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> func = <span class="keyword">new</span> <span class="title class_">Function</span>(...<span class="title class_">Object</span>.<span class="title function_">keys</span>(templateVars),</span><br><span class="line">                           <span class="string">&quot;return `&quot;</span> + templateString + <span class="string">&quot;`;&quot;</span></span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">func</span>(...<span class="title class_">Object</span>.<span class="title function_">values</span>(templateVars));</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; <span class="title class_">Templates</span> &#125;;</span><br></pre></td></tr></table></figure><p>The template retrieves a <code>data</code> object, with the values of the defined expressions, and calls the dynamic tag function on the literal template.</p><p>This we can use now in our app code:</p><figure class="highlight js"><figcaption><span>app.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Import Template module</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Templates</span> &#125; <span class="keyword">from</span> <span class="string">&quot;./templates.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">App</span> &#123;</span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Initialize Templates</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">_templates</span> = <span class="keyword">new</span> <span class="title class_">Templates</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Insert photo into MAIN element</span></span><br><span class="line">    <span class="keyword">let</span> main = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;main&quot;</span>);</span><br><span class="line">    main.<span class="title function_">insertAdjacentHTML</span>(</span><br><span class="line">      <span class="string">&quot;beforeend&quot;</span>,</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">_templates</span>.<span class="title function_">photo</span>(&#123;</span><br><span class="line">        <span class="attr">file</span>: <span class="string">&quot;my-photo.jpg&quot;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&quot;https://link-to-my.photo.com&quot;</span></span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; <span class="title class_">App</span> &#125;;</span><br></pre></td></tr></table></figure><p>See it live at <a href="https://codesandbox.io/s/reusable-es6-template-literals-4iyor?file=/src/templates.js">codesandbox.io</a>.</p><hr><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>Stackoverflow: <a href="https://stackoverflow.com/questions/30003353/can-es6-template-literals-be-substituted-at-runtime-or-reused">Can ES6 template literals be substituted at runtime (or reused)?</a></li><li>Github/Adelphos: <a href="https://github.com/Adelphos/ES6-Reuseable-Template">ES6-Reuseable-Template</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
            <tag> Templating </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #5</title>
      <link href="/post/Discoveries-5/"/>
      <url>/post/Discoveries-5/</url>
      
        <content type="html"><![CDATA[<p>In this episode of the <strong>Discoveries</strong> (almost) everything is about images and the web. There are so many pitfalls to do it wrong, but many more possibilities to do it right, especially with these resources I found in the last few weeks.</p>        <ul class="anchorlist">            <li data-anchor="#aspnet-core-image-resizing-middleware">ASP.NET Core Image Resizing Middleware</li><li data-anchor="#best-way-lazy-load-images">Best way to lazy load images for maximum performance</li><li data-anchor="#image-orientation-on-the-web">image orientation on the web</li><li data-anchor="#cosha">cosha - Colorful shadows for your images</li><li data-anchor="#parax-bg">parax-bg - Parallax Backgrounds</li><li data-anchor="#parax">parax - Parallax Elements</li><li data-anchor="#luminous">Luminous Lightbox</li><li data-anchor="#tiny-swiper">Tiny-Swiper - Image Carousel</li>        </ul>    <span id="more"></span>    <hr id="aspnet-core-image-resizing-middleware"/>    <h2 style="margin-bottom: 10px;">      ASP.NET Core Image Resizing Middleware    </h2>    <small>by Jeremy Paddison&nbsp;<br><a href="https://www.paddo.org/asp-net-core-image-resizing-middleware/">https://www.paddo.org/asp-net-core-image-resizing-middleware/</a></small>    <p>Jeremy shows in his blog post the possibilities of dealing with images in ASP.NET Core in terms of format, orientation and quality. A must read for every .NET developer.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www.paddo.org/asp-net-core-image-resizing-middleware/">      <img class="limit" src="aspnet-core-image-resizing-middleware.png" alt="ASP.NET Core Image Resizing Middleware" />    </a>      <hr id="best-way-lazy-load-images"/>    <h2 style="margin-bottom: 10px;">      Best way to lazy load images for maximum performance    </h2>    <small>by Adrian Bece&nbsp;<br><a href="https://blog.prototyp.digital/best-way-to-lazy-load-images-for-maximum-performance/">https://blog.prototyp.digital/best-way-to-lazy-load-images-for-maximum-performance/</a></small>    <p>Delivering images on the web is difficult due to different devices and bandwidths. Adrian shows how to achieve a maximum of performance on lazy loading images via native JavaScript.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://blog.prototyp.digital/best-way-to-lazy-load-images-for-maximum-performance/">      <img class="limit" src="best-way-lazy-load-images.png" alt="Best way to lazy load images for maximum performance" />    </a>      <hr id="image-orientation-on-the-web"/>    <h2 style="margin-bottom: 10px;">      image orientation on the web    </h2>    <small>by Michael Scharnagl&nbsp;<br><a href="https://justmarkup.com/articles/2019-10-21-image-orientation/">https://justmarkup.com/articles/2019-10-21-image-orientation/</a></small>    <p>Automatic uploading and viewing images fails sometimes on portrait shots, because of misintrepretated orientation information by the different browsers. Michael adresses this problem with a Node.JS solution.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://justmarkup.com/articles/2019-10-21-image-orientation/">      <img class="limit" src="image-orientation-on-the-web.png" alt="image orientation on the web" />    </a>      <hr id="cosha"/>    <h2 style="margin-bottom: 10px;">      cosha - Colorful shadows for your images    </h2>    <small>by Robin Löffel&nbsp;<br><a href="https://github.com/robinloeffel/cosha">https://github.com/robinloeffel/cosha</a></small>    <p>Adding a blurry shadow under an image to let the photo stand out from the background, is a nice technique to draw the users attention. Robin goes one step further with his JavaScript solution on colorful shadows, which represents the colors of the image.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/robinloeffel/cosha">      <img class="limit" src="cosha.png" alt="cosha - Colorful shadows for your images" />    </a>      <hr id="parax-bg"/>    <h2 style="margin-bottom: 10px;">      parax-bg - Parallax Backgrounds    </h2>    <small>by Tobias Buschor&nbsp;<br><a href="https://github.com/nuxodin/parax-bg">https://github.com/nuxodin/parax-bg</a></small>    <p>Parallaxing backgrounds are fairly attracting and so it is with Tobias’ approach on that for developers: easy to use and fast.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/nuxodin/parax-bg">      <img class="limit" src="parax-bg.png" alt="parax-bg - Parallax Backgrounds" />    </a>      <hr id="parax"/>    <h2 style="margin-bottom: 10px;">      parax - Parallax Elements    </h2>    <small>by Tobias Buschor&nbsp;<br><a href="https://github.com/nuxodin/parax">https://github.com/nuxodin/parax</a></small>    <p>If you just want to parallax some elements instead of backgrounds, Tobias has also a solution for that: Parax.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/nuxodin/parax">      <img class="limit" src="parax.png" alt="parax - Parallax Elements" />    </a>      <hr id="luminous"/>    <h2 style="margin-bottom: 10px;">      Luminous Lightbox    </h2>    <small>by imgix&nbsp;<br><a href="https://github.com/imgix/luminous">https://github.com/imgix/luminous</a></small>    <p>There are tons of image lightboxes out there and here is another one: Luminous from imgx. It is my favourite and I use it in this blog. Its lightweight and easy to use, for the user and the developer. A pearl…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/imgix/luminous">      <img class="limit" src="luminous.png" alt="Luminous Lightbox" />    </a>      <hr id="tiny-swiper"/>    <h2 style="margin-bottom: 10px;">      Tiny-Swiper - Image Carousel    </h2>    <small>by Joe Harris&nbsp;<br><a href="https://tiny-swiper.joe223.com/docs/demo/">https://tiny-swiper.joe223.com/docs/demo/</a></small>    <p>The same applies to image carousels, but Tiny-Swiper is here outstanding too. It is simple, but powerful and well documented. A must use…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://tiny-swiper.joe223.com/docs/demo/">      <img class="limit" src="tiny-swiper.png" alt="Tiny-Swiper - Image Carousel" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Indian Presets for Lightroom</title>
      <link href="/post/Indian-Presets-for-Lightroom/"/>
      <url>/post/Indian-Presets-for-Lightroom/</url>
      
        <content type="html"><![CDATA[<p>In 2019 I was on a short, stressful business trip to Dehli, India and one night we had the opportunity to relax a bit by driving around the city and visit some beautiful places of interest. I had no gear at all, just my Sony smartphone, but it is remarkable how good this worked out.</p><span id="more"></span><h2 id="Indian-Sunset"><a href="#Indian-Sunset" class="headerlink" title="Indian Sunset"></a>Indian Sunset</h2>    <div id="image-compare-if7ajk">      <img class="image-compare image-original" src="/post/Indian-Presets-for-Lightroom/IMG_20191009_165823_HDR_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Indian-Presets-for-Lightroom/IMG_20191009_165823_HDR_PRESET_Sunset.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-if7ajk"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>  <hr>    <div id="image-compare-me866q">      <img class="image-compare image-original" src="/post/Indian-Presets-for-Lightroom/IMG_20191009_164343_HDR_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Indian-Presets-for-Lightroom/IMG_20191009_164343_HDR_PRESET_Sunset.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-me866q"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: true,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Indian Sunset.xmp" download>        Download Lightroom Preset <strong>Indian Sunset.xmp</strong>      </a>    </p>    ]]></content>
      
      
      <categories>
          
          <category> Photo-Editing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lightroom </tag>
            
            <tag> Presets </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Israeli Presets for Lightroom</title>
      <link href="/post/Israeli-Presets-for-Lightroom/"/>
      <url>/post/Israeli-Presets-for-Lightroom/</url>
      
        <content type="html"><![CDATA[<p>I’m a travel and event photo enthusiast, which means I’m shooting a lot of photographs on vacation or at special events only a few times a year. After I’m back home and start the image processing, I develop a particular look for my images of the past vacation or event. This has a lot to do with my mood and is very intuitive. Not all images are the same in terms of composition and light and so I create usually 3 or 4 different presets each time during image processing.</p><p>Back in 2019, I was traveling around Israel, a fascinating country where almost every wall has a story to tell and I was listening through my viewfinder. Here I want to share the presets with you…</p><span id="more"></span><h2 id="Israeli-Colors"><a href="#Israeli-Colors" class="headerlink" title="Israeli Colors"></a>Israeli Colors</h2><p>The mediaval walls of Jaffa glow in an inimitable way and brings other colors to shine the same way.</p>    <div id="image-compare-uo8n1x">      <img class="image-compare image-original" src="/post/Israeli-Presets-for-Lightroom/19-05 Israel-0078_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Israeli-Presets-for-Lightroom/19-05 Israel-0078_PRESET-Colors.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-uo8n1x"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Israeli Colors.xmp" download>        Download Lightroom Preset <strong>Israeli Colors.xmp</strong>      </a>    </p>    <hr><h2 id="Israeli-Lights"><a href="#Israeli-Lights" class="headerlink" title="Israeli Lights"></a>Israeli Lights</h2><p>The light in the eastern Mediterranean is stunning. The warm tone of the sand and the turquoise color of the water had to pop out.</p>    <div id="image-compare-6z4udq">      <img class="image-compare image-original" src="/post/Israeli-Presets-for-Lightroom/19-05 Israel-0196_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Israeli-Presets-for-Lightroom/19-05 Israel-0196_PRESET-Lights.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-6z4udq"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Israeli Lights.xmp" download>        Download Lightroom Preset <strong>Israeli Lights.xmp</strong>      </a>    </p>    <hr><h2 id="Israeli-Drama"><a href="#Israeli-Drama" class="headerlink" title="Israeli Drama"></a>Israeli Drama</h2><p>A visit of Yad Vashem moved me a lot and this preset is a expression of that.</p>    <div id="image-compare-z1h057">      <img class="image-compare image-original" src="/post/Israeli-Presets-for-Lightroom/19-05 Israel-0733_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Israeli-Presets-for-Lightroom/19-05 Israel-0733_PRESET-Drama.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-z1h057"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Israeli Drama.xmp" download>        Download Lightroom Preset <strong>Israeli Drama.xmp</strong>      </a>    </p>    <hr><h2 id="Israeli-Near-Black"><a href="#Israeli-Near-Black" class="headerlink" title="Israeli Near Black"></a>Israeli Near Black</h2><p>If you think of the tourists away, Jerusalem takes you to another level because of its age and history and nothing fits more to that than the sepia look of old pictures.</p>    <div id="image-compare-imah1k">      <img class="image-compare image-original" src="/post/Israeli-Presets-for-Lightroom/19-05 Israel-0624_ORIGINAL.jpg" alt="" />      <img class="image-compare image-modified" src="/post/Israeli-Presets-for-Lightroom/19-05 Israel-0624_PRESET-Near Black.jpg" alt="" />    </div>    <script>      var themeColor = "#ffffff";      if (localStorage.getItem("theme") === 'dark') {        themeColor = "#222222"      }      new ImageCompare(document.getElementById("image-compare-imah1k"),      {        controlColor: themeColor,        controlShadow: false,        verticalMode: false,        showLabels: true,        labelOptions: {          before: 'Original',          after: 'Preset',          onHover: true,        }      }).mount();    </script>      <p class="download-link">      <a class="button" href="Israeli Near Black.xmp" download>        Download Lightroom Preset <strong>Israeli Near Black.xmp</strong>      </a>    </p>    ]]></content>
      
      
      <categories>
          
          <category> Photo-Editing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lightroom </tag>
            
            <tag> Presets </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Folder based publishing in Lightroom</title>
      <link href="/post/Folder-based-publishing-in-Lightroom/"/>
      <url>/post/Folder-based-publishing-in-Lightroom/</url>
      
        <content type="html"><![CDATA[<p>In all times photography was a process: First you shoot you images, then you edit them and in the third step you publish them elsewhere.</p><p>Today <strong>Adobe Lightroom</strong> is a de-facto standard in photo processing, especially when you shoot RAW images. And I mean <a href="https://www.adobe.com/de/products/photoshop-lightroom-classic.html">Lightroom Classic</a> and not the new web&#x2F;smartphone based software, which doesn’t come even close to the desktop application yet.</p><p>I use Lightroom for all purposes after I shot my images: editing, cataloguing, managing and … publishing. On publishing Lightroom offers you two approaches: <em>Export</em> and <em>Publish</em>. While <em>Export</em> is mainly for creating JPG copies of edited RAW images, <em>Publish</em> goes one step further and gives you the ability to do “something” with your exported JPG’s, for example upload them on Flickr, Instagram, 500px or to your own web server via FTP. Major difference to <em>Export</em> is, that <em>Publish</em> keeps your images in sync. Everytime you change the source images, the defined publish services recognizes and offer you to re-publish your image.</p><p><img src="/post/Folder-based-publishing-in-Lightroom/lr-re-publish.png" alt="Lightroom Publish"></p><p>In the past years I tried a lot of Lightroom plugins for publishing on several platforms, but it doesn’t work out for long, because all these platforms change their API almost every year (or are stamped) and the sparely maintained 3rd party plugins break.</p><p>My workflow for quite some time is to publish my photos on the hard drive, in a folder, which is synced via Dropbox with the cloud. From there I distribute them further.</p><span id="more"></span><p>Important on this approach is, to have a coherent output folder structure in order find a particular image afterwards.</p><p>I store my RAW images on an external hard drive in a structure like this:</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;Drive:\&gt;</span><br><span class="line">  -&gt;  Fotos</span><br><span class="line">      -&gt;  &lt;Year&gt;</span><br><span class="line">          -&gt;  &lt;Year&gt;-&lt;Month&gt; &lt;Eventname&gt;</span><br></pre></td></tr></table></figure><p>First step after shooting is to copy all RAW files from the SD Card into a new subfolder of the current year. From there I import them into my Lightroom catalog.</p><p>After sorting, rejecting, editing and flagging in Lightroom, I have to “export” the 4- and 5-star rated images into the cloud. There I have a slightly different structure, with a different root folder name and without the year:</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Dropbox&gt;</span><br><span class="line">  -&gt;  Photos</span><br><span class="line">      -&gt;  &lt;Year&gt;-&lt;Month&gt; &lt;Eventname&gt;</span><br></pre></td></tr></table></figure><p>With the built-in “Hard Drive” publish service of Lightroom, it is feasible to “export” the images, but not in my wanted folder structure, because it is not possible to use the sources’ folder name as output folder name by option. It has to be specified manually each time, which is not very comfortable.</p><p><img src="/post/Folder-based-publishing-in-Lightroom/publish-hard-disk.png" alt="Hard Disk Publish Service"></p><h2 id="Plugin-to-the-rescue"><a href="#Plugin-to-the-rescue" class="headerlink" title="Plugin to the rescue"></a>Plugin to the rescue</h2><p>Jeffrey Friedl, who is in the Lightroom plugin business about a decade, offers two plugins, which can solve the problem easily:</p><ol><li><a href="http://regex.info/blog/lightroom-goodies/folder-publisher">Jeffrey’s “<strong>Folder Publisher</strong>“ Lightroom Plugin</a><br>  Exports to disk in a folder hierarchy that mimics the folder hierarchy in your Lightroom catalog</li></ol><p>This one helps me not much, because my output folder would look like this:</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Dropbox&gt;</span><br><span class="line">  -&gt;  Photos</span><br><span class="line">      -&gt;  Fotos</span><br><span class="line">          -&gt; &lt;Year&gt;</span><br><span class="line">              -&gt;  &lt;Year&gt;-&lt;Month&gt; &lt;Eventname&gt;</span><br></pre></td></tr></table></figure><ol start="2"><li><a href="http://regex.info/blog/lightroom-goodies/collection-publisher">Jeffrey’s “<strong>Collection Publisher</strong>” Lightroom Plugin</a><br>Exports to local disk in a folder hierarchy that mimics the collection hierarchy you build within Lightroom</li></ol><p>Besides the commonality of defining a root folder, where the files are exported to, Jeffrey’s plugin has much more options to improve the export.</p><p><img src="/post/Folder-based-publishing-in-Lightroom/collection-publisher.png" alt="Collection Publisher"></p><p>As the main feature, you can create collections within the plugin to define the export targets:</p><p><img src="/post/Folder-based-publishing-in-Lightroom/collection-publisher-create.png" alt="Create Collection"></p><p>In the options of these collections, you can set several templates (variables) to let the plugin name the export subfolder automatically:  </p><p><img src="/post/Folder-based-publishing-in-Lightroom/collection-publisher-options.png" alt="Collection Options"></p><p>By using <a href="https://helpx.adobe.com/lightroom-classic/help/photo-collections.html#work_with_smart_collections">Smart Collections</a> you don’t even need to drag &amp; drop your images to publish to the publish collection. Lightroom will do this auto-magically.</p>]]></content>
      
      
      <categories>
          
          <category> Photo-Editing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Lightroom </tag>
            
            <tag> Publishing </tag>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #4</title>
      <link href="/post/Discoveries-4/"/>
      <url>/post/Discoveries-4/</url>
      
        <content type="html"><![CDATA[<p>It is so amazing how many cool stuff developers around the world are producing these days. Or they do what they always do, but I have more time to read about their smart ideas and solutions. This month I have 8 pearls for you:</p>        <ul class="anchorlist">            <li data-anchor="#waitForElementTransition">waitForElementTransition()</li><li data-anchor="#flexbox-and-ellipsis">Using Flexbox and text ellipsis together</li><li data-anchor="#using-trello-as-cms">Using Trello as a Super Simple CMS</li><li data-anchor="#memorize-scroll-position">Memorize Scroll Position Across Page Loads</li><li data-anchor="#head-dev">A free guide to HTML5 &lt;head&gt; elements</li><li data-anchor="#bv-select">BVSelect - Vanilla JS</li><li data-anchor="#hex-time">A clock that represents the time as hex color values</li><li data-anchor="#animate-css">Animate.css - Just-add-water CSS animations</li>        </ul>    <span id="more"></span>    <hr id="waitForElementTransition"/>    <h2 style="margin-bottom: 10px;">      waitForElementTransition()    </h2>    <small>by Mark Kennedy&nbsp;<br><a href="https://github.com/mkay581/wait-for-element-transition">https://github.com/mkay581/wait-for-element-transition</a></small>    <p>In these days a good UI doesn’t do without some animations or transitions and it is always advisible to use CSS for it, if possible. Marks shows us with his solution, how to wait in JavaScript for a transition to finish, before we continue to do something else in JS.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/mkay581/wait-for-element-transition">      <img class="limit" src="waitForElementTransition.png" alt="waitForElementTransition()" />    </a>      <hr id="flexbox-and-ellipsis"/>    <h2 style="margin-bottom: 10px;">      Using Flexbox and text ellipsis together    </h2>    <small>by Leonardo Faria&nbsp;<br><a href="https://leonardofaria.net/2020/07/18/using-flexbox-and-text-ellipsis-together/">https://leonardofaria.net/2020/07/18/using-flexbox-and-text-ellipsis-together/</a></small>    <p>In case you offer downloads with very long file names from time to time, you might use CSS’s ellipsis to cut it down. But you always loose the last three chars, the file extension. Leonardo show us, how to avoid that, by using a clever mix of ellipsis and flexbox.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://leonardofaria.net/2020/07/18/using-flexbox-and-text-ellipsis-together/">      <img class="limit" src="flexbox-and-ellipsis.png" alt="Using Flexbox and text ellipsis together" />    </a>      <hr id="using-trello-as-cms"/>    <h2 style="margin-bottom: 10px;">      Using Trello as a Super Simple CMS    </h2>    <small>by Phil Hawksworth&nbsp;<br><a href="https://css-tricks.com/using-trello-as-a-super-simple-cms">https://css-tricks.com/using-trello-as-a-super-simple-cms</a></small>    <p>As I love Trello and use it daily, among others as a reading list (see <a href="/post/Add-website-to-Trello-card-the-better-way/" title="Add website to Trello card the better way">Add website to Trello card the better way</a>), I can’t wait to try Phils approach to process Trello boards automatically.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/using-trello-as-a-super-simple-cms">      <img class="limit" src="using-trello-as-cms.png" alt="Using Trello as a Super Simple CMS" />    </a>      <hr id="memorize-scroll-position"/>    <h2 style="margin-bottom: 10px;">      Memorize Scroll Position Across Page Loads    </h2>    <small>by Chris Coyier&nbsp;<br><a href="https://css-tricks.com/memorize-scroll-position-across-page-loads/">https://css-tricks.com/memorize-scroll-position-across-page-loads/</a></small>    <p>Chris shows Hakim El Hattab’s trick, how to store the current scroll position and restore it when user comes back. Simple, but a gain in usability.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/memorize-scroll-position-across-page-loads/">      <img class="limit" src="memorize-scroll-position.png" alt="Memorize Scroll Position Across Page Loads" />    </a>      <hr id="head-dev"/>    <h2 style="margin-bottom: 10px;">      A free guide to HTML5 &lt;head&gt; elements    </h2>    <small>by Josh Buchea&nbsp;<br><a href="https://htmlhead.dev">https://htmlhead.dev</a></small>    <p>Doing your Web Developer job right, means you have to be aware of the META tags in your HTML. htmlhead.dev is a good reference, because it lists and describes mostly all known META tags.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://htmlhead.dev">      <img class="limit" src="head-dev.png" alt="A free guide to HTML5 &lt;head&gt; elements" />    </a>      <hr id="bv-select"/>    <h2 style="margin-bottom: 10px;">      BVSelect - Vanilla JS    </h2>    <small>by Bruno Vieira&nbsp;<br><a href="https://bmsvieira.github.io/BVSelect-VanillaJS">https://bmsvieira.github.io/BVSelect-VanillaJS</a></small>    <p>There are many HTML&#x2F;Javascript driven dropdowns out there. So has Bruno, but his solution don’t even looks nice, it is written in ES6, has no dependencies and is dead simple to use.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://bmsvieira.github.io/BVSelect-VanillaJS">      <img class="limit" src="bv-select.png" alt="BVSelect - Vanilla JS" />    </a>      <hr id="hex-time"/>    <h2 style="margin-bottom: 10px;">      A clock that represents the time as hex color values    </h2>    <small>by Jamel Hammoud&nbsp;<br><a href="https://github.com/JamelHammoud/hextime">https://github.com/JamelHammoud/hextime</a></small>    <p>The time is shown mostly as a six digit number … Hours, Minutes and Seconds, with a leading 0. Color Hex codes have also 6 digits and Jamel  the idea to bring both together…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/JamelHammoud/hextime">      <img class="limit" src="hex-time.png" alt="A clock that represents the time as hex color values" />    </a>      <hr id="animate-css"/>    <h2 style="margin-bottom: 10px;">      Animate.css - Just-add-water CSS animations    </h2>    <small>by Daniel Eden&nbsp;<br><a href="https://animate.style">https://animate.style</a></small>    <p>Daniel and his buddies offers an Stylesheet with dozens of cool and easy to use text animations.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://animate.style">      <img class="limit" src="animate-css.png" alt="Animate.css - Just-add-water CSS animations" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Implement source switch for SPA</title>
      <link href="/post/Implement-source-switch-for-SPA/"/>
      <url>/post/Implement-source-switch-for-SPA/</url>
      
        <content type="html"><![CDATA[<p>A while ago I wrote a Single Page Application (SPA) with jQuery and and decided to use some useful plugins to avoid reinventing the wheel. To keep the delivered sources small, I used the bundler <a href="https://gulpjs.com/">Gulp</a>, to pack all JS plugins in a single file and another one for my custom JS code. I used the same procedure with the CSS files.</p><p>The SPA contained only a single HTML file in which all bundeled sources and needed HTML template blocks were included, in order to load most of the stuff while starting the app, when the users sees a GMail-like  loading screen.</p><p>But the whole thing had one disadvantage: Debugging for example in Chrome Dev Tool is not a joy, if the code is packed with <a href="https://www.npmjs.com/package/gulp-concat">Gulp Concat</a> and <a href="https://www.npmjs.com/package/gulp-concat">Gulp Uglify</a>. It would be much more convenient, if the source loading can be done depending on the environment.</p><span id="more"></span><p>First step was to replace the SCRIPT and LINK tags in die <code>index.html</code> with a dynamic loading approach using JavaScript.</p><h2 id="Dynamic-JS-loading"><a href="#Dynamic-JS-loading" class="headerlink" title="Dynamic JS loading"></a>Dynamic JS loading</h2><p>For some custom code it was necessary to load the plugins previously, because of dependencies.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addScriptAsync</span>(<span class="params">url</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve, reject</span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">    script.<span class="property">type</span> = <span class="string">&quot;text/javascript&quot;</span>;</span><br><span class="line">    script.<span class="property">src</span> = url;</span><br><span class="line"></span><br><span class="line">    script.<span class="title function_">addEventListener</span>(<span class="string">&quot;load&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(script);</span><br><span class="line">    &#125;, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">    script.<span class="title function_">addEventListener</span>(<span class="string">&quot;error&quot;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">reject</span>(script);</span><br><span class="line">    &#125;, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;head&#x27;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(script);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>By returning a <code>Promise</code>, the calling code is able to wait for a dependent source to load:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">addScriptAsync</span>(<span class="string">&quot;Build/vendor.min.js&quot;</span>).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">addScriptAsync</span>(<span class="string">&quot;Build/custom.min.js&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="Dynamic-CSS-loading"><a href="#Dynamic-CSS-loading" class="headerlink" title="Dynamic CSS loading"></a>Dynamic CSS loading</h2><p>Loading CSS is pretty straightforward and includes an <code>id</code> as parameter, in order to be able to access the style afterwards, for example when tehh user is chanhing the SPA’s theme: </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addStylesheet</span>(<span class="params">url, id</span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> stylesheet = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;link&#x27;</span>);</span><br><span class="line">  stylesheet.<span class="property">rel</span> = <span class="string">&#x27;stylesheet&#x27;</span>;</span><br><span class="line">  stylesheet.<span class="property">type</span> = <span class="string">&#x27;text/css&#x27;</span>;</span><br><span class="line">  stylesheet.<span class="property">href</span> = url;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (id) &#123; stylesheet.<span class="title function_">setAttribute</span>(<span class="string">&quot;id&quot;</span>, id); &#125;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;head&#x27;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(stylesheet);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">addStylesheet</span>(<span class="string">&quot;Build/vendor.css&quot;</span>);</span><br><span class="line"><span class="title function_">addStylesheet</span>(<span class="string">&quot;Build/custom.css&quot;</span>);</span><br></pre></td></tr></table></figure><h2 id="Consider-the-environment"><a href="#Consider-the-environment" class="headerlink" title="Consider the environment"></a>Consider the environment</h2><p>Now everything was set up to implement a switch, depending on whether the SPA was started locally or in production.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _DEV = (<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">hostname</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;localhost&quot;</span>) !== -<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_">addStylesheet</span>(<span class="string">&quot;Build/vendor.css&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (_DEV) &#123;</span><br><span class="line">  <span class="title function_">addStylesheet</span>(<span class="string">&quot;Libraries/styles.css&quot;</span>);</span><br><span class="line">  <span class="title function_">addStylesheet</span>(<span class="string">&quot;Libraries/helpers.css&quot;</span>);</span><br><span class="line">  ...</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="title function_">addStylesheet</span>(<span class="string">&quot;Build/custom.css&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">addScriptAsync</span>(<span class="string">&quot;Build/vendor.min.js&quot;</span>).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (_DEV) &#123;</span><br><span class="line">    <span class="title function_">addScriptAsync</span>(<span class="string">&quot;Libraries/prototypes.js&quot;</span>)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="title function_">addScriptAsync</span>(<span class="string">&quot;Libraries/tools.js&quot;</span>); &#125;)</span><br><span class="line">      .<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="title function_">addScriptAsync</span>(<span class="string">&quot;Libraries/app.js&quot;</span>); &#125;)</span><br><span class="line">      ...</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">addScriptAsync</span>(<span class="string">&quot;Build/custom.min.js&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SPA </tag>
            
            <tag> Bundling </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Show related posts in Hexo</title>
      <link href="/post/Show-related-posts-in-Hexo/"/>
      <url>/post/Show-related-posts-in-Hexo/</url>
      
        <content type="html"><![CDATA[<p>It is always nice to point the readers of your blog’s articles to related posts, they might be interested in. They stay a little longer to understand what you have to offer and increases the likelihood that they become loyal readers, followers or subscribers. Related posts has become a standard on delivering news and posts.</p><p>In the default Hexo theme <strong>Landscape</strong>, on which this blog is based, there is no such function built in, but as the Hexo community is very busy, there are some plugins you can use.</p><span id="more"></span><h2 id="Plugin-hexo-list-related-posts"><a href="#Plugin-hexo-list-related-posts" class="headerlink" title="Plugin: hexo-list-related-posts"></a>Plugin: hexo-list-related-posts</h2><p>This plugin, available at <a href="https://github.com/nkmk/hexo-list-related-posts">GitHub</a> is pretty lean and generates a list of links to related posts based on tags. It just counts how often a tag is occuring and shows a list of related posts either by count descending or randomly.</p><p><strong>Advantage</strong>:</p><ul><li>Easy and fast</li></ul><p><strong>Disadvantage</strong>:</p><ul><li>Necessity of a sophisticated tag system</li><li>Technical approach</li></ul><h2 id="Plugin-hexo-related-posts"><a href="#Plugin-hexo-related-posts" class="headerlink" title="Plugin: hexo-related-posts"></a>Plugin: hexo-related-posts</h2><p><a href="https://github.com/sergeyzwezdin/hexo-related-posts">Sergey Zwezdin</a> made much more effort in his solution. The plugins depends on statistic methodologies like <a href="https://en.wikipedia.org/wiki/Stemming">Stemming</a> and <a href="https://en.wikipedia.org/wiki/Tf%E2%80%93idf">TF&#x2F;IDF</a>, provided by the Node library <a href="https://github.com/NaturalNode/natural">Natural</a>. It has plenty setting options like weighting and reserved words in order to optimize results.</p><p><strong>Advantages</strong>:</p><ul><li>Much better results</li></ul><p><strong>Disadvantages</strong>:</p><ul><li>Huge installation, because of many dependent Node modules</li><li>Necessity of maintaining reserved words</li><li>Technical approach</li></ul><h2 id="Manually-Curated"><a href="#Manually-Curated" class="headerlink" title="Manually Curated"></a>Manually Curated</h2><p>One point, that no technical solution can achieve is: you can guide the reader through your blog, by pointing out posts, which doesn’t really belong to the topic, but tries to give him a wider perspective on your thoughts or work. This is only possible, if you link the related posts manually. Here is a way to implement the requirements…</p><p>The right place to store related posts is in the <a href="https://hexo.io/docs/front-matter.html">Frontmatter</a> of your article. Create a list below the keyword <code>related</code> and take the slug (name of the post file) of the posts you want to show below the article as entries:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> <span class="string">My</span> <span class="string">New</span> <span class="string">fancy</span> <span class="string">Post</span></span><br><span class="line"><span class="attr">related:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">my-other-post</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">one-of-my-first-posts</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">yet-another-post</span></span><br></pre></td></tr></table></figure><p>In your <code>article.ejs</code> add a new partial called <strong>related</strong> to the place where it should be shown under the content of the actual article:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">id</span>=<span class="string">&quot;&lt;%= post.layout %&gt;-&lt;%= post.slug %&gt;&quot;</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">class</span>=<span class="string">&quot;article article-type-&lt;%= post.layout %&gt;&quot;</span> </span></span><br><span class="line"><span class="tag">  <span class="attr">itemscope</span> <span class="attr">itemprop</span>=<span class="string">&quot;blogPost&quot;</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  ...</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-inner&quot;</span>&gt;</span></span><br><span class="line">    &lt;%- post.content %&gt;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  &lt;% if (!index)&#123; %&gt;</span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- NEW RELATED PARTIAL --&gt;</span></span><br><span class="line">    &lt;%- partial(&#x27;post/related&#x27;) %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;%- partial(&#x27;post/comments&#x27;) %&gt;</span><br><span class="line">    &lt;%- partial(&#x27;post/nav&#x27;) %&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure><p>In the folder <code>themes/landscape/layout/_partial/post</code>, where all partials are stored which belongs to posts, create the new partial file:</p><figure class="highlight html"><figcaption><span>related.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (post.related &amp;&amp; post.related.length)&#123; %&gt;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;article-related&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>Related<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;archives&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">&lt;!-- Loop through the Frontmatter list of RELATED posts --&gt;</span>  </span><br><span class="line">      &lt;% post.related.forEach(function(item) &#123; %&gt;</span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--Determine the post(s) with the given slug --&gt;</span>  </span><br><span class="line">        &lt;%</span><br><span class="line">          var posts = site.posts.filter(function(post) &#123;</span><br><span class="line">            return post.slug.toLowerCase() === item.toLowerCase();</span><br><span class="line">          &#125;);</span><br><span class="line">        %&gt;</span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Loop through the post(s) and render the archive panel --&gt;</span></span><br><span class="line">        &lt;% posts.each(function(post) &#123; %&gt;</span><br><span class="line">          &lt;%- partial(&#x27;../archive-post&#x27;, &#123; post: post, show_link: true &#125;) %&gt;</span><br><span class="line">        &lt;% &#125;); %&gt;</span><br><span class="line"></span><br><span class="line">      &lt;% &#125;); %&gt;</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p><small><em>(Remove the comments, because they doesn’t belong to EJS)</em></small></p><p>In this partial we loop through the Frontmatter list of related posts, determine the post by the given slug and render an archive panel for each post.</p><p>The list <code>site.posts</code> should always contain a slug just once, therefore getting an array of posts and looping is just a precuation.</p><p>What you are getting you can see below…</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #3 - Tutorials</title>
      <link href="/post/Discoveries-3-Tutorials/"/>
      <url>/post/Discoveries-3-Tutorials/</url>
      
        <content type="html"><![CDATA[<p>Some articles I stumble upon in my daily routine of reading news and blogs are diving very deep in a certain topic, especially if they are describing the basics of techniques I use every day.</p><p>All of the following reading tips are of the type “ahh, that’s why this works like that” or “uuh, I just scatch on the surface on that”. Take your time and read the articles in detail. We all never stop learning and it’s a pleasure to do so…</p><p><strong>CSS</strong></p>        <ul class="anchorlist">            <li data-anchor="#css-viewport-units">CSS Viewport Units</li><li data-anchor="#grid-for-layout-flexbox-for-components">Grid for layout, Flexbox for components</li><li data-anchor="#how-css-perspective-works">How CSS Perspective Works</li><li data-anchor="#linearly-scale-font-size-with-clamp">Linearly Scale font-size with CSS clamp() Based on the Viewport</li><li data-anchor="#centering-in-css">Learn CSS Centering</li>        </ul>    <p><strong>JavaScript</strong></p>        <ul class="anchorlist">            <li data-anchor="#the-flavors-of-object-oriented-programming">The Flavors of Object-Oriented Programming (in JavaScript)</li><li data-anchor="#understanding-the-event-loop">Understanding the Event Loop, Callbacks, Promises, and Async/Await in JavaScript</li>        </ul>    <span id="more"></span>    <hr id="css-viewport-units"/>    <h2 style="margin-bottom: 10px;">      CSS Viewport Units    </h2>    <small>by Ahmad Shadeed&nbsp;<br><a href="https://ishadeed.com/article/viewport-units">https://ishadeed.com/article/viewport-units</a></small>    <p>Ahmad is a true master of CSS and describes complex topics in an understandable way. Here he deals with the different Viewport Units: how they are calculated and how to use them properly.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://ishadeed.com/article/viewport-units">      <img class="limit" src="css-viewport-units.png" alt="CSS Viewport Units" />    </a>      <hr id="grid-for-layout-flexbox-for-components"/>    <h2 style="margin-bottom: 10px;">      Grid for layout, Flexbox for components    </h2>    <small>by Ahmad Shadeed&nbsp;<br><a href="https://ishadeed.com/article/grid-layout-flexbox-components">https://ishadeed.com/article/grid-layout-flexbox-components</a></small>    <p>Another one from Ahmad. Here he talks about the usage of Grid and&#x2F;or Flexbox. Both techniques have their purpose and he shows when to use this or that.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://ishadeed.com/article/grid-layout-flexbox-components">      <img class="limit" src="grid-for-layout-flexbox-for-components.png" alt="Grid for layout, Flexbox for components" />    </a>      <hr id="how-css-perspective-works"/>    <h2 style="margin-bottom: 10px;">      How CSS Perspective Works    </h2>    <small>by Amit Sheen&nbsp;<br><a href="https://css-tricks.com/how-css-perspective-works">https://css-tricks.com/how-css-perspective-works</a></small>    <p>Amit shows in this tutorial how to deal with perspective on using transform and animation in CSS. A true eye opener…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/how-css-perspective-works">      <img class="limit" src="how-css-perspective-works.png" alt="How CSS Perspective Works" />    </a>      <hr id="linearly-scale-font-size-with-clamp"/>    <h2 style="margin-bottom: 10px;">      Linearly Scale font-size with CSS clamp() Based on the Viewport    </h2>    <small>by Pedro Rodriguez&nbsp;<br><a href="https://css-tricks.com/linearly-scale-font-size-with-css-clamp-based-on-the-viewport">https://css-tricks.com/linearly-scale-font-size-with-css-clamp-based-on-the-viewport</a></small>    <p>Few of us really deal with repsonsive typography. We fiddle arounf with <code>line-height</code> and <code>font-size</code> to achieve an B+ effect. Pedro shows how do it right with <code>clamp()</code> … and it is amazing.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/linearly-scale-font-size-with-css-clamp-based-on-the-viewport">      <img class="limit" src="linearly-scale-font-size-with-clamp.png" alt="Linearly Scale font-size with CSS clamp() Based on the Viewport" />    </a>      <hr id="centering-in-css"/>    <h2 style="margin-bottom: 10px;">      Centering in CSS    </h2>    <small>by Ahmad Shadeed&nbsp;<br><a href="https://ishadeed.com/article/learn-css-centering">https://ishadeed.com/article/learn-css-centering</a></small>    <p>Ahmad again (I told you, he is amazing). In this tutorial he goes through every technique to center stuff in CSS. Never again google ‘center text flexbox’…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://ishadeed.com/article/learn-css-centering">      <img class="limit" src="centering-in-css.png" alt="Centering in CSS" />    </a>      <hr id="the-flavors-of-object-oriented-programming"/>    <h2 style="margin-bottom: 10px;">      The Flavors of Object-Oriented Programming (in JavaScript)    </h2>    <small>by Zell Liew&nbsp;<br><a href="https://css-tricks.com/the-flavors-of-object-oriented-programming-in-javascript">https://css-tricks.com/the-flavors-of-object-oriented-programming-in-javascript</a></small>    <p>There are different methods to ‘organize’ your JavaScript code. Zell shows the possibilities and pitfalls of techniques like Constructor Functions, Classes, Factory Functions and OLOO. Huge post, but couldn’t stop reading…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/the-flavors-of-object-oriented-programming-in-javascript">      <img class="limit" src="the-flavors-of-object-oriented-programming.png" alt="The Flavors of Object-Oriented Programming (in JavaScript)" />    </a>      <hr id="understanding-the-event-loop"/>    <h2 style="margin-bottom: 10px;">      Understanding the Event Loop, Callbacks, Promises, and Async/Await in JavaScript    </h2>    <small>by Tania Rascia&nbsp;<br><a href="https://www-digitalocean-com.cdn.ampproject.org/v/s/www.digitalocean.com/community/tutorials/understanding-the-event-loop-callbacks-promises-and-async-await-in-javascript.amp?usqp=mq331AQFKAGwASA%3D&amp_js_v=0.1">https://www-digitalocean-com.cdn.ampproject.org/v/s/www.digitalocean.com/community/tutorials/understanding-the-event-loop-callbacks-promises-and-async-await-in-javascript.amp?usqp=mq331AQFKAGwASA%3D&amp_js_v=0.1</a></small>    <p>Tanias deep knowledge of asynchronous JavaScript techniques and its basics is as long as this tutorials title and its Url. A must-read.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://www-digitalocean-com.cdn.ampproject.org/v/s/www.digitalocean.com/community/tutorials/understanding-the-event-loop-callbacks-promises-and-async-await-in-javascript.amp?usqp=mq331AQFKAGwASA%3D&amp_js_v=0.1">      <img class="limit" src="understanding-the-event-loop.png" alt="Understanding the Event Loop, Callbacks, Promises, and Async/Await in JavaScript" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
            <tag> Tutorial </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Device Class Detection in JavaScript</title>
      <link href="/post/Device-Class-Detection-in-JavaScript/"/>
      <url>/post/Device-Class-Detection-in-JavaScript/</url>
      
        <content type="html"><![CDATA[<p>In some occasions it is necessary to know which device a user is using while writing JavaScript Web Apps. Should be nothing regarding layout, because for this we have <a href="https://developer.mozilla.org/de/docs/Web/CSS/Media_Queries/Using_media_queries"><code>CSS Media Queries</code></a>. </p><p>Somewhere around 2011 W3C introduced <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia"><code>matchMedia()</code></a>, which <em>returns a MediaQueryList object that can be used to detemnine if the document matches the media query string.</em> The using is pretty straightforward and feels a bit like RegEx matching in JS:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mediaQuery = <span class="variable language_">window</span>.<span class="title function_">matchMedia</span>(<span class="string">&#x27;(min-width: 1025px)&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> (mediaQuery.<span class="property">matches</span>) &#123;</span><br><span class="line">  <span class="comment">// do something...  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>If you are interested in this API, you will find good introductions to the topic <a href="https://css-tricks.com/working-with-javascript-media-queries/">here</a>, <a href="https://hacks.mozilla.org/2012/06/using-window-matchmedia-to-do-media-queries-in-javascript/">here</a> and <a href="https://www.mediaevent.de/javascript/window-matchMedia.html">here (German)</a>.</p><p>One point of criticism on this pure JS approach can be, that you have to maintain the breakpoints in addition to CSS … <strong>but why not use these existing breakpoints in JS</strong>?</p><span id="more"></span><p>If you implement a feature that is based on the different device classes, you don’t have to determine the current class with dozens of lines of JavaScript code, if you just can ask the DOM.</p><h2 id="The-CSS-x2F-JS-Breakpoint-Hack"><a href="#The-CSS-x2F-JS-Breakpoint-Hack" class="headerlink" title="The CSS&#x2F;JS Breakpoint Hack"></a>The CSS&#x2F;JS Breakpoint Hack</h2><p>For this approach, we take advantage of the fact, that CSS can be used to define not only styles, but also content. We always use it, when showing an icon by using a symbol font like FontAwesome:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">my-fancy-<span class="attribute">icon</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: FontAwesome5Solid;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&quot;\f186&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Mixed with a <code>@media</code> rule, we can “inject” the needed device value into the DOM, for example into the <code>BODY</code> tag, but you can take whatever you want:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">min-width</span>: <span class="number">1025px</span>) &#123;</span><br><span class="line">  <span class="selector-tag">body</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;DESKTOP&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Just one line more in the masses of CSS code to make a Web App responsive, but with this one you can do without many lines of JS.</p><p>Now you can read out this value via JavaScript by getting the styles of the tag and get the injected content:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> style = <span class="variable language_">window</span>.<span class="title function_">getComputedStyle</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;body&quot;</span>), <span class="string">&quot;:before&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> breakpoint = style.<span class="title function_">getPropertyValue</span>(<span class="string">&quot;content&quot;</span>).<span class="title function_">replace</span>(<span class="regexp">/\&quot;/g</span>, <span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure><p>It is advisable to embed this request into an event listener of <code>DOMContentLoaded</code>, because the rule has to be set, before you can access it.</p><p>See a simple working pen:</p>    <iframe height="400"         id="codepen-WNwWjBR"        class="codepen"        src="https://codepen.io/kristofzerbe/embed/WNwWjBR?height=400&default-tab=css&theme-id=dark"        style="width: 100%;"         scrolling="no"         title="Codepen: CSS/JS Breakpoint Hack"         frameborder="no"         loading="lazy"         allowtransparency="true"         allowfullscreen="true">    </iframe>  ]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Browser </tag>
            
            <tag> CSS </tag>
            
            <tag> MediaQuery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>404 Page in Hexo for GitHub Pages</title>
      <link href="/post/404-Page-in-Hexo-for-GitHub-Pages/"/>
      <url>/post/404-Page-in-Hexo-for-GitHub-Pages/</url>
      
        <content type="html"><![CDATA[<p>As this blog is a static one, generated by <a href="https://hexo.io/">Hexo</a> and hostet at <a href="https://pages.github.com/">GitHub</a>, the page which was shown, when a user enters an Url which points to nowhere, was the default GitHub 404 page.</p><p><img src="/post/404-Page-in-Hexo-for-GitHub-Pages/github-404-page.png" alt="GitHub 404 Page"></p><span id="more"></span><p>Not optimal and should be solved by an own Hexo page, because <strong>GitHub Pages allows you to deliver a custom 404 page</strong> by creating simply a <code>404.html</code> in the root of the website.</p><p>As you can create separate pages in Hexo, this is done quickly by:</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page &quot;<span class="number">404</span>&quot;</span><br></pre></td></tr></table></figure><p>It generates a new folder named <code>404</code> in your <code>source</code> folder, where a <code>index.md</code> is placed. In this file you can enter the text as Markdown  you want to show to the user, in case of a 404 error (page not found) occurs.</p><p>On generating the static files by <code>hexo generate</code>, a subfolder <code>404</code> with a <code>index.html</code> will be created, which doesn’t really work with GitHub Pages, because it needs a <code>404.htm</code> in the root.</p><p>You can fix this, by defining the <code>permalink</code> in the Frontmatter of your page:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="number">404</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">/404.html</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>Example … click here: <a href="https://kiko.io/no-page-here">https://kiko.io/no-page-here</a></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> GitHub </tag>
            
            <tag> Error </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pimping the Permalink</title>
      <link href="/post/Pimping-the-Permalink/"/>
      <url>/post/Pimping-the-Permalink/</url>
      
        <content type="html"><![CDATA[<p>Until now I did not show the permalink under my posts in this blog, but in the past I had sometimes the need to pass one of the links and it was not very user-friendly, on desktop as well as on mobile. Not the One-Click experience I prefer.</p><p>My goal was to show the permalink and, even more important, provide a simple way to copy and to share. JavaScript to the rescue…</p><span id="more"></span><h2 id="Display"><a href="#Display" class="headerlink" title="Display"></a>Display</h2><p>As I run my blog with <a href="https://hexo.io/">Hexo</a>, I deal with <code>EJS</code> files. To show the permalink in my <code>article.ejs</code>, was quite simple. First step was to create a new partial file named <code>permalink.ejs</code>, to be called every time when the complete article has to be rendered:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (!index)&#123; %&gt;</span><br><span class="line">  &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;post/permalink&#x27;</span>, &#123; <span class="attr">class_name</span>: <span class="string">&#x27;article-permalink&#x27;</span> &#125;) %&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>The partial file looked like this in this step:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;&lt;%= class_name %&gt;&quot;</span>&quot;&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;article-permalink&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%- post.permalink %&gt;&quot;</span>&gt;</span>&lt;%- post.permalink %&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Copy"><a href="#Copy" class="headerlink" title="Copy"></a>Copy</h2><p>As I read a little bit about the possibilities to copy text into the clipboard via JavaScript on <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard">MDN</a>, it became obvious that a link is not the best solution, because using the <code>exeCommand</code> needs to have something selected and this is difficult on anchors. Then … do it with an input:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;&lt;%= class_name %&gt;&quot;</span>&quot;&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;article-permalink&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;%- post.permalink %&gt;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;action-copy&quot;</span> <span class="attr">class</span>=<span class="string">&quot;article-action&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:copyPermalink();&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> copyText = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#article-permalink&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  </span></span><br><span class="line"><span class="language-javascript">  <span class="comment">//Disable Input by default</span></span></span><br><span class="line"><span class="language-javascript">  copyText.<span class="property">disabled</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">copyPermalink</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//Enable Input</span></span></span><br><span class="line"><span class="language-javascript">    copyText.<span class="property">disabled</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//Select permalink text</span></span></span><br><span class="line"><span class="language-javascript">    copyText.<span class="title function_">select</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//Copy to clipboard</span></span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;copy&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//Remove selection again</span></span></span><br><span class="line"><span class="language-javascript">    copyText.<span class="title function_">blur</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//Disable Input again</span></span></span><br><span class="line"><span class="language-javascript">    copyText.<span class="property">disabled</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Nice, but a user feedback, that the text has been copied to the clipboard, was advisable, because nothing is more annoying, when you click somewhere and nothing seems to happen. As I hate default browser confirmations and other distracting messaging methods, I wanted to use the input itself, by fading out the link text, replace it with a message and fade in the text again:</p><p><img src="/post/Pimping-the-Permalink/copy-animation.gif" alt="Copy Animation"></p><p>I extended my <code>animation.styl</code> (Hexo works with <a href="https://stylus-lang.com/">Stylus</a>) with two keyframe animations … one for fading in, one for fading out…</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> fadeIn &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.fade-in-500</span></span><br><span class="line">  <span class="attribute">animation</span>: fadeIn ease <span class="number">0.5s</span>;</span><br><span class="line"><span class="selector-class">.fade-in-1000</span></span><br><span class="line">  <span class="attribute">animation</span>: fadeIn ease <span class="number">1s</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> fadeOut &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>:<span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.fade-out-500</span></span><br><span class="line">  <span class="attribute">animation</span>: fadeOut ease <span class="number">0.5s</span>;</span><br><span class="line"><span class="selector-class">.fade-out-1000</span></span><br><span class="line">  <span class="attribute">animation</span>: fadeOut ease <span class="number">1s</span>;</span><br></pre></td></tr></table></figure><p>… and wrote a setTimeout cascade to achive the effect:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;&lt;%= class_name %&gt;&quot;</span>&quot;&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;article-permalink&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;%- post.permalink %&gt;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;article-action action-copy&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:copyPermalink();&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> copyText = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#article-permalink&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  copyText.<span class="property">disabled</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">function</span> <span class="title function_">copyPermalink</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      copyText.<span class="property">disabled</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">      copyText.<span class="title function_">select</span>();</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;copy&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">      copyText.<span class="title function_">blur</span>();</span></span><br><span class="line"><span class="language-javascript">      copyText.<span class="property">disabled</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//Store original text</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> permalink = copyText.<span class="property">value</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//Start fading out</span></span></span><br><span class="line"><span class="language-javascript">    copyText.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;fade-out-500&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//Wait until animation is done</span></span></span><br><span class="line"><span class="language-javascript">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//Set message, remove fadout class and add start fading in</span></span></span><br><span class="line"><span class="language-javascript">        copyText.<span class="property">value</span> = <span class="string">&quot;copied to clipboard&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        copyText.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;fade-out-500&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        copyText.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;fade-in-1000&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//Wait 2 seconds to show the message</span></span></span><br><span class="line"><span class="language-javascript">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//Start to fade out message</span></span></span><br><span class="line"><span class="language-javascript">            copyText.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;fade-out-500&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//Wait until animation is done</span></span></span><br><span class="line"><span class="language-javascript">            <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//Set original text again and remove fadout class</span></span></span><br><span class="line"><span class="language-javascript">                copyText.<span class="property">value</span> = permalink;</span></span><br><span class="line"><span class="language-javascript">                copyText.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;fade-out-500&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//Wait until animation is done</span></span></span><br><span class="line"><span class="language-javascript">                <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//Remove fadeout class</span></span></span><br><span class="line"><span class="language-javascript">                    copyText.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;fade-in-1000&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">                &#125;, <span class="number">500</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;, <span class="number">500</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;, <span class="number">2000</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;, <span class="number">500</span>);</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Share"><a href="#Share" class="headerlink" title="Share"></a>Share</h2><p>The second permalink feature was a little bit trickier, because I didn’t want to use one of the sharing libraries out there, whose business model is based on my readers data (always keep conservative on implementing third party stuff, because you never know what they are doing with the data). But a couple of months ago I read about a new native browser API for WebApps on the rise: <strong>Web Share API</strong>.</p><p>Since 2019 <a href="https://www.w3.org/">W3C</a> is working on this API, <em>for sharing text, links and other content to an arbitrary destination of the user’s choice</em>. On 27 August 2020 the published a <a href="https://www.w3.org/TR/web-share/">Working Draft</a> and on 16 September 2020 the latest <a href="https://w3c.github.io/web-share/">Editors Draft</a>.</p><p><img src="/post/Pimping-the-Permalink/caniuse-web-share.png" alt="Can I Use - Web Share, state today"></p><p>Brand new stuff. The browser support is not the best yet, but it will be getting better in the near feature, especially as Edge Chrome is one of the early adopters.</p><p><img src="/post/Pimping-the-Permalink/web-share-edge-chrome.png" alt="Web Share in Edge Chrome"></p><p><a href="https://web.dev/web-share/">web.dev</a> lists important requirements on using this new feature in JavaScript:</p><ul><li>It can only be used on a site that supports HTTPS</li><li>It must be invoked in response to a user action such as a click</li></ul><p>But it can share URL’s, text and even files! </p><p>A raw implementation can be:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (navigator.<span class="property">share</span> === <span class="literal">undefined</span>) &#123;</span><br><span class="line">  navigator.<span class="title function_">share</span>(&#123;</span><br><span class="line">    <span class="attr">title</span>: <span class="string">&#x27;My Post&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;https://my-domain.com/my-url&#x27;</span>,</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function">() =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Successful share&#x27;</span>))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Error sharing&#x27;</span>, error));</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// fallback</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>I refrain to implement a fallback, rather I would like to show the appropriate button only to those users, whose browser supports it:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;&lt;%= class_name %&gt;&quot;</span>&quot;&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;article-permalink&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&lt;%- post.permalink %&gt;&quot;</span> <span class="attr">data-id</span>=<span class="string">&quot;&lt;%= post._id %&gt;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;action-copy&quot;</span> <span class="attr">class</span>=<span class="string">&quot;article-action&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:copyPermalink();&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">id</span>=<span class="string">&quot;action-share&quot;</span> <span class="attr">class</span>=<span class="string">&quot;article-action&quot;</span> <span class="attr">href</span>=<span class="string">&quot;javascript:sharePermalink();&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">copyPermalink</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      -- <span class="variable constant_">SEE</span> <span class="variable constant_">ABOVE</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (navigator.<span class="property">share</span> === <span class="literal">undefined</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> shareLink = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#action-share&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">        shareLink.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">sharePermalink</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        navigator.<span class="title function_">share</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>: <span class="string">&quot;&lt;%- post.title %&gt;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">url</span>: <span class="string">&quot;&lt;%- post.permalink %&gt;&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">        &#125;)</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>w3c.github.io: <a href="https://w3c.github.io/web-share/demos/share-files.html">W3C Web Share Test</a></li><li>heise Developer: <a href="https://www.heise.de/developer/artikel/Features-von-uebermorgen-Die-Web-Share-API-und-die-Web-Share-Target-API-3506197.html">Features von übermorgen: Die Web Share API und die Web Share Target API (German)</a></li><li>CSS-Tricks: <a href="https://css-tricks.com/how-to-use-the-web-share-api/">How to Use the Web Share API</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> CSS </tag>
            
            <tag> Stylus </tag>
            
            <tag> Share </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #2</title>
      <link href="/post/Discoveries-2/"/>
      <url>/post/Discoveries-2/</url>
      
        <content type="html"><![CDATA[<p>New month, new discoveries. We will deal with key bindings, downloads on the fly, a lot of animations and contrasting images. Have fun, trying out these stunning solutions.</p>        <ul class="anchorlist">            <li data-anchor="#tinykeys">tinykeys - Modern library for keybindings</li><li data-anchor="#creating-files-in-javascript">Creating files in JavaScript in your browser</li><li data-anchor="#css-animated-fonts">CSS Animated Google Fonts</li><li data-anchor="#skeleton-screen-css">Skeleton Screen CSS</li><li data-anchor="#more-control-over-css-borders">More Control Over CSS Borders With background-image</li><li data-anchor="#css-only-animated-wrapping-underline">A CSS-only, animated, wrapping underline</li><li data-anchor="#nailing-the-perfect-contrast">Nailing the Perfect Contrast Between Light Text and a Background Image</li><li data-anchor="#contrast-js">Contrast.js</li>        </ul>    <span id="more"></span>    <hr id="tinykeys"/>    <h2 style="margin-bottom: 10px;">      tinykeys - Modern library for keybindings    </h2>    <small>by Jamie Kyle&nbsp;<br><a href="https://jamiebuilds.github.io/tinykeys">https://jamiebuilds.github.io/tinykeys</a></small>    <p>Very easy to use key binding library for JavaScript. Supports key sequences and modifier keys.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://jamiebuilds.github.io/tinykeys">      <img class="limit" src="tinykeys.png" alt="tinykeys - Modern library for keybindings" />    </a>      <hr id="creating-files-in-javascript"/>    <h2 style="margin-bottom: 10px;">      Creating files in JavaScript in your browser    </h2>    <small>by Kilian Valkhof&nbsp;<br><a href="https://kilianvalkhof.com/2020/javascript/creating-files-in-javascript-in-your-browser">https://kilianvalkhof.com/2020/javascript/creating-files-in-javascript-in-your-browser</a></small>    <p>Kilian shows how to prepare data in JavaScript and offer them to download on the fly, without the use of storing a file.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://kilianvalkhof.com/2020/javascript/creating-files-in-javascript-in-your-browser">      <img class="limit" src="creating-files-in-javascript.png" alt="Creating files in JavaScript in your browser" />    </a>      <hr id="css-animated-fonts"/>    <h2 style="margin-bottom: 10px;">      CSS Animated Google Fonts    </h2>    <small>by Jhey Tompkins&nbsp;<br><a href="https://dev.to/jh3y/animated-google-fonts-193d">https://dev.to/jh3y/animated-google-fonts-193d</a></small>    <p>As Google Fonts now supports variable fonts, Jhey shows a solution how to create neat font animations with them.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://dev.to/jh3y/animated-google-fonts-193d">      <img class="limit" src="css-animated-fonts.png" alt="CSS Animated Google Fonts" />    </a>      <hr id="skeleton-screen-css"/>    <h2 style="margin-bottom: 10px;">      Skeleton Screen CSS    </h2>    <small>by Dmitriy Kuznetsov&nbsp;<br><a href="https://github.com/nullilac/skeleton-screen-css">https://github.com/nullilac/skeleton-screen-css</a></small>    <p>When loading data on demand, it is sometimes advisable to show placeholders, where the data will be filled in. Dimitriy has founded a CSS framework for these skeletons.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/nullilac/skeleton-screen-css">      <img class="limit" src="skeleton-screen-css.png" alt="Skeleton Screen CSS" />    </a>      <hr id="more-control-over-css-borders"/>    <h2 style="margin-bottom: 10px;">      More Control Over CSS Borders With background-image    </h2>    <small>by Chris Coyier&nbsp;<br><a href="https://css-tricks.com/more-control-over-css-borders-with-background-image">https://css-tricks.com/more-control-over-css-borders-with-background-image</a></small>    <p>Borders are used to seperate things in a layout, but the build-in possibilities of CSS are restricted. Chris found a way by pimping borders up, using background images.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/more-control-over-css-borders-with-background-image">      <img class="limit" src="more-control-over-css-borders.png" alt="More Control Over CSS Borders With background-image" />    </a>      <hr id="css-only-animated-wrapping-underline"/>    <h2 style="margin-bottom: 10px;">      A CSS-only, animated, wrapping underline    </h2>    <small>by Nicky Meuleman&nbsp;<br><a href="https://nickymeuleman.netlify.app/blog/css-animated-wrapping-underline">https://nickymeuleman.netlify.app/blog/css-animated-wrapping-underline</a></small>    <p>As Chris did for the borders, Nick’s doing on underlined links. An end to boring rigid unterlines, let’s animate them.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://nickymeuleman.netlify.app/blog/css-animated-wrapping-underline">      <img class="limit" src="css-only-animated-wrapping-underline.png" alt="A CSS-only, animated, wrapping underline" />    </a>      <hr id="nailing-the-perfect-contrast"/>    <h2 style="margin-bottom: 10px;">      Nailing the Perfect Contrast Between Light Text and a Background Image    </h2>    <small>by Yaphi Berhanu&nbsp;<br><a href="https://css-tricks.com/nailing-the-perfect-contrast-between-light-text-and-a-background-image">https://css-tricks.com/nailing-the-perfect-contrast-between-light-text-and-a-background-image</a></small>    <p>Showing text on background images can be challenging due to contrast and readability. Yaphi has developed a solution to find always the right transparent overlay to show the most of the picture, but keep the text readable. Stunning…</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/nailing-the-perfect-contrast-between-light-text-and-a-background-image">      <img class="limit" src="nailing-the-perfect-contrast.png" alt="Nailing the Perfect Contrast Between Light Text and a Background Image" />    </a>      <hr id="contrast-js"/>    <h2 style="margin-bottom: 10px;">      Contrast.js    </h2>    <small>by Misha Petrov&nbsp;<br><a href="https://github.com/MishaPetrov/Contrast.js">https://github.com/MishaPetrov/Contrast.js</a></small>    <p>Misha addresses the same problem as Yaphi, showing text on background images, but goes a different way with his library, which is trying to find the best constrasting text color, even if the page is responsive.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/MishaPetrov/Contrast.js">      <img class="limit" src="contrast-js.png" alt="Contrast.js" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Add website to Trello card the better way</title>
      <link href="/post/Add-website-to-Trello-card-the-better-way/"/>
      <url>/post/Add-website-to-Trello-card-the-better-way/</url>
      
        <content type="html"><![CDATA[<p>I was looking for a new way to store interesting website articles for reading later, as Pocket, my favourite tool until here, gets worse and worse. As I am a big <a href="https://trello.com/">Trello</a> fan, I wanted to give it a chance to be Pockets successor on my smartphone, where I’m reading mostly.</p><p>On installing the Trello Android app, you will find a new SHARE target <strong>Add new Trello card</strong>, which is comfortable to use:</p><p>(Sry, for the German screenshots ;)</p><p><img src="/post/Add-website-to-Trello-card-the-better-way/android-share-website.png" alt="Android&#39;s default share with New Trello Card"></p><p>The result, website’s title and Url set, is nice at best:</p><p><img src="/post/Add-website-to-Trello-card-the-better-way/card-via-share.png" alt="Trello card via Android Share"></p><p>… but Trello has a <strong><a href="https://trello.com/add-card">Bookmarklet</a></strong>, which does the job much better.</p><span id="more"></span>    <div class="alertbox alertbox-info">      <p>The following approach works best in the Google Chrome browser.</p>    </div>  <p>First, a Bookmarklet is a small piece of JavaScript, which is stored as a bookmark in your browser. As you can’t actually create such a Bookmarklet in your Android Chrome, you have to create it in your desktop Chrome and switch on the bookmark sync of chrome. You should right away choose a short, concise name for the bookmark, so you find it easier in Android Chrome afterwards. I called it <strong>2TrelloCard</strong>, because few websites start with an number.</p><p>After Chrome’s sync is done, go to any website do you want to store as a Trello card. Now enter the Url box and type the name of the bookmarklet and select it.</p><p>Instead of requesting a different page, Chrome executes the JavaScript of the Bookmarklet against the currently open website. This script shows a Trello dialog, where you can choose, which board and list the new card should be created on.</p><p><img src="/post/Add-website-to-Trello-card-the-better-way/open-bookmarklet.gif" alt="Open Bookmarklet on Website in Android Chrome"></p><p>This card creation method not only sets the title of the card, but fills the description with the <a href="https://en.wikipedia.org/wiki/Meta_element">meta description</a> of the page, adds the first found meta image as cover and adds the Url as an attachment:</p><p><img src="/post/Add-website-to-Trello-card-the-better-way/card-via-bookmarklet.png" alt="Trello card via Bookmarklet"></p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Browser </tag>
            
            <tag> Trello </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Horizontal navigation menu above an image</title>
      <link href="/post/Horizontal-navigation-menu-above-an-image/"/>
      <url>/post/Horizontal-navigation-menu-above-an-image/</url>
      
        <content type="html"><![CDATA[<p>I changed the main menu of my blog, because I wanted to get rid of the hamburger menu on the upper left, which was shown only for smartphones, but was not really reachable conveniently. Beside that it made no sense to have different navigations for different devices.</p><p>My choice was to implement a horizontal scrolling menu, which can grow over the time, without any need of customizing. As I have quite big header images and I wanted to place the new navigation in a more accessible zone, I decided to place it at the bottom, but above the header image.</p><span id="more"></span><p>Problem was, not to cover a big part of the image with a full-colored or even semitransparent bar, by using a RGBA background color. I wanted it more translucent, but with enough contrast on bright images for the menu items to read.</p><p>The recently introduced W3C feature <code>backdrop-filter</code> was just the right thing for that. It is <a href="https://caniuse.com/#feat=css-backdrop-filter">supported by most modern browsers</a>, but it has to have a backup strategy for the rest of the bunch.</p><p>The HTML is simple: </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">id</span>=<span class="string">&quot;header-nav&quot;</span> <span class="attr">role</span>=<span class="string">&quot;navigation&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;menu&quot;</span>&gt;</span>        </span><br><span class="line">  </span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/first&quot;</span> <span class="attr">title</span>=<span class="string">&quot;First&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>First Item<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;menu-item&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/second&quot;</span> <span class="attr">title</span>=<span class="string">&quot;Second&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>Second Item<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure><p>And here’s the <a href="https://stylus-lang.com/docs">Stylus</a> code for my approach:</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#header-nav</span></span><br><span class="line">  <span class="attribute">position</span>: absolute</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">  <span class="attribute">height</span>: auto</span><br><span class="line">  <span class="attribute">box-sizing</span>: content-box</span><br><span class="line">  <span class="attribute">overflow-x</span>: scroll</span><br><span class="line">  <span class="attribute">overflow-y</span>: hidden</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// BACKDROP-FILTER</span></span><br><span class="line">  backdrop-<span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">5px</span>) <span class="built_in">brightness</span>(<span class="number">90%</span>)</span><br><span class="line">  @supports not (backdrop-<span class="attribute">filter</span>: none)</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.25</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// SCROLLBAR</span></span><br><span class="line">  &amp;::-webkit-scrollbar</span><br><span class="line">    <span class="attribute">display</span>: none</span><br><span class="line">  @supports not (webkit-scrollbar)  </span><br><span class="line">    <span class="attribute">scrollbar-width</span>: none</span><br><span class="line">  </span><br><span class="line">  <span class="selector-class">.menu</span></span><br><span class="line">    <span class="attribute">display</span>: flex</span><br><span class="line">    <span class="attribute">list-style</span>: none</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="selector-class">.menu-item</span></span><br><span class="line">      <span class="attribute">flex-basis</span>: <span class="number">80px</span> </span><br><span class="line">      <span class="attribute">flex-shrink</span>: <span class="number">0</span></span><br><span class="line">      <span class="attribute">flex-grow</span>: <span class="number">1</span></span><br><span class="line">      <span class="attribute">max-width</span>: <span class="number">100px</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">2px</span></span><br><span class="line">      <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">      </span><br><span class="line">      <span class="selector-tag">a</span></span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">0</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#ffffff</span></span><br><span class="line">        <span class="attribute">font-weight</span>: bold</span><br><span class="line">        <span class="attribute">text-decoration</span>: none</span><br><span class="line">        <span class="attribute">text-align</span>: center        </span><br></pre></td></tr></table></figure><p>The navigation box is <code>absolute</code> positioned on the image, is as wide as the screen and scrolls exclusively horizontal. The items are a unordered list, with default width and arranged by <code>flex</code>.</p><p>In case a browser doesn’t understand <code>backdrop-filter</code>, the navigation bar is shown with a classic alpha channel opacity.</p><p>When having a horizontal scroll feature, the scrollbar shown by the browser is beyond beautiful. To prevent this, I used the CSS pseudo element <code>::-webkit-scrollbar</code>, which is supported by WebKit and Blink bowsers, with a fallback for all other browsers. Both strategies allows to be still able to scroll. If you want to have a scrollbar, but not the built-in, I can only recommend to read something about styling scrollbars, like <a href="https://css-tricks.com/custom-scrollbars-in-webkit/">here</a> and <a href="https://css-tricks.com/the-current-state-of-styling-scrollbars/">here</a>.</p>]]></content>
      
      
      <categories>
          
          <category> UI/UX </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CSS </tag>
            
            <tag> Stylus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Change CSS class when element scrolls into viewport</title>
      <link href="/post/Change-CSS-class-when-element-scrolls-into-viewport/"/>
      <url>/post/Change-CSS-class-when-element-scrolls-into-viewport/</url>
      
        <content type="html"><![CDATA[<p>I had a neat visual gimmick on the start page of this blog, that the gray-scaled header image of a post in the list scaled up to 100% and became colored, when the user hovered over it:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-inner</span> <span class="selector-class">.article-photo</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">object-fit</span>: cover;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="attribute">transform-style</span>: preserve-<span class="number">3</span>d;</span><br><span class="line">  <span class="attribute">transition</span>: all ease-out <span class="number">0.6s</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.3</span>;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">1</span>) <span class="built_in">contrast</span>(<span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.article-inner</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.article-photo</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">0</span>) <span class="built_in">contrast</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Nice, but a little bit useless on smartphones or tablets, where HOVER  doesn’t really work.</p><span id="more"></span><p>A better idea was to transform the header image automatically, when it becomes visible to the user. So I changed the HOVER selector into a class…</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.article-photo</span><span class="selector-class">.in-view</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">0</span>) <span class="built_in">contrast</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>… and wrote a little JS function to determine the point, where the images is fully visible in the viewport:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isVisibleInViewPort</span>(<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> viewTop = $(<span class="variable language_">window</span>).<span class="title function_">scrollTop</span>();</span><br><span class="line">  <span class="keyword">var</span> viewBottom = viewTop + $(<span class="variable language_">window</span>).<span class="title function_">height</span>();</span><br><span class="line">  <span class="keyword">var</span> eTop = $(e).<span class="title function_">offset</span>().<span class="property">top</span>;</span><br><span class="line">  <span class="keyword">var</span> eBottom = eTop + $(e).<span class="title function_">height</span>();</span><br><span class="line">  <span class="keyword">return</span> ((eBottom &lt;= viewBottom) &amp;&amp; (eTop &gt;= viewTop));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This function I had to bind to the windows scroll event to all header images only:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="variable language_">window</span>).<span class="title function_">on</span>(<span class="string">&#x27;scroll&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  $(<span class="string">&quot;.article-photo&quot;</span>).<span class="title function_">each</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">isVisibleInViewPort</span>($(<span class="variable language_">this</span>))) &#123;</span><br><span class="line">      $(<span class="variable language_">this</span>).<span class="title function_">addClass</span>(<span class="string">&quot;in-view&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      $(<span class="variable language_">this</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;in-view&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jQuery </tag>
            
            <tag> CSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Discoveries #1</title>
      <link href="/post/Discoveries-1/"/>
      <url>/post/Discoveries-1/</url>
      
        <content type="html"><![CDATA[<p>Due to my daily routine, I’m reading a lot of articles on the web regarding software development. </p><p>The most interesting stuff ends up on my Pocket list, which grows from day to day. Hard to find the pearls, when I need them. This recurring posts will throw a stroke of light on them.</p><p>They are maybe not the newest finds, not the fanciest ones, but remarkable for me and maybe for you also.</p>        <ul class="anchorlist">            <li data-anchor="#pure-css-halftone">Pure CSS halftone portrait from .jpg source</li><li data-anchor="#scrolltrigger-highlight-text">ScrollTrigger - Highlight Text</li><li data-anchor="#long-press-event-handler">Tiny long-press event handler</li><li data-anchor="#show-more">Show More/Less</li><li data-anchor="#3d-banners-with-scrolltrigger">3D banners with ScrollTrigger</li><li data-anchor="#image-compare-viewer">Image Compare Viewer</li><li data-anchor="#read-progress-bar">Add Read or Scroll Progress Bar To A Website To Indicate Read Progress</li><li data-anchor="#get-pwa-into-play-store">How to Get a Progressive Web App into the Google Play Store</li>        </ul>    <span id="more"></span>    <hr id="pure-css-halftone"/>    <h2 style="margin-bottom: 10px;">      Pure CSS halftone portrait from .jpg source    </h2>    <small>by Ana Tudor&nbsp;<br><a href="https://codepen.io/thebabydino/pen/LYGGwrm">https://codepen.io/thebabydino/pen/LYGGwrm</a></small>    <p>Ana, author at <a href="https://css-tricks.com/author/thebabydino/">CSS Tricks</a>, shows a CSS-only technique to convert an image into a halftone one.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/thebabydino/pen/LYGGwrm">      <img class="limit" src="pure-css-halftone.jpg" alt="Pure CSS halftone portrait from .jpg source" />    </a>      <hr id="scrolltrigger-highlight-text"/>    <h2 style="margin-bottom: 10px;">      ScrollTrigger - Highlight Text    </h2>    <small>by Ryan Mulligan&nbsp;<br><a href="https://codepen.io/hexagoncircle/details/gOPMwvd">https://codepen.io/hexagoncircle/details/gOPMwvd</a></small>    <p>We all highlight important text passages for our readers. Ryan does the in an unusual, butt cool way by using GSAP ScrollTrigger.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/hexagoncircle/details/gOPMwvd">      <img class="limit" src="scrolltrigger-highlight-text.jpg" alt="ScrollTrigger - Highlight Text" />    </a>      <hr id="long-press-event-handler"/>    <h2 style="margin-bottom: 10px;">      Tiny long-press event handler    </h2>    <small>by MudOnTire&nbsp;<br><a href="https://github.com/MudOnTire/web-long-press">https://github.com/MudOnTire/web-long-press</a></small>    <p>Vanilla JS multi-instance handling of long press event the easy way.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/MudOnTire/web-long-press">      <img class="limit" src="long-press-event-handler.jpg" alt="Tiny long-press event handler" />    </a>      <hr id="show-more"/>    <h2 style="margin-bottom: 10px;">      Show More/Less    </h2>    <small>by Grzegorz Tomicki&nbsp;<br><a href="https://github.com/tomik23/show-more">https://github.com/tomik23/show-more</a></small>    <p>Grzegorz’s little JS helper to cut texts, lists and even tables and show a MORE link.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://github.com/tomik23/show-more">      <img class="limit" src="show-more.jpg" alt="Show More/Less" />    </a>      <hr id="3d-banners-with-scrolltrigger"/>    <h2 style="margin-bottom: 10px;">      3D banners with ScrollTrigger    </h2>    <small>by supamike&nbsp;<br><a href="https://codepen.io/supamike/full/KKVqXmR">https://codepen.io/supamike/full/KKVqXmR</a></small>    <p>Awesome 3D effect on scrolling made with <a href="https://greensock.com/scrolltrigger/">ScrollTrigger</a>.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://codepen.io/supamike/full/KKVqXmR">      <img class="limit" src="3d-banners-with-scrolltrigger.jpg" alt="3D banners with ScrollTrigger" />    </a>      <hr id="image-compare-viewer"/>    <h2 style="margin-bottom: 10px;">      Image Compare Viewer    </h2>    <small>by Kyle Wetton&nbsp;<br><a href="https://image-compare-viewer.netlify.app/">https://image-compare-viewer.netlify.app/</a></small>    <p>Comparison slider in Vanilla JS to compare BEFORE and AFTER images, which works responsively on every device.</p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://image-compare-viewer.netlify.app/">      <img class="limit" src="image-compare-viewer.jpg" alt="Image Compare Viewer" />    </a>      <hr id="read-progress-bar"/>    <h2 style="margin-bottom: 10px;">      Add Read or Scroll Progress Bar To A Website To Indicate Read Progress    </h2>    <small>by Jun711&nbsp;<br><a href="https://jun711.github.io/web/add-scroll-progress-bar-to-a-website-to-indicate-read-progress/">https://jun711.github.io/web/add-scroll-progress-bar-to-a-website-to-indicate-read-progress/</a></small>    <p>A classic, simply explained…</p><p>Here another approach: <a href="https://css-tricks.com/reading-position-indicator/">CSS Tricks: Reading Position Indicator</a></p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://jun711.github.io/web/add-scroll-progress-bar-to-a-website-to-indicate-read-progress/">      <img class="limit" src="read-progress-bar.jpg" alt="Add Read or Scroll Progress Bar To A Website To Indicate Read Progress" />    </a>      <hr id="get-pwa-into-play-store"/>    <h2 style="margin-bottom: 10px;">      How to Get a Progressive Web App into the Google Play Store    </h2>    <small>by Mateusz Rybczonek&nbsp;<br><a href="https://css-tricks.com/how-to-get-a-progressive-web-app-into-the-google-play-store/">https://css-tricks.com/how-to-get-a-progressive-web-app-into-the-google-play-store/</a></small>    <p>Mateusz describes very detailed how offer your PWA as an App via Google Play Store.  </p>    <a style="display:block; margin: 10px 0 30px;" class="img-link" href="https://css-tricks.com/how-to-get-a-progressive-web-app-into-the-google-play-store/">      <img class="limit" src="get-pwa-into-play-store.jpg" alt="How to Get a Progressive Web App into the Google Play Store" />    </a>  ]]></content>
      
      
      <categories>
          
          <category> Misc </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Collection </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Dopamine: How Software should be...</title>
      <link href="/post/Dopamine-How-Software-should-be/"/>
      <url>/post/Dopamine-How-Software-should-be/</url>
      
        <content type="html"><![CDATA[<p>Not very often, when I’m looking for a new tool to replace some annoying or outdated piece of software, I have to blog about it … but from time to time, I’m discovering pearls, worth to lose a word about.</p><p>The Windows 10 built-in media player Groove is (to be kind) … nice, but it is more or less a leftover from Microsoft’s attempt to create a competitor to iTunes, years ago. The crippeled UI is not the most modern and I was more than once annoyed about its usability.</p><p>Doing a research for a good alternative, you stumble always over the usual suspects: MediaMonkey, Foobar2000, Winamp, VLC or even Media Player Classic!? Not modern enough, not user friendly enough, not lean enough.</p><p>I really don’t remember where, but there was a screenshot of a player, which seems to be the complete opposite of the others: <strong>Dopamine</strong> from <a href="https://www.digimezzo.com/software/">Digimezzo</a>, a project by the Belgian developer <a href="https://twitter.com/RaphaelGodart">Raphaël Godart</a>…</p><p><img src="/post/Dopamine-How-Software-should-be/screenshot_dopamine_202.png" alt="Screenshot Dopamine 2.0.2."></p><span id="more"></span><p>But that wasn’t the best, especially for me. <strong>Dopamine</strong> is written in C# as a WPF application and it is OpenSource, <a href="https://github.com/digimezzo/dopamine-windows">hosted on GitHub</a>.</p><p>The software is so wonderful lean and its integrating in Windows 10 like a charm. It has several categories to find the right music to play, a context-sensitive search, a folder view, is able to import and manage playlists, a light and dark mode and translations into currently 28 languages. It can update your collection automatically from several folders, has two player modes and is incredibly fast.</p><p>The keep long story short … I fell in love on <strong>Dopamine</strong>‘s simple beauty and it is now my favourite player on Windows 10! </p><p>Thanks Raphaël…</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Audio </tag>
            
            <tag> Windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Using GitHub as Commenting Platform</title>
      <link href="/post/Using-GitHub-as-Commenting-Platform/"/>
      <url>/post/Using-GitHub-as-Commenting-Platform/</url>
      
        <content type="html"><![CDATA[<p>If you run a blog, it is always advisable to integrate a commenting system, in order to get feedback on your posts from your readers.</p><p>So did I, when I start this blog and I decided to use the <a href="https://disqus.com/">Disqus platform</a>, as it was very easy to integrate … but I always had a bad feeling about a third-party platform collecting data from my readers. Disqus is probably not without reason under criticism by many people in the community.</p><p>As I host this blog at GitHub (see <a href="/categories/Tools/A-New-Blog-VS-Code-Hexo-and-GitHub-Pages/">A New Blog (Part One): VS Code, Hexo and GitHub Pages</a>) I was looking for a solution to host the comments also on my prefered platform. There were some solutions, which uses GitHub Issues for this and wanted to implement something like that someday.</p><span id="more"></span><p>As I read a post from on <a href="https://thomaslevesque.com/">Thomas Lavesques’ blog</a>, to solve another problem, his commenting section came to my attention: <strong><a href="https://utteranc.es/">utteranc.es</a></strong> … exactly the solution I needed! Thanx guys…</p><p>On their website is a small configurator for a script to implement in each post, which needs only few information:</p><ul><li>Name of the Repo</li><li>How the mapping of the post to the Issues should work</li><li>Name of the Theme, in order to fit to the colors of the blog</li></ul><p>The script had to be included to my Hexo <code>article.js</code>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (!index &amp;&amp; post.comments)&#123; %&gt;</span><br><span class="line">  &lt;script src=&quot;https://utteranc.es/client.js&quot;</span><br><span class="line">    repo=&quot;kristofzerbe/kiko.io&quot;</span><br><span class="line">    issue-term=&quot;pathname&quot;</span><br><span class="line">    theme=&quot;github-light&quot;</span><br><span class="line">    crossorigin=&quot;anonymous&quot;</span><br><span class="line">    async&gt;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>That’s pretty much it. On entering the first comment, Utterances told me to install the needed GitHub App to my repo, in order to make it work … and done.</p><p><img src="/post/Using-GitHub-as-Commenting-Platform/utteranc-github-app.png" alt="Utterances GitHub App"></p><p>The result you see below …</p><h2 id="UPDATE…"><a href="#UPDATE…" class="headerlink" title="UPDATE…"></a>UPDATE…</h2><p>The utterances script tag has the attribute <code>theme</code>, to tell utterances  which style should be delivered. There are several themes available, but if users are able to switch between light or dark mode on the page (see <a href="/categories/Tools/Hexo-and-the-Dark-Mode">Hexo and the Dark Mode</a>), the comment block should change to an suitable theme also.</p><p>On order to respond on a mode change, it is necessary to write a more dynamic script loading.</p><p>First we define a function in a global script file to load the utterances script via JS:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">insertUtterancesCommentBlock</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> commentTheme = <span class="string">&quot;github-light&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;theme&quot;</span>) === <span class="string">&quot;dark&quot;</span>)&#123;</span><br><span class="line">      commentTheme = <span class="string">&quot;github-dark&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> scriptId = <span class="string">&quot;comment-theme-script&quot;</span>;</span><br><span class="line">    <span class="keyword">const</span> existingScript = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(scriptId);</span><br><span class="line">    <span class="keyword">if</span> (!existingScript) &#123;</span><br><span class="line">      <span class="keyword">const</span> commentScript = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">      commentScript.<span class="property">id</span> = scriptId;</span><br><span class="line">      commentScript.<span class="property">src</span> = <span class="string">&quot;https://utteranc.es/client.js&quot;</span>;</span><br><span class="line">      commentScript.<span class="title function_">setAttribute</span>(<span class="string">&quot;repo&quot;</span>, <span class="string">&quot;kristofzerbe/kiko.io&quot;</span>);</span><br><span class="line">      commentScript.<span class="title function_">setAttribute</span>(<span class="string">&quot;issue-term&quot;</span>, <span class="string">&quot;pathname&quot;</span>);</span><br><span class="line">      commentScript.<span class="title function_">setAttribute</span>(<span class="string">&quot;theme&quot;</span>, commentTheme);</span><br><span class="line">      commentScript.<span class="title function_">setAttribute</span>(<span class="string">&quot;crossorigin&quot;</span>, <span class="string">&quot;anonymous&quot;</span>);</span><br><span class="line">      <span class="keyword">const</span> placeholder = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;comment-placeholder&quot;</span>);</span><br><span class="line">      placeholder.<span class="property">innerHTML</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">      placeholder.<span class="title function_">appendChild</span>(commentScript);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Then we change the placement in the EJS file, by defining a placeholder  and ensuring that the script above is loaded, before we call it:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;comment-placeholder&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  window.addEventListener(&#x27;load&#x27;, function () &#123;</span><br><span class="line">    insertUtterancesCommentBlock();</span><br><span class="line">  &#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>On my blog, everytime the user switches between light&#x2F;dark mode the <code>body</code> tag will be decorated with the data tag <code>data-theme</code> and the value of the mode. To keep the loading of the utterances script independent from this functionality, we just have to listen to this change via <code>MutationObserver</code>:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//observe theme change, to adjust comment block theme</span></span><br><span class="line"><span class="keyword">var</span> target = <span class="variable language_">document</span>.<span class="property">documentElement</span>,</span><br><span class="line">    observer = <span class="keyword">new</span> <span class="title class_">MutationObserver</span>(<span class="keyword">function</span>(<span class="params">mutations</span>) &#123;</span><br><span class="line">        mutations.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">mutation</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mutation.<span class="property">attributionName</span> === <span class="string">&quot;data-theme&quot;</span> );</span><br><span class="line">                <span class="title function_">insertUtterancesCommentBlock</span>();</span><br><span class="line">            &#125;);        </span><br><span class="line">    &#125;),</span><br><span class="line">    config = &#123; <span class="attr">attributes</span>: <span class="literal">true</span> &#125;;</span><br><span class="line">observer.<span class="title function_">observe</span>(target, config);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Meaningful automatic versioning with T4</title>
      <link href="/post/Meaningful-automatic-versioning-with-T4/"/>
      <url>/post/Meaningful-automatic-versioning-with-T4/</url>
      
        <content type="html"><![CDATA[<p>Every developer has to have an idea of versioning his products. If you work with Visual Studio you have the <code>Assembly Information</code> in the project properties dialog, to enter it manually everytime you want to release a new version:</p><p><img src="/post/Meaningful-automatic-versioning-with-T4/AssemblyInformationDialog.png" alt="Assembly Information Dialog"></p><p>The four fields are: MAJOR, MINOR, BUILD, REVISION.</p><p>But seriously … who does that? I guess 99% of all C# developers are entering the <code>AssemblyInfo.cs</code> and enter the famous 2 asterisks into the version declaration of BUILD and REVISION, to let Visual Studio do the incrementation job:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">assembly: AssemblyVersion(<span class="string">&quot;1.0.*.*&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">assembly: AssemblyFileVersion(<span class="string">&quot;1.0.*.*&quot;</span>)</span>]</span><br></pre></td></tr></table></figure><p>But this is not the end of the possibilities … Let’s do it more meaningful, with some goodies and still automatic…</p><span id="more"></span><h2 id="More-informative-versioning"><a href="#More-informative-versioning" class="headerlink" title="More informative versioning"></a>More informative versioning</h2><p>A build with an increased MAJOR version number means, that there are significant changes in the product, even breaking changes. This always should be set manually.</p><p>Also the MINOR. It stands for significant functional extensions of the product.</p><p>How does Visual Studio calculate BUILD and REVISION?</p><blockquote><p>When specifying a version, you have to at least specify major. If you specify major and minor, you can specify an asterisk for build. This will cause <strong>build</strong> to be equal to the <strong>number of days since January 1, 2000 local time</strong>, and for <strong>revision</strong> to be equal to the <strong>number of seconds since midnight local time, divided by 2</strong>.</p></blockquote><p>But, the BUILD number should explain, how often a software with a particular MAJOR.MINOR has been build, due to minor changes and bug fixes.</p><p>The “Asterisk” REVISION number is a little weird, but at least with the BUILD number unique. But it says nothing. Better to pick up the idea of a date calculated, unique number, but not an arbitrary date … let’s take the date the project has started.</p><p>For example: <strong>1.2.16.158</strong> … reads version 1.2 with 16 builds on the 158’th day after the project has started.</p><h2 id="Start-with-T4"><a href="#Start-with-T4" class="headerlink" title="Start with T4"></a>Start with T4</h2><p>T4 (Text Template Transformation Toolkit) is a templating system in Visual Studio for generating text files during design time. It is very suitable to even generate code. Read about it <a href="https://docs.microsoft.com/en-us/visualstudio/modeling/code-generation-and-t4-text-templates">here</a> and <a href="https://docs.microsoft.com/en-us/visualstudio/modeling/writing-a-t4-text-template">here</a>.</p><p>A Text Template (.tt) has <strong>Directives</strong> (how the template is processed), <strong>Text blocks</strong> (text copied to the output) and <strong>Control blocks</strong> (program code).</p><p>For our versioning template, we start with this in a new file named <strong><code>AssemblyVersion.tt</code></strong>:</p><p><em>Directives</em>:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;#@ template hostspecific=&quot;true&quot; language=&quot;C#&quot; #&gt;</span><br><span class="line">&lt;#@ output extension=&quot;.cs&quot; #&gt;</span><br></pre></td></tr></table></figure><p><em>Control block</em>:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">#</span></span><br><span class="line">  <span class="built_in">int</span> major = <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">int</span> minor = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">int</span> build = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">int</span> revision = <span class="number">0</span>;</span><br><span class="line"><span class="meta">#&gt;</span></span><br></pre></td></tr></table></figure><p><em>Text block</em>:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This code was generated by a tool. Any changes made manually will be lost</span></span><br><span class="line"><span class="comment">// the next time this code is regenerated.</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> System.Reflection;</span><br><span class="line"></span><br><span class="line">[<span class="meta">assembly: AssemblyVersion(<span class="string">&quot;&lt;#= $&quot;</span>&#123;major&#125;.&#123;minor&#125;.&#123;build&#125;.&#123;revision&#125;<span class="string">&quot; #&gt;&quot;</span>)</span>]</span><br><span class="line">[<span class="meta">assembly: AssemblyFileVersion(<span class="string">&quot;&lt;#= $&quot;</span>&#123;major&#125;.&#123;minor&#125;.&#123;build&#125;.&#123;revision&#125;<span class="string">&quot; #&gt;&quot;</span>)</span>]</span><br></pre></td></tr></table></figure><p>On saving the TT file, a new CS file with the same name will be created automatically and you got an error like this:</p><p><img src="/post/Meaningful-automatic-versioning-with-T4/DuplicateAttributes.png" alt="Duplicate Attributes Error"></p><h3 id="A-new-place-for-version-info"><a href="#A-new-place-for-version-info" class="headerlink" title="A new place for version info"></a>A new place for version info</h3><p>Th error occurs, because we have now <strong>two</strong> <code>AssemblyVersion</code> and <code>AssemblyFileVersion</code> attributes in our project. We need to comment out the original in <code>Properties\AssemblyInfo.cs</code>:</p><p><img src="/post/Meaningful-automatic-versioning-with-T4/ChangeAssemblyInfo.png" alt="Change AssemblyInfo.cs"></p><h3 id="Structural-Considerations"><a href="#Structural-Considerations" class="headerlink" title="Structural Considerations"></a>Structural Considerations</h3><p>It makes sense to store all needed files for the new versioning system in a new root folder of the project, named <strong>AssemblyVersion</strong>, starting with the <code>AssemblyVersion.tt</code>, because there will be more files later on.</p><h2 id="New-app-information-file"><a href="#New-app-information-file" class="headerlink" title="New app information file"></a>New app information file</h2><p>As we replaced the original version attributes in the project with those from our generated  <code>AssemblyVersion.cs</code>, we cannot control the MAJOR and MINOR version number via the project property dialog any longer. We need a new approach on that, which can be edited easily and processed automatically.</p><h3 id="AssemblyVersion-json"><a href="#AssemblyVersion-json" class="headerlink" title="AssemblyVersion.json"></a>AssemblyVersion.json</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;initialDate&quot;</span>: <span class="string">&quot;2019-09-29&quot;</span>,</span><br><span class="line">  <span class="string">&quot;versions&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;major&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="string">&quot;minor&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="string">&quot;releaseDate&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">      <span class="string">&quot;remarks&quot;</span>: <span class="string">&quot;Some cool new features; New versioning system&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;major&quot;</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="string">&quot;minor&quot;</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="string">&quot;releaseDate&quot;</span>: <span class="string">&quot;2019-10-01&quot;</span>,</span><br><span class="line">      <span class="string">&quot;remarks&quot;</span>: <span class="string">&quot;Initial Release&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This new JSON file has two main items:</p><ul><li><code>initialDate</code> - the date the project has started, to calculate the REVISION later on</li><li><code>versions</code> - a list with all different MAJOR&#x2F;MINOR versions we have done so far, with at least one without a release date … the one with the highest <code>major</code> and <code>minor</code>.</li></ul><p>The <code>remarks</code> attribute of a list item holds some information about the changes in a new version. Together with <code>releaseDate</code>, useful for a possible release history, shown in the product itself.</p><h3 id="Library-references-in-T4"><a href="#Library-references-in-T4" class="headerlink" title="Library references in T4"></a>Library references in T4</h3><p>T4 runs in its own app domain, therefore it can use built-in libraries as <code>System.IO</code>, but not third-party libraries like <code>Newtonsoft.JSON</code>. </p><p>We could reference those libraries from the projects package folder via the absolute path (if we use it in our product), but when we are running a NuGet update, the reference will break. </p><p>It is advisable to store such libraries directly in a fixed folder, like <strong>AssemblyVersion\Libraries</strong>. They won’t have any impact to our product, because the are only used while design time.</p><h2 id="The-MAJOR-and-MINOR"><a href="#The-MAJOR-and-MINOR" class="headerlink" title="The MAJOR and MINOR"></a>The MAJOR and MINOR</h2><p>To process the new <code>AssemblyVersion.json</code> in the template, we need some new directives for referencing the needed libraries and the import of the appropriate namepaces:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;#@ assembly name=&quot;System.Core&quot; #&gt;</span><br><span class="line">&lt;#@ assembly name=&quot;$(SolutionDir)\AssemblyVersion\Libraries\Newtonsoft.Json.dll&quot; #&gt;</span><br><span class="line"></span><br><span class="line">&lt;#@ import namespace=&quot;System.IO&quot; #&gt;</span><br><span class="line">&lt;#@ import namespace=&quot;System.Linq&quot; #&gt;</span><br><span class="line">&lt;#@ import namespace=&quot;Newtonsoft.Json&quot; #&gt;</span><br></pre></td></tr></table></figure><p>Via the use of the T4 variable <code>$(SolutionDir)</code>, we can point to our copy of Newtonsoft JSON.</p><p>Now we can read and convert the JSON into an anonymous object and get the highest values of MAJOR and MINOR:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">#</span></span><br><span class="line">    <span class="built_in">string</span> avPath = <span class="keyword">this</span>.Host.ResolvePath(<span class="string">&quot;AssemblyVersion.json&quot;</span>);</span><br><span class="line">    <span class="built_in">string</span> avJson = File.ReadAllText(avPath);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> avDefinition = <span class="keyword">new</span> &#123;</span><br><span class="line">        initialDate = <span class="string">&quot;&quot;</span>,</span><br><span class="line">        versions = <span class="keyword">new</span> [] &#123;</span><br><span class="line">            <span class="keyword">new</span> &#123;</span><br><span class="line">                major = <span class="number">0</span>,</span><br><span class="line">                minor = <span class="number">0</span>,</span><br><span class="line">                releaseDate = <span class="string">&quot;&quot;</span>,</span><br><span class="line">                remarks = <span class="string">&quot;&quot;</span> &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> avObject = JsonConvert.DeserializeAnonymousType(avJson, avDefinition);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Get highest Major/Minor from versions list</span></span><br><span class="line">    <span class="keyword">var</span> maxVersion = avObject.versions</span><br><span class="line">      .OrderByDescending(i =&gt; i.major)</span><br><span class="line">      .ThenByDescending(j =&gt; j.minor)</span><br><span class="line">      .First();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Set MAJOR</span></span><br><span class="line">    <span class="built_in">int</span> major = maxVersion.major;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Set MINOR</span></span><br><span class="line">    <span class="built_in">int</span> minor = maxVersion.minor;</span><br><span class="line"><span class="meta">#&gt;</span></span><br></pre></td></tr></table></figure><h2 id="The-BuildLog"><a href="#The-BuildLog" class="headerlink" title="The BuildLog"></a>The BuildLog</h2><p>In order to get the version number for BUILD, we need a method to count and store every build that has been run, separated by the MAJOR&#x2F;MINOR versions. This is a job for a <strong>Post-build event</strong>, which can be configured in the project properties dialog. The event uses shell commands as they are used on the command line.</p><p>What the commands should do:&amp;nbsp;&amp;nbsp;&amp;nbsp;Write a new line with the current date and time in a log file, named after the MAJOR&#x2F;MINOR version and stored in the folder <strong>AssemblyVersion\BuildLogs</strong>.</p><p><img src="/post/Meaningful-automatic-versioning-with-T4/BuildLog.png" alt="Build Log"></p><h3 id="Extending-build-event-macros"><a href="#Extending-build-event-macros" class="headerlink" title="Extending build event macros"></a>Extending build event macros</h3><p>Shell commands for build events are supporting built-in variables, so called ‘macros’, like <code>$(ProjectDir)</code> (which returns the project directory path), but there is no such macro for the current version number. We have to introduce it via extending the project with a new build target.</p><p>Unload the project in Visual Studio for editing the CSPROJ (or VBPROJ) file of your product manually and write the following definition just before the end-tag:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">PostBuildEventDependsOn</span>&gt;</span></span><br><span class="line">    $(PostBuildEventDependsOn);</span><br><span class="line">    PostBuildMacros;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">PostBuildEventDependsOn</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">Target</span> <span class="attr">Name</span>=<span class="string">&quot;PostBuildMacros&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">GetAssemblyIdentity</span> <span class="attr">AssemblyFiles</span>=<span class="string">&quot;$(TargetPath)&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Output</span> <span class="attr">TaskParameter</span>=<span class="string">&quot;Assemblies&quot;</span> <span class="attr">ItemName</span>=<span class="string">&quot;Targets&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">GetAssemblyIdentity</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">VersionNumber</span> <span class="attr">Include</span>=<span class="string">&quot;@(Targets-&gt;&#x27;%(Version)&#x27;)&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ItemGroup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Target</span>&gt;</span></span><br></pre></td></tr></table></figure><p>After reloading the project in Visual Studio, we can use <code>@(VersionNumber)</code> in our commands.</p><h3 id="CreateBuildLog-bat"><a href="#CreateBuildLog-bat" class="headerlink" title="CreateBuildLog.bat"></a>CreateBuildLog.bat</h3><p>The event build editor is not very comfortable, so we create the batch file <code>CreateBuildLog.bat</code> in our <strong>AssemblyVersion</strong> folder and use this as the post build event command.</p>    <div class="alertbox alertbox-exclamation">      <p>The BuildLog folder must exist, before running the following command the first time!</p>    </div>  <figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">REM --Get parameters</span></span><br><span class="line"><span class="built_in">set</span> PROJECT_DIR=%<span class="number">1</span></span><br><span class="line"><span class="built_in">set</span> VERSION_NUMBER=%<span class="number">2</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">REM --Set what to log</span></span><br><span class="line"><span class="built_in">set</span> LOG_LINE=<span class="variable">%DATE%</span> <span class="variable">%TIME%</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">REM --Inform the user</span></span><br><span class="line"><span class="built_in">set</span> MSG=CreateBuildLog &#x27;<span class="variable">%LOG_LINE%</span>&#x27; <span class="keyword">for</span> version <span class="variable">%VERSION_NUMBER%</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%MSG%</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">REM --Get version parts</span></span><br><span class="line"><span class="keyword">FOR</span> /f &quot;tokens=<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span> delims=.&quot; <span class="variable">%%a</span> <span class="keyword">IN</span> (&quot;<span class="variable">%VERSION_NUMBER%</span>&quot;) <span class="keyword">do</span> (</span><br><span class="line"><span class="built_in">set</span> MAJOR=<span class="variable">%%a</span></span><br><span class="line"><span class="built_in">set</span> MINOR=<span class="variable">%%b</span></span><br><span class="line"><span class="built_in">set</span> BUILD=<span class="variable">%%c</span></span><br><span class="line"><span class="built_in">set</span> REVISION=<span class="variable">%%d</span></span><br><span class="line">)</span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">REM --Define BuildLog file and folder </span></span><br><span class="line"><span class="built_in">set</span> BUILDLOG_FILE=<span class="variable">%MAJOR%</span>.<span class="variable">%MINOR%</span>.log</span><br><span class="line"><span class="built_in">set</span> BUILDLOG_FOLDER=<span class="variable">%PROJECT_DIR%</span>\AssemblyVersion\BuildLogs</span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">REM --Write current date and time as new line in the file</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">%LOG_LINE%</span> &gt;&gt; <span class="variable">%BUILDLOG_FOLDER%</span>\<span class="variable">%BUILDLOG_FILE%</span>&quot;</span><br></pre></td></tr></table></figure><p><img src="/post/Meaningful-automatic-versioning-with-T4/PostBuildEvent.png" alt="Post Build Event"></p><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;$(ProjectDir)\AssemblyVersion\CreateBuildLog.bat&quot; &quot;$(ProjectDir)&quot; @(VersionNumber)</span><br></pre></td></tr></table></figure><h2 id="The-BUILD"><a href="#The-BUILD" class="headerlink" title="The BUILD"></a>The BUILD</h2><p>As we have now the BuildLogs, we can use them in the template:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">#</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Get BuildLog of max version</span></span><br><span class="line">    <span class="built_in">string</span> buildlogFolder = <span class="keyword">this</span>.Host.ResolvePath(<span class="string">&quot;BuildLogs&quot;</span>);</span><br><span class="line">    <span class="built_in">string</span> buildLog = </span><br><span class="line">      buildlogFolder + <span class="string">&quot;\\&quot;</span> +</span><br><span class="line">      maxVersion.major + <span class="string">&quot;.&quot;</span> +</span><br><span class="line">      maxVersion.minor + <span class="string">&quot;.log&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Get number of lines from BuildLog or create a new log (!)</span></span><br><span class="line">    <span class="keyword">var</span> buildCount = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (File.Exists(buildLog)) &#123;</span><br><span class="line">        buildCount = File.ReadLines(buildLog).Count() + <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        File.Create(buildLog).Dispose();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Set BUILD</span></span><br><span class="line">    <span class="built_in">int</span> build = buildCount;</span><br><span class="line"><span class="meta">#&gt;</span></span><br></pre></td></tr></table></figure><p>Very important is to create the log file, if it doesn’t exists! Otherwise the build will always fail, because the version attributes can’t be created.</p><h2 id="The-REVISION"><a href="#The-REVISION" class="headerlink" title="The REVISION"></a>The REVISION</h2><p>At least we have to set the REVISION number, by calculating the difference between the current date and the <code>initialDate</code>, which we have previously read from the <code>AssemblyVersion.json</code>:</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="meta">#</span></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Set REVISION</span></span><br><span class="line">    <span class="keyword">var</span> dateCreated = DateTime.Parse(avObject.initialDate);</span><br><span class="line">    <span class="built_in">int</span> revision = (DateTime.Now.Date - dateCreated.Date).Days;</span><br><span class="line"><span class="meta">#&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Transforming-T4-template-on-build"><a href="#Transforming-T4-template-on-build" class="headerlink" title="Transforming T4 template on build"></a>Transforming T4 template on build</h2><p>The last hurdle is to run the text transformation every time you build your product. Until now it runs only on saving the <code>AssemblyVersion.tt</code>.</p><p>A great helper on that was Thomas Levesque’s post <a href="https://thomaslevesque.com/2017/11/13/transform-t4-templates-as-part-of-the-build-and-pass-variables-from-the-project/">“Transform T4 templates as part of the build, and pass variables from the project”</a>, where he describes every difficulty to reach this goal.</p><p>To make it short: We have to edit the CSPROJ file again, to introduce TextTemplating to MSBuild.</p><p>First we need following near the beginning of the projects XML:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">PropertyGroup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">VisualStudioVersion</span> <span class="attr">Condition</span>=<span class="string">&quot;&#x27;$(VisualStudioVersion)&#x27; == &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">      16.0</span><br><span class="line">    <span class="tag">&lt;/<span class="name">VisualStudioVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">VSToolsPath</span> <span class="attr">Condition</span>=<span class="string">&quot;&#x27;$(VSToolsPath)&#x27; == &#x27;&#x27;&quot;</span>&gt;</span></span><br><span class="line">      $(MSBuildExtensionsPath32)\Microsoft\VisualStudio\v$(VisualStudioVersion)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">VSToolsPath</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TransformOnBuild</span>&gt;</span>true<span class="tag">&lt;/<span class="name">TransformOnBuild</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">OverwriteReadOnlyOutputFiles</span>&gt;</span>true<span class="tag">&lt;/<span class="name">OverwriteReadOnlyOutputFiles</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">TransformOutOfDateOnly</span>&gt;</span>false<span class="tag">&lt;/<span class="name">TransformOutOfDateOnly</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">PropertyGroup</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Secondly add the IMPORT of the TextTemplating target AFTER the CSharp target:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Import</span> <span class="attr">Project</span>=<span class="string">&quot;$(MSBuildToolsPath)\Microsoft.CSharp.targets&quot;</span> /&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">Import</span> <span class="attr">Project</span>=<span class="string">&quot;$(VSToolsPath)\TextTemplating\Microsoft.TextTemplating.targets&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>If you build your product now, a new build log is created and the version numbers BUILD and REVISION are automatically increased.</p><h2 id="See-it-in-action"><a href="#See-it-in-action" class="headerlink" title="See it in action"></a>See it in action</h2><p>The project where I implemented this versioning first is <a href="https://github.com/kristofzerbe/HexoCommander">HexoCommander</a>. Feel free to download the code and see how the new versioning mechanism works.</p><p><img src="/post/Meaningful-automatic-versioning-with-T4/screencast-build-hexocommander.gif" alt="Screencast Build HexoCommander"></p><p>Enjoy versioning…</p>]]></content>
      
      
      <categories>
          
          <category> .NET </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
            <tag> Versioning </tag>
            
            <tag> T4 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Automatic Header Images in Hexo</title>
      <link href="/post/Automatic-Header-Images-in-Hexo/"/>
      <url>/post/Automatic-Header-Images-in-Hexo/</url>
      
        <content type="html"><![CDATA[<p>Every article in this blog has an individual header image, to bring a little bit color into it. In this post I will show you how I deal with the images in using and automatic provisioning.</p><p>For serving these pictures I use a static folder, as described in <a href="/categories/Tools/A-New-Blog-Customizing-Hexo/">A New Blog: Customizing Hexo</a>. The hard work is done by the plugin <a href="https://github.com/niahoo/hexo-generator-copy">Hexo Generator Copy</a>, which copies the static files into the <code>public_dir</code> while generating.</p><span id="more"></span><h2 id="Static-File-Structure"><a href="#Static-File-Structure" class="headerlink" title="Static File Structure"></a>Static File Structure</h2><p>It is always advisable to provide one image for every device class, in order to save bandwidth and make the page loading as fast as possible:</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">| static/</span><br><span class="line">   | photos/</span><br><span class="line">      | mobile/</span><br><span class="line">         | my-lovely-picture.jpg</span><br><span class="line">         | ...</span><br><span class="line">      | tablet/</span><br><span class="line">         | my-lovely-picture.jpg</span><br><span class="line">         | ...</span><br><span class="line">      | normal/</span><br><span class="line">         | my-lovely-picture.jpg</span><br><span class="line">         | ...</span><br></pre></td></tr></table></figure><p>The <code>mobile</code> images are at least 480 pixels wide, the <code>tablet</code> variants 768 pixels and the standard or <code>normal</code> one 1280 pixels.</p><p>While creating the JPG files, it is important to compress them with a tool like <a href="https://www.jpegmini.com/">JPEGMini</a> to save data while loading.</p><h2 id="Binding"><a href="#Binding" class="headerlink" title="Binding"></a>Binding</h2><p>In order to bind a picture with some additional information to an article, I have extended the Frontmatter of every post:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">photograph:</span></span><br><span class="line">    <span class="attr">file:</span> <span class="string">&#x27;my-lovely-image.jpg&#x27;</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">&#x27;My Lovely Image&#x27;</span></span><br><span class="line">    <span class="attr">link:</span> <span class="string">&#x27;https://500px.com/photo/123456789/My-Lovely-Image&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="Usage-in-Theme"><a href="#Usage-in-Theme" class="headerlink" title="Usage in Theme"></a>Usage in Theme</h2><p>It relies on your Hexo theme, how to use a header image. In my theme (derived from the standard theme) I just added following code in the <code>article.js</code> to show the individual header image as a background image at the top of the article: </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (!index &amp;&amp; post.photograph)&#123; %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-id">#banner</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-size</span>: cover;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">479px</span>) &#123;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#banner</span> &#123; <span class="attribute">background-image</span>:</span></span><br><span class="line"><span class="language-css">      <span class="built_in">linear-gradient</span>(to bottom, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.75</span>) <span class="number">0%</span>, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>) <span class="number">75%</span>),</span></span><br><span class="line"><span class="language-css">      <span class="built_in">url</span>(<span class="string">&quot;/photos/mobile/&lt;%= post.photograph.file %&gt;&quot;</span>); &#125;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">480px</span>) <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">767px</span>) &#123;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#banner</span> &#123; <span class="attribute">background-image</span>: </span></span><br><span class="line"><span class="language-css">      <span class="built_in">linear-gradient</span>(to bottom, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.75</span>) <span class="number">0%</span>, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>) <span class="number">75%</span>),</span></span><br><span class="line"><span class="language-css">      <span class="built_in">url</span>(<span class="string">&quot;/photos/tablet/&lt;%= post.photograph.file %&gt;&quot;</span>); &#125;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">768px</span>) &#123;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#banner</span> &#123; <span class="attribute">background-image</span>: </span></span><br><span class="line"><span class="language-css">      <span class="built_in">linear-gradient</span>(to bottom, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.75</span>) <span class="number">0%</span>, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>) <span class="number">75%</span>),</span></span><br><span class="line"><span class="language-css">      <span class="built_in">url</span>(<span class="string">&quot;/photos/normal/&lt;%= post.photograph.file %&gt;&quot;</span>); &#125;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> photoLink = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;header-photo-link&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  photoLink.<span class="property">href</span> = <span class="string">&quot;&lt;%= post.photograph.link%&gt;&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">  photoLink.<span class="property">innerHTML</span> = <span class="string">&quot;see &lt;strong&gt;&lt;%= post.photograph.name%&gt;&lt;/strong&gt; at 500px&quot;</span>;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><p>Important part here is the use of the Frontmatter data <code>post.photograph.file</code> in the URL of the background CSS. The script fills the additional information into the absolute positioned element <code>header-photo-link</code> which is placed on top of the header.</p><h2 id="Pooling-Images"><a href="#Pooling-Images" class="headerlink" title="Pooling Images"></a>Pooling Images</h2><p>As it is time consuming to generate the necessary images, I have created another static folder <code>pool</code> to store prepared files and a text file with the additional information about the image. The structure of <code>pool</code> is different to <code>photos</code>, because of my image workflow and some limitations of automating the provisioning.</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">| static/</span><br><span class="line">   | pool/</span><br><span class="line">      | my-lovely-picture/</span><br><span class="line">         | meta.txt</span><br><span class="line">         | mobile.jpg</span><br><span class="line">         | normal.jpg</span><br><span class="line">         | tablet.jpg</span><br><span class="line">      | ...</span><br></pre></td></tr></table></figure><p>The <code>meta.txt</code> is a simple text file with two lines of text: first the name of the image and second the Url to link to, which will be inserted in the appropriate Frontmatter fields on creating a new post:</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">My Lovely Image</span><br><span class="line">https://500px.com/photo/123456789/My-Lovely-Image</span><br></pre></td></tr></table></figure><h2 id="Automate-binding-and-provisioning-on-new-post"><a href="#Automate-binding-and-provisioning-on-new-post" class="headerlink" title="Automate binding and provisioning on new post"></a>Automate binding and provisioning on new post</h2><p>Developers are lazy and I do not make an exception. Having all these pool images and the meta informations, it would be nice, if Hexo just picks and processes one of the pool folders automatically, when I’m creating a new post by calling <code>hexo new &quot;My shiny new post&quot;</code> … and it was easier then I thought.</p><h3 id="Where-to-place-the-code-for-the-automatism"><a href="#Where-to-place-the-code-for-the-automatism" class="headerlink" title="Where to place the code for the automatism"></a>Where to place the code for the automatism</h3><p>Hexo has a great <a href="https://hexo.io/api/">API</a> to write <a href="https://hexo.io/plugins/">plugins</a> and it is not very difficult to setup a new plugin for this, which can be published to the <a href="https://www.npmjs.com/search?q=hexo">NPM registry</a>. But it is also possible to extend Hexo’s functionality by using a simple script. All you need is a <strong><code>script</code></strong> folder in the root of your Hexo project. Any JS files which is placed there, will be executed by Hexo.</p><p>Therefore, lets use a script called <code>\scripts\process-photo-on-new.js</code> …</p><h3 id="Things-an-automatism-should-do-Step-by-Step"><a href="#Things-an-automatism-should-do-Step-by-Step" class="headerlink" title="Things an automatism should do - Step by Step"></a>Things an automatism should do - Step by Step</h3><ol><li>Hook into the creation of a post</li><li>Pick randomly one of the pool images</li><li>Place the content of the meta.txt in the Frontmatter</li><li>Move the 3 device-dependend images into the <code>photos</code> folder</li></ol><h4 id="Step-1-Hook-into-the-creation-of-a-post"><a href="#Step-1-Hook-into-the-creation-of-a-post" class="headerlink" title="Step 1 - Hook into the creation of a post"></a>Step 1 - Hook into the creation of a post</h4><p>The needed event, the automatism can hook on, is:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo.<span class="title function_">on</span>(<span class="string">&#x27;new&#x27;</span>, <span class="keyword">function</span>(<span class="params">data</span>)&#123;</span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>It will be executed every time you call the <code>hexo new</code> command. The parameter <code>data</code> is an object with two fields:</p><ul><li><p><code>path</code><br>Full path to the MD file of the new post</p></li><li><p><code>content</code><br>Complete content of the scaffold (template), which Hexo has used to create the new post; default is <code>/scaffolds/post.md</code>.</p></li></ul><p>By preloading the Hexo Front matter library and parsing <code>data.content</code> we get access to the definition of the new post:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> front = <span class="built_in">require</span>(<span class="string">&#x27;hexo-front-matter&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="title function_">on</span>(<span class="string">&#x27;new&#x27;</span>, <span class="keyword">function</span>(<span class="params">post</span>)&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// parse article content</span></span><br><span class="line">  <span class="keyword">var</span> post = front.<span class="title function_">parse</span>(data.<span class="property">content</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="Step-2-Pick-randomly-one-of-the-pool-images"><a href="#Step-2-Pick-randomly-one-of-the-pool-images" class="headerlink" title="Step 2 - Pick randomly one of the pool images"></a>Step 2 - Pick randomly one of the pool images</h4><p>There are some build-in variables to get the full path, for example, of the <code>source</code> folder, we can use to define the needed paths to the <code>pool</code> and the <code>photo</code> folder.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> front = <span class="built_in">require</span>(<span class="string">&#x27;hexo-front-matter&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="title function_">on</span>(<span class="string">&#x27;new&#x27;</span>, <span class="keyword">function</span>(<span class="params">post</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> post = front.<span class="title function_">parse</span>(data.<span class="property">content</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// set the path variables</span></span><br><span class="line">  <span class="keyword">var</span> poolDir = hexo.<span class="property">source_dir</span>.<span class="title function_">replace</span>(<span class="string">&quot;\source&quot;</span>, hexo.<span class="property">config</span>.<span class="property">static_dir</span>) + <span class="string">&quot;pool&quot;</span>;</span><br><span class="line">  <span class="keyword">var</span> photosDir = hexo.<span class="property">source_dir</span>.<span class="title function_">replace</span>(<span class="string">&quot;\source&quot;</span>, hexo.<span class="property">config</span>.<span class="property">static_dir</span>) + <span class="string">&quot;photos&quot;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Next, we need to preload the Hexo FS library for file access, to list the content of the <code>poolDir</code>, including the subfolders, and filter out the meta files. Out of the resulting array we pick one randomly, to use for the new post:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> front = <span class="built_in">require</span>(<span class="string">&#x27;hexo-front-matter&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;hexo-fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="title function_">on</span>(<span class="string">&#x27;new&#x27;</span>, <span class="keyword">function</span>(<span class="params">post</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> post = front.<span class="title function_">parse</span>(data.<span class="property">content</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> poolDir = hexo.<span class="property">source_dir</span>.<span class="title function_">replace</span>(<span class="string">&quot;\source&quot;</span>, hexo.<span class="property">config</span>.<span class="property">static_dir</span>) + <span class="string">&quot;pool&quot;</span>;</span><br><span class="line">  <span class="keyword">var</span> photosDir = hexo.<span class="property">source_dir</span>.<span class="title function_">replace</span>(<span class="string">&quot;\source&quot;</span>, hexo.<span class="property">config</span>.<span class="property">static_dir</span>) + <span class="string">&quot;photos&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// list all files</span></span><br><span class="line">  <span class="keyword">var</span> files = fs.<span class="title function_">listDirSync</span>(poolDir);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// filter the list to get meta files of each subfolder</span></span><br><span class="line">  <span class="keyword">var</span> metaFiles = files.<span class="title function_">filter</span>(<span class="function"><span class="params">file</span> =&gt;</span> file.<span class="title function_">match</span>(<span class="regexp">/.*[\\]meta.txt/g</span>));</span><br><span class="line"></span><br><span class="line">  <span class="comment">// pick one randomly</span></span><br><span class="line">  <span class="keyword">var</span> metaFile = metaFiles[<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * metaFiles.<span class="property">length</span>)];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// get the name of the picked photo (foldername)</span></span><br><span class="line">  <span class="keyword">var</span> photoName = metaFile.<span class="title function_">split</span>(<span class="string">&quot;\\&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="Step-3-Place-the-content-of-the-meta-txt-in-the-Frontmatter"><a href="#Step-3-Place-the-content-of-the-meta-txt-in-the-Frontmatter" class="headerlink" title="Step 3 - Place the content of the meta.txt in the Frontmatter"></a>Step 3 - Place the content of the meta.txt in the Frontmatter</h4><p>Now we have to read the meta file, place the data in the Frontmatter and save the article file:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> front = <span class="built_in">require</span>(<span class="string">&#x27;hexo-front-matter&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;hexo-fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="title function_">on</span>(<span class="string">&#x27;new&#x27;</span>, <span class="keyword">function</span>(<span class="params">post</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> post = front.<span class="title function_">parse</span>(data.<span class="property">content</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> poolDir = hexo.<span class="property">source_dir</span>.<span class="title function_">replace</span>(<span class="string">&quot;\source&quot;</span>, hexo.<span class="property">config</span>.<span class="property">static_dir</span>) + <span class="string">&quot;pool&quot;</span>;</span><br><span class="line">  <span class="keyword">var</span> photosDir = hexo.<span class="property">source_dir</span>.<span class="title function_">replace</span>(<span class="string">&quot;\source&quot;</span>, hexo.<span class="property">config</span>.<span class="property">static_dir</span>) + <span class="string">&quot;photos&quot;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> files = fs.<span class="title function_">listDirSync</span>(poolDir);</span><br><span class="line">  <span class="keyword">var</span> metaFiles = files.<span class="title function_">filter</span>(<span class="function"><span class="params">file</span> =&gt;</span> file.<span class="title function_">match</span>(<span class="regexp">/.*[\\]meta.txt/g</span>));</span><br><span class="line">  <span class="keyword">var</span> metaFile = metaFiles[<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * metaFiles.<span class="property">length</span>)];</span><br><span class="line">  <span class="keyword">var</span> photoName = metaFile.<span class="title function_">split</span>(<span class="string">&quot;\\&quot;</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// read meta file</span></span><br><span class="line">  <span class="keyword">var</span> meta = fs.<span class="title function_">readFileSync</span>(poolDir + <span class="string">&quot;\\&quot;</span> + metaFile);</span><br><span class="line">  <span class="keyword">var</span> metas = meta.<span class="title function_">split</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// place file and additional info in the Frontmatter</span></span><br><span class="line">  post.<span class="property">photograph</span>.<span class="property">file</span> = photoName + <span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">  post.<span class="property">photograph</span>.<span class="property">name</span> = metas[<span class="number">0</span>];</span><br><span class="line">  post.<span class="property">photograph</span>.<span class="property">link</span> = metas[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// convert content back</span></span><br><span class="line">  postStr = front.<span class="title function_">stringify</span>(post);</span><br><span class="line">  postStr = <span class="string">&#x27;---\n&#x27;</span> + postStr;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// store article</span></span><br><span class="line">  fs.<span class="title function_">writeFile</span>(data.<span class="property">path</span>, postStr, <span class="string">&#x27;utf-8&#x27;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="Step-4-Move-the-3-device-dependend-images-into-the-photos-folder"><a href="#Step-4-Move-the-3-device-dependend-images-into-the-photos-folder" class="headerlink" title="Step 4 - Move the 3 device-dependend images into the photos folder"></a>Step 4 - Move the 3 device-dependend images into the photos folder</h4><p>Last but not least, we have to move the pool images into the <code>photos</code> folder and remove the pool folder with all its processed content:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> front = <span class="built_in">require</span>(<span class="string">&#x27;hexo-front-matter&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;hexo-fs&#x27;</span>);</span><br><span class="line"></span><br><span class="line">hexo.<span class="title function_">on</span>(<span class="string">&#x27;new&#x27;</span>, <span class="keyword">function</span>(<span class="params">post</span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> post = front.<span class="title function_">parse</span>(data.<span class="property">content</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> poolDir = hexo.<span class="property">source_dir</span>.<span class="title function_">replace</span>(<span class="string">&quot;\source&quot;</span>, hexo.<span class="property">config</span>.<span class="property">static_dir</span>) + <span class="string">&quot;pool&quot;</span>;</span><br><span class="line">  <span class="keyword">var</span> photosDir = hexo.<span class="property">source_dir</span>.<span class="title function_">replace</span>(<span class="string">&quot;\source&quot;</span>, hexo.<span class="property">config</span>.<span class="property">static_dir</span>) + <span class="string">&quot;photos&quot;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> files = fs.<span class="title function_">listDirSync</span>(poolDir);</span><br><span class="line">  <span class="keyword">var</span> metaFiles = files.<span class="title function_">filter</span>(<span class="function"><span class="params">file</span> =&gt;</span> file.<span class="title function_">match</span>(<span class="regexp">/.*[\\]meta.txt/g</span>));</span><br><span class="line">  <span class="keyword">var</span> metaFile = metaFiles[<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * metaFiles.<span class="property">length</span>)];</span><br><span class="line">  <span class="keyword">var</span> photoName = metaFile.<span class="title function_">split</span>(<span class="string">&quot;\\&quot;</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> meta = fs.<span class="title function_">readFileSync</span>(poolDir + <span class="string">&quot;\\&quot;</span> + metaFile);</span><br><span class="line">  <span class="keyword">var</span> metas = meta.<span class="title function_">split</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">  post.<span class="property">photograph</span>.<span class="property">file</span> = photoName + <span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">  post.<span class="property">photograph</span>.<span class="property">name</span> = metas[<span class="number">0</span>];</span><br><span class="line">  post.<span class="property">photograph</span>.<span class="property">link</span> = metas[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">  postStr = front.<span class="title function_">stringify</span>(post);</span><br><span class="line">  postStr = <span class="string">&#x27;---\n&#x27;</span> + postStr;</span><br><span class="line"></span><br><span class="line">  fs.<span class="title function_">writeFile</span>(data.<span class="property">path</span>, postStr, <span class="string">&#x27;utf-8&#x27;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">//copy normal image</span></span><br><span class="line">  fs.<span class="title function_">copyFile</span>(</span><br><span class="line">    poolDir + <span class="string">&quot;\\&quot;</span> + photoName + <span class="string">&quot;\\normal.jpg&quot;</span>,</span><br><span class="line">    photosDir + <span class="string">&quot;\\normal\\&quot;</span> + photoName + <span class="string">&quot;.jpg&quot;</span>,</span><br><span class="line">    <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//copy tablet image</span></span><br><span class="line">      fs.<span class="title function_">copyFile</span>(</span><br><span class="line">        poolDir + <span class="string">&quot;\\&quot;</span> + photoName + <span class="string">&quot;\\tablet.jpg&quot;</span>,</span><br><span class="line">        photosDir + <span class="string">&quot;\\tablet\\&quot;</span> + photoName + <span class="string">&quot;.jpg&quot;</span>,</span><br><span class="line">        <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">          <span class="comment">//copy mobile image</span></span><br><span class="line">          fs.<span class="title function_">copyFile</span>(</span><br><span class="line">            poolDir + <span class="string">&quot;\\&quot;</span> + photoName + <span class="string">&quot;\\mobile.jpg&quot;</span>,</span><br><span class="line">            photosDir + <span class="string">&quot;\\mobile\\&quot;</span> + photoName + <span class="string">&quot;.jpg&quot;</span>,</span><br><span class="line">            <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">              <span class="comment">//remove processed pool folder</span></span><br><span class="line">              fs.<span class="title function_">rmdirSync</span>(poolDir + <span class="string">&quot;\\&quot;</span> + photoName);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Now it so easy to write a new post, because almost everything is set and I can concentrate on the article. Also, it is a nice surprise to see, which photo the script has chosen. The only thing I have to do from time to time, is to refill the pool folder with new images.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Localization with resource files in JavaScript web apps</title>
      <link href="/post/Localization-with-resource-files-in-JavaScript-web-apps/"/>
      <url>/post/Localization-with-resource-files-in-JavaScript-web-apps/</url>
      
        <content type="html"><![CDATA[<p>There are plenty of editors out there to help you writing JavaScript web applications. As I’m working in my daily life with Visual Studio, it is a obvious choice for me.</p><p>One of the most time saving tools in VS is the plugin <a href="https://marketplace.visualstudio.com/items?itemName=TomEnglert.ResXManager">ResXManager</a>, which is an awesome assistant on managing the translations for a Desktop- or ASP.NET-App, which uses XML-based RESX files.</p><span id="more"></span><p>Mostly very localization is based on key&#x2F;value pairs, defined in separate files for every language provided.</p><p>Implementing several languages in pure JavaScript apps is a little more difficult, because it makes no sense to deal with big XML files in JS. All localization libraries in the market uses JSON for storing the translations and it is a little bit of work to find the right one for your requirements.</p><!-- more --><h2 id="Localization-in-JavaScript"><a href="#Localization-in-JavaScript" class="headerlink" title="Localization in JavaScript"></a>Localization in JavaScript</h2><p>For a current project I use  <a href="https://github.com/Irrelon/jquery-lang-js">jquery-lang</a>, because it provides the switch of the apps UI language without reloading and it is easy to implement. Thanks Rob Evans for your work…</p><p>The definition of “tokens” in one JSON file for each language is quite easy:</p><figure class="highlight js"><figcaption><span>../languages/en.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;token&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;my-test&quot;</span>: <span class="string">&quot;My Test in English&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><figcaption><span>../languages/de.json</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;token&quot;</span>: &#123;</span><br><span class="line">        <span class="string">&quot;my-test&quot;</span>: <span class="string">&quot;Mein Test in Deutsch&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The usage also:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> <span class="attr">data-lang-token</span>=<span class="string">&quot;my-test&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Using-RESX-and-convert-to-JSON-on-build"><a href="#Using-RESX-and-convert-to-JSON-on-build" class="headerlink" title="Using RESX and convert to JSON on build"></a>Using RESX and convert to JSON on build</h2><p>Having this, the most time consuming work is to enter the translations to the localization files. If you have hundreds of them, it is hard to keep the 2, 3 or more language files in sync. You need a helper…</p><p>And here comes ResXManager to the rescue, if you work with VS … but it needs a conversation from RESX to the JSON format jquery-lang uses and this a task, which can be done on building the JS app, by using a task runner like <a href="https://gruntjs.com/">Grunt</a>.</p><p>As there was no Grunt plugin&#x2F;task out there to fit my needs, I have created  <strong>grunt-resource2json</strong> (<a href="https://github.com/kristofzerbe/grunt-resource2json">GitHub</a>, <a href="https://www.npmjs.com/package/grunt-resource2json">NPM</a>). The configuration in the <strong>gruntfile.js</strong> is like: </p><figure class="highlight json"><figcaption><span>gruntfile.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">grunt.initConfig(<span class="punctuation">&#123;</span></span><br><span class="line">    resource2json<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      convert<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        options<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">          format<span class="punctuation">:</span> <span class="string">&quot;jquery-lang&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        files<span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            input<span class="punctuation">:</span> <span class="string">&quot;resources/Resource.resx&quot;</span><span class="punctuation">,</span></span><br><span class="line">            output<span class="punctuation">:</span> <span class="string">&quot;build/langpacks/en.json&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            input<span class="punctuation">:</span> <span class="string">&quot;resources/Resource.de-DE.resx&quot;</span><span class="punctuation">,</span></span><br><span class="line">            output<span class="punctuation">:</span> <span class="string">&quot;build/langpacks/de.json&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            input<span class="punctuation">:</span> <span class="string">&quot;resources/Resource.es-ES.resx&quot;</span><span class="punctuation">,</span></span><br><span class="line">            output<span class="punctuation">:</span> <span class="string">&quot;build/langpacks/es.json&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span>);</span><br></pre></td></tr></table></figure><p>It takes one RESX file (input) and converts it to a JSON file (output) in an array of files.</p><p>The heavy work in the plugin is done by the library <a href="https://www.npmjs.com/package/xml2js">xml2js</a>, which transforms the complete XML of the RESX file into a JSON object in one call. All I had to do, was to write all DATA nodes in a loop into the jquery-lang given structure and save it as JSON.</p><p>Currently supported is the format for jquery-lang only, but it would be awesome, if you fork the code on <a href="https://github.com/kristofzerbe/grunt-resource2json">GitHub</a> and send me a Pull Request with the implementation of your needed format.</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Visual Studio </tag>
            
            <tag> Resource </tag>
            
            <tag> Localization </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>TFS/DevOps: Delete Remote Workspace</title>
      <link href="/post/TFS-DevOps-Delete-Remote-Workspace/"/>
      <url>/post/TFS-DevOps-Delete-Remote-Workspace/</url>
      
        <content type="html"><![CDATA[<p>If you are working with freelance developers and Azure DevOps&#x2F;TFS with TFVC (Team Foundation Version Control) in your company, maybe this will look familiar to you: You hire a new freelancer and you want to reuse the hardware, including the complete software setup, to bring him&#x2F;her to work as fast and straightforward as possible. You set up a new Azure Devops account with all necessary permissions and you think you’re done. No you are not…</p><span id="more"></span><p>Everytime a user connects to a Team Project on Azure DevOps via Visual Studio and gets the code, VS is creating a <strong>remote workspace</strong> on the server, with the <strong>machine name</strong> as default, therefor it is not enough to wipe the profile and any other legacies of the last user from the machine. You also have to remove the remote workspace. Otherwise you will get an error message like that, if you are using a unique file structure on the developers hard disc:</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The working folder c://xxx is already in use by the workspace yyy;zzz on computer yyy</span><br></pre></td></tr></table></figure><p>The variable xxx stands for the blocked folder, yyy for the workspace&#x2F;machine name and zzz for the users id on Azure DevOps.</p><p>Unfortunately, there is no visual management console on Azure DevOps to manage your server workspaces, but there is a command line tool called <strong><a href="https://docs.microsoft.com/en-us/azure/devops/repos/tfvc/use-team-foundation-version-control-commands?view=azure-devops">tf.exe</a></strong>.</p><p>The easiest way to get rid of the unused server workspace in 3 steps:</p><h2 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h2><p>Run <strong>Developer Command Prompt</strong> with Administrator privileges from Visual Studio 2019 and login with your Azure DevOps credentials. If the Login dialog doesn’t show up, force it by executing:</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.exe workspace</span><br></pre></td></tr></table></figure><h2 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h2><p>Get a list of all remote workspaces available in your DevOps Collection by running the command:</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf.exe workspaces /computer:* /owner:* /format:xml &gt; c:\temp\workspaces.xml</span><br></pre></td></tr></table></figure><p>You can get a list of all your workspaces by running <code>tf workspaces</code>, but the list only shows you the <code>owner</code>, but not the necessary <code>ownerid</code> and … it is nicer to have a file to search in.</p><h2 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h2><p>Find the abandoned workspace in the list and note its <code>name</code> and  <code>ownerid</code> for running the command:</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tf workspace /delete &#123;WORKSPACE.name&#125;;&#123;WORKSPACE.ownerid&#125;</span><br></pre></td></tr></table></figure><p>Now your new colleague can create his own workspace on the same machine.</p><h2 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h2><p>In case you want to switch your own DevOps account to another and use the same folder as before, you can certainly delete the local workspace, but this wont help, because you are still logged in at TeamExplorer and the folder knows to whom it belongs. Solution is easy:</p><ol><li>Quit Visual Studio</li><li>Rename folder in <code>***_OLD</code> or something</li><li>Create new folder with the same name</li><li>Enter <code>C:\Users\YOUR-NAME\appdata\Local\Microsoft\Team Foundation\VS-VERSION\Cache</code> and emtpy the folder to let Visual Studio forget who you are</li><li>Remove all your Remote Workspaces as described above</li><li>Start Visual Studio, connect in TeamExplorer to your TFS server and map the code to your folder</li></ol><h2 id="More-Info"><a href="#More-Info" class="headerlink" title="More Info"></a>More Info</h2>        <ul class="moreinfo-list">            <li>Microsoft Docs: <a href="https://docs.microsoft.com/en-us/azure/devops/repos/tfvc/use-team-foundation-version-control-commands?view=azure-devops">Use Team Foundation version control commands</a></li><li>Stackoverflow: <a href="https://stackoverflow.com/questions/28298771/how-to-remove-tfs-workspace-mapping-for-another-user/28299407">How to remove TFS workspace mapping for another user</a></li>        </ul>    ]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Visual Studio </tag>
            
            <tag> TFS/DevOps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Better Input Change Event</title>
      <link href="/post/Better-Input-Change-Event/"/>
      <url>/post/Better-Input-Change-Event/</url>
      
        <content type="html"><![CDATA[<p>Often it is important to trigger an event, after the user of your website&#x2F;web app has filled out an text input. You have to do something with the given value in JavaScript.</p><p>The intended event for this is <code>change</code>, which will be triggered, when the user has ended changing by leaving the input with his cursor, mostly by using the TAB key. This works at some degree, if there is a physical keyboard, but not really on mobile devices … and for me is leaving the field often too late to start the upcoming event.</p><span id="more"></span><p>A better way to show the user the result of his entered value, could be the event <code>input</code> which fires on every key stroke, but could be way to often, if the triggered event is for example an AJAX call.</p><p>Best solution is, to observe the users key strokes and trigger the event, when he stops typing. Then there is no extra action needed by the user and the event isn’t triggered multiple times. </p><p>Here’s an implementation with jQuery:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">&quot;#my-text-input&quot;</span>).<span class="title function_">keyup</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> $this = $(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="built_in">clearTimeout</span>($.<span class="title function_">data</span>(<span class="variable language_">this</span>, <span class="string">&#x27;timer&#x27;</span>));</span><br><span class="line">    <span class="keyword">var</span> wait = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//do something with the value...</span></span><br><span class="line"></span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">    $(<span class="variable language_">this</span>).<span class="title function_">data</span>(<span class="string">&#x27;timer&#x27;</span>, wait);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Important is to wipe and set the timer on every key up, to achive that the event will be executed after 1 second after the last key stroke only.</p>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jQuery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo and the Dark Mode ... revised</title>
      <link href="/post/Hexo-and-the-Dark-Mode-revised/"/>
      <url>/post/Hexo-and-the-Dark-Mode-revised/</url>
      
        <content type="html"><![CDATA[<p>While writing my post <a href="/categories/Tools/Hexo-and-the-Dark-Mode">Hexo and the Dark Mode</a> a few days ago, I thought it would be nice, if I could switch between the normal (light) and the dark theme, I’ve created for the support of the OS-related Dark Mode, even manually. The only thing I needed was a toggle element and a little bit of JavaScript.</p><p>Of course, I couldn’t manipulate the <a href="https://drafts.csswg.org/mediaqueries-5/#descdef-media-prefers-color-scheme">media query <code>prefers-color-scheme</code></a> itself, but introduce a different way by blog uses it. Instead of implementing the media query directly into my CSS (or Stylus) code, I used a root selector, which can be manipulated by JavaScript … something like this:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: white;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: black;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><span id="more"></span><p>In every Stylus file, where I used <code>@media prefers-dark</code> to achieve the automatic switch by the OS, I changed this line into <code>/[data-theme=&quot;dark&quot;] &amp;</code> :</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mobile-nav-header</span></span><br><span class="line">  <span class="attribute">background-color</span>: color-background</span><br><span class="line">  /<span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> &amp;</span><br><span class="line">    <span class="attribute">background-color</span>: dark-color-background</span><br><span class="line">  <span class="selector-tag">img</span><span class="selector-class">.avatar</span></span><br><span class="line">    ...</span><br><span class="line">    /<span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> &amp;</span><br><span class="line">      <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">85%</span>)</span><br></pre></td></tr></table></figure><p>Some explanations on the <a href="http://stylus-lang.com/docs/selectors.html">Stylus syntax</a>: <code>/</code> means the root of the DOM and <code>&amp;</code> points to the parent selector. Therefore the example will be rendered into this:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mobile-nav-header</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f1f1f1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#mobile-nav-header</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#111</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#mobile-nav-header</span> <span class="selector-tag">img</span><span class="selector-class">.avatar</span> &#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-id">#mobile-nav-header</span> <span class="selector-tag">img</span><span class="selector-class">.avatar</span></span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">85%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Only problem was: the “Root + Parent” Stylus selector doesn’t work in the block variables in the <code>_extend.styl</code>. So I had to copy all theme relevant styles directly to the elements, where such a block was used: <code>@extend &lt;block-name&gt;</code>.</p><h2 id="The-Toggle-Switch"><a href="#The-Toggle-Switch" class="headerlink" title="The Toggle Switch"></a>The Toggle Switch</h2><p>In the <code>footer.ejs</code> I added a toggle checkbox, where I could bind my JavaScript…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;footer-theme&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;theme-switch&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;theme-switch&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>… and some CSS in the <code>footer.styl</code>, to style it:</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">input<span class="selector-id">#theme-switch</span><span class="selector-attr">[type=checkbox]</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>:none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">input<span class="selector-id">#theme-switch</span><span class="selector-attr">[type=checkbox]</span> + <span class="selector-tag">label</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">16px</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">16px</span></span><br><span class="line">  <span class="attribute">display</span>: inline-block</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">12px</span></span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">22px</span></span><br><span class="line">  <span class="attribute">cursor</span>: pointer</span><br><span class="line">  <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">    <span class="attribute">display</span>: inline-block</span><br><span class="line">    <span class="attribute">font-size</span>: inherit</span><br><span class="line">    <span class="attribute">text-rendering</span>: auto</span><br><span class="line">    -webkit-<span class="attribute">font-smoothing</span>: antialiased</span><br><span class="line">    <span class="attribute">font-family</span>: fa-icon-solid</span><br><span class="line">    <span class="attribute">content</span>: icon-moon</span><br><span class="line"></span><br><span class="line">input<span class="selector-id">#theme-switch</span><span class="selector-attr">[type=checkbox]</span><span class="selector-pseudo">:checked</span> + <span class="selector-tag">label</span></span><br><span class="line">  <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">    <span class="attribute">content</span>: icon-sun</span><br></pre></td></tr></table></figure><p>The <code>icon</code> variables are defined in the <code>_variables.styl</code> like this:</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">icon</span>-moon = <span class="string">&quot;\f186&quot;</span></span><br><span class="line"><span class="attribute">icon</span>-sun = <span class="string">&quot;\f185&quot;</span></span><br></pre></td></tr></table></figure><h2 id="The-JavaScript"><a href="#The-JavaScript" class="headerlink" title="The JavaScript"></a>The JavaScript</h2><p>Everything was now prepared to implement the switching code in JavaScript, which should support a manual switch by clicking the toggle element as well as the automatic switch by the OS.</p><p>I wrapped all necessary code into a seperate JS file and placed a reference in the <code>after-footer.ejs</code>, which places it at the bottom of the HTML:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- js(&#x27;js/dark-mode-toggle.js&#x27;) %&gt;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">detectColorScheme</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> theme = <span class="string">&quot;light&quot;</span>; <span class="comment">//default</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// get last used theme from local cache</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;theme&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;theme&quot;</span>) === <span class="string">&quot;dark&quot;</span>)&#123;</span><br><span class="line">            theme = <span class="string">&quot;dark&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(!<span class="variable language_">window</span>.<span class="property">matchMedia</span>) &#123; </span><br><span class="line">        <span class="comment">// matchMedia not supported  </span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable language_">window</span>.<span class="title function_">matchMedia</span>(<span class="string">&quot;(prefers-color-scheme: dark)&quot;</span>).<span class="property">matches</span>) &#123;</span><br><span class="line">        <span class="comment">// OS has set Dark Mode</span></span><br><span class="line">        theme = <span class="string">&quot;dark&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// set detected theme</span></span><br><span class="line">    <span class="keyword">if</span> (theme === <span class="string">&quot;dark&quot;</span>) &#123;</span><br><span class="line">        <span class="title function_">setThemeDark</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">setThemeLight</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> toggleTheme = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;input#theme-switch[type=&quot;checkbox&quot;]&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setThemeDark</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">setAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">    toggleTheme.<span class="property">checked</span> = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setThemeLight</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">setAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>);</span><br><span class="line">    toggleTheme.<span class="property">checked</span> = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Listener for theme change by toggle</span></span><br><span class="line">toggleTheme.<span class="title function_">addEventListener</span>(<span class="string">&#x27;change&#x27;</span>, <span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">target</span>.<span class="property">checked</span>) &#123;</span><br><span class="line">        <span class="title function_">setThemeDark</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">setThemeLight</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Listener for theme change by OS</span></span><br><span class="line"><span class="keyword">var</span> toggleOS = <span class="variable language_">window</span>.<span class="title function_">matchMedia</span>(<span class="string">&#x27;(prefers-color-scheme: dark)&#x27;</span>);</span><br><span class="line">toggleOS.<span class="title function_">addEventListener</span>(<span class="string">&#x27;change&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">matches</span>) &#123;</span><br><span class="line">        <span class="title function_">setThemeDark</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">setThemeLight</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// call theme detection</span></span><br><span class="line"><span class="title function_">detectColorScheme</span>();</span><br></pre></td></tr></table></figure><p>By using the both <code>addEventListener</code>‘s, each switch will be recognized and this approach is capable to support even more themes, just by using different values in the <code>data-theme</code> attribute.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> CSS </tag>
            
            <tag> Stylus </tag>
            
            <tag> Dark Mode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo and the Dark Mode</title>
      <link href="/post/Hexo-and-the-Dark-Mode/"/>
      <url>/post/Hexo-and-the-Dark-Mode/</url>
      
        <content type="html"><![CDATA[<p>Due to the fact, that nowadays everybody is talking about Dark Modes for Browsers and Operating Systems, in order to save battery or for easier reading (uhh, really?), I decided my blog should support that.</p><p><img src="/post/Hexo-and-the-Dark-Mode/screen-recording-1.gif" alt="Switching Dark Mode in Windows 10"></p><span id="more"></span><p>Starting point is the new media query <code>prefers-color-scheme</code>, which is actually supported by all modern browsers.</p><h2 id="Technique"><a href="#Technique" class="headerlink" title="Technique"></a>Technique</h2><p>My first read was Tom Brow’s <a href="https://tombrow.com/dark-mode-website-css">Dark mode in a website with CSS</a>, where he shows how to use the media query. Simplified, this is it, assuming the light version is the default:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: white;</span><br><span class="line">    <span class="attribute">color</span>: black;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme</span>: dark) &#123;</span><br><span class="line">  <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: black;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Pimping-CSS-for-automatic-switching"><a href="#Pimping-CSS-for-automatic-switching" class="headerlink" title="Pimping CSS for automatic switching"></a>Pimping CSS for automatic switching</h2><p>To support the automatic browser&#x2F;OS-based automatic switch in Hexo, where <a href="http://stylus-lang.com/">Stylus</a> is used, I had to change some template files. First the <code>_variables.styl</code>:</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// existing color variables</span></span><br><span class="line"><span class="attribute">color</span>-background = <span class="number">#f1f1f1</span></span><br><span class="line"><span class="attribute">color</span>-foreground = <span class="number">#111</span></span><br><span class="line"><span class="attribute">color</span>-border = <span class="number">#ddd</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// new dark color variables</span></span><br><span class="line">dark-<span class="attribute">color</span>-background = <span class="number">#111</span></span><br><span class="line">dark-<span class="attribute">color</span>-foreground = <span class="number">#eee</span></span><br><span class="line">dark-<span class="attribute">color</span>-border = <span class="number">#000</span></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// new media query variable</span></span><br><span class="line">prefers-dark = <span class="string">&quot;(prefers-color-scheme: dark)&quot;</span></span><br></pre></td></tr></table></figure><p>Next step was to change the <code>_extend.styl</code>, where some Stylus variables are defining complete blocks to extend. Here I had to supplement all lines, where something mode-dependend was defined, by adding the new <code>prefers-dark</code> media query and beneath the new ‘dark’ equivalence of the style:</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$base</span>-style</span><br><span class="line">  hr</span><br><span class="line">    ...</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> dashed color-border-article</span><br><span class="line">    <span class="keyword">@media</span> prefers-dark</span><br><span class="line">      border: <span class="number">1px</span> dashed dark-color-border-article</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">$block</span><br><span class="line">  ...</span><br><span class="line">  background: color-block</span><br><span class="line">  box-shadow: <span class="number">1px</span> <span class="number">2px</span> <span class="number">3px</span> color-border</span><br><span class="line">  border: <span class="number">1px</span> solid color-border</span><br><span class="line">  @media prefers-dark</span><br><span class="line">    background: dark-color-block</span><br><span class="line">    box-shadow: <span class="number">1px</span> <span class="number">2px</span> <span class="number">3px</span> dark-color-border</span><br><span class="line">    border-color: dark-color-border</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>The same changes I had to do in every template <code>styl</code> file, where one of the colors or other mode dependent style was used. For example:</p><figure class="highlight styl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mobile-nav-header</span></span><br><span class="line">  <span class="attribute">background-color</span>: color-background</span><br><span class="line">  <span class="keyword">@media</span> prefers-dark</span><br><span class="line">    background-color: dark-color-background</span><br><span class="line">  img.avatar</span><br><span class="line">    ...</span><br><span class="line">    @media prefers-dark</span><br><span class="line">      filter: brightness(<span class="number">85%</span>)</span><br></pre></td></tr></table></figure><p>This will be rendered as:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#mobile-nav-header</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#f1f1f1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme</span>: dark) &#123;</span><br><span class="line">    <span class="selector-id">#mobile-nav-header</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#111</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#mobile-nav-header</span> <span class="selector-tag">img</span><span class="selector-class">.avatar</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme</span>: dark) &#123;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">85%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Please note the use of <code>filter:brightness()</code> in the example. It is always advisable to darken the images too, because they can really pop out on dark backgrounds.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> CSS </tag>
            
            <tag> Stylus </tag>
            
            <tag> Dark Mode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>A New Blog: Blogging and Synching en route</title>
      <link href="/post/A-New-Blog-Blogging-and-Synching-en-route/"/>
      <url>/post/A-New-Blog-Blogging-and-Synching-en-route/</url>
      
        <content type="html"><![CDATA[<p>I work with several devices, some Windows, some Android, and sometimes I have time to write on my articles at home (Notebook, Tablet), in my spare time in the office (Desktop, Laptop) or on my way to somewhere (Smartphone). Right now I’m am in a barber shop, waiting for my haircut and write these lines. So, wherever I am, I need the Hexo project locally, but in sync on a digital device.</p><p>The blog is synced via Dropbox, but hosted on GitHub Pages, so on every device I need the  publishing functions of Git too.</p><span id="more"></span><h2 id="Sync-Hexo-Project"><a href="#Sync-Hexo-Project" class="headerlink" title="Sync Hexo Project"></a>Sync Hexo Project</h2><p>Best option for me to achieve this was  <a href="https://dropbox.com/">Dropbox</a>. Another benefit on that is: I can work on the structure of the blog wherever I am and commit when the new feature or improvement is done, because all Git related files are always in sync too.</p><h2 id="Writing-Editing-and-Publishing-on-Windows"><a href="#Writing-Editing-and-Publishing-on-Windows" class="headerlink" title="Writing, Editing and Publishing on Windows"></a>Writing, Editing and Publishing on Windows</h2><p>My preferred editor is <a href="https://code.visualstudio.com/">Visual Studio Code</a>. Good file handling, easy writing, full Git integration and tons of other plugins and helpers. Chapeau Microsoft, well done.</p><p>Some of the following VS Code plugins makes working with Hexo on GitHub pages a breeze:</p><hr><p><a href="(https://marketplace.visualstudio.com/items?itemName=codeyu.vscode-hexo)%7B.lefty%7D"><img src="/post/A-New-Blog-Blogging-and-Synching-en-route/icon-vscode-hexo.png" alt="vscode-hexo"></a><br>Adds Hexo commands like <code>init</code>, <code>new</code>, <code>generate</code>, <code>server</code> and <code>clean</code> to the VS Code command palette.</p><hr><p><a href="https://marketplace.visualstudio.com/items?itemName=yzhang.markdown-all-in-one"><img src="/post/A-New-Blog-Blogging-and-Synching-en-route/icon-markdown-all-in-one.png" alt="Markdown All in One"></a><br>Keyboard shortcuts for basic formatting, automatic list editing, autocomlete for images,  table formatter and much more for an easier handling of Markdown.</p><hr><p><a href="https://marketplace.visualstudio.com/items?itemName=DavidAnson.vscode-markdownlint"><img src="/post/A-New-Blog-Blogging-and-Synching-en-route/icon-markdownlint.png" alt="markdownlint"></a><br>Markdown linting and style checking</p><hr><p><a href="https://marketplace.visualstudio.com/items?itemName=sysoev.language-stylus"><img src="/post/A-New-Blog-Blogging-and-Synching-en-route/icon-stylus.png" alt="Language Stylus"></a><br>Adds syntax highlighting and code completion to Stylus files</p><hr><p><a href="https://marketplace.visualstudio.com/items?itemName=sysoev.language-stylus"><img src="/post/A-New-Blog-Blogging-and-Synching-en-route/icon-gitlens.png" alt="GitLens"></a><br>Complete visual management of your repositories in VS Code</p><hr><p><a href="https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph"><img src="/post/A-New-Blog-Blogging-and-Synching-en-route/icon-gitgraph.png" alt="Git Graph"></a><br>View a Git Graph of your repository with all changes and manage commits.</p><hr><p>With this editor and its helpers, I’m just two clicks away from publishing a new article or even a new version of the Hexo blog itself.</p><h2 id="Writing-on-Android"><a href="#Writing-on-Android" class="headerlink" title="Writing on Android"></a>Writing on Android</h2><p>There are a lot of Markdown editors available on Google Play, but one is outstanding: <a href="https://ia.net/writer/support/android">iA Writer for Android</a>. I can open my posts or drafts directly from Dropbox, without the need of any sychronization. Open, write, close, done.</p><p><img src="/post/A-New-Blog-Blogging-and-Synching-en-route/ia-writer-1.png" alt="iA Writer Android"></p><h2 id="Publishing-on-Android"><a href="#Publishing-on-Android" class="headerlink" title="Publishing on Android"></a>Publishing on Android</h2><p>There are some Git related Android apps out there, but no solution was satisfying. Furthermore, I didn’t really need Git here, because I didn’t want to have all source files on my smartphone. I’m working directly on the Dropbox stored MD files via iA Writer. Finally and most important, Git won’t be enough, because before publishing, I have to run <code>hexo generate</code>! Therefore some sort of automatic transfer from Dropbox to GitHub is also out of the game.</p><p>What I needed, was to tell a server at a certain point of time ‘Hey, please publish for me’, using the only connection I have: Dropbox.</p><h3 id="Introducing-a-Demon"><a href="#Introducing-a-Demon" class="headerlink" title="Introducing a Demon"></a>Introducing a Demon</h3><p>I have a little media server, running on Windows, and he is synchronizing some folders with Dropbox. He could do the job! After I installed all necessary packages, like NodeJS, Hexo and Git, I included the project folder into the sync. </p><p>Next step was to design a so called <strong>Hexo Command File</strong>, a simple TXT file, which holds commands in single lines, extended with execution times, when they were successfully running.</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">postdraft</span>: <span class="string">A-New-Blog-Blogging-and-Synching-en-route</span></span><br><span class="line"><span class="attr">publish</span></span><br><span class="line"><span class="attr">newdraft</span>: <span class="string">&quot;A New Blog: Blogging and Synching en route&quot; @ 2019-09-30 21:15</span></span><br><span class="line"><span class="attr">regenerate</span> <span class="string">@ 2019-09-29 16:40:01</span></span><br><span class="line"><span class="attr">publish</span> <span class="string">@ 2019-09-29 16:40:10</span></span><br></pre></td></tr></table></figure><p>These commands are predefined, because they bundle several real commands and I didn’t want to deal with real commands, due to security reasons.</p><p>The unprocessed commands are standing at the top of the file (in execution order!) and parameters are separated from the command by a colon and delimited by commas.</p><pre><code>&lt;command&gt;: [&lt;param1&gt;, ...] @ &lt;execution time&gt;</code></pre><p>Next step was to create a program to work as an executing demon, who monitors the Hexo Command File (synced by Dropbox) on my server and executes commands without execution dates.</p><p>I decided to create a simple Console Application in C# and use the built-in <a href="https://en.wikipedia.org/wiki/Windows_Task_Scheduler">Windows Task Scheduler</a> for running it every 2 minutes. The application is called <strong>HexoCommander</strong> and is <a href="https://github.com/kristofzerbe/HexoCommander">available at GitHub</a>.</p><p>It expects the Hexo Command File to be named <code>hexo-commands.txt</code>, located in the same folder, and provides the following commands:</p><p><strong>newdraft: “&lt;title&gt;”</strong> … runs</p><ol><li><code>hexo new draft &quot;&lt;title&gt;&quot;</code></li></ol><p>Creates a new draft.</p><p><strong>postdraft: “&lt;filename without extension&gt;”</strong> … runs</p><ol><li><code>hexo publish &quot;&lt;filename without extension&gt;&quot;</code></li></ol><p>Makes a post out of a draft.</p><p><strong>regenerate</strong> … runs</p><ol><li><code>hexo clean</code></li><li><code>hexo generate</code></li></ol><p>Wipes all Hexo static pages and generates them new.</p><p><strong>publish</strong> … runs</p><ol><li><code>hexo generate</code></li><li><code>git add &quot;source/*&quot; &quot;docs/*&quot;</code></li><li><code>git commit -m &quot;Remote publication via HexoCommander&quot;</code></li><li><code>git push origin master</code></li></ol><p>Generates Hexo static pages, stage changes on drafts, posts and static pages, commits the changes with a generic message and pushes them to the server.</p><h3 id="Running-the-demon"><a href="#Running-the-demon" class="headerlink" title="Running the demon"></a>Running the demon</h3><p>I would have never expected, that the trickiest part was to get HexoCommander running via Windows Task Scheduler. What a mess! I finally find the solution <a href="https://social.msdn.microsoft.com/Forums/SqlServer/en-US/29446adf-8304-4b9f-bbc4-95daf2941d53/program-runs-fine-but-task-scheduler-wont-run-it?forum=winserver2008appcompatabilityandcertification">here</a>:</p><ol><li><p>Compile HexoCommander in a <strong>x86</strong> configuration</p></li><li><p>Create a new task in Task Scheduler with</p><ul><li><strong>Trigger</strong><ul><li>Dialy</li><li>Recur every 1 days</li><li>Repeat task every 2 minutes for a duration of 1 day</li></ul></li><li><strong>Action</strong><ul><li>Program&#x2F;Script: <strong>%systemroot%\Syswow64\cmd.exe</strong></li><li>Add Arguments: <strong>&#x2F;C “C:\MyPath\HexoCommander.exe &#x2F;workdir&#x3D;C:\MyPath”</strong></li><li>Start In: <strong>%systemroot%\Syswow64\</strong></li></ul></li></ul></li></ol><p>Because some executing commands in the chain are NOT 64-bit, I had to force Task Scheduler to run the 32-bit Command Shell in its own path (see ‘Start In’ and don’t forget the closing backslash) and take the 32-bit compiled HexoCommander as argument after the parameter <code>/C</code> (forcing command to terminate), including its own argument for defining the real working directory. Mind bending, but works…</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
            <tag> VS Code </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>A New Blog: Customizing Hexo</title>
      <link href="/post/A-New-Blog-Customizing-Hexo/"/>
      <url>/post/A-New-Blog-Customizing-Hexo/</url>
      
        <content type="html"><![CDATA[<p>Hexo is a great tool to get quick results (see <a href="/categories/Tools/A-New-Blog-VS-Code-Hexo-and-GitHub-Pages/">Part One of this series</a>), when you decide to have a blog and its defaults are practical, but it’s power lies in the possiblities of customization via plugins. On the <a href="https://hexo.io/plugins/index.html">official plugin page</a>, there are actually 302 plugins listed, but there are many more and no wish will be unsatisfied.</p><p>I will show you which of these I found worth to work with…</p><span id="more"></span><h2 id="Relative-Image-Path"><a href="#Relative-Image-Path" class="headerlink" title="Relative Image Path"></a>Relative Image Path</h2><p>The build-in way to include images in your posts works fine, but it is a little aside the normal way to declare images in Markdown. The plugin [Hexo Asset Link] corrects that. After installing via <code>npm install hexo-asset-link --save</code> you can write this:</p><pre><code>![Test Image](hello-world/image-1.png)</code></pre><p>The best is, that VS Code’s Markdown can now show the image.</p><hr><p><strong>UPDATE</strong>:<br>Actually the plugin <a href="https://github.com/liolok/hexo-asset-link/issues/3">destroys external links</a>, so don’t use it until this is fixed … or go to <strong>node_modules</strong> &gt; <strong>hexo-asset-link</strong> &gt; <strong>index.js</strong> in your project and change in line 22 <code>protocal</code> to <code>protocol</code>.</p><p><strong>UPDATE from Update</strong>:<br><a href="https://github.com/liolok">liolok</a>, the author of the plugin has merged my pull request and published a new new version without the typo. It works now as expected.</p><hr><h2 id="Hide-Posts"><a href="#Hide-Posts" class="headerlink" title="Hide Posts"></a>Hide Posts</h2><p>A new Hexo project comes with a sample post called <code>Hello World</code>. This is fine to play around with, but you don’t want to publish it. Here comes a Hexo plugin to the rescue called <a href="https://github.com/printempw/hexo-hide-posts">Hexo Hide Posts</a>. After installing, you just have to write <code>hidden: true</code> to the Front Matter of you post and it won’t be shown on the blog, but it is still available by URL.</p><h2 id="Static-Files"><a href="#Static-Files" class="headerlink" title="Static Files"></a>Static Files</h2><p>Hexo has the concept of <a href="https://hexo.io/docs/asset-folders">Assets Folders</a>, but for static files, beside article based files, I find it more useful to have a STATIC folder and copy the contents on every build into the publish folder. A good helper for this approach is the plugin <a href="https://github.com/niahoo/hexo-generator-copy">Hexo Generator Copy</a>. Install it by running <code>npm install hexo-generator-copy --save</code> and add <code>static_dir: static</code> to your <code>_config.yml</code> and you are done.</p><pre><code>![Hexo Static Files](/post/A-New-Blog-Customizing-Hexo/vscode-1.png)</code></pre><h2 id="Feed"><a href="#Feed" class="headerlink" title="Feed"></a>Feed</h2><p>The default Hexo layout has an Atom Feed icon in the upper right corner, but strangely no feed file is generated on build. You need to install the plugin <a href="https://github.com/hexojs/hexo-generator-feed">Hexo Feed Generator</a> to fix this, by running <code>npm install hexo-generator-feed --save</code> and copy following section into the <code>_config.yml</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">feed:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">    <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line">    <span class="attr">hub:</span></span><br><span class="line">    <span class="attr">content:</span></span><br><span class="line">    <span class="attr">content_limit:</span> <span class="number">140</span></span><br><span class="line">    <span class="attr">content_limit_delim:</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line">    <span class="attr">order_by:</span> <span class="string">-date</span></span><br></pre></td></tr></table></figure><h2 id="Manifest-for-PWA"><a href="#Manifest-for-PWA" class="headerlink" title="Manifest for PWA"></a>Manifest for PWA</h2><p>In these modern times it’s always a good idea, that your blog feels like an App. For this you need a manifest file (JSON) an several icons (PNG). You can generate these files very fast with the <a href="https://app-manifest.firebaseapp.com/">Web App Manifest Generator</a> and store it in your static folder.</p><p>To bind this file into your blog, you can use the plugin <a href="https://github.com/lavas-project/hexo-pwa">Hexo PWA</a>. Run <code>npm install --save hexo-pwa</code> and copy following section to your <code>_config.yml</code>, where you take the settings from your generated manifest file:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pwa:</span></span><br><span class="line">    <span class="attr">manifest:</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/manifest.json</span></span><br><span class="line">        <span class="attr">body:</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">myblog.de</span></span><br><span class="line">        <span class="attr">short_name:</span> <span class="string">My</span> <span class="string">Blog</span></span><br><span class="line">        <span class="attr">icons:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/images/icon-192x192.png</span></span><br><span class="line">            <span class="attr">sizes:</span> <span class="string">192x192</span></span><br><span class="line">            <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">            <span class="bullet">-</span> <span class="attr">src:</span> <span class="string">/images/icon-512x512.png</span></span><br><span class="line">            <span class="attr">sizes:</span> <span class="string">512x512</span></span><br><span class="line">            <span class="attr">type:</span> <span class="string">image/png</span></span><br><span class="line">        <span class="attr">start_url:</span> <span class="string">/index.html</span></span><br><span class="line">        <span class="attr">theme_color:</span> <span class="string">&#x27;#025ab1&#x27;</span></span><br><span class="line">        <span class="attr">background_color:</span> <span class="string">&#x27;#dddddd&#x27;</span></span><br><span class="line">        <span class="attr">display:</span> <span class="string">standalone</span></span><br></pre></td></tr></table></figure><h2 id="Sitemap-File"><a href="#Sitemap-File" class="headerlink" title="Sitemap File"></a>Sitemap File</h2><p>To help <a href="https://support.google.com/webmasters/answer/183668">Google</a> and others a bit to index your blog, it is advisable to provide a sitemap file. Here comes <a href="https://github.com/hexojs/hexo-generator-sitemap">Hexo Generator Sitemap</a> to the rescue. Install it by running the command <code>npm install hexo-generator-sitemap --save</code>. You can configure it via <code>_config.yml</code>:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">    <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br><span class="line">    <span class="attr">template:</span> <span class="string">./sitemap-template.xml</span></span><br></pre></td></tr></table></figure><p>The plugin installation doesn’t create the needed <code>sitemap-template</code> file, so be sure you grab a copy from the plugins repository: <a href="https://github.com/hexojs/hexo-generator-sitemap/blob/master/sitemap.xml">https://github.com/hexojs/hexo-generator-sitemap/blob/master/sitemap.xml</a></p><h2 id="Commenting"><a href="#Commenting" class="headerlink" title="Commenting"></a>Commenting</h2><p>Hexo doesn’t have a commenting system, but it’s prepared to stick <a href="https://disqus.com/">Disqus</a> comments under each article. Just create a new Disqus account for your blog and note the given short name. By adding following section to the <code>_config.yml</code> Hexo shows the commenting section:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">disqus_enabled:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">disqus_shortname:</span> <span class="string">my-blog</span></span><br></pre></td></tr></table></figure><h2 id="Inifinite-Scroll"><a href="#Inifinite-Scroll" class="headerlink" title="Inifinite Scroll"></a>Inifinite Scroll</h2><p>Hexo shows as much articles at the start page as configured in <code>_config.yml</code> under <code>index_generator.per_page</code>, but it’s nicer to load more articles as you scroll by using the Hexo script <a href="https://github.com/FrontendSophie/hexo-infinite-scroll">Inifinite Scroll</a>. Install by adding following little script in <strong>themes</strong> &amp; gt; <strong>layout</strong> &gt; <strong>_partial</strong> &gt; <strong>after-footer.ejs</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//cdn.jsdelivr.net/gh/frontendsophie/hexo-infinite-scroll@2.0.0/dist/main.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">infiniteScroll</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">showNum</span>: <span class="number">5</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">style</span>: <span class="string">&#x27;line-scale&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">color</span>: <span class="string">&#x27;#025ab1&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Back-To-Top"><a href="#Back-To-Top" class="headerlink" title="Back To Top"></a>Back To Top</h2><p>Its nice to support the reader on scolling by providing a Scroll-To-Top button. The easiest way to get this, is the script <a href="https://github.com/vfeskov/vanilla-back-to-top">Vanilla Back To Top</a>. Just add follwing to <strong>themes</strong> &gt;<strong>layout</strong> &gt; <strong>_partial</strong> &gt; <strong>after-footer.ejs</strong>:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"><span class="title function_">addBackToTop</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">diameter</span>: <span class="number">30</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">backgroundColor</span>: <span class="string">&#x27;rgb(0, 90, 180)&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="attr">textColor</span>: <span class="string">&#x27;#fff&#x27;</span></span></span><br><span class="line"><span class="language-javascript">&#125;)</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-id">#back-to-top</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">border-radius</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">opacity</span>: <span class="number">0.6</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"><span class="selector-id">#back-to-top</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
            <tag> VS Code </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>A New Blog: VS Code, Hexo and GitHub Pages</title>
      <link href="/post/A-New-Blog-VS-Code-Hexo-and-GitHub-Pages/"/>
      <url>/post/A-New-Blog-VS-Code-Hexo-and-GitHub-Pages/</url>
      
        <content type="html"><![CDATA[<p>A few days ago I puzzled over a technical problem regarding SQL Server, Active Directory and Visual Studio Database Projects. With tips, hints and snippets from several websites I got it running and the solution was absolutely memorable. For myself and for others. Nothing is harder than to know ‘you did this before…’, but not to remember how.</p><p>Because of this strong leaning towards oblivion, I started over 20 years ago my very first website <strong>zerbit.de</strong>, manually crafted with Classic ASP and a SQL Server database as backend, with an editor, tagging, categories and so on. It was really exciting to build this blog from scratch and writing articles for it, but it was so time consuming to expand the features of the website and keep it running, that some day I quit it silently.</p><p>So, to document the solution mentioned above, I could use tools like OneNote or others, like in the past years, but this would be just for me and not for all developers, who have a similar problem. I felt it would be unfair to participate from the knowledge of others to get my solution and dont give something back.</p><p>I decided to write an article just in HTML and publish it on my personal GitHub Page that I didn’t used so far. Ok, just Text … ugly. Just a little CSS and a little more structure and maybe I should do something with Vue JS … STOP … It would be better to pick one of the cool new static website generators based on Node.js, to detain myself from inventing the wheel again and save my time to write articles. So I did a little research and found <a href="https://hexo.io/">HEXO</a> … Bingo! I can work with my favorite editor <a href="https://code.visualstudio.com/">Visual Studio Code</a>, its all HTML, JavaScript and CSS, I can write my articles in Markdown and Hexo has a lot of helpers for stuff Markdown doesn’t provide, it produces static files and works only with files, therefore no need for a database … and it is well documented.</p><span id="more"></span><h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><p>.. is quite easy, as described here: <a href="https://hexo.io/docs/setup">https://hexo.io/docs/setup</a></p><ol><li>Create folder and open in VS Code</li><li>Open VS Code Terminal window</li><li>Install Hexo with <code>$ npm install -g hexo-cli</code></li><li>Init Hexo project with <code>$ hexo init</code></li><li>Install dependencies with <code>npm install</code></li><li>Done</li></ol><p><img src="/post/A-New-Blog-VS-Code-Hexo-and-GitHub-Pages/vscode-1.png" alt="New Hexo Project"></p><h2 id="Writing"><a href="#Writing" class="headerlink" title="Writing"></a>Writing</h2><h3 id="Create-new-post-x2F-draft"><a href="#Create-new-post-x2F-draft" class="headerlink" title="Create new post&#x2F;draft"></a>Create new post&#x2F;draft</h3><p>Hexo has posts and drafts, whereat drafts has to published via a Hexo command to become a post. To create an article use the command <code>hexo new post|draft &quot;My Title&quot;</code>. The title will be converted in a URL-encoded string and will be used as file name and url.</p><h3 id="Meta-data"><a href="#Meta-data" class="headerlink" title="Meta data"></a>Meta data</h3><p>Every post&#x2F;draft starts with its header (so called <a href="https://hexo.io/docs/front-matter">Front Matter</a>) to store some meta data, which describes the post, like <code>title</code>, <code>date</code>, <code>tags</code> or <code>categories</code>. This is used by Hexo to classify and arrange your post during the build.</p><h3 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a>Markdown</h3><p>Hexo posts&#x2F;drafts are written in <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>. Good syntax reference are the <a href="https://www.markdownguide.org/basic-syntax/">Markdown Guide</a> and the more detailed <a href="https://sourceforge.net/p/hexo/wiki/markdown_syntax/">Markdown Syntax Guide</a>.</p><h3 id="Excerpt"><a href="#Excerpt" class="headerlink" title="Excerpt"></a>Excerpt</h3><p>Is is usual to show a short excerpt an the start page of a blog, to keep it compact and teasering the user to click on a READ MORE button. To achieve this, you just have to add following comment to your article. Everything above is the excerpt and everything below is only shown, when you enter the article:</p><pre><code>&lt;!-- more --&gt;</code></pre><h3 id="Images"><a href="#Images" class="headerlink" title="Images"></a>Images</h3><p>Some articles will contain images to illustrate something and the question is, where should they be stored? Answer: In a folder beside the post&#x2F;draft, which has the same name as the article MD file. To get this, you have to activate the setting <code>post_asset_folder</code> in your <code>_config.yml</code>. Now this folder will be created automatically, when you add a new post&#x2F;draft.</p><p>In your Markdown you reference your image with:</p><pre><code>&#123;% asset_img image-1.png "Test Image" %&#125;</code></pre><p><img src="/post/A-New-Blog-VS-Code-Hexo-and-GitHub-Pages/vscode-2.png" alt="Reference Image"></p><h2 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h2><p>Hexo is a website generator, so a build will generate the whole website in a special folder, which has to be published. This output folder can be configured in the <code>_config.yml</code>:</p><pre><code>public_dir: public</code></pre><p>To wipe the output folder, run the command:</p><pre><code>hexo clean</code></pre><p>To start the build, run:</p><pre><code>hexo generate</code></pre><p>To view the website via the build-in local Hexo server, run:</p><pre><code>hexo server</code></pre><h2 id="Publishing"><a href="#Publishing" class="headerlink" title="Publishing"></a>Publishing</h2><p>Most “complex” task was to publish the new blog on <a href="https://pages.github.com/">GitHub Pages</a>. My first approach was to use my personal page, as I did with my single HTML file, but this didn’t work, because I wanted to store the whole project on GitHub and it is not possible to point a personal page to the subdirectory <strong>docs</strong> or use a different branch as <strong>master</strong>.</p><p>The simple solution was to create a new repository, named after my my blog <strong>kiko.io</strong>, to store teh whole project and point the GitHub Page to the subdirectory <strong>docs</strong> in the settings of the repository.</p><p><img src="/post/A-New-Blog-VS-Code-Hexo-and-GitHub-Pages/github-1.png" alt="GitHub Settings"></p><p>By overriding the default publish folder of Hexo in <code>_config.yml</code> …</p><pre><code>public_dir: docs</code></pre><p>… everything was set up. Commit and Push via git and done.</p><p>Hexo has its own deploying mechanism and it is advisable to disable it, by commenting out the Deployment section <code>_config.yml</code>.</p><p>Next step was to use my own custom domain for the blog. To achieve this, the most easiest way is to create a text file named <code>CNAME</code> (without extension!) with the content of the domain in a single line and publish this file in the root of the docs folder. Github will recognize this file and do the setup automatically.</p><p>To point the domain to GitHub, I had to create following <code>A</code> records in my domain providers DNS settings:</p><ul><li>185.199.108.153</li><li>185.199.109.153</li><li>185.199.110.153</li><li>185.199.111.153</li></ul><p>Last step was to enable <strong>Enforce HTTPS</strong> in the repositories settings.</p>]]></content>
      
      
      <categories>
          
          <category> Tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Blogging </tag>
            
            <tag> VS Code </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>How-To: Visual Studio Database Project and ADSI</title>
      <link href="/post/How-To-Visual-Studio-Database-Project-and-ADSI/"/>
      <url>/post/How-To-Visual-Studio-Database-Project-and-ADSI/</url>
      
        <content type="html"><![CDATA[<p>If you are working with a Visual Studio Database Project and have to deal with data from the Active Directory via a Linked Server, you have to announce the data structure of the AD data in order to get the project compiled.</p><span id="more"></span><h2 id="Step-1-Linking-to-the-Active-Directory"><a href="#Step-1-Linking-to-the-Active-Directory" class="headerlink" title="Step 1 - Linking to the Active Directory"></a>Step 1 - Linking to the Active Directory</h2><p>First of all you have to connect your SQL Server to the AD permanently, by running  following SQL script once on your SQL Server:</p><pre><code>USE [master]GOEXEC master.dbo.sp_addlinkedserver @server = N&#39;ADSI&#39;,     @srvproduct=N&#39;Active Directory Service Interfaces&#39;,     @provider=N&#39;ADSDSOObject&#39;,     @datasrc=N&#39;adsdatasource&#39;EXEC master.dbo.sp_addlinkedsrvlogin @rmtsrvname=N&#39;ADSI&#39;,    @useself=N&#39;False&#39;,    @locallogin=NULL,    @rmtuser=N&#39;mydomain\myadminuser&#39;,    @rmtpassword=&#39;mypassword&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;collation compatible&#39;, @optvalue=N&#39;false&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;data access&#39;, @optvalue=N&#39;true&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;dist&#39;, @optvalue=N&#39;false&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;pub&#39;, @optvalue=N&#39;false&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;rpc&#39;, @optvalue=N&#39;false&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;rpc out&#39;, @optvalue=N&#39;false&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;sub&#39;, @optvalue=N&#39;false&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;connect timeout&#39;, @optvalue=N&#39;0&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;collation name&#39;, @optvalue=nullGOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;lazy schema validation&#39;, @optvalue=N&#39;false&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;query timeout&#39;, @optvalue=N&#39;0&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;use remote collation&#39;, @optvalue=N&#39;true&#39;GOEXEC master.dbo.sp_serveroption @server=N&#39;ADSI&#39;,     @optname=N&#39;remote proc transaction promotion&#39;, @optvalue=N&#39;true&#39;GO</code></pre><h2 id="Step-2-Fetching-ADSI-data"><a href="#Step-2-Fetching-ADSI-data" class="headerlink" title="Step 2 - Fetching ADSI data"></a>Step 2 - Fetching ADSI data</h2><p>To get data, use <code>OpenQuery</code> against the Linked Server. In order to get only persons and no system accounts, you should filter out all users, which has no firstname (<code>givenName</code>) or lastname (<code>sn</code>):</p><pre><code>SELECT     UserPrincipalName,     DisplayName,     sAMAccountName AS [SamAccountName],     sn AS [LastName],     givenName AS [FirstName],     title AS [Title],     Mail as [MailAddress],    department AS [Department],    l AS [Location],     postalCode AS [PostCode],     streetAddress AS [Street],    st AS [State]FROM OpenQuery(ADSI, &#39;    SELECT         UserPrincipalName,         DisplayName,         sAMAccountName,         sn,         givenName,         department,        title,         Mail,         l,         postalCode,         streetAddress,         st    FROM &#39;&#39;LDAP://mydomain.de/DC=mydomain,DC=de&#39;&#39;     WHERE objectClass =  &#39;&#39;User&#39;&#39;     AND objectCategory = &#39;&#39;Person&#39;&#39;     AND sn=&#39;&#39;*&#39;&#39;     AND givenName = &#39;&#39;*&#39;&#39; &#39;)    </code></pre><p>In most cases you’re done with that … except your organisation has more the 900 users! Then you have to split the fetch in several requests, because SQL Server quits with an error, when trying to read more than 900 records via ADSI.  </p><p>Best option is, to filter the ADSI statement by something like <em>‘get all user starting with a to j’</em>, when you are sure, that in this case less than 900 records will be given back and repeat the statement several times and glue the data together via a <code>UNION</code> statement:</p><pre><code>SELECT      UserPrincipalName,      DisplayName,      sAMAccountName AS [SamAccountName],      sn AS [LastName],      givenName AS [FirstName],      title AS [Title],      Mail as [MailAddress],      department AS [Department],      l AS [Location],      postalCode AS [PostCode],      streetAddress AS [Street],      st AS [State]  FROM (      SELECT *      FROM OpenQuery(ADSI, '          SELECT              UserPrincipalName,              DisplayName,              sAMAccountName,              sn,              givenName,              department,              title,              Mail,              l,              postalCode,              streetAddress,              st          FROM ''LDAP://mydomain.de/DC=mydomain,DC=de''          WHERE objectClass =  ''User''          AND objectCategory = ''Person''          AND sn=''*''          AND givenName = ''*''          <strong>AND sAMAccountName &lt;= ''j''</strong>    ')      <strong>UNION ALL</strong>      SELECT *      FROM OpenQuery(ADSI, '          SELECT <em>[...same as above]</em>          FROM ''LDAP://mydomain.de/DC=mydomain,DC=de''          WHERE objectClass =  ''User''          AND objectCategory = ''Person''          AND sn=''*''          AND givenName = ''*''          <strong>AND sAMAccountName &gt; ''j''</strong>          <strong>AND sAMAccountName &lt; ''p''</strong>      ')    <strong>UNION ALL</strong>      SELECT *      FROM OpenQuery(ADSI,  '          SELECT <em>[...same as above]</em>          FROM ''LDAP://mydomain.de/DC=mydomain,DC=de''          WHERE objectClass =  ''User''          AND objectCategory = ''Person''          AND sn=''*'' AND givenName = ''*''          <strong>AND sAMAccountName &gt;= ''p''</strong>      ')  ) AD</code></pre><p>When you store this as a VIEW, you can join it wherever you want on SQL Server:</p><pre><code>CREATE VIEW [dbo].[vADUsers]AS    <em>[...SQL code from above]</em>GO</code></pre><h2 id="Step-3-SQL-Server-Database-Project"><a href="#Step-3-SQL-Server-Database-Project" class="headerlink" title="Step 3 - SQL Server Database Project"></a>Step 3 - SQL Server Database Project</h2><p>If you work with a SQL Server Database Project, to have the complete structure of your database available in a version control system, you will get some reference errors on compiling and publishing your newly added SQL View <code>vADUsers</code> and on some objects, which rely on this View, because of following problems:</p><ol><li>Project doesn’t know the Linked Server <code>ADSI</code></li><li>The structure (fields) of the data source is unknown</li></ol><h3 id="Declare-the-Linked-Server"><a href="#Declare-the-Linked-Server" class="headerlink" title="Declare the Linked Server"></a>Declare the Linked Server</h3><p>To show the Project that there is a Linked Server called <code>ADSI</code>, just add following lines at the start of your view:</p><pre><code><strong>sp_addlinkedserver 'ADSI'</strong><strong>GO</strong>CREATE VIEW [dbo].[vADUsers]AS    <em>[...SQL code from above]</em></code></pre><p>This mimics the adding of a Linked Server, but will be ignored by SQL Server on publish, because you already have a Linked Server with this name. The project is happy with it.</p><h3 id="Declare-the-data-structure"><a href="#Declare-the-data-structure" class="headerlink" title="Declare the data structure"></a>Declare the data structure</h3><p>When you use the SQL-View <code>vADUsers</code> in a Stored Procedure for example, this object won’t compile, because the project knows nothing about the fields of the ADSI data source. The SELECT in the view is not enough. You have to add an empty <code>SELECT</code> to the View <code>vADUsers</code>, just for the declaration of the fields and without returning any records and join this via <code>UNION</code> with the other statements:</p><pre><code>sp_addlinkedserver 'ADSI'GOCREATE VIEW [dbo].[vtADAllUsers]ASSELECT    UserPrincipalName,    DisplayName,    sAMAccountName AS [SamAccountName],    sn AS [LastName],    givenName AS [FirstName],    title AS [Title],    Mail as [MailAddress],    department AS [Department],    l AS [Location],    postalCode AS [PostCode],    streetAddress AS [Street],    st AS [State]FROM (    -- Fake SELECT to declare the structure of the view<strong>    SELECT TOP 0        '' UserPrincipalName,        '' DisplayName,        '' sAMAccountName,        '' sn,        '' givenName,        '' department,        '' title,        '' Mail,        '' l,        '' postalCode,        '' streetAddress,        '' st    UNION ALL</strong>    SELECT *    FROM OpenQuery(ADSI, '        SELECT            UserPrincipalName,            DisplayName,            sAMAccountName,            sn,            givenName,            department,            title,            Mail,            l,            postalCode,            streetAddress,            st        FROM ''LDAP://mydomain.de/DC=mydomain,DC=de''        WHERE objectClass =  ''User''        AND objectCategory = ''Person''        AND sn=''*''        AND givenName = ''*''        AND sAMAccountName &gt;= ''j''      ')    UNION ALL      SELECT *      FROM OpenQuery(ADSI, '          SELECT <em>[...same as above]</em>          FROM ''LDAP://mydomain.de/DC=mydomain,DC=de''          WHERE objectClass =  ''User''          AND objectCategory = ''Person''          AND sn=''*''          AND givenName = ''*''          AND sAMAccountName &lt; ''j''          AND sAMAccountName &gt; ''p''      ')    UNION ALL      SELECT *      FROM OpenQuery(ADSI,  '          SELECT <em>[...same as above]</em>          FROM ''LDAP://mydomain.de/DC=mydomain,DC=de''          WHERE objectClass =  ''User''          AND objectCategory = ''Person''          AND sn=''*''          AND givenName = ''*''          AND sAMAccountName &lt;= ''p''      ')) AD</code></pre><p>Now, you can fetch data from Active Directory and store the code in a Database Project properly.</p><p>HAPPY CODING :)</p>]]></content>
      
      
      <categories>
          
          <category> SQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ADSI </tag>
            
            <tag> Visual Studio </tag>
            
            <tag> Database Project </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
