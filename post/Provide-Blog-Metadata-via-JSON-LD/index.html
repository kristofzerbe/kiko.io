<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
  

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Provide Blog Metadata via JSON-LD - kiko.io</title>
  <meta name="author" content="Kristof Zerbe">
  <meta name="title" content="Provide Blog Metadata via JSON-LD - kiko.io">
  
  <meta name="description" content="Centralization of a website&#39;s schema.org data in the HEAD instead of everywhere in the HTML">
  
   
  <meta name="excerpt" content="Chris Coyier’s post “Open Graph Blues“ got me thinking that my blog’s metadata, which are used by Google among others to index my pages, aren’t really at the cutting edge anymore. I took the markup of the individual elements of the pages via schema.org Microdata attributes from the standard Hexo template years ago and always adjusted it by value, but never questioned that there are more modern variants to provide the metadata.
It’s Ok for Google to use Microdata attributes, but the HTML code of my templates is getting more and more opaque, because next to these stick to the tags also those for the Indieweb, classes for CSS and last but not least those for the own indexing via Pagefind. There becomes from a simple
1234&lt;article&gt;  &lt;h1&gt;Title of my latest blog post&lt;/h1&gt;  &lt;p&gt; ... &lt;/p&gt;&lt;/article&gt; quickly becomes a …
123456&lt;article class=&#34;article-type-post h-entry&#34;         data-pagefind-body=&#34;&#34; data-pagefind-meta=&#34;type:Article&#34; itemscope itemprop=&#34;blogPost&#34;&gt;  &lt;h1 class=&#34;article-title p-name&#34;       itemprop=&#34;name&#34;&gt;Title of my latest blog post&lt;/h1&gt;  &lt;p&gt; ... &lt;/p&gt;&lt;/article&gt; Lots of textual overhead and the hardest part is maintaining it over the long term. Better would be a complete search engine description in the header of a page, where also the other meta information is available. In one place and not spread all over the HTML code. JSON-LD to the rescue…">
  
  
  <link rel="canonical" href="https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD/">
  <link rel="manifest" href="/manifest.json">
  <link rel="icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
  <meta name="theme-color" content="#444">

    
  <script type="application/ld+json">{"@context":"http://schema.org/","@graph":[{"@type":"Article","@id":"https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD/#article","mainEntityOfPage":{"@id":"https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD/"},"headline":"Provide Blog Metadata via JSON-LD - kiko.io","description":"Centralization of a website&#39;s schema.org data in the HEAD instead of everywhere in the HTML","datePublished":"2023-02-09T23:00:00Z","dateModified":"2023-02-09T23:00:00Z","image":{"@id":"https://kiko.io#image/Provide-Blog-Metadata-via-JSON-LD"},"author":{"@id":"https://kiko.io/#person"},"publisher":{"@id":"https://kiko.io/#organization"}},{"@type":"WebPage","@id":"https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD/","url":"https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD/","name":"Provide Blog Metadata via JSON-LD - kiko.io","isPartOf":{"@id":"https://kiko.io/#website"},"description":"Centralization of a website&#39;s schema.org data in the HEAD instead of everywhere in the HTML","inLanguage":"en-US","primaryImageOfPage":{"@id":"https://kiko.io#image/Provide-Blog-Metadata-via-JSON-LD"},"image":{"@id":"https://kiko.io#photo/D70_9216.jpg"}},{"@type":"WebSite","@id":"https://kiko.io/#website","url":"https://kiko.io","name":"kiko.io","description":"Blog about memorable tech stuff by Kristof Zerbe","inLanguage":"en-US","publisher":{"@id":"https://kiko.io/#organization"},"potentialAction":{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https://kiko.io/search/?q={searchTerm}"},"query-input":"required name=searchTerm"}},{"@type":"Organization","@id":"https://kiko.io/#organization","name":"kiko.io","url":"https://kiko.io","logo":"https://kiko.io/images/icon-192x192.png"},{"@type":"Person","@id":"https://kiko.io/#person","name":"Kristof Zerbe","url":"https://kiko.io/about","image":"https://kiko.io/images/kristof-zerbe.png","sameAs":["https://github.com/kristofzerbe","https://www.xing.com/profile/Kristof_Zerbe","https://www.linkedin.com/in/kristof-zerbe-91012510/","https://500px.com/p/kikon","https://indieweb.social/@kiko","https://pixelfed.social/kristofz"]},{"@type":"ImageObject","@id":"https://kiko.io#photo/D70_9216.jpg","caption":"Broken Onion","url":"https://kiko.io/photos/normal/D70_9216.jpg","contentUrl":"https://kiko.io/photos/normal/D70_9216.jpg","discussionUrl":"https://kiko.io/photos/D70_9216","license":"https://creativecommons.org/licenses/by-sa/4.0/","acquireLicensePage":"https://kiko.io/photos","creditText":"Kristof Zerbe","copyrightNotice":"Kristof Zerbe (CC BY-SA 4.0)","creator":{"@id":"https://kiko.io/#person"}},{"@type":"ImageObject","@id":"https://kiko.io#image/Provide-Blog-Metadata-via-JSON-LD","url":"https://kiko.io/images/social-media/Provide-Blog-Metadata-via-JSON-LD.png","contentUrl":"https://kiko.io/images/social-media/Provide-Blog-Metadata-via-JSON-LD.png","license":"https://creativecommons.org/licenses/by-sa/4.0/","acquireLicensePage":"https://kiko.io/photos","creditText":"Kristof Zerbe","copyrightNotice":"Kristof Zerbe (CC BY-SA 4.0)","creator":{"@id":"https://kiko.io/#person"}}]}</script>

    <meta property="og:site_name" content="kiko.io">
  <meta property="og:type" content="blog">
  <meta property="og:url" content="https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD/index.html">
  <meta property="og:title" content="Provide Blog Metadata via JSON-LD - kiko.io">
  
  <meta property="og:description" content="Centralization of a website&#39;s schema.org data in the HEAD instead of everywhere in the HTML">
  
  <meta property="og:image" content="https://kiko.io/images/social-media/Provide-Blog-Metadata-via-JSON-LD.png">
  <meta property="og:locale" content="en_US">

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD/index.html">
  <meta property="twitter:title" content="Provide Blog Metadata via JSON-LD - kiko.io">
  
  <meta property="twitter:description" content="Centralization of a website&#39;s schema.org data in the HEAD instead of everywhere in the HTML">
  
  <meta property="twitter:image" content="https://kiko.io/images/social-media/Provide-Blog-Metadata-via-JSON-LD.png">

    <link rel="webmention" href="https://webmention.io/kiko.io/webmention" />
  <link rel="pingback" href="https://webmention.io/kiko.io/xmlrpc" />

    <link rel="authorization_endpoint" href="https://indieauth.com/auth" />
  <link rel="token_endpoint" href="https://tokens.indieauth.com/token" />
  <link href="https://github.com/kristofzerbe" rel="me authn">
  <link href="mailto:kristof.zerbe@gmail.com" rel="me authn">
  
    <link rel="alternate" href="/atom.xml" title="Provide Blog Metadata via JSON-LD - kiko.io" type="application/atom+xml">

  <link rel="preload" href="/css/fonts/opensans/opensans-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/opensans/opensans-italic.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/opensans/opensans-semibold.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/opensans/opensans-semibolditalic.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/sourcecodepro/WOFF2/TTF/SourceCodePro-Regular.ttf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/sourcecodepro/WOFF2/TTF/SourceCodePro-It.ttf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/sourcecodepro/WOFF2/TTF/SourceCodePro-Bold.ttf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/sourcecodepro/WOFF2/TTF/SourceCodePro-BoldIt.ttf.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/css/fonts/forkawesome/forkawesome-webfont.woff2" as="font" type="font/woff2" crossorigin>

  <link rel="preload" as="image" href="/images/hero.jpg" 
        imagesrcset="/images/hero-mobile.jpg 480w, /images/hero-tablet.jpg 768w">

  
  <link rel="preload" as="image" href="/photos/normal/D70_9216.jpg" 
        imagesrcset="/photos/mobile/D70_9216.jpg 480w, /photos/tablet/D70_9216.jpg 768w">
  

  
<link rel="stylesheet" href="/css/dist/bundle.min.css">

  
<link rel="stylesheet" href="/css/style.css">


  
<script src="/js/tools.js"></script>

  
<script src="/js/dialog.js"></script>

  
<script src="/js/dist/scroll-timeline.js"></script>

  
<script src="/js/dist/image-compare-viewer.min.js"></script>

  
<script src="/js/dist/tiny-slider.min.js"></script>

  
<script src="/js/dist/macy.js"></script>



  <script defer type="text/javascript" 
    src="https://api.pirsch.io/pirsch.js"
    id="pirschjs"
    data-code="aJ835msd85Jl5WkTLtS76XLxVxSm4ODZ"></script>
  <script type="text/javascript" 
    src="https://api.pirsch.io/pirsch-events.js"
    id="pirscheventsjs"
    data-code="aJ835msd85Jl5WkTLtS76XLxVxSm4ODZ"></script>    


<meta name="generator" content="Hexo 6.3.0"></head>

<body id="body">  
  <div id="container" class="container">
    <div class="inner-container">
      <div id="wrap">
        <header id="header">
  <a href="#" id="header-photo-link" rel="noopener" ></a>
  <div id="banner">
    <div id="header-nav-start"></div>
    <nav id="header-nav" role="navigation">
      <ul class="menu">
        
          
          <li class="menu-item menu-item-icon" id="nav-home-link">
            <a class="sub-nav-link"
               href="/">
                <span>Home</span>
              </a>
          </li>
        
          
          <li class="menu-item menu-item-icon" id="nav-search-link">
            <a class="sub-nav-link"
               href="/search">
                <span>Search</span>
              </a>
          </li>
        
          
          <li class="menu-item" id="nav-archives-link">
            <a class="sub-nav-link"
               href="/archives">
                <span>Archives</span>
              </a>
          </li>
        
          
          <li class="menu-item" id="nav-series-link">
            <a class="sub-nav-link"
               href="/series">
                <span>series</span>
              </a>
          </li>
        
          
          <li class="menu-item" id="nav-notes-link">
            <a class="sub-nav-link"
               href="/notes">
                <span>notes</span>
              </a>
          </li>
        
          
          <li class="menu-item" id="nav-photos-link">
            <a class="sub-nav-link"
               href="/photos">
                <span>photos</span>
              </a>
          </li>
        
          
          <li class="menu-item" id="nav-tiny-tools-link">
            <a class="sub-nav-link"
               href="/collections/tiny-tools">
                <span>tiny-tools</span>
              </a>
          </li>
        
          
          <li class="menu-item" id="nav-projects-link">
            <a class="sub-nav-link"
               href="/projects">
                <span>projects</span>
              </a>
          </li>
        
          
          <li class="menu-item" id="nav-about-link">
            <a class="sub-nav-link"
               href="/about">
                <span>About</span>
              </a>
          </li>
        
          
          <li class="menu-item" id="nav-feeds-link">
            <a class="sub-nav-link"
               href="/feeds">
                <span>Feeds</span>
              </a>
          </li>
        
      </ul>
    </nav>
    <div id="header-nav-end"></div>
  </div>
  <div id="progress"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
        <a href="/" id="logo">
          <h1 id="title-wrap">
            <span style="opacity:0.2;">kiko.io</span>
          </h1>
        </a>
      
        <h2 id="subtitle">
          Memorable Tech Stuff
        </h2>
        <div id="sub-socialmediaimage-link" onclick="copysocialmediaimageLink();"></div>
        <script>
          function copysocialmediaimageLink() {
            let smil = document.querySelector('meta[property="og:image"]').content;
            copyTextToClipboard(smil);
          }
        </script>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="sub-nav">
        <div id="sub-nav-theme">          
          <input type="checkbox" id="theme-switch">
          <label for="theme-switch"></label>
        </div>
      </nav>
    </div>
  </div>
</header>
<script>
  if (location.pathname === "/") {
    document.getElementById("nav-home-link").remove();
  }
</script>
        <div id="content" class="outer">
          <main class="">
  <style>
#banner {
    background-size: cover;
}
@media screen and (max-width: 479px) {
    #banner { background-image: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 75%), url("/photos/mobile/D70_9216.jpg"); }
}
@media screen and (min-width: 480px) and (max-width: 767px) {
    #banner { background-image: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 75%), url("/photos/tablet/D70_9216.jpg"); }
}
@media screen and (min-width: 768px) {
    #banner { background-image: linear-gradient(to bottom, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0) 75%), url("/photos/normal/D70_9216.jpg"); }    
}
</style>

<img id="header-photo" data-pagefind-meta="image[src], image_alt[alt]"
     src="/photos/normal/D70_9216.jpg" 
     alt="Broken Onion"
     width="0" height="0"/>


    <script>
        var header = document.getElementById("header");
        header.classList.add("photograph");
        
        var photoLink = document.getElementById("header-photo-link");
        photoLink.href = "/photos/D70_9216";
        photoLink.innerHTML = "<strong>Broken Onion</strong>";
    </script>




<script>
  var body = document.getElementById("body");
  body.classList.add("article-view");
</script>
  
<article id="post-2023/Provide-Blog-Metadata-via-JSON-LD" data-pagefind-body data-pagefind-meta="type:Article"
         class="article article-type-post h-entry">
  
  <div class="article-meta" data-pagefind-ignore>
    <div class="h-card p-author" style="display:none">
      <img class="u-photo" src="/images/kristof-zerbe.png" alt="Kristof Zerbe" />
      <a class="p-name u-url" href="https://kiko.io" rel="author">Kristof Zerbe</a>
    </div>
    <a class="u-url u-uid" href="https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD/" style="display:none;">https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD/</a>
    <a href="/post/Provide-Blog-Metadata-via-JSON-LD/" class="article-date">
  
  <time class="published dt-published" data-pagefind-meta="date" 
        datetime="2023-02-09T23:00:00.000Z">10 Feb 2023</time>
</a>
    
  <div class="article-category p-category category-tools">
    <a class="article-category-link" href="/categories/Tools/">Tools</a> 
  </div>

  </div>
  
  <div class="article-inner">
    
    
      <header class="article-header">
        


    <a class="article-anything" href="/series/a-new-blog">A New Blog</a>



        


  
    <h1 class="article-title p-name" data-pagefind-ignore
        data-title="Provide Blog Metadata via JSON-LD" 
        data-pagefind-meta="title[data-title]">
        
        <span>Provide Blog Metadata via JSON-LD</span>
    </h1>
  

        
    <h2 class="article-subtitle p-summary">
        Centralization of a website&#39;s schema.org data in the HEAD instead of everywhere in the HTML
    </h2>

      </header>
    
    
    <div class="article-entry e-content">
      <p>Chris Coyier’s post “<a href="https://chriscoyier.net/2023/01/28/open-graph-blues/">Open Graph Blues</a>“ got me thinking that my blog’s metadata, which are used by Google among others to index my pages, aren’t really at the cutting edge anymore. I took the markup of the individual elements of the pages via <a href="https://schema.org/">schema.org</a> Microdata attributes from the standard Hexo template years ago and always adjusted it by value, but never questioned that there are more modern variants to provide the metadata.</p>
<p>It’s Ok for Google to use Microdata attributes, but the HTML code of my templates is getting more and more opaque, because next to these stick to the tags also those for the Indieweb, classes for CSS and last but not least those for the own indexing via Pagefind. There becomes from a simple</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Title of my latest blog post<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>quickly becomes a …</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">&quot;article-type-post h-entry&quot;</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">data-pagefind-body</span>=<span class="string">&quot;&quot;</span> <span class="attr">data-pagefind-meta</span>=<span class="string">&quot;type:Article&quot;</span> <span class="attr">itemscope</span> <span class="attr">itemprop</span>=<span class="string">&quot;blogPost&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;article-title p-name&quot;</span> </span></span><br><span class="line"><span class="tag">      <span class="attr">itemprop</span>=<span class="string">&quot;name&quot;</span>&gt;</span>Title of my latest blog post<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Lots of textual overhead and the hardest part is maintaining it over the long term. Better would be a complete search engine description in the header of a page, where also the other meta information is available. In one place and not spread all over the HTML code. <strong>JSON-LD to the rescue</strong>…</p>
<span id="more"></span>

<hr>
<h2 id="Structured-Meta-Data"><a href="#Structured-Meta-Data" class="headerlink" title="Structured Meta Data"></a>Structured Meta Data</h2><p>Google has published tons of information in its <a href="https://developers.google.com/search/docs/appearance/structured-data/intro-structured-data">Search Central</a> on how to place metadata on your page to be found more easily in the index. You can also see that they are maintained by the update date of individual pages, for example “<em>Last updated 2023-01-26 UTC</em>“. End of last week. That’s up to date, fine.</p>
<p>Of course, they also show how to use Microdata, but recommended is the use of <a href="https://json-ld.org/">JSON-LD</a>, a structured and centralized inclusion of the required information via a SCRIPT tag in the header of the page. Thereby information about the <strong>website</strong> in general, the <strong>author</strong>, the <strong>organization</strong> behind it and the actual <strong>article</strong> page can be combined separately in one piece of JSON-LD code.</p>

    <div class="alertbox alertbox-exclamation">
      <p>Google’s solution is based on schema.org, but they have picked only what is necessary for them, which means: they deal only with a subset of the schema.org types.</p>

    </div>
  

<p>Since it is somewhat cumbersome to write correct JSON-LD by hand, there are of course online editors for it, e.g. within the <a href="https://webcode.tools/generators/structured-data">web code tools</a> or <a href="https://technicalseo.com/tools/schema-markup-generator/">Merkle</a>. But these generators unfortunately do not map all the possibilities and useful entries, so they can only generate general templates to be elaborated. Moreover, you can use the JSON-LD code from this article as a basis for your solution, because it covers the most important aspects.</p>
<p>In the following I first describe the general content of the individual JSON-LD blocks and then how to assemble them, so that it makes sense for the search engine.</p>
<h3 id="Author"><a href="#Author" class="headerlink" title="Author"></a>Author</h3><p>First of all, this code is about me myself and I…</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;@type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Person&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/#person&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Kristof Zerbe&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/about&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;image&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/images/kristof-zerbe.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sameAs&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;https://indieweb.social/@kiko&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;https://github.com/kristofzerbe&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;https://500px.com/p/kikon&quot;</span></span><br><span class="line">  <span class="punctuation">]</span>  </span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>


    <div class="alertbox alertbox-info">
      <p>It is advisable to include so called <strong>Node Identifiers</strong> (<code>@id</code>) in order to reuse certain information later on as a reference and prevent repeating data. These <a href="https://schema.org/docs/datamodel.html#identifierBg">identifiers</a> are canonical URL&#x2F;URI representations.</p>

    </div>
  

<h3 id="Organization"><a href="#Organization" class="headerlink" title="Organization"></a>Organization</h3><p>Most blogs are run by individuals and not necessarily by organizations, so you might think this area would not be interesting, but it is for a reason: only here you can deposit the link to a logo of your blog, which can then be displayed in the search.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;@type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Organization&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/#organization&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;kiko.io&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;logo&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/images/apple-touch-icon.png&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Website"><a href="#Website" class="headerlink" title="Website"></a>Website</h3><p>The JSON-LD block related to this website itself looks like this:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;@type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;WebSite&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/#website&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;kiko.io&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Blog about memorable tech stuff by Kristof Zerbe&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;inLanguage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;en-US&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;publisher&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/#organization&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;potentialAction&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;SearchAction&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;@type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;EntryPoint&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;urlTemplate&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/search/?q=&#123;searchTerm&#125;&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;query-input&quot;</span><span class="punctuation">:</span> <span class="string">&quot;required name=searchTerm&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>Remarkable in this block is the <code>potentialAction</code>, which specifies the possibility to let the search engine (Google, whatelse) integrate a Sitelinks Search Box, a search box inside the result list, as described <a href="https://developers.google.com/search/docs/appearance/structured-data/sitelinks-searchbox">here</a>. There is a shorthand format for this and some generators like Merkle are using it, but it is not recommended, because it’s non-standard.</p>
<h3 id="Page-Images"><a href="#Page-Images" class="headerlink" title="(Page) Images"></a>(Page) Images</h3><p>I use my own photographs on every page as header images and to provide some additional information on these, there is a JSON-LD block for the image I use.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;@type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ImageObject&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io#photo/D70_9216&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;caption&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Broken Onion&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/photos/normal/D70_9216.jpg&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;contentUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/photos/normal/D70_9216.jpg&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://creativecommons.org/licenses/by-sa/4.0/&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;acquireLicensePage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/photos&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;creditText&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Kristof Zerbe&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;copyrightNotice&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Kristof Zerbe (CC BY-SA 4.0)&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;creator&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/#person&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>For better recognition of my posts (currently articles only), I generate a special image for each post for the social media platforms. It is based on the  photo associated with the post and includes it’s title and subtitle in addition to the logo. How I generate these things can be read in my post <a href="/post/Generate-Social-Media-Images-Automatically/" title="Generate Social Media Images Automatically">Generate Social Media Images Automatically</a>. For this image, there is a second JSON-LD block that I can reference later on:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;@type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ImageObject&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io#image/Provide-Blog-Metadata-via-JSON-LD&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/images/social-media/Provide-Blog-Metadata-via-JSON-LD.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;contentUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/images/social-media/Provide-Blog-Metadata-via-JSON-LD.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;creator&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/#person&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p><img src="/images/social-media/Provide-Blog-Metadata-via-JSON-LD.thumb.png" alt="Social Media image of this post"></p>
<h3 id="Webpage"><a href="#Webpage" class="headerlink" title="Webpage"></a>Webpage</h3><p>The previously described JSON-LD blocks are basically just a preparation for the description of the individual pages that will be indexed by the search engine. The following block now describes a page itself and includes the previously described blocks by referencing the <code>@id</code>:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;@type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;WebPage&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Provide Blog Metadata via JSON-LD&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;isPartOf&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/#website&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Centralization of a website&#x27;s schema.org data in the HEAD instead of everywhere in the HTML&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;inLanguage&quot;</span><span class="punctuation">:</span> <span class="string">&quot;en-US&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;primaryImageOfPage&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io#photo/D70_9216&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;image&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io#photo/D70_9216&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Article"><a href="#Article" class="headerlink" title="Article"></a>Article</h3><p>In addition to the previous description of a web page, the following block is a more detailed description of the page as an article or blog post.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;@type&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Article&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD#article&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;mainEntityOfPage&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;headline&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Provide Blog Metadata via JSON-LD&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;datePublished&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-02-02T12:00:00+00:00&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dateModified&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2023-02-02T12:00:00+00:00&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;image&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io#image/Provide-Blog-Metadata-via-JSON-LD&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;author&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/#person&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;publisher&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://kiko.io/#organization&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>As described earlier, the identifiers defined in the other blocks are used for referencing the <code>author</code> and the <code>publisher</code>, as I did it in the block <code>website</code>. At first glance, this information appears to be duplicated and I am currently not sure if it is really needed.<br><code>mainEntityOfPage</code> makes clear, that this article is the main entity for that web page.<br>The image of the article will be the social media image defined in the second <code>ImageObject</code> block.</p>
<hr>
<h2 id="Assembling-the-blocks"><a href="#Assembling-the-blocks" class="headerlink" title="Assembling the blocks"></a>Assembling the blocks</h2><p>Generally, JSON-LD data is included in a page via a <code>script</code> tag. You can either output each individual block separately or together within a so called <strong>graph</strong>. In both cases, the leading specification of the <strong>context</strong> is necessary.</p>
<p><strong>Separate</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;application/ld+json&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;@context&quot;</span>: <span class="string">&quot;http://schema.org/&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    ... rest <span class="keyword">of</span> the block</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;application/ld+json&quot;</span>&gt;</span> ... <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><strong>Together</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;application/ld+json&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;@context&quot;</span>: <span class="string">&quot;http://schema.org/&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;@graph&quot;</span>: </span></span><br><span class="line"><span class="language-javascript">    [</span></span><br><span class="line"><span class="language-javascript">      ... all needed blocks <span class="keyword">in</span> hierarchy</span></span><br><span class="line"><span class="language-javascript">    ]</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Since this is probably the most common and also the most space-saving way, I have chosen the graph.</p>
<p>When arranging the blocks it is useful to keep the <strong>hierarchy, from specific to general</strong>. Here is a schematic example of an <strong>article</strong>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;application/ld+json&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;@context&quot;</span>: <span class="string">&quot;http://schema.org/&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;@graph&quot;</span>: </span></span><br><span class="line"><span class="language-javascript">    [</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">Article</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">WebPage</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">ImageObject</span> (<span class="title class_">Social</span> <span class="title class_">Media</span> <span class="title class_">Image</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">ImageObject</span> (<span class="title class_">Photo</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">WebSite</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">Organization</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">Person</span> &#125;</span></span><br><span class="line"><span class="language-javascript">    ]</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>On all pages that are not an article, of course, the <em>Article</em> and the <em>ImageObject (Social Media Image)</em> blocks are not necessary. Here is the sample for an ordinary <strong>page</strong>:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;application/ld+json&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;@context&quot;</span>: <span class="string">&quot;http://schema.org/&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">    <span class="string">&quot;@graph&quot;</span>: </span></span><br><span class="line"><span class="language-javascript">    [</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">WebPage</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">ImageObject</span> (<span class="title class_">Photo</span>) &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">WebSite</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">Organization</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">      &#123; ... <span class="title class_">Person</span> &#125;</span></span><br><span class="line"><span class="language-javascript">    ]</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Generation"><a href="#Generation" class="headerlink" title="Generation"></a>Generation</h2><p>Since my blog is based on SSG <a href="https://hexo.io/">Hexo</a>, I have all the data and capabilities to have the JSON-LD data of a page automatically generated. I don&#96;t want to go into too much depth here about how I implemented this, but in general there is an EJS file for each block that renders the required JSON-LD code via the available configuration and page data stored and passed in a META object. Through various wrappers, these are then included in the <code>head.ejs</code>. I have currently three of them:</p>
<ul>
<li><code>json-ld-page.ejs</code> … for all pages, except the other two below</li>
<li><code>json-ld-article.ejs</code> … for articles (normal <a href="/archives">kiko.io Posts</a>)</li>
<li><code>json-ld-blogposting.ejs</code> … for notes (see <a href="/notes">kiko.io Notes</a>)</li>
</ul>
<figure class="highlight js"><figcaption><span>json-ld-article.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;@context&quot;</span>: <span class="string">&quot;http://schema.org/&quot;</span>,</span><br><span class="line">  <span class="string">&quot;@graph&quot;</span>: </span><br><span class="line">  [</span><br><span class="line">    &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_partial/meta/_article&#x27;</span>) %&gt;,</span><br><span class="line">    &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_partial/meta/_webpage&#x27;</span>) %&gt;,</span><br><span class="line">    &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_partial/meta/_image&#x27;</span>) %&gt;,</span><br><span class="line">    &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_partial/meta/_photo&#x27;</span>) %&gt;,</span><br><span class="line">    &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_partial/meta/_website&#x27;</span>) %&gt;,</span><br><span class="line">    &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_partial/meta/_organization&#x27;</span>) %&gt;,</span><br><span class="line">    &lt;%- <span class="title function_">partial</span>(<span class="string">&#x27;_partial/meta/_author&#x27;</span>) %&gt;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><figcaption><span>head.ejs</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;%#!-- <span class="title class_">JSON</span>-<span class="variable constant_">LD</span> (schema.<span class="property">org</span>) <span class="keyword">for</span> <span class="title class_">Google</span> --%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  <span class="keyword">let</span> jsonPartial = <span class="string">&quot;json-ld-&quot;</span> + meta.<span class="property">type</span>;  </span><br><span class="line">  <span class="keyword">let</span> jsonLD = <span class="title function_">partial</span>(<span class="string">&#x27;_partial/meta/&#x27;</span> + jsonPartial, &#123; <span class="attr">meta</span>: meta &#125;);</span><br><span class="line">  jsonLD = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(jsonLD));</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;application/ld+json&quot;</span>&gt;</span>&lt;%- jsonLD %&gt;<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>The last line in the JavaScript ensures, that the produced JSON is compacted to one single line … easy, by converting the string into an object and back to a string.</p>
<hr>
<h2 id="Test-the-JSON-LD"><a href="#Test-the-JSON-LD" class="headerlink" title="Test the JSON-LD"></a>Test the JSON-LD</h2><p>When you have everything together, it is advisable to test the resulting code. Schema.org offers such a tool at <strong><a href="https://validator.schema.org/">https://validator.schema.org/</a></strong>. In addition, there is the <a href="https://search.google.com/test/rich-results">Google Rich Results Test</a>, which validates your code against the partially specific implementation for their own search engine.</p>
<p><img src="/post/Provide-Blog-Metadata-via-JSON-LD/schema-markup-validator.png" alt="Schema Markup Validator"></p>
<hr>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>It may be a few bytes more that are delivered to the user in the browser or the search engine bot, but the advantage is, that all the information describing the page is stored in one place in the header of the page and nothing is scattered all over the HTML anymore. Maintenance of both the code and the meta data is made much easier as a result.</p>
<hr>
<h2 id="More-Information"><a href="#More-Information" class="headerlink" title="More Information"></a>More Information</h2>
        <ul class="moreinfo-list">
            <li>Google Search Central: <a href="https://developers.google.com/search/docs/appearance/structured-data/intro-structured-data">Introduction to structured data markup in Google Search</a></li><li>Patrick Coombe and Craig Mount: <a href="https://jsonld.com/">Steal Our JSON-LD</a></li><li>Andrew Welch: <a href="https://nystudio107.com/blog/annotated-json-ld-structured-data-examples">Annotated JSON-LD Structured Data Examples</a></li><li>Alberto Carniel: <a href="https://www.albertocarniel.com/post/schema-markup">Schema markup and structured data ultimate guide (JSON-LD)</a></li><li>Brian Gorman: <a href="https://moz.com/blog/writing-structured-data-guide">An SEO’s Guide to Writing Structured Data (JSON-LD)</a></li><li>Merkle: <a href="https://technicalseo.com/tools/schema-markup-generator/">Schema Markup Generator (JSON-LD)</a></li><li>webcode.tools: <a href="https://webcode.tools/generators/structured-data">Generators > Structured Data</a></li>
        </ul>
    

    </div>
    
    <footer class="article-footer" data-pagefind-ignore>      
      
  <div class="article-tags">
    <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JSON-LD/" rel="tag">JSON-LD</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Search/" rel="tag">Search</a></li></ul>  
  </div>

      
  
  
    <div class="article-syndication">
      
          <a class="syndication-link u-syndication fab fa-mastodon" 
            href="https://indieweb.social/@kiko/109841057119450891" rel="syndication" target="_blank"></a>
      
    </div>
  

      <div class="article-permalink" id="article-permalink-clmnb9o4q003bnwoy35tgbgzf">
    <input class="article-permalink-value" value="https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD/" 
           data-id="clmnb9o4q003bnwoy35tgbgzf" data-title="Provide Blog Metadata via JSON-LD" />
    <a class="article-action action-copy"></a>
    <a class="article-action action-share"></a>
</div>
<script>
    window.addEventListener("load", () => {
        initPermalink("clmnb9o4q003bnwoy35tgbgzf");
    });
</script>

      
    </footer>

  </div>

  
  

<div class="article-interaction" data-pagefind-ignore>
  <p>
    You can interact with this article (applause, criticism, whatever) 
    by mention it in one of your posts or by replying to its syndication on <a class="mastodon" href="https://indieweb.social/@kiko/109841057119450891">Mastodon</a>, which will also be shown here as a  
    <a href="https://en.wikipedia.org/wiki/Webmention"><em>Webmention</em></a> ... or you leave a good old comment with your GitHub account.   
  </p>
</div>

<div class="article-webmentions" data-pagefind-ignore>
  <h2>Webmentions</h2>

  <div class="webmentions-placeholder">
    <p class="wm-placeholder">No Webmentions yet...</p>
  </div>

  <p class="webmention-form-info">
    In case your blog software can't send Webmentions, 
    you can use this form to submit me a mention of this article...
  </p>

  <form class="webmention-form" action="https://webmention.io/kiko.io>/webmention" name="webmention-form"
    method="post">
    <label for="webmention-form-source">Your Article URL:</label><br>
    <input class="webmention-form-source" type="url" name="source" placeholder="https://your-blog.com/your-article"
      required="">
    <input type="hidden" name="target" value="https://kiko.io/post/Provide-Blog-Metadata-via-JSON-LD/">
    <input type="submit" value="Send Webmention">
  </form>

  <script>
    window.addEventListener('load', function () {
      insertWebmentions('2023/Provide-Blog-Metadata-via-JSON-LD', 'https://kiko.io', 'Kristof Zerbe');
    });
  </script>

  

</div>


<div class="article-comments" data-pagefind-ignore>
  <h2>Comments</h2>
  <div id="comment-placeholder"></div>
  <script>
    window.addEventListener('load', function () {
      insertUtterancesCommentBlock();
    });
  </script>
</div>

  
  <div class="article-related">
    <h2>Related</h2>
    <div class="archives">
      
        
        <article class="archive-article archive-type-post">
  <div class="archive-article-inner">
    <header class="archive-article-header">
      
    <a href="/post/Pagefind-UI-and-URL-Parameters/">
        <img class="archive-article-photo" src="/photos/tablet/D50_7076.jpg" alt="German Roofage" />
    </a>

    </header>
    <div class="archive-article-content">
      <a href="/post/Pagefind-UI-and-URL-Parameters/" class="archive-article-date">
  
    <time class="updated dt-updated" data-pagefind-meta="date" 
          datetime="2023-02-03T10:51:00.000Z">03 Feb 2023</time>
    <br>
  
  <time class="published dt-published" data-pagefind-meta="date" 
        datetime="2023-01-31T10:04:00.000Z">31 Jan 2023</time>
</a>
      
  <div class="archive-article-category category-tools">
    <a class="article-category-link" href="/categories/Tools/">Tools</a> 
  </div>

      


    <a class="archive-article-anything" href="/series/a-new-blog">A New Blog</a>



      


  
    <h1>
      <a class="archive-article-title"
         href="/post/Pagefind-UI-and-URL-Parameters/">Pagefind UI and URL Parameters</a>
    </h1>
  

                    
    </div>
    <div class="archive-article-footer">
      
  <div class="archive-article-tags">
    <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Blogging/" rel="tag">Blogging</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Search/" rel="tag">Search</a></li></ul>  
  </div>

    </div>
</div>
</article>
        
      
        
        <article class="archive-article archive-type-post">
  <div class="archive-article-inner">
    <header class="archive-article-header">
      
    <a href="/post/Integration-of-Pagefind-in-Hexo/">
        <img class="archive-article-photo" src="/photos/tablet/22-08 Bretagne-Jersey-0201.jpg" alt="Proud Vespa" />
    </a>

    </header>
    <div class="archive-article-content">
      <a href="/post/Integration-of-Pagefind-in-Hexo/" class="archive-article-date">
  
  <time class="published dt-published" data-pagefind-meta="date" 
        datetime="2023-01-19T12:24:00.000Z">19 Jan 2023</time>
</a>
      
  <div class="archive-article-category category-tools">
    <a class="article-category-link" href="/categories/Tools/">Tools</a> 
  </div>

      


    <a class="archive-article-anything" href="/series/a-new-blog">A New Blog</a>



      


  
    <h1>
      <a class="archive-article-title"
         href="/post/Integration-of-Pagefind-in-Hexo/">Integration of Pagefind in Hexo</a>
    </h1>
  

      
    <h2 class="archive-article-subtitle">
        Adding a low-bandwidth local search to a static Hexo-powered website
    </h2>
              
    </div>
    <div class="archive-article-footer">
      
  <div class="archive-article-tags">
    <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Blogging/" rel="tag">Blogging</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Search/" rel="tag">Search</a></li></ul>  
  </div>

    </div>
</div>
</article>
        
      
        
        <article class="archive-article archive-type-post">
  <div class="archive-article-inner">
    <header class="archive-article-header">
      
    <a href="/post/The-State-of-the-Blog/">
        <img class="archive-article-photo" src="/photos/tablet/DSC_0654.jpg" alt="Green Rag" />
    </a>

    </header>
    <div class="archive-article-content">
      <a href="/post/The-State-of-the-Blog/" class="archive-article-date">
  
  <time class="published dt-published" data-pagefind-meta="date" 
        datetime="2022-12-23T21:40:00.000Z">23 Dec 2022</time>
</a>
      
  <div class="archive-article-category category-tools">
    <a class="article-category-link" href="/categories/Tools/">Tools</a> 
  </div>

      


    <a class="archive-article-anything" href="/series/a-new-blog">A New Blog</a>



      


  
    <h1>
      <a class="archive-article-title"
         href="/post/The-State-of-the-Blog/">The State of the Blog</a>
    </h1>
  

      
    <h2 class="archive-article-subtitle">
        Recap &amp; Workflow after 3 years with Hexo
    </h2>
              
    </div>
    <div class="archive-article-footer">
      
  <div class="archive-article-tags">
    <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Blogging/" rel="tag">Blogging</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li></ul>  
  </div>

    </div>
</div>
</article>
        
      
    </div>
  </div>

  
<nav id="article-nav">
  
    <a href="/post/Discoveries-23-UI-CSS/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Discoveries #23 -  UI/CSS
        
      </div>
    </a>
  
  
    <a href="/post/Radio-Garden/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Radio Garden</div>
    </a>
  
</nav>

  

</article></main>
          
            <aside id="sidebar">
  
    <div class="widget-wrap">
    <div class="widget about h-card"><!--http://microformats.org/wiki/h-card-->
        <div class="avatar">
            <a href="/about"><img class="u-photo" src="/images/kristof-zerbe.png" alt="Kristof Zerbe"></a>
            <a href="https://github.com/kristofzerbe" target="_blank" class="fab fa-github" rel="me"></a>
            <a href="https://www.xing.com/profile/Kristof_Zerbe" target="_blank" class="fab fa-xing" rel="me"></a>
            <a href="https://www.linkedin.com/in/kristof-zerbe-91012510/" target="_blank" class="fab fa-linkedin" rel="me"></a>      
            <a href="https://500px.com/kikon" target="_blank" class="fab fa-500px" rel="me"></a>
            <a href="https://indieweb.social/@kiko" target="_blank" class="fab fa-mastodon" rel="me"></a>
            <a href="https://pixelfed.social/kristofz" target="_blank" class="fab fa-pixelfed" rel="me"></a>
        </div>
        <h3 class="p-name">Kristof Zerbe</h3>
        <p class="p-note">
            <i class="p-role">Developer & Team Lead</i> located in <i class="p-locality">Wiesbaden</i>, <i class="p-country-name">Germany</i>
        </p>
        <a class="u-url u-uid" href="https://kiko.io" style="display:none;"></a>
    </div>
</div>
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            
              <a href="/post/Contribute-with-Conventional-Commits/">Contribute with Conventional Commits</a>
            
          </li>
        
          <li>
            
              <a href="/post/Discoveries-26-JavaScript-HowTo-s/">Discoveries #26 - JavaScript HowTo&#39;s</a>
            
          </li>
        
          <li>
            
              <a href="/post/Versengold-in-Concert/">Versengold in Concert</a>
            
          </li>
        
          <li>
            
              <a href="/post/SVWW-vs-Schalke-2023-09-02/">SVWW vs. Schalke @ 2023-09-02</a>
            
          </li>
        
      </ul>
    </div>
  </div>

  

  <div class="widget widget-wrap">
    <p>
      Want more? This way ... to the <a href="/archives">archives</a>
    </p>
  </div>  
</aside>
          
        </div>
        <footer id="footer">
  
  <div class="outer">
    <div class="inner">

      <ul id="footer-dots">
        <li class="dot"><a href="https://search.google.com/search-console?resource_id=sc-domain%3Akiko.io" title="SearchConsole"></a></li>
        <li class="dot"><a href="https://kiko-io.pirsch.io/" title="Pirsch"></a></li>
        <li class="dot"><a href="https://webmentions.kiko.io" title="Webmention Analytics"></a></li>
      </ul>

      <div id="footer-info" class="footer-block">
        &copy; 2019-2023&nbsp;&nbsp;<a href="https://bio.link/kristof">Kristof Zerbe</a>
        <span class="dot-space">&#9679;</span>
        Powered by <a href="https://hexo.io/">Hexo</a> & <a href="https://github.com/">GitHub</a>
      </div>

      <div id="footer-links">
        
        <a href="/about">About</a>
        <span class="dot-space">&#9679;</span>
        
        <a href="/impressum">Impressum</a>
        <span class="dot-space">&#9679;</span>
        
        <a href="/feeds">Feeds</a>
        <span class="dot-space">&#9679;</span>
        
        <a href="javascript:dialog.pageMeta();">Page Meta</a>
      </div>

      <div id="footer-perf">
        Page loaded in <span class="perf-loadtime">0</span> at <span class="perf-viewport"></span>
        <script>
          window.addEventListener("resize", function () {
            const height = document.documentElement.clientHeight;
            const width = document.documentElement.clientWidth;
            document.querySelector("#footer-perf span.perf-viewport").innerHTML = `${width} x ${height}`;
          });
          window.addEventListener("load", function () {
            const pageEnd = performance.mark("pageEnd")
            const loadTime = pageEnd.startTime / 1000;
            document.querySelector("#footer-perf span.perf-loadtime").innerHTML = loadTime.toFixed(2);
            window.dispatchEvent(new Event('resize'));
          });
        </script>
      </div>

      <div id="webring">
        <a id="webring-prev" class="webring-link" href="https://xn--sr8hvo.ws/%F0%9F%A7%80%F0%9F%91%9F%F0%9F%8E%8A/previous">&nbsp;</a>
        <a href="https://xn--sr8hvo.ws">IndieWeb Webring&nbsp;🕸💍</a>
        <a id="webring-next" class="webring-link" href="https://xn--sr8hvo.ws/%F0%9F%A7%80%F0%9F%91%9F%F0%9F%8E%8A/next">&nbsp;</a>
      </div>

    </div>
  </div>
</footer>
      </div>
      <script>
  let isOffline = 'false' === 'true';
</script>


<script src="/js/jquery-3.6.0.min.js"></script>


<script src="/js/dist/bundle.min.js"></script>


<script src="/js/script.js"></script>


<script src="/js/dist/qr-code-styling.js"></script>


<script src="/js/dist/qr-code-styling-options-contact.json" id="qr-code-styling-options" type="application&#x2F;json"></script>


<script>
  //--- eval url hash on load
  var hash = window.location.hash.substr(1);
  switch (hash.toLowerCase()) {
    case "contact":
      window.addEventListener('load', function () {
        dialog.contact();
      });
      break;
    case "continue":
      //has no offset due to fixed header
      //...document.getElementById("more").scrollIntoView({ behavior: "smooth", block: "start", inline: "nearest"});
      window.scrollTo({
        behavior: 'smooth',
        top:
          document.querySelector("#more").getBoundingClientRect().top -
          document.body.getBoundingClientRect().top -
          200,
      });
      history.replaceState(null, null, ' '); // remove hash
    default: break;
  }
</script>

<script>
  /*** DEFINITIONS */

  //HEADER
  var header = {
    height: 0,
    top: 0,
    offset: 55,
    photoLinkOpacity: 0,
    titleFontSize: 0
  };
  function initHeader() {
    $("#header").css("height", ""); //reset inline css
    $("#header-title").css("top", "");
    $("#header-photo-link").css("opacity", "");
    $("#title-wrap").css("font-size", "");
    header.height = $("#header").height(); //set from given css
    header.top = parseFloat($("#header-title").css("top"));
    header.photoLinkOpacity = parseFloat($("#header-photo-link").css("opacity"));
    header.titleFontSize = parseFloat($("#title-wrap").css("font-size"));

    //change subtitle a bit
    let sub = $("#header").find("#subtitle");
    let col = sub.css("color");
    let rpl = `<span style="text-decoration:line-through;color:rgb(120 120 120)" title="not only anymore"><span style="color:${col};opacity:0.75">Tech</span></span>`;
    let txt = sub.text().trim().replace('Tech', rpl);
    sub.html(txt);

    scrollHeader();
  }
  function scrollHeader() {
    var h = header.height - header.offset,
        st = $(document).scrollTop(),  
        d = (h - st),
        p = (d / h),
        hfs = header.titleFontSize / 5 * 3,
        jSide = $("aside");
    if (d > 0) {
      $("#header").css("height", d + header.offset + "px");
      $("#header-photo-link").css("opacity", header.photoLinkOpacity * p);
      $("#banner").css("opacity", p);
      $("#title-wrap").css("font-size", header.titleFontSize - ( header.titleFontSize / 3) * (1 - p) );
      $("#header-title").css("top", header.top - (hfs * (1 - p)) + "px");
      $("#subtitle").css("opacity", p);
      jSide.css("max-width", "").css("position", "").css("top", "");
    } else {
      $("#header").css("height", header.offset + "px");
      $("#header-photo-link").css("opacity", 0);
      $("#banner").css("opacity", 0);
      $("#title-wrap").css("font-size", header.titleFontSize - ( header.titleFontSize / 3) * (1) );      
      $("#header-title").css("top", header.top - (hfs * (1)) + "px");      
      $("#subtitle").css("opacity", 0);
      if (window.matchMedia("screen and (min-width: 768px)").matches & window.innerHeight > (jSide.height() + 50)) {
        jSide.css("max-width", $("aside").width()).css("position", "fixed").css("top", "50px");
      }
    }    
  }

  // IMAGE VIEWPORT
  function isVisibleInViewPort(e) {
    var viewTop = $(window).scrollTop();
    var viewBottom = viewTop + $(window).height();
  
    var eTop = $(e).offset().top;
    var eBottom = eTop + $(e).height();
  
    return ((eBottom <= viewBottom) && (eTop >= viewTop));
  }
  function initViewportImage() {
    $(".article-photo, .archive-article-photo, .card-img, .img-link").each(function() {
      if (isVisibleInViewPort($(this))) {
        $(this).addClass("in-view");
      } else {
        $(this).removeClass("in-view");
      }
    });
  }

  //SCROLL PROGRESS
  function initScrollProgress() {

    // Create ScrollTimeline
    const myScrollTimeline = new ScrollTimeline({
      source: document.scrollingElement,
      scrollSource: document.scrollingElement, // For legacy implementations
      orientation: 'block',
        scrollOffsets: [
            new CSSUnitValue(0, 'percent'),
            new CSSUnitValue(100, 'percent'),
        ],
    });

    // Animate Progress Bar on Scroll
    document.querySelector("#progress").animate(
      {
        transform: ["scaleX(0)", "scaleX(1)"]
      },
      { 
        duration: 1, 
        fill: "forwards", 
        timeline: myScrollTimeline 
      }
    );
  }

  // HORIZONTAL NAV MENU SCROLL
  function initNavMenuScroll() {
    const nav = document.querySelector('#header-nav');
    const menu = nav.querySelector('.menu');
    const firstMenuItem = menu.querySelector('.menu-item:first-child');
    const lastMenuItem = menu.querySelector('.menu-item:last-child');

    firstMenuItem.setAttribute("data-scim", "start");
    lastMenuItem.setAttribute("data-scim", "end");
    
    let observer = new IntersectionObserver((entries, observer) => { 
      entries.forEach(entry => {

        let scimElement = document.querySelector("#header-nav-" + entry.target.getAttribute("data-scim"));
        if (entry.intersectionRatio != 1) { 
          scimElement.classList.add("show");
        } else {
          scimElement.classList.remove("show");
        }
      });
    }, {threshold: 1});
    
    observer.observe(firstMenuItem);
    observer.observe(lastMenuItem);
  }

  //THEME
  function initColorScheme() {
    /* https://stackoverflow.com/questions/56300132/how-to-over-ride-css-prefers-color-scheme-setting */

    var theme = "light"; //default

    // get last used theme from local cache
    if (localStorage.getItem("theme")) {
      if (localStorage.getItem("theme") === "dark") {
        theme = "dark";
      }
    } else if (!window.matchMedia) {
      return false;
    } else if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark";
    }

    if (theme === "dark") {
      setThemeDark();
    } else {
      setThemeLight();
    }
  }
  function setThemeDark() {
    localStorage.setItem("theme", "dark");
    document.documentElement.setAttribute("data-theme", "dark");
    toggleTheme.checked = true;
    setCodepenTheme();
  }
  function setThemeLight() {
    localStorage.setItem("theme", "light");
    document.documentElement.setAttribute("data-theme", "light");
    toggleTheme.checked = false;
    setCodepenTheme();
  }
  function setCodepenTheme() {
    //https://codepen.io/kristofzerbe/embed/xxxxx?height=400&default-tab=js,result&theme-id=dark
    var pens = document.getElementsByClassName("codepen");
    for (var i = 0; i < pens.length; i++) {
      var src = pens[i].src;
      const arr = src.split("?");
      const params = arr[1].split("&").slice(0, -1);
      src =
        arr[0] +
        "?" +
        params.join("&") +
        "&theme-id=" +
        localStorage.getItem("theme");
      pens[i].src = src;
    }
  }

</script>

<script>
  /*** EVENTS */

  window.addEventListener('scroll', function() {
    scrollHeader();
    initViewportImage();
  }, { passive: true });

  window.addEventListener('resize', function() {
    initHeader();
    initViewportImage();
  });

  // TOGGLE THEME
  const toggleTheme = document.querySelector('input#theme-switch[type="checkbox"]');
  toggleTheme.addEventListener("change", function (e) {
    if (e.target.checked) { setThemeDark(); } 
    else { setThemeLight(); }
  }, false);

  // TOGGLE THEME BY OS
  var toggleOS = window.matchMedia("(prefers-color-scheme: dark)");
  toggleOS.addEventListener("change", function (e) {
    if (e.matches) { setThemeDark(); } 
    else { setThemeLight(); }
  });

  /*** INITS */

  initHeader();
  initColorScheme();
  initViewportImage();
  initNavMenuScroll();
  initScrollProgress();

  // BACK-TO-TOP
  addBackToTop({ diameter: 30 });

  // MENU-ITEM-SCROLL
  let pathItem = window.location.pathname.split('/')[1].toLowerCase();
  if (pathItem === "collections") pathItem = window.location.pathname.split('/')[2].toLowerCase()
  setTimeout(() => {
    let e = document.getElementById(`nav-${pathItem}-link`);
    if (e) e.scrollIntoView({ behavior: "smooth", block: "center", inline: "center" });
  }, 250);

  // AUTOTYPING
  setTimeout(function() {
    $("#title-wrap").empty();
    new AutoTyping({
      id: 'title-wrap',
      typeText: ['kiko.io'],
      textColor: '#fff',
      typeSpeed: 100,
      typeDelay: 100,
      showCursor: false,
      delete: false,
      typeInfinity: false
    }).init();
  }, 1000);

  //MEDIUM-ZOOM
  mediumZoom(document.querySelectorAll('img.zoom'), {
    background: 'rgba(55, 55, 55, 0.5)',
    margin: 20,
    scrollOffset: 10
  });

</script>


  <script>
    //HOOK LINKS FOR PIRSCH EVENT...

    //VSCODE
    let vscode = document.querySelectorAll(".brand-links .vscode").forEach(link => link.addEventListener("click", function() { pirsch("Open in VSCode"); }));
    
  </script>  

    </div>
  </div>
</body>
<template id="contact-dialog">
  <div class="contact-content">
    <div class="contact-card">
      <div class="contact-face face-front">
        <div class="contact-face-wrapper">
          <img class="photo" src="/images/kristof-zerbe.png" alt="Kristof Zerbe">
          <div class="header">
            <h3>Kristof Zerbe</h3>
            <h4>Developer & Team Lead</h4>
            <p>Wiesbaden, Germany</p>
            <p class="download">
              <label>Save my contact by<br>downloading my</label>
              <a href="/kristof-zerbe.vcf" download="kristof-zerbe.vcf" class="fa-icon-download">vCard</a>  
            </p>
          </div>
          <hr class="divider">
          <div class="info">
            <p>
              <label>Mail me at</label>
              <a href="mailto:kristof.zerbe@gmail.com" class="fa-icon-mail">kristof.zerbe@gmail.com</a>    
            </p>
            <p>
              <label>Call me at</label>
              <a href="tel:+491716998867" class="fa-icon-phone">+49 171 6998867</a>  
            </p>
            <p>
              <label>Connect with me via</label>
              <a href="https://www.linkedin.com/in/kristof-zerbe-91012510/" class="fa-icon-linkedin">LinkedIn</a>
            </p>
            <p>
              <label>Connect with me via</label>
              <a href="https://www.xing.com/profile/Kristof_Zerbe" class="fa-icon-xing">Xing</a>
            </p>
            <p>
              <label>Follow me on</label>
              <a href="https://indieweb.social/@kiko" class="fa-icon-mastodon">Mastodon</a>  
            </p>
            <p>
              <label>Review my projects on</label>
              <a href="https://github.com/kristofzerbe" class="fa-icon-github">GitHub</a>  
            </p>
            <p>
              <label>Review my photos on</label>
              <a href="https://500px.com/kikon" class="fa-icon-500px">500px</a>  
            </p>
            <p>
              <label>Comment my photos on</label>
              <a href="https://pixelfed.social/kristofz" class="fa-icon-pixelfed">Pixelfed</a>  
            </p>
          </div>
        </div>
        <div class="contact-face-flip">flip for qrcode</div>
      </div>
      <div class="contact-face face-back">
        <div class="contact-face-wrapper">
          <div class="header">
            <h3>Kristof Zerbe</h3>
            <h4>kiko.io/#contact</h4>
          </div>
          <hr class="divider">
          <div id="contact-qrcode" class="qrcode"></div>
        </div>
        <div class="contact-face-flip">flip for card</div>
      </div>
    </div>
  </div>
</template>
</html>