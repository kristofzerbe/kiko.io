.page-title
  @extend $title
  button.title-command
    display: inline-block
    position: relative
    left: 6px
    top: 2px
    width: 20px
    height: 20px
    background: transparent
    border: none
    // transition: all ease-out 0.2s
    opacity: 0.25
    &:hover
      opacity: 0.75
    &:before
      display: block
      content: ""
      background-repeat: no-repeat
      background-position: 0 0
      background-size: 20px
      width: 20px
      height: 20px
      filter: invert(0)
      // transition: all ease-out 0.2s
      /[data-theme="dark"] &
        filter: invert(1)
  button.title-command.switch-condensed
    &:before
      //see /images/icons/minimize.svg
      background-image: url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' viewBox='0 0 24 24' fill='none'%3E%3Cpath stroke='%23000000' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M6 14h4m0 0v4m0-4-6 6m14-10h-4m0 0V6m0 4 6-6'/%3E%3C/svg%3E");
    &.condensed
      &:before
        //see /images/icons/maximize.svg
        background-image: url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' viewBox='0 0 24 24' fill='none'%3E%3Cpath stroke='%23000000' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M8 20H4m0 0v-4m0 4 6-6m6-10h4m0 0v4m0-4-6 6'/%3E%3C/svg%3E");

.page-title-svg-link
  display: block
  position: absolute
  right: 0
  top: -4px
  background-repeat: no-repeat
  background-size: cover
  width: 36px
  height: 36px
  opacity: 0.8
  /[data-theme="dark"] &
    filter:invert(1)

.page-subtitle
  font-size: var(--font-pagetitle-size)
  line-height: var(--line-height-title)
  text-transform: uppercase
  color: var(--color-meta)

.page-subtitle
  font-weight: var(--font-weight-normal)
  margin-top: calc(var(--space-small) * -1)
  margin-bottom: var(--space-default)

.page-nav-index
  float: right
  list-style-type: none
  display: flex
  flex-direction: row
  flex-wrap: wrap
  justify-content: flex-end
  margin: 0 calc(var(--space-small) * -1)
  @media mq-normal
    margin: 0
  a
    flex: 0 0 auto
    display: block
    margin: 0
    padding: var(--space-thin) var(--space-small)
    font-size: var(--font-size-medium)
    font-weight: var(--font-weight-bolder)
    text-transform: uppercase
    text-decoration: none
    background-color: transparent
    color: var(--color-button-text)
    &.current
      font-size: var(--font-size-normal)
      background: var(--color-accent)
      border-radius: 0 0 var(--border-radius-small) var(--border-radius-small)
      color: var(--color-logo)
      line-height: var(--line-height-small)
      padding-inline: var(--space-medium)
      margin-inline: var(--space-small)
      svg#diamond
        display: block
        width: 13px
        height: 13px
        fill: currentColor
        margin: 4px auto 0
      &.skip-right
        svg#diamond
          rect#diamond-right
            display:none
    &:not(.current):hover
      color: var(--color-accent-text)
    &.prev:before, &.next::after
      font-size: var(--font-size-medium-extra)
    &.prev:before
      content: "\276E"
      margin-right: 10px
    &.next::after
      content: "\276F"
      margin-left: 10px

.page-content
  @extend $base-style
  hr:not(.divider)
    padding-bottom: 0rem
    border-bottom-style: solid
    border-bottom-width: 1px
    border-bottom-color: var(--color-block)
    margin-bottom: var(--space-normal)
    margin-top: 0
    background: none
    opacity: 1
    height: 0;
  p
    margin: var(--space-medium) 0 var(--space-default)
  p.limit-4-lines
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 4;
    line-clamp: 4;
    overflow: hidden;
  > p:first-of-type
    margin-top: 0
  p:last-child
    margin-bottom: 0
  .float-element 
    display: block
    float: right
    padding-left: var(--space-normal)
    padding-bottom: var(--space-normal) 
  section
    @extend $block-inner
    position: relative
    margin: var(--space-default) 0
    &:first-child
      margin-top: 0
    padding: var(--space-normal)
    color: var(--color-text)
    figure, pre
      margin-left: -28px !important /* HACK */
      margin-right: -28px !important /* HACK */
    p, table
      margin: var(--space-default) 0
      line-height: var(--line-height-text)
    h1:first-child, h2:first-child
      margin-top: 0
    h1, h2, h3, h5
      font-weight: var(--font-weight-bold)
    h4, h6
      font-weight: var(--font-weight-normal)
    h1, h2, h3, h4, h5, h6
      line-height: var(--line-height-title)
      margin: var(--space-medium) 0 var(--space-default)
    ul, ol, dl
      margin-block: var(--space-default)
    fieldset
      span.result
        position: absolute
        right: 0
      span.result.error
        color: var(--color-error)
    time
      font-size: var(--font-size-small)
      margin-bottom: calc(var(--space-default) * -1)
      position: absolute
      color: var(--color-meta)
      &.raised
        display: block
        position: absolute
        top: 0
        left: 0
    .image-slider
      img
        max-width: 100%
        height: auto
        display: block
        margin: auto
  section.flex
    display: flex
    flex-wrap: wrap
    fieldset
      flex: 1 1 auto
    fieldset.gap
      margin-right: var(--space-default)
      margin-bottom: auto;
    fieldset.max
      max-width: max-content
    @media mq-mobile
      fieldset.gap
        width: 100%
        margin-right: auto;
        margin-bottom: var(--space-medium)
      fieldset.max
        max-width: 25%
      fieldset.max.expand
        max-width: 75%

  .view-bar
    margin: var(--space-default) var(--space-thin) var(--space-default)
    line-height: var(--line-height-text)
    .view-count
      font-weight: var(--font-weight-bold)
    input[type=radio]
      display: none
    input[name="view-filter-status"], 
    input[name="view-filter-used-type"],
    input[name="view-filter-unused-type"],
    input[name="view-presentation"],
    input[name="view-sort-field"],
    input[name="view-sort-order"]
      + label
        font-weight: var(--font-weight-normal)
        cursor: pointer
        display: none
      &:checked
        + label
          display: inline-block

  .view
    margin-bottom: var(--space-double)
    .card
      @extend $block-inner-hover
      @extend $base-style
      transform: scale(1)
      opacity: 1
      color: var(--color-text)
      border: none
      a
        text-decoration: none
        display: inline-block
        &.break
          overflow-wrap: break-word
          word-wrap: break-word
          word-break: break-all /* important to break collection url's */
      .card-img
        display: block
        overflow: hidden
        position: relative
        img
          @extend $inview-image
          height: 100%
          width: 100%
          background-color: var(--color-background)
        &.in-view
          img
            @extend $inview-image-visible
      h3
        line-height: var(--line-height-subtitle)
        font-weight: var(--font-weight-bold)
        a
          text-decoration: none
          color: var(--color-text)
          &:hover
            color: var(--color-accent-text)

    .card.collection
      .card-img
        border-radius: var(--border-radius-normal) var(--border-radius-normal) 0 0
        img
          border-bottom: 1px var(--color-background) solid
      div.tags
        display: flex
        flex-flow: row wrap
        height: max-content
        span, a.tag
          display: block
          border-radius: var(--border-radius-small)
          padding: 0 var(--space-small)
          margin: 0 var(--space-small) var(--space-small) 0
          text-transform: uppercase
          font-size: var(--font-size-tiny)
          background-color: var(--color-background)
          color: var(--color-meta)
    
    .card.photo
      display: grid
      .card-img.spotlight
        cursor: zoom-in
      span.pre-title
        font-size: var(--font-size-small)
        opacity: 0.5
        em
          display: inline-block
      .status
        display: block
        white-space: nowrap
        overflow: hidden
        text-overflow: ellipsis
        font-size: var(--font-size-medium)
        padding: var(--space-thin) var(--space-median)
        opacity: 0.75
        color: white
        &.used.start
          background-color: rgba(187, 94, 8, 0.5)
        &.used.page
          background-color: rgba(187, 58, 8, 0.5)
        &.used.post
          background-color: rgba(65, 117, 212, 0.6)
        &.used.notes
          background-color: rgba(135, 115, 0, 0.5)
        &.used.dynamic
          background-color: rgba(93, 65, 167 ,0.5)
        &.used.anything
          background-color: rgba(95, 158, 160, 0.8)
        &.used.draft
          background-color: rgba(240, 75, 75 ,0.6)
        &.unused.pool
          background-color: rgba(95, 95, 95, 0.6)
        &.unused.reserve
          background-color: rgba(130, 90, 90, 0.6)
        &.unused.shed
          background-color: rgba(90, 115, 130, 0.6)
        em
          opacity: 0.5
      &:hover
        .status
          opacity: 1
    .card.hide
    .card.trans
      transform: scale(0)
      opacity: 0

  .list
    display: flex
    flex-direction: column
    flex-wrap: nowrap
    --card-photo-width: 12rem
    --card-photo-padding: var(--space-median)
    @media mq-mobile
      --card-photo-width: 8rem
      --card-photo-padding: var(--space-small)
    .card
      padding: var(--space-small)
      padding-bottom: 0
      margin: var(--space-median) 0
      display: grid
      .card-img
        grid-area: image
        height: auto
        margin: calc(var(--space-small) * -1)
        margin-bottom: 0
        border-radius: var(--border-radius-normal) 0 0 0
      .status
        border-radius: 0 0 var(--border-radius-normal) var(--border-radius-normal)
      h3
        margin: var(--space-medium) 0 0
        font-size: var(--font-subtitle-size)
        grid-area: title
        overflow: hidden
        a
          display: block
          white-space: nowrap
          overflow: hidden
          text-overflow: ellipsis
      small, p
        display: none

    .card.collection
      grid-template-rows: 45px auto
      grid-template-columns: 100px auto
      grid-template-areas: "image title" "image tags"
      .card-img
        width: 90px
        border-radius: var(--border-radius-normal) 0 0 var(--border-radius-normal)
      h3
        margin-top: var(--space-small)
      div.tags
        grid-area: tags
        margin: 0 0 var(--space-small) 0
        // span, a.tag
        //   margin: 0 var(--space-small) var(--space-median) 0

    .card.photo
      grid-template-rows: var(--space-default) auto auto
      grid-template-columns: calc(var(--card-photo-width) + var(--card-photo-padding)) auto
      grid-template-areas: "image link" "image title" "status status"
      .card-img
        width: var(--card-photo-width)
      h3
        margin: 0
        align-self: center
      div.card-links
        display: none
      span.pre-title
        grid-area: link
        line-height: var(--line-height-thin)
        padding-top: var(--space-thin)
      .status
        grid-area: status
        margin: 0 calc(var(--space-small) * -1)

  .grid
    display: grid
    grid-gap: var(--space-default)
    grid-template-columns: repeat(auto-fill, minmax(220px,1fr))
    .card
      padding: var(--space-medium)
      .card-img
        margin: calc(var(--space-medium) * -1)
        margin-bottom: 0
        height: auto
        img
          width: 100%
          height: 100%
          object-fit: cover
      h3
        margin: var(--space-medium) 0 var(--space-default)
        font-size: var(--font-subtitle-size)
        
    .card.collection
      div.tags
        margin: var(--space-default) 0 var(--space-small)
      .card-img
        &:after
          content: ""
          display: block
          position: absolute
          left: 0
          top: 0
          width: 100%
          height: 100%
          background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0) 85%, rgba(215, 215, 215, 1) 100%)
          /[data-theme="dark"] &
            background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0) 75%, rgba(41, 41, 41, 1) 100%)

    .card.photo
      grid-template-rows: auto auto 2rem 1fr 2rem
      grid-template-areas: "image" "pretitle" "links" "title" "status"
      padding: var(--space-medium) var(--space-medium) 0
      .card-img
        grid-area: image
        border-radius: var(--border-radius-normal) var(--border-radius-normal) 0 0
        img
          height: 12rem
          @media mq-tablet
            height: 14rem
          @media mq-mobile
            height: 15rem
      h3
        grid-area: title
        align-self: center
      div.card-links
        grid-area: links
        padding-top: var(--space-thin)
        a.syndication-link,
        span.info.content
          width: 16px
          height: 16px
          filter: grayscale(1)
          /[data-theme="dark"] &
            filter: grayscale(1) invert(1)
          &:hover
            filter: grayscale(0)
            opacity: 1 !important
        a.syndication-link /* on extension see config.syndication_hosts */
          position: relative
          padding-inline-end: 4px
          background-size: 14px
          background-repeat: no-repeat 
          background-position: 0
          &.host-500px
            background-image: var(--brand-500px)
            opacity: 0.33
            /[data-theme="dark"] &
              &:hover
                filter: invert(1)
          &.host-flickr
            background-image: var(--brand-flickr)
            opacity: 0.33
            background-size: 16px
            margin-inline-start: -1px
            padding-inline-end: 7px
          &.host-unsplash
            background-image: var(--brand-unsplash)
            opacity: 0.25
            background-size: 12px
            /[data-theme="dark"] &
              &:hover
                filter: invert(1)
          &.host-pixelfed
            background-image: var(--brand-pixelfed)
            opacity: 0.4
            /[data-theme="dark"] &
              background-image: var(--brand-pixelfed-invert)
              filter: grayscale(1) invert(0)
              &:hover
                filter: grayscale(0)
          &.host-vernissage
            background-image: var(--brand-vernissage)
            opacity: 0.6
            background-size: 18px
            /[data-theme="dark"] &
              &:hover
                filter: invert(1)
          &.host-peertube
            background-image: var(--brand-peertube)
            opacity: 0.6
            background-size: 14px
        span.info-content
          display: block
          float: right
          padding-inline-start: 8px
          a
            display: block
          img
            width: 16px
            height: 16px
            opacity: 0.3
          /[data-theme="dark"] &
            filter: invert(1)
      span.pre-title
        grid-area: pretitle
        display: block
        margin-block: var(--space-small)
        line-height: var(--line-height-small)
      .status
        grid-area: status
        margin: 0 -1rem
        border-radius: 0 0 var(--border-radius-normal) var(--border-radius-normal)
    .card.photobox
      display: grid
      grid-template-rows: 2rem auto
      grid-template-areas: "period" "content"
      padding: 0 1rem 0
      margin-inline: var(--space-median)     
      &:before
        content: ""
        display: block
        position: absolute
        top: calc(1rem - 1px)
        height: 2rem        
        width: calc(100% + 1rem)
        margin-inline: calc(var(--space-small) * -1)
        margin-block-start: calc(var(--space-medium) * -1)
        border-radius: var(--border-radius-normal)
        border-width: 1px
        border-style: solid
        border-color: #ddd #ccc #ccc #ddd 
        box-shadow: 0px 8px 8px -8px #333
        background-image: linear-gradient(0deg, #eee 20%, #fff 60%)
        background-color: #fff
        /[data-theme="dark"] &
          border-color: #333 #111 #111 #333 
          box-shadow: 0px 8px 8px -8px #111
          background-image: linear-gradient(0deg, #333 20%, #222 60%)
          background-color: #333
      small.box-period
        grid-area: period
        z-index: 0
        opacity: 0.33
        font-size: var(--font-size-tiny)
        align-self: center
        text-align: right
        margin-inline: calc(var(--space-medium) * -1)
      div.box-content
        grid-area: content
        a.box-img
          margin-inline: calc(var(--space-medium) * -1)
          margin-bottom: 0
          height: auto
          width: calc(100% + var(--space-normal))
          border-radius: var(--border-radius-normal) var(--border-radius-normal) 0 0
          img
            @extend $inview-image
            transform: scale(1) !important
            object-fit: cover
            object-position: top
            width: 100%
            height: 10rem
            @media mq-tablet
              height: 12rem
            @media mq-mobile
              height: 13rem
          &.in-view
            img
              @extend $inview-image-visible
        span.box-count
          position: absolute
          display: flex
          top: calc(10.25rem + 1px)
          @media mq-tablet
            top: calc(12.25rem + 1px)
          @media mq-mobile
            top: calc(13.25rem + 1px)
          right: 0
          width: 3rem
          height: auto
          align-items: start
          justify-content: space-evenly
          padding: var(--space-thin) 0 0 calc(var(--space-thin) / 2)
          font-size: var(--font-size-medium-extra)
          border-top-left-radius: 40% 70%
          background-color: var(--color-block)
          box-shadow: inset 4px 4px 8px -6px var(--color-shadow-dark)
        h3
          align-self: center
          word-break: break-word
  .masonry
    display: block
    .card.photo
      box-shadow: none
      &:hover
        box-shadow: none
        transform: scale(1) translateY(0) !important
      .card-img
        display: flex
        width: auto
        border-radius: var(--border-radius-normal)
        img 
          width: 100%
      div.card-links
        display: none
      span.pre-title
        display: none
      .status
        display: none !important
      h3
        display: none

  section.about
    div.career
      width: 150px
      margin: 0 0 20px 20px
      float: right
      img 
        width: 150px
        float: left
    img.link
      float: left
      margin: 6px 18px 0 0
      height: 36px
      width: 36px
      & + p
        white-space: nowrap
        overflow: hidden
        text-overflow:ellipsis
    img.link.invert
      /[data-theme="dark"] &
        filter: invert(1)
    img.link.github + p
      color: var(--color-github)
      a
        color: var(--color-github)
        text-decoration-color: var(--color-github)
    img.link.devto + p
      color: var(--color-devto)
      a
        color: var(--color-devto)
        text-decoration-color: var(--color-devto)
    img.link.xing + p
      color: var(--color-xing)
      a
        color: var(--color-xing)
        text-decoration-color: var(--color-xing)
    img.link.linkedin + p
      color: var(--color-linkedin)
      a
        color: var(--color-linkedin)
        text-decoration-color: var(--color-linkedin)
    img.link.vernissage + p
      color: var(--color-vernissage)
      a
        color: var(--color-vernissage)
        text-decoration-color: var(--color-vernissage)
    img.link.pixelfed + p
      color: var(--color-pixelfed)
      a
        color: var(--color-pixelfed)
        text-decoration-color: var(--color-pixelfed)
    img.link.flickr + p
      color: var(--color-flickr)
      a
        color: var(--color-flickr)
        text-decoration-color: var(--color-flickr)
    img.link.unsplash + p
      color: var(--color-unsplash)
      a
        color: var(--color-unsplash)
        text-decoration-color: var(--color-unsplash)
    img.link.fivehundredpx + p
      color: var(--color-500px)
      a
        color: var(--color-500px)
        text-decoration-color: var(--color-500px)

  section.feeds
    .feed-group
      margin: var(--space-default) 0 0
      > strong
        display: block
        margin-bottom: var(--space-small)
      a
        display: grid
        grid-template-columns: 36px max-content auto
        grid-template-rows: auto
        grid-template-areas: "icon link info" ". size ."
        padding-block: var(--space-small)
        align-items: center
        span
          grid-area: link
        em
          grid-area: size
      a.atom
        color: var(--color-atom)
        text-decoration-color: var(--color-atom)
      a.rss
        color: var(--color-rss)
        text-decoration-color: var(--color-rss)
      a.json
        color: var(--color-json)
        text-decoration-color: var(--color-json)
      a:before
        grid-area: icon
        display: inline-block
        content: ""
        background-repeat: no-repeat
        background-size: 20px 20px
        width: 20px
        height: 20px
      a.atom:before
        background-image: var(--brand-atom)
      a.rss:before
        background-image: var(--brand-rss-blue)
        background-size: 22px 22px
      a.json:before
        background-image: var(--brand-jsonfeed)
        background-size: 18px 18px
      a.site-default:after
        grid-area: info
        display: inline-block
        content: "- default"
        margin-left: var(--space-small)
        font-size: var(--font-size-small)
        /* text-decoration-color: transparent --- doesn't work */

  section.mf2feed
    .h-feed
      .h-entry
        margin-block: var(--space-medium)
        details
          // &[open]
          summary
            cursor pointer
            &::marker
              position: absolute
              top: 0
            img
              max-width: 480px
              margin-inline-start: var(--space-default)
              margin-block-start: calc(var(--space-medium) * -1)
              @media mq-mobile
                max-width: 92%;
          header, article
            padding-inline: var(--space-default)
            @media mq-mobile
              padding-inline: 0
          header
            padding-block-start: var(--space-medium)
            a
              text-decoration: none
              &:hover
                text-decoration: revert
            time
              position: unset
              margin-block: var(--space-small)
            h3, h4
              line-height: var(--line-height-text)
            h3
              margin-block: var(--space-small) 0
            h4
              font-size: var(--font-size-normal)
              @media mq-normal
                margin-block-end: 0
          article
              @media mq-mobile
                padding-block-start: var(--space-thin)
            img
              max-width: 100%
          hr
            @media mq-normal
              margin-block: var(--space-medium) var(--space-block)

  section.meta
    ul
      margin: 0 0 0 0
      list-style: none
      display: flex
      flex-direction: column
      gap: var(--space-medium)
      li
        display: flex
        flex-direction: column
        gap: var(--space-thin)
        label
          font-family: var(--font-mono)
          font-size: var(--font-size-tiny)
          text-transform: uppercase
          opacity: 0.5
          line-height: normal
        span
          line-height: normal

  section.image
    background: transparent
    box-shadow: none
    padding: 0
    position relative
    margin-bottom: var(--space-block)
    img
      @extend $block-inner-hover
      width: 100%
      height: auto
      box-shadow: 1px 1px 12px 0px #888 !important
      /[data-theme="dark"] &
        box-shadow: 1px 1px 12px 0px #000 !important
    & #photo
      cursor: help
    small
      position: absolute
      right: 0
      bottom: calc(var(--space-default) * -1)
      opacity: 0.33
      font-size: var(--font-size-tiny)

  section#color-list
    display: none
    background: transparent
    box-shadow: none
    padding: 0
    position relative
    font-size: var(--font-size-medium)
    ul
      display: grid
      grid-template-columns: repeat(2, 1fr)
      grid-template-areas: "x x" "a1 a2" "b1 b2" "c1 c2"
      gap: var(--space-medium)
      margin: 0
      @media mq-medium
        grid-template-columns: 1fr
        grid-template-areas: "x" "a1" "b1" "c1" "a2" "b2" "c2"
      li
        &[data-swatch="Custom"]
          grid-area: x
        &[data-swatch="DarkVibrant"]
          grid-area: a1
        &[data-swatch="Vibrant"]
          grid-area: b1
        &[data-swatch="LightVibrant"]
          grid-area: c1
        &[data-swatch="DarkMuted"]
          grid-area: a2
        &[data-swatch="Muted"]
          grid-area: b2
        &[data-swatch="LightMuted"]
          grid-area: c2
        &[data-accent="true"]:after
          //see /images/brands/badge.svg
          content:  url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 256 256' xml:space='preserve'%3E%3Cg%3E%3Cg%3E%3Cg%3E%3Cpath fill='%23FFFFFF' d='M92.3,171.9c-2.7-1.2-5.4-2.4-8-3.8v69.7c0,4.9,4,8.2,8.2,8.2c2.1,0,4.3-0.8,5.9-2.7l23.8-26c1.6-1.8,3.8-2.7,6-2.7c2.2,0,4.4,0.9,6,2.7l23.8,26c1.7,1.9,3.8,2.7,5.9,2.7c4.2,0,8.2-3.2,8.2-8.2v-70c-2.7,1.5-5.6,2.9-8.5,4.1c-11.3,4.8-23.4,7.2-35.7,7.2C115.6,179.2,103.6,176.7,92.3,171.9z'/%3E%3Cpath fill='%23FFFFFF' d='M128,10c-42.7,0-77.4,34.6-77.4,77.4c0,19.5,7.2,37.4,19.2,51c2.2,2.6,4.7,5,7.2,7.2c2.3,2,4.7,3.9,7.2,5.6c12.4,8.5,27.5,13.5,43.7,13.5c16.4,0,31.7-5.1,44.2-13.9c2.5-1.8,4.9-3.7,7.2-5.7c2.6-2.3,5-4.7,7.2-7.3c11.6-13.5,18.7-31.1,18.7-50.4C205.4,44.6,170.7,10,128,10z M147.4,123.8l-15.7-9.2c-2.3-1.3-5.1-1.3-7.3,0l-15.7,9.2c-5.5,3.2-12.2-1.7-10.7-7.9l2.8-11.5l1.4-5.9c0.1-0.5,0.2-0.9,0.2-1.4c0.1-2.2-0.8-4.3-2.4-5.8L98.3,90L85.4,78.7c-4.7-4.2-2.2-12,4.1-12.6l19.2-1.8c2.7-0.2,5-2,6-4.5l6.6-16c2.5-6,10.9-6,13.4,0l6.6,16c1,2.5,3.3,4.2,6,4.5l19.2,1.8c6.3,0.6,8.8,8.4,4.1,12.6l-12.8,11.3l-1.6,1.4c-1.7,1.5-2.5,3.6-2.4,5.8c0,0.5,0.1,0.9,0.2,1.4l1.4,5.9l2.8,11.5C159.6,122.1,152.9,127,147.4,123.8z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
          position: absolute
          top: var(--space-median)
          right: var(--space-small)
          width: 24px
          z-index: 0
        display: grid
        grid-template-columns: auto 64px
        grid-template-rows: repeat(3,1fr)
        align-items: center
        margin: 0
        gap: 0 var(--space-normal)
        width: auto
        position: relative
        padding: 1rem
        border-radius: var(--border-radius-normal)
        background: var(--color-block)
        // box-shadow: var(--length-shadow) var(--color-shadow)
        span
          grid-area: 1/1/2/2
          min-width: 5rem
        strong
          grid-area: 2/1/3/2
          min-width: 130px
        em
          grid-area: 3/1/4/2
        div
          grid-area: 1/2/4/3
          width: 6.5rem
          height: 6.5rem
          position: absolute
          top: -1rem
          right: -1rem
          border-radius: 0 var(--border-radius-normal) var(--border-radius-normal) 0
          cursor: alias
  #map
    /[data-theme="dark"] &
      .leaflet-layer,
      .leaflet-control-zoom-in,
      .leaflet-control-zoom-out,
      .leaflet-control-attribution
        filter: invert(100%) hue-rotate(180deg) brightness(95%) contrast(90%);
    &.page-map
      height: 320px
      margin: var(--space-medium) calc(var(--space-normal) * -1) var(--space-small)
    &.inline-map
      border-radius: var(--border-radius-normal)
      height: calc(80vh)
      width: 100%
      margin: 0 0 var(--space-block) 0
    .photoPopup
      .leaflet-popup-content-wrapper, .leaflet-popup-tip
        border-radius: var(--border-radius-normal)
        background-color: var(--color-background)
        color: var(--color-text)
      .leaflet-popup-content-wrapper
        .leaflet-popup-content
          ul
            margin: var(--space-small) 0 0 0
            list-style-type: none
          li
            line-height: var(--line-height-normal)
            a
              transition: all ease-out 0.2s
              color: var(--color-accent-text)
            span
              opacity: 0.5
