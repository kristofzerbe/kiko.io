.panels
  clearfix()
  column-gap: 0
  margin: -(medium-margin)
  @media mq-tablet
    column-count: 2
  @media mq-normal
    column-count: 3

.panel
  avoid-column-break()
  padding: default-padding 0
  margin: -(default-padding) medium-margin
  &:first-child
    margin-top: 0

.panel-inner
  @extend $block-inner-hover
  padding: 10px
  overflow: hidden  
  &.today
    border-top: 8px var(--color-accent) solid
  &.yesterday
    border-top: 8px var(--color-accent-median) solid

.panel-header
  margin-inline: -10px
  margin-block-start: -10px
  margin-block-end: 20px

.panel-favicon
  display: block
  margin-top: 10px
  img
    width: 32px
    height: 32px
    margin: 0

.panel-photo
  @extend $inview-image
  height: 150px
  width: 100%
  // width: calc(100% + 20px)
  // margin: -10px 0 10px -10px
  object-fit: cover

.panel-photo.in-view
  @extend $inview-image-visible

.panel-content
  padding: 0 (default-padding / 4) (default-padding-vert / 2)
  overflow: hidden
  p
    margin-bottom: 0 !important
  p.small
    font-size: font-size-code
    line-height: 1.1rem
  div.icon-links
    margin: 1rem 0 1.25rem
    a
      text-decoration: none
      background-repeat: no-repeat 
      min-width: 16px
      display: inline-block
      margin-inline-end: thin-margin
      filter: grayscale(1)
      color: color-button-link
      /[data-theme="dark"] &
        color: dark-color-button-link
      &:hover
        filter: grayscale(0)
        opacity: 1 !important
    a.mastodon
      background-image: var(--brand-mastodon)
      background-size: 14px
      background-position: 0 6px
      opacity: 0.4
    a.rss
      background-image: var(--brand-rss)
      background-size: 18px
      background-position: 0 4px
      opacity: 0.5
      &:hover
        color: color-rss
      small
        padding-left: 22px

.panel-date,
.panel-category
  font-size: font-size-small
  margin-bottom: medium-margin
  display: inline-block

.panel-category
  float: right

.panel-date
  time.updated
    color: var(--color-text) //TODO: was color-foreground
    &:before
      content: "Update, "

.panel-anything
  display: block
  text-decoration: none
  line-height: line-height-thin
  margin-block: small-margin
  text-transform: uppercase
  font-size: font-size-small
  color: var(--color-meta)
  &:hover
    color: var(--color-accent-text)

.panel-title
  position relative
  z-index: 0
  display: inline-block
  margin-top: small-margin
  margin-bottom: small-margin
  text-decoration: none
  line-height: line-height-text
  font-size: font-titlelist-size
  font-weight: font-weight-bold
  color: var(--color-text)
  transition: color 0.2s
  &:hover
    color: var(--color-accent-text)
    &:before
      transform: scaleX(1)
      transform-origin: left
  &:before
    position: absolute
    z-index: -1
    margin: -0.25rem -0.5rem
    background: var(--color-block)
    content: ""
    border-radius: border-radius
    inset: 0
    transform: scaleX(0)
    transform-origin: right
    transition: transform 0.4s ease-in-out

.panel-subtitle
  margin-top: small-margin
  line-height: line-height-medium
  color: var(--color-meta)

.panel-footer
  font-size: font-size-small

.panel-tags
  opacity: 0.5
  transition: all ease-out 0.4s
  li
    float: right
  &:hover
    opacity: 1

.panel-date,
.panel-category a,
.panel-tags a
  text-decoration: none
  color: var(--color-meta)

.panel-category a,
.panel-tags a
  &:hover
    color: var(--color-accent-text)
