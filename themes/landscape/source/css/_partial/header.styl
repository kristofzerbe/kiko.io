#header
  width: 100%
  height: banner-height
  @media mq-tablet
    height: banner-height-tablet
  @media mq-mobile
    height: banner-height-mobile
  position: fixed
  z-index: 1001
  overflow: hidden
  filter: grayscale(0)
  transition: filter 2.5s ease, background-color 0.25s ease
  &.gray
    filter: grayscale(1)
  background-color: var(--color-accent)
  border-radius: 0 0 1px 1px //??? 0 leads to inset shadow on mobile ?
  /[data-theme="dark"] &
    border-bottom-color: dark-color-border
  &:before, &:after
    content: ""
    position: absolute
    left: 0
    right: 0
    height: 40px

#content
  padding-top: banner-height
  @media mq-tablet
    padding-top: banner-height-tablet
  @media mq-mobile
    padding-top: banner-height-mobile

#header-outer
  position: relative
  z-index: 99

#header-photo,
#header-photo-link  
  display: none
 
header.photograph #header-photo-link
  position: absolute
  display: block
  top: 4px
  right: 100%
  padding: 8px
  white-space: nowrap
  font-size: font-size-small
  text-decoration: none
  z-index: 99
  transition: all 0.2s ease-out
  transform: rotate(270deg)
  transform-origin: right top
  color: rgba(255, 255, 255, 0.6)
  &:hover
    color: rgba(255, 255, 255, 1)

  strong 
    font-weight: font-weight-bold

#header-inner
  position: relative
  width: auto
  margin: auto
  float: right

#banner
  position: absolute
  top: 0
  left: 0
  width: 100%
  height: 100%
  background-image: url("/images/banner.jpg")
  background-position: center
  background-color: #000
  background-size: contain
  z-index: -1
  /[data-theme="dark"] &:before
    position: absolute
    background: rgba(0,0,0, .25)
    content: ""
    width: 100%
    height: 100%

#header-nav-start,
#header-nav-end
  position: absolute
  z-index: 1
  bottom: 0    
  height: 42px
  width: 20px
  opacity: 0
  transition: opacity 0.2s ease-out
  &.show
    opacity: 1
  color: rgba(0,0,0,0.4) //box-shadow defaults to this
#header-nav-start
  left: 0
  box-shadow: inset 20px 0 15px -15px
#header-nav-end
  right: 0
  box-shadow: inset -20px 0 15px -15px

#header-nav
  position: absolute
  bottom: 0
  width: 100%
  height: auto  
  backdrop-filter: blur(5px) brightness(90%)
  @supports not (backdrop-filter: none)
    background: rgba(0,0,0,0.25)
  box-sizing: content-box
  overflow-x: scroll
  overflow-y: hidden
  -webkit-overflow-scrolling: touch
  &::-webkit-scrollbar
    display: none
  @supports not (webkit-scrollbar)  
    scrollbar-width: none
  .menu
    display: flex
    list-style: none
    margin: 0
    padding: 0
    width: 100%
    .menu-item
      flex-basis: 40px
      flex-shrink: 0
      flex-grow: 0
      max-width: 100px
      margin: auto 10px
      a
        color: color-logo
        font-size: 16px
        font-weight: 400
        text-decoration: none
        text-align: center
        display: block
        width: 100%
        padding: 8px 0
        text-transform: uppercase
        text-overflow: ellipsis
        white-space: nowrap
        overflow: hidden
      &:last-child
        margin-left: 0 !important
        a
          padding-right: 15px

.menu-item-icon
  margin: auto 0 !important
  a
    &:before
      display: inline-block
      content: ""
      background-repeat: no-repeat
      background-position: 4px 4px
      background-size: 18px
      width: 22px
      height: 22px
    span 
      display: none
  &:first-child
    margin-left: 5px !important

.menu-item-icon#nav-search-link
  a
    &:before
      //see /images/icons/search.svg + fill white
      background-image: url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' viewBox='0 0 42 42' fill='%23FFFFFF'%3E%3Cpath d='M1,17.838c0,8.747,7.131,15.827,15.94,15.827c8.796,0,15.938-7.08,15.938-15.827S25.736,2,16.94,2C8.131,2,1,9.091,1,17.838 z M6.051,17.838c0-5.979,4.868-10.817,10.89-10.817c6.01,0,10.888,4.839,10.888,10.817c0,5.979-4.878,10.818-10.888,10.818 C10.919,28.656,6.051,23.816,6.051,17.838z M28.162,32.361l6.855,7.809c1.104,1.102,1.816,1.111,2.938,0l2.201-2.181 c1.082-1.081,1.149-1.778,0-2.921l-7.896-6.775L28.162,32.361z'/%3E%3C/svg%3E");

#header-title
  text-align: center
  position: absolute
  top: 30px
  left: 0
  width: calc(100% - 60px)
  margin: 0 30px

body.article-view #progress
  position: absolute
  width: 100%
  height: 4px
  bottom: 0
  transform-origin: 0 50%
  transform: scaleX(0)
  background-color: color-highlight
  /[data-theme="dark"] &
    background-color: dark-color-highlight

$logo-text
  text-decoration: none
  color: color-logo
  font-weight: font-weight-normal

#title-wrap
  font-family: 'Open Sans'
  font-size: title-size
  line-height: 60px
  @media mq-mobile
    font-size: title-size-mobile
    line-height: title-size-mobile

  .typing-placeholder
    border: 0
    margin: -1px
    overflow: hidden
    padding: 0
    width: 0

#subtitle
  @extend $logo-text
  letter-spacing: 0.5px
  font-size: font-size
  line-height: subtitle-size
  margin-top: (subtitle-size / 3) * 2
  @media mq-mobile
    letter-spacing: 0.25px
    font-size: subtitle-size-mobile
    line-height: subtitle-size-mobile
    margin-top: (subtitle-size-mobile / 2)

#sub-socialmediaimage-link
  background: transparent !important
  width: 20px
  height: 20px
  margin: 20px auto

#logo
  @extend $logo-text
  font-family: font-sans
  font-variant: small-caps
  font-weight: 600
  letter-spacing: 0
  display: inline-block

#sub-nav
  float: right
  margin-right: -20px

$sub-nav-link
  float: left
  color: color-logo
  opacity: 0.6
  text-decoration: none
  transition: opacity 0.2s ease-out
  display: block
  padding: 20px 15px
  &:hover
    opacity: 1

#sub-nav-theme
  position: relative
  display: inline
  input#theme-switch[type=checkbox]
      display:none
    input#theme-switch[type=checkbox] + label
      color: color-logo
      opacity: 0.4
      height: 32px
      width: 32px
      display: inline-block
      margin: 12px
      font-size: 22px
      cursor: pointer
      // transition: opacity 0.3s ease-out
      &:hover
        opacity: 1
      &:before 
        display: inline-block
        transition: background-image 0.25s ease
        margin: 0
        width: 28px
        height: 28px
        content: ""
        background-size: 28px
        background-repeat: no-repeat
        //see /images/icons/moon.svg + fill white
        background-image: url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' viewBox='0 0 56 56' fill='%23FFFFFF'%3E%3Cpath d='M 31.2110 14.9453 C 31.4922 14.9453 31.6563 14.7578 31.7031 14.5000 C 32.4297 10.6094 32.4063 10.5156 36.4610 9.7187 C 36.7422 9.6719 36.9063 9.5312 36.9063 9.2500 C 36.9063 8.9453 36.7422 8.8047 36.4610 8.7578 C 32.4063 7.9375 32.4297 7.8672 31.7031 3.9765 C 31.6563 3.7187 31.4922 3.5312 31.2110 3.5312 C 30.9297 3.5312 30.7891 3.7187 30.7422 3.9765 C 29.9922 7.8672 30.0391 7.9375 25.9610 8.7578 C 25.7031 8.8047 25.5157 8.9453 25.5157 9.2500 C 25.5157 9.5312 25.7031 9.6719 25.9610 9.7187 C 30.0626 10.5156 29.9922 10.6094 30.7422 14.5000 C 30.7891 14.7578 30.9297 14.9453 31.2110 14.9453 Z M 42.4375 30.7891 C 42.8594 30.7891 43.1641 30.4844 43.2110 30.0391 C 43.9844 23.7578 44.2891 23.5703 50.6406 22.5860 C 51.1561 22.4922 51.4609 22.2578 51.4609 21.7891 C 51.4609 21.3438 51.1561 21.0625 50.7342 20.9922 C 44.3360 19.7734 43.9844 19.8203 43.2110 13.5391 C 43.1641 13.0938 42.8594 12.7891 42.4375 12.7891 C 41.9922 12.7891 41.6875 13.0938 41.6407 13.5156 C 40.8204 19.8672 40.6094 20.0781 34.1172 20.9922 C 33.6953 21.0391 33.3907 21.3438 33.3907 21.7891 C 33.3907 22.2344 33.6953 22.4922 34.1172 22.5860 C 40.6094 23.7812 40.8438 23.8047 41.6407 30.0860 C 41.6875 30.4844 41.9922 30.7891 42.4375 30.7891 Z M 24.7891 52.4688 C 33.2735 52.4688 40.0469 48.1797 43.2813 40.9609 C 43.6797 40.0938 43.6094 39.3438 43.1875 38.9453 C 42.8126 38.5938 42.1563 38.5469 41.4297 38.8047 C 39.5313 39.5547 37.3047 39.9297 34.7500 39.9297 C 24.1094 39.9297 17.3126 33.2734 17.3126 22.8906 C 17.3126 19.9375 17.8750 17.1016 18.6016 15.6485 C 19.0000 14.8281 19.0000 14.1250 18.6485 13.6797 C 18.2266 13.2109 17.4766 13.1406 16.5626 13.4922 C 9.3672 16.3281 4.5391 23.9687 4.5391 32.5469 C 4.5391 43.9609 12.9531 52.4688 24.7891 52.4688 Z'/%3E%3C/svg%3E");
    input#theme-switch[type=checkbox]:checked + label
      &:before
        //see /images/icons/sun.svg + fill white
        background-image: url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' viewBox='0 0 56 56' fill='%23FFFFFF'%3E%3Cpath d='M 30.0391 4.6094 C 30.0391 3.5078 29.1016 2.5703 28.0001 2.5703 C 26.8985 2.5703 25.9610 3.5078 25.9610 4.6094 L 25.9610 9.5312 C 25.9610 10.6328 26.8985 11.5703 28.0001 11.5703 C 29.1016 11.5703 30.0391 10.6328 30.0391 9.5312 Z M 39.5782 13.5390 C 38.8047 14.3359 38.8047 15.6484 39.5782 16.4219 C 40.3751 17.2187 41.6642 17.2422 42.4844 16.4219 L 45.9766 12.9297 C 46.7737 12.1328 46.7737 10.8203 45.9766 10.0234 C 45.2032 9.25 43.8907 9.25 43.0938 10.0234 Z M 13.5157 16.4219 C 14.2891 17.2187 15.6016 17.2187 16.3985 16.4219 C 17.1720 15.6719 17.1720 14.3125 16.4220 13.5390 L 12.9298 10.0234 C 12.1798 9.2734 10.8438 9.25 10.0469 10.0234 C 9.2735 10.7968 9.2735 12.1328 10.0235 12.9063 Z M 28.0001 16.0468 C 21.4610 16.0468 16.0469 21.4609 16.0469 28.0000 C 16.0469 34.5390 21.4610 39.9766 28.0001 39.9766 C 34.5157 39.9766 39.9298 34.5390 39.9298 28.0000 C 39.9298 21.4609 34.5157 16.0468 28.0001 16.0468 Z M 51.3203 30.0390 C 52.4219 30.0390 53.3593 29.1016 53.3593 28.0000 C 53.3593 26.8984 52.4219 25.9609 51.3203 25.9609 L 46.4220 25.9609 C 45.3204 25.9609 44.3829 26.8984 44.3829 28.0000 C 44.3829 29.1016 45.3204 30.0390 46.4220 30.0390 Z M 4.6798 25.9609 C 3.5782 25.9609 2.6407 26.8984 2.6407 28.0000 C 2.6407 29.1016 3.5782 30.0390 4.6798 30.0390 L 9.5782 30.0390 C 10.6798 30.0390 11.6173 29.1016 11.6173 28.0000 C 11.6173 26.8984 10.6798 25.9609 9.5782 25.9609 Z M 42.4610 39.6016 C 41.6642 38.8281 40.3751 38.8281 39.5782 39.6016 C 38.8047 40.3750 38.8047 41.6875 39.5782 42.4844 L 43.0938 46.0000 C 43.8907 46.7734 45.2032 46.7500 45.9766 45.9766 C 46.7737 45.2031 46.7737 43.8906 45.9766 43.0937 Z M 10.0235 43.0703 C 9.2266 43.8437 9.2266 45.1797 10.0001 45.9531 C 10.7735 46.7266 12.1094 46.7500 12.9063 45.9766 L 16.3985 42.4844 C 17.1720 41.7109 17.1720 40.3984 16.4220 39.6016 C 15.6485 38.8281 14.3126 38.8281 13.5157 39.6016 Z M 30.0391 46.4687 C 30.0391 45.3672 29.1016 44.4297 28.0001 44.4297 C 26.8985 44.4297 25.9610 45.3672 25.9610 46.4687 L 25.9610 51.3906 C 25.9610 52.4922 26.8985 53.4297 28.0001 53.4297 C 29.1016 53.4297 30.0391 52.4922 30.0391 51.3906 Z'/%3E%3C/svg%3E");
