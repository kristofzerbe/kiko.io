@import "_variables"
@import "_pagefind"
@import "_lc-select"
@import "_downpopup"
@import "_dialog"
@import "_auto-card-links"
  
::-webkit-scrollbar
  width: 8px
  height: 8px
  background-color: var(--color-background)
::-webkit-scrollbar-track
  background-color: var(--color-background)
::-webkit-scrollbar-thumb
  background-color: var(--color-border)

// https://piccalil.li/links/the-coyier-css-starter/
@media (prefers-reduced-motion: no-preference)
  @view-transition
    navigation: auto
  html
    interpolate-size: allow-keywords
    &:focus-within
      scroll-behavior: smooth

.outer
  max-width: 1220px
  margin: 0 auto
  padding: 0 var(--space-moderate)
  //clearfix()...
  &:before, &:after
    content: "";
    display: table
  &:after
    clear: both

main
  @media mq-normal
    display: inline
    float: left
    width: 73%
    margin: 0 1%

#sidebar
  margin-bottom: var(--space-block)
  font-size: var(--font-size-medium)
  @media mq-normal
    display: inline
    float: left
    width: 23%
    margin: 0 1%

.left, .alignleft
  float: left

.right, .alignright
  float: right

.clear
  clear: both

.hide
  display: none

.italic
  font-style: italic

img.limit 
  max-width: 240px
  @media mq-normal
    max-width: 360px
  @media mq-tablet
    max-width: 320px

img.float-right
  float: right
  width: 38%
  padding: 16px 0 16px 16px
  @media mq-normal
    width: 24%
    padding: 32px 0 32px 32px
  @media mq-tablet
    width: 28%
    padding: 24px 0 24px 24px

img.float-left-mini
  float: left
  width: 20%
  padding: 24px 16px 16px 0
  @media mq-normal
    width: 16%
    padding: 28px 32px 32px 0 
  @media mq-tablet
    width: 12%
    padding: 20px 24px 24px 0

mark 
  background-color: var(--color-mark)
  padding: 0.15rem 0.3rem
  color: var(--color-text)

button, input[type=submit]
  cursor: pointer
  font-family: var(--font-sans)

a
  transition: all ease-out 0.2s
  color: var(--color-accent-text)
  text-decoration-color: var(--color-accent-text)
  text-decoration-thickness: 1px
  text-underline-offset: 0.3em
  text-decoration-skip-ink: auto
  text-decoration-style: dashed
  &:hover
    text-decoration-style: solid

small.label
  display: block
  margin-block: var(--space-thin)
  opacity: .5
  line-height: var(--line-height-thin)
  span
    text-wrap: nowrap

span.visually-hidden //https://stackoverflow.com/questions/62703524/how-to-make-an-html-link-displayed-as-an-icon-accessible
  border: 0
  padding: 0
  margin: 0
  position: absolute !important
  height: 1px
  width: 1px
  overflow: hidden
  clip: rect(1px 1px 1px 1px) /* IE6, IE7 - a 0 height clip, off to the bottom right of the visible 1px box */
  clip: rect(1px, 1px, 1px, 1px) /*maybe deprecated but we need to support legacy browsers */
  clip-path: inset(50%) /*modern browsers, clip-path works inwards from each corner*/
  white-space: nowrap /* added line to stop words getting smushed together (as they go onto seperate lines and some screen readers do not understand line feeds as a space */

div.video-wrapper
  position:relative
  padding-bottom: 56.25% //aspect ratio 16:9
  height: 0
  iframe
    position:absolute
    top:0
    left:0
    width:100%
    height:100%

hr.divider
  display: block
  border: 0px
  height: 24px
  background-image: url('/images/divider.png')
  background-repeat: no-repeat
  background-position: center
  margin: 24px 0
  opacity: 0.1
  clear: both
  /[data-theme="dark"] &
    opacity: 0.5

table
  tbody, thead
    tr
      &:nth-child(even)
        background: var(--color-background)
      th, td 
        padding: var(--space-median)
      td
        font-weight: var(--font-weight-normal)    
      th 
        font-weight: var(--font-weight-bold)
    tr:not(.no-border) 
      th:not(:empty), td
        border: 1px var(--color-border) solid

pre.json
  font-family: var(--font-mono) /*'Roboto Mono',monospace*/
  font-size: var(--font-size-code)
  .string 
    color: #4271ae
  .number 
    color: #4271ae
  .boolean 
    color: #4271ae
  .null
    color: #ababab
  .key
    color: #c15353

.medium-zoom--opened .medium-zoom-overlay
  z-index: 999
  backdrop-filter: blur(8px)

.medium-zoom-image--opened
  z-index: 1000
  border-radius: calc(var(--border-radius-small) / 2)

.loading /* https://codepen.io/thetallweeks/pen/yybGra */
  font-size: var(--font-size-normal)
  &:after
    overflow: hidden
    display: inline-block
    vertical-align: bottom
    -webkit-animation: ellipsis steps(4,end) 900ms infinite    
    animation: ellipsis steps(4,end) 900ms infinite
    content: "\2026" /* ascii code for the ellipsis character */
    width: 0px

#wrap-404
  text-align: center
  margin: var(--space-moderate) 0 var(--space-block)
  pre
    background-color: transparent
    white-space:pre
    letter-spacing:0
    font-family: var(--font-mono)
    font-size: var(--font-size-normal)
    zoom: 80%
    @media mq-mobile
      zoom: 50%

#introduction
  .page-title
    display: block
    text-align: center
    font-size: 1.9rem
    letter-spacing: 0.1rem
    @media mq-mobile
      font-size: 1.6rem
      letter-spacing: 0
    margin: var(--space-double) auto var(--space-small)
    font-weight: var(--font-weight-normal)
    strong
      font-weight: var(--font-weight-extrabold)
      background: url(/images/banner.jpg) no-repeat 58% 67%
      -webkit-background-clip: text
      color: transparent
  .page-content
    position: relative
    text-align: justify
    max-width: 410px
    margin: 0 auto
    @media mq-mobile
      padding: 0 1.5rem
    &:before
      display: block
      position: absolute
      z-index: -1
      opacity: 0.75
      content: ""
      background-repeat: no-repeat
      background-position: 0 0
      background-size: var(--icon-w) var(--icon-h)
      width: var(--icon-w)
      height: var(--icon-h)
      filter: invert(1)
      /[data-theme="dark"] &
        filter: invert(0.1)
  &.d0
    .page-content:before
      --icon-w: 200px
      --icon-h: 200px
      background-image: url(/images/icons/brush.svg)
      top: -70px
      left: -125px
      transform: rotate(110deg)
      @media mq-mobile
        top: -60px
        left: -100px
        transform: rotate(300deg)
  &.d1
    .page-content:before
      --icon-w: 140px
      --icon-h: 145px
      background-image: url(/images/icons/pencil.svg)
      top: -35px
      left: -100px
      transform: rotate(200deg) scaleX(-1)
      @media mq-mobile
        top: -30px
        left: -70px
        transform: rotate(20deg) scaleX(-1)
  &.d2
    .page-content:before
      --icon-w: 220px
      --icon-h: 225px
      background-image: url(/images/icons/thumbtack.svg)
      top: -70px
      left: -150px
      transform: rotate(340deg)
      @media mq-mobile
        top: -60px
        left: -125px
  &.d3
    .page-content:before
      --icon-w: 190px
      --icon-h: 170px
      background-image: url(/images/icons/feather.svg)
      top: -40px
      left: -110px
      transform: rotate(280deg)
      @media mq-mobile
        top: -40px
        left: -85px
        transform: rotate(290deg)
  &.d4
    .page-content:before
      --icon-w: 190px
      --icon-h: 170px
      background-image: url(/images/icons/bullhorn.svg)
      top: -40px
      left: -135px
      transform: rotate(50deg) scaleX(-1)
      @media mq-mobile
        top: -25px
        left: -110px
        transform: rotate(55deg) scaleX(-1)
  &.d5
    .page-content:before
      background-image: url(/images/icons/pen.svg)
      --icon-w: 100px
      --icon-h: 180px
      top: -60px
      left: -100px
      transform: rotate(325deg)
      @media mq-mobile
        top: -40px
        left: -30px
        transform: rotate(140deg)
  &.d6
    .page-content:before
      --icon-w: 170px
      --icon-h: 175px
      background-image: url(/images/icons/tag.svg)
      top: -45px
      left: -130px
      transform: rotate(5deg)
      @media mq-mobile
        top: -50px
        left: -110px
        transform: rotate(195deg)

#spotlight
  .spl-header
    .spl-page
      margin-left: var(--space-medium)
  .spl-footer
    .spl-title
      font-size: var(--font-subtitle-size)
      margin-bottom: var(--space-medium)
    .spl-description
      margin-bottom: var(--space-extra)
    .spl-button
      position: absolute
      right: 0
      bottom: 0
      margin: 0
      padding: var(--space-median) var(--space-default)
      margin: var(--space-default)
      border-radius: var(--border-radius-small)
      background-color: #000 //var(--color-accent)
      color: #fff
      opacity: 0.75
      text-transform: uppercase
      &:hover
        opacity: 1
        background-color: #000 //var(--color-accent)
      @media mq-mobile
        padding: calc(var(--space-medium) / 3) var(--space-medium)
        margin: var(--space-medium)

@import "_extend"
@import "_partial/header"
@import "_partial/article"
@import "_partial/comment"
@import "_partial/archive"
@import "_partial/panel"
@import "_partial/page"
@import "_partial/anything"
@import "_partial/footer"
@import "_partial/highlight"
@import "_partial/animation"
@import "_partial/alertbox"

@import "_partial/sidebar"