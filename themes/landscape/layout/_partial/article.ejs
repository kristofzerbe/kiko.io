<% if (post.photograph){ %>
  <%- partial('_partial/photograph', { page: post }) %>
<% } %>

<script>
  var body = document.getElementById("body");
  body.classList.add("article-view");
</script>
  
<article id="<%= post.layout %>-<%= post.slug %>" data-pagefind-body data-pagefind-meta="type:Post"
         class="article article-type-<%= post.layout %> h-entry" itemscope itemprop="blogPost">
  
  <div class="article-meta">
    <div class="h-card p-author" style="display:none">
      <img class="u-photo" src="<%- config.photo %>" alt="<%- config.author %>" />
      <a class="p-name u-url" href="<%- config.url %>" rel="author"><%- config.author %></a>
    </div>
    <a class="u-url u-uid" href="<%- post.permalink %>" style="display:none;"><%- post.permalink %></a>
    <%- partial('post/date', { class_name: 'article-date', date_format: 'DD MMM YYYY' }) %>
    <%- partial('post/category', { class_name: 'article-category p-category' }) %>
  </div>
  
  <div class="article-inner">
    
    <% if (post.link || post.title){ %>
      <header class="article-header">
        <%- partial('post/anything', { class_name: 'article-anything' }) %>
        <%- partial('post/title', { class_name: 'article-title p-name', show_link: false }) %>
        <%- partial('post/subtitle', { class_name: 'article-subtitle p-summary' }) %>
      </header>
    <% } %>
    
    <div class="article-entry e-content" itemprop="articleBody">
      <%- post.content %>
    </div>
    
    <footer class="article-footer">      
      <%- partial('post/tag', { class_name: 'article-tags' }) %>
      <%- partial('post/syndication', { class_name: 'article-syndication' }) %>
      <%- partial('post/permalink', { class_name: 'article-permalink' }) %>
      <% if (post.golem){ %>
        <%- partial('post/golem', { class_name: 'article-golem' }) %>
      <% } %>
    </footer>

  </div>

  <% if (!post.hidden){ %>
  <%- partial('post/webmentions') %>
  <%- partial('post/comments') %>
  <%- partial('post/related') %>
  <%- partial('post/nav') %>
  <% } %>

</article>