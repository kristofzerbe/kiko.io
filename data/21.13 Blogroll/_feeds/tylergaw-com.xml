<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Tyler Gaw&#39;s blog</title>
  <link href="https://tylergaw.com/rss.xml" rel="self"/>
  <link href="https://tylergaw.com/"/>
  <updated>2026-01-26T12:00:00Z</updated>
  <id>https://tylergaw.com/</id>
  <author>
    <name>Tyler Gaw</name>
    <email>me@tylergaw.com</email>
  </author>
  
  <entry>
    <title>An App for Modern Collage</title>
    <link href="https://tylergaw.com/blog/an-app-for-modern-collage/"/>
    <updated>2026-01-26T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/an-app-for-modern-collage/</id>
    <content type="html">&lt;p&gt;Last month, I wrote about &lt;a href=&quot;https://tylergaw.com/blog/something-to-latch-onto/&quot;&gt;starting a business&lt;/a&gt;. In that post, I mentioned the first product I was building was an iOS app for collage.&lt;/p&gt;
&lt;p&gt;That app is called &lt;a href=&quot;https://pezzos.app/&quot;&gt;Pezzos&lt;/a&gt;. It’s a fun way to make, share, and explore digital collages. It’ll be available sooner than later.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;a href=&quot;https://pezzos.app/&quot;&gt;
      &lt;img src=&quot;https://stuff.tylergaw.com/post-pezzos/pezzos-preview.webp&quot; alt=&quot;Pezzos app promotional image. Left side shows the Pezzos logo in white on a bright green background. Right side displays a preview of the Pezzos interface: a list of Collages, the Collage editor showing an in-progress Collage with a giraffe on ornate frame background. Then two smal previews of the Glue Collage and Pieces sheet interfaces.&quot; /&gt;
    &lt;/a&gt;
  &lt;/picture&gt;
&lt;/figure&gt;
&lt;h2&gt;When Can I Use It?&lt;/h2&gt;
&lt;p&gt;I’m racing to get the app ready for first users as soon as possible. As long as nothing goes too sideways and I can keep myself on task, I’ll start inviting people to a limited pre-release build at the end of this week into next. The limited test run will be short. Just long enough to catch major oversights and bugs. Reach out if you’re interested in joining it.&lt;/p&gt;
&lt;h2&gt;What Else?&lt;/h2&gt;
&lt;p&gt;I have a ton of thoughts on this process, the current state of software development, and all of…[gestures wildly]…this. But, I’m too focused on the work at hand to write anything worth reading right now. Instead, here are a few scattered thoughts at the front of my mind:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This is an app I wanted, but it didn’t exist the way I thought it should, so I’m building it&lt;/li&gt;
&lt;li&gt;Collage is a wonderful, accessible art form. I’ve always enjoyed it, but through this I’m getting exposed to so much more of the collage world and I love it more every day&lt;/li&gt;
&lt;li&gt;This is something I feel good about putting into the world&lt;/li&gt;
&lt;li&gt;Pezzos is slow-on-purpose. I’m building in small bits of friction to make it an alternative to the all-too-easy-to-reach-for doom-scrolling&lt;/li&gt;
&lt;li&gt;Pezzos has no “AI” (however, I do make use of LLMs to help build it)&lt;/li&gt;
&lt;li&gt;The business model is old-fashioned. I’m building a product and charging customers money for that product. Then I’m going to leave those customers the fuck alone&lt;/li&gt;
&lt;li&gt;It’s important and good to make art. That’s always the case, but it’s especially important in bad times. In the US right now, we’re in bad times&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I’ll have plenty more to say and many favors to ask of a lot of people soon. Until then, this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Authoritarian governments view culture as a threat because in the writing and music and acting of artists, you can sometimes glimpse alternatives to the current reality. We live in a timeline that says AI domination is inevitable, there will be no future except constant war on a dead Earth, and the people with the most money will get to decide who and what survives. The arts remind us that none of the current truisms are absolutes—that there are other ways of living, existing, and being. Arts can exist outside of a tech lord’s algorithm.
&lt;cite&gt;— &lt;a href=&quot;https://www.harpersbazaar.com/culture/art-books-music/a69382479/abigail-mcgrath-marthas-vineyard/&quot;&gt;Abigail McGrath&#39;s Legacy of Art-Making Reminds Us That Another Way Is Possible&lt;/a&gt;&lt;/cite&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</content>
  </entry>
  
  <entry>
    <title>A Few Things to Enjoy #2</title>
    <link href="https://tylergaw.com/blog/a-few-things-to-enjoy-2/"/>
    <updated>2026-01-03T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/a-few-things-to-enjoy-2/</id>
    <content type="html">&lt;p&gt;These are a few things I enjoyed recently. Maybe you’ll enjoy them too.&lt;/p&gt;
&lt;h2&gt;Personal Business&lt;/h2&gt;
&lt;p&gt;A wonderfully well-written reminder that not everything needs to scale. Not everything needs to be automated to the nth degree. Doing things slowly, by hand, for niche groups of people is always an option.&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.are.na/editorial/personal-business&quot;&gt;“Personal Business” by Charles Broskoski on Are.na&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;…how is a tiny software company supposed to compete with huge and well-funded companies? The answer is that you don’t really have to. You just have to get an understanding of the proper pace and scale of whatever your endeavor is. Get there, and you can outlast anyone.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is how I’m approaching my work on &lt;a href=&quot;https://latchbolt.tech/&quot;&gt;Latchbolt&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Victor Jones&lt;/h2&gt;
&lt;p&gt;At first glance it seems like it could be a gag. That thought disappears nearly as soon as it appears though. You realize this is very serious and very good. Absurd? Definitely. Odd? You betcha. But that’s exactly why this music is fun and interesting. I can’t wait to yell-sing these songs back at Victor in a cramped room with a bunch of other sweaty people as soon as possible.&lt;/p&gt;
&lt;figure&gt;
  &lt;iframe class=&quot;e-iframe-full&quot; width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/cZirSkxX3QA&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share&quot; referrerpolicy=&quot;strict-origin-when-cross-origin&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
  &lt;figcaption&gt;fig 1: &lt;a href=&quot;https://www.youtube.com/watch?v=cZirSkxX3QA&quot;&gt;I Get Hurt (Lyric Video) - Victor Jones&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;The Art of Fauna&lt;/h2&gt;
&lt;p&gt;This app has gotten a lot of attention. I’m happy to give it more because I’ve been thoroughly enjoying it. It’s a shining example of what software can be when it slows down and gives a shit about people.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;a href=&quot;https://theartof.app/fauna/&quot;&gt;
      &lt;img src=&quot;https://stuff.tylergaw.com/post-things-to-enjoy/art-of-fauna-app.jpg&quot; alt=&quot;Five animal cards stack on each other. Left to right: Plains Zebra, Black Iguana, Mandarin Duck, Giant Anteater, Eurasian Hoopoe on a background that&#39;s the same image, but enlarged and blurred.&quot; /&gt;
    &lt;/a&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 2: &lt;a href=&quot;https://theartof.app/fauna/&quot;&gt;The Art of Fauna&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;Converge - Audiotree From Nothing&lt;/h2&gt;
&lt;p&gt;Even if this isn’t your type of music, watch the interviews. They talk about their creative process over the last 30 years as a band. This in particular stood out to me as someone who, in my younger years, was not always been so patient when working with others:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The art of compromise has not felt so world-ending as it did when we were creating music when we were younger.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;While they’re talking music, the same things are true of any creative endeavor. If this is your type of music, you’ve already watched this five times because these versions of the songs rule.&lt;/p&gt;
&lt;figure&gt;
  &lt;iframe class=&quot;e-iframe-full&quot; width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/c-6OT-lNtBE&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share&quot; referrerpolicy=&quot;strict-origin-when-cross-origin&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
  &lt;figcaption&gt;fig 3: &lt;a href=&quot;https://www.youtube.com/watch?v=c-6OT-lNtBE&quot;&gt;Converge - Audiotree From Nothing&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
</content>
  </entry>
  
  <entry>
    <title>Failing at Using a Local LLM for Vinyl Record Color Extraction</title>
    <link href="https://tylergaw.com/blog/failing-at-local-models-for-wax/"/>
    <updated>2025-12-29T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/failing-at-local-models-for-wax/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  As the title suggests, I tried to switch a project from the OpenAI API to a local LLM running in Ollama, but wasn’t able to make it work due to slowness. It was a fun exercise though. This is what I tried and what I learned.
&lt;/p&gt;
&lt;p class=&quot;no-drop-cap&quot;&gt;
  Discogs is where I track my record collection. &lt;a href=&quot;https://wax.tylergaw.com/&quot;&gt;Wax&lt;/a&gt; is a nice UI for it that I’ve been noodling on for years. I built a small &lt;a href=&quot;https://github.com/tylergaw/wax-tracks&quot;&gt;ETL&lt;/a&gt; for it. It uses the OpenAI API to extract human and machine-readable color, texture, and pattern data out of raw—user-provided—descriptions of each record. For example: one record has a description of &lt;code&gt;&quot;Clear W/ Red, Black, And Silver Splatter&quot;&lt;/code&gt;. The ETL produces structured data from it:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;{
  &quot;humanReadableColor&quot;: &quot;Clear with Red, Black, and Silver Splatter&quot;,
  &quot;cssReadableColors&quot;: [&quot;red&quot;, &quot;black&quot;, &quot;silver&quot;],
  &quot;texture&quot;: &quot;clear&quot;,
  &quot;pattern&quot;: &quot;splatter&quot;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That’s an ideal example. Sometimes it just bombs out, but for the most part it does what I need. And I have guardrails in place on the front-end to handle bad data.&lt;/p&gt;
&lt;p&gt;Then use that structured data on the front-end to show a record with the correct color via CSS and text with the human readable color. I’m still not doing anything with texture or pattern, but I’ll get there eventually.&lt;/p&gt;
&lt;h2&gt;The Setup&lt;/h2&gt;
&lt;p&gt;Because I’m running these models on my machine, it’s important to know what I’m working with.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Apple MBP with M2 Max&lt;/li&gt;
&lt;li&gt;32 GB memory&lt;/li&gt;
&lt;li&gt;macOS Tahoe 26.0&lt;/li&gt;
&lt;li&gt;Ollama&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My OpenAI model is GPT-4o. I compared results to it from a few models:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://ollama.com/library/llama3.1:70b&quot;&gt;llama3.1-70b&lt;/a&gt;: This was lol, story below&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://ollama.com/library/llama3.1:8b&quot;&gt;llama3.1-8b&lt;/a&gt;: This was the best quality&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://ollama.com/library/mistral:7b&quot;&gt;mistral:7b&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://ollama.com/library/gemma2:9b&quot;&gt;gemma2:9b&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://ollama.com/library/qwen2.5&quot;&gt;qwen2.5:7b&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Test Process&lt;/h3&gt;
&lt;p&gt;First I ran the &lt;a href=&quot;https://github.com/tylergaw/wax-tracks/blob/main/src/enrichCollection.js&quot;&gt;enrichment script&lt;/a&gt; with GPT-4o to get baseline data. I didn’t want to test all the data every time. There are almost 700 records. So I grabbed a small batch of them I knew would cover most situations.&lt;/p&gt;
&lt;p&gt;I used Claude to write a test script that runs the test records against a given model using the standard local Ollama API chat endpoint. It then generates a report to compare results to the results of GPT-4o.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&quot;https://github.com/tylergaw/wax-tracks/blob/main/src/testOllama.js&quot;&gt;script&lt;/a&gt; and the &lt;a href=&quot;https://github.com/tylergaw/wax-tracks/tree/main/model_test_reports&quot;&gt;report files&lt;/a&gt; of each test are in the repo if you’re interested.&lt;/p&gt;
&lt;h2&gt;Doing the Comparison&lt;/h2&gt;
&lt;p&gt;To know if extraction was correct requires a human eye. It’s easy for a human to read “Transparent Purple Vinyl” and know the vinyl color is purple and kinda see through, but not always so easy for a computer.&lt;/p&gt;
&lt;p&gt;The reports have a &lt;code&gt;comparison&lt;/code&gt; section so I can quickly scan what GPT-4o did vs what each model did. An example from llama3.1-8b:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;{
  &quot;id&quot;: &quot;577250&quot;,
  &quot;description&quot;: &quot;Red Translucent&quot;,
  &quot;gpt4o&quot;: {
    &quot;humanReadableColor&quot;: &quot;Red Translucent&quot;,
    &quot;cssReadableColors&quot;: [&quot;red&quot;],
    &quot;pattern&quot;: null,
    &quot;texture&quot;: &quot;translucent&quot;
  },
  &quot;ollama&quot;: {
    &quot;humanReadableColor&quot;: &quot;Translucent Red&quot;,
    &quot;cssReadableColors&quot;: [&quot;transparent&quot;, &quot;red&quot;],
    &quot;pattern&quot;: &quot;Translucent&quot;,
    &quot;texture&quot;: &quot;Clear&quot;
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It’s pretty quick to see that the local model did well. For some reason it flipped the order of “translucent” and “red”, but that’s OK. And it added both a pattern and texture value, so it did slightly better there.&lt;/p&gt;
&lt;p&gt;And here’s one from gemma2:9b that didn’t do well:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;{
  &quot;id&quot;: &quot;1684889&quot;,
  &quot;description&quot;: &quot;Grey Marbled&quot;,
  &quot;gpt4o&quot;: {
    &quot;humanReadableColor&quot;: &quot;Grey Marbled&quot;,
    &quot;cssReadableColors&quot;: [&quot;grey&quot;]
  },
  &quot;ollama&quot;: {
    &quot;humanReadableColor&quot;: &quot;Grey Marbled&quot;,
    &quot;cssReadableColors&quot;: null,
    &quot;pattern&quot;: &quot;Marbled&quot;,
    &quot;texture&quot;: null
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Gemma didn’t come up with grey as a css color. It did identify the pattern, but for my purposes the colors are more important.&lt;/p&gt;
&lt;p&gt;That’s the type of thing that requires my eye. I know which things are most important and which things correct. Because I can actually see things, unlike the computer.&lt;/p&gt;
&lt;h2&gt;Llama 3.1 70B&lt;/h2&gt;
&lt;p&gt;I was 100% vibe coding this. So when Claude suggested I try the 70B parameter Llama 3.1 model—even though I was clear my machine only had 32GB of RAM—I just went with it. I didn’t bother to read that the model needed anywhere from 40 to 80GB of RAM.&lt;/p&gt;
&lt;p&gt;This kills the computer.&lt;/p&gt;
&lt;p&gt;I started the script and it ran OK for a minute. While waiting, I was tinkering around with other things. Then the beach ball started showing up. First for apps. Then for the Finder when I tried to force quit apps. The beach ball finally bounced and everything was locked. After a couple more minutes the screen glitched to a nice pink, then the computer turned itself off.&lt;/p&gt;
&lt;p&gt;I didn’t have anything running to monitor memory usage, so I don’t know exactly what happened. But I imagine an app trying to use twice the available RAM on a machine is less than ideal.&lt;/p&gt;
&lt;p&gt;From here on out I did less vibing and more babysitting.&lt;/p&gt;
&lt;h2&gt;Model Result Quality&lt;/h2&gt;
&lt;p&gt;Once I ran all the model tests, it was fast to scan the reports and understand how it stacked up to GPT-4o.&lt;/p&gt;
&lt;h3&gt;llama3.1-8b&lt;/h3&gt;
&lt;p&gt;This was the best one. The quality was just as good and in some cases better than GPT-4o. I would have switched to this if it wasn’t for the slowness. Details on that below.&lt;/p&gt;
&lt;p&gt;An interesting detail is that it tended to use hex values for css colors instead of named colors like GPT-4o. Example:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;{
  &quot;id&quot;: &quot;1790723&quot;,
  &quot;description&quot;: &quot;Blue Translucent&quot;,
  &quot;gpt4o&quot;: {
    &quot;humanReadableColor&quot;: &quot;Blue Translucent&quot;,
    &quot;cssReadableColors&quot;: [&quot;blue&quot;],
    &quot;texture&quot;: &quot;translucent&quot;
  },
  &quot;ollama&quot;: {
    &quot;humanReadableColor&quot;: &quot;blue translucent&quot;,
    &quot;cssReadableColors&quot;: [&quot;#0000ff&quot;],
    &quot;pattern&quot;: null,
    &quot;texture&quot;: &quot;translucent&quot;
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;mistral:7b and gemma2:9b&lt;/h3&gt;
&lt;p&gt;These did pretty good. Just OK though. They both had minor hallucinations. Both missed easy things. Like one description was “Grey Marbled” and both returned a &lt;code&gt;null&lt;/code&gt; value for &lt;code&gt;cssReadableColors&lt;/code&gt;. They would also plop things like “Winchester Pressing” in the &lt;code&gt;texture&lt;/code&gt; and &lt;code&gt;pattern&lt;/code&gt; fields.&lt;/p&gt;
&lt;p&gt;Both were too far away from the quality of GPT-4o to consider.&lt;/p&gt;
&lt;h3&gt;qwen2.5:7b&lt;/h3&gt;
&lt;p&gt;This one just kinda bombed. Would find css colors, but then not be able to set a human readable color. And those tended to be on descriptions like “Grey Marbled”, which seems pretty clear.&lt;/p&gt;
&lt;p&gt;Quality not there to consider using.&lt;/p&gt;
&lt;h2&gt;Too Slow to Use&lt;/h2&gt;
&lt;p&gt;Once I saw how good the quality of llama3.1-8b was I thought that was going to work. So I switched the enrichment script to use it with Ollama instead of OpenAI. Then I ran it against the entire collection. I waited about 5 minutes before I stopped it because I thought something must have hung up.&lt;/p&gt;
&lt;p&gt;I figured it was some mistake I’d made in the code, so I asked Claude to fix things up. It made a few changes to do parallel processing. That shaved some time off, but it was still hilariously slow.&lt;/p&gt;
&lt;p&gt;“Hilariously” is not so precise a measurement, I have numbers.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OpenAI with GPT-4o: ~10 seconds&lt;/li&gt;
&lt;li&gt;Ollama with llama3.1-8b: ~56 minutes&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Lol, yes. &lt;strong&gt;56 minutes&lt;/strong&gt;. That’s about 336 times slower.&lt;/p&gt;
&lt;p&gt;Again, I thought I had to just be doing something wrong. Something in the batching? Is it because I’m using node instead of Python or something? Do I need to turn it off and back on?&lt;/p&gt;
&lt;p&gt;Doesn’t seem like it though. This is just how fast the hardware is that OpenAI models run on. At least that’s what Claude told me.&lt;/p&gt;
&lt;p&gt;If you do see something I missed or did wrong, please reach out and let me know.&lt;/p&gt;
&lt;h2&gt;Not Broke / Don’t Fix&lt;/h2&gt;
&lt;p&gt;I’ll be sticking with the same setup for this I’ve had for years. I am using a local vision model for a different project and it’s been working well. So not all is lost for local models by any means.&lt;/p&gt;
&lt;h3&gt;Other OpenAI Models&lt;/h3&gt;
&lt;p&gt;I also tested GPT-5 Nano and GPT-5 Mini. They both did well, but no better than GPT-4o and in some cases worse, so a couple more reasons to stick with GPT-4o. That surprised me. I thought for sure new would equal better, but not in this case.&lt;/p&gt;
&lt;h2&gt;Why Though?&lt;/h2&gt;
&lt;p&gt;Claude’s first question was why I wanted to do this. After I called it a clanker and told it to never question me I explained that local LLMs are something I’m very interested in. Having everything contained to your system, with no calls to outside systems just feels cool. Feels almost subversive. Any day I can build something that is not beholden to the whims of an Evil Corp is a good day. Today just wasn’t that day.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Building Latchbolt #1</title>
    <link href="https://tylergaw.com/blog/building-latchbolt-1/"/>
    <updated>2025-12-28T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/building-latchbolt-1/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  In my &lt;a href=&quot;https://tylergaw.com/blog/something-to-latch-onto/&quot;&gt;previous post&lt;/a&gt; I talked about starting a new company, &lt;a href=&quot;https://latchbolt.tech/&quot;&gt;Latchbolt&lt;/a&gt;. This is a quick post about the various services and tools I used to get set up. And the costs involved.
&lt;/p&gt;
&lt;p class=&quot;no-drop-cap&quot;&gt;First, a list of the services I set up. Details follow.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://stripe.com/atlas&quot;&gt;Stripe Atlas&lt;/a&gt;: Incorporating and registered agent&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://mercury.com/&quot;&gt;Mercury&lt;/a&gt;: Business checking account and credit card&lt;/li&gt;
&lt;li&gt;Google Workspace: Email, Drive (leave all the Gemini bullshit off)&lt;/li&gt;
&lt;li&gt;GitHub: Team plan, one license&lt;/li&gt;
&lt;li&gt;Notion: Where I put words about things&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://buttondown.email/&quot;&gt;Buttondown&lt;/a&gt;: The &lt;strong&gt;best&lt;/strong&gt; email platform&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://developer.apple.com/programs/&quot;&gt;Apple Developer Program&lt;/a&gt;: To publish apps to the App Store&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.dnb.com/en-us/smb/duns.html&quot;&gt;D-U-N-S Number&lt;/a&gt;: Required for setting up an organization in the Apple App Store&lt;/li&gt;
&lt;li&gt;Cloudflare: Using the Images and R2 products so far&lt;/li&gt;
&lt;li&gt;Namecheap: So many domains&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;How Much Did it Cost?&lt;/h2&gt;
&lt;p&gt;So far I’ve spent &lt;strong&gt;$1,315.19&lt;/strong&gt; on the setup and operation of Latchbolt. About $800 was one-time setup costs. The largest single cost was $500 for Stripe Atlas. The remaining $515 is made up of monthly or annually recurring costs.&lt;/p&gt;
&lt;p&gt;I’m tracking expenses in &lt;a href=&quot;https://docs.google.com/spreadsheets/d/1dcSCoQOj1luRzV08rbjN1prJ6N3Lwb5w5v1hZhkZSmQ/edit?usp=sharing&quot;&gt;this spreadsheet&lt;/a&gt; if you’re interested.&lt;/p&gt;
&lt;h2&gt;Incorporating with Atlas&lt;/h2&gt;
&lt;p&gt;I used &lt;a href=&quot;https://stripe.com/atlas&quot;&gt;Stripe Atlas&lt;/a&gt; to create a Delaware C Corporation. The full company name is “Latchbolt Inc.” This couldn’t be much easier. I followed all of the defaults and suggestions. I’m the Sole Incorporator and shareholder. I filed my 83(b) election as soon as it was ready.&lt;/p&gt;
&lt;p&gt;Something I’ll change once business gets going is the company address and phone number. I just used my personal address and number to get set up. There’s plenty of options for both of those.&lt;/p&gt;
&lt;p&gt;It only took about 2-3 days for this process to complete. It was great.&lt;/p&gt;
&lt;h2&gt;Funding the Bank Account&lt;/h2&gt;
&lt;p&gt;Once I had the corporation in place, I could create a bank account. When I set it up, I transferred $1000 into it from my personal bank account. That helped speed along the process. It didn’t have to be that amount, it just felt like a good round number. Even though it’s all my personal money right now, I wanted to start using the company account for expenses as soon as possible.&lt;/p&gt;
&lt;p&gt;Going forward, when I need to put more money into the account, it may get a little squishy. This is a business, so technically, Tyler Gaw shouldn’t just transfer money into the checking account willy nilly. This is common though so I have options, like a low/no interest loan from me to Latchbolt. I’m not worried about it right now.&lt;/p&gt;
&lt;h2&gt;Domains&lt;/h2&gt;
&lt;p&gt;The &lt;code&gt;.com&lt;/code&gt; is available, but I’m not ready to fork over $3000 or more right now. &lt;code&gt;.tech&lt;/code&gt; feels fine. I also have latchbolt.ai because early on I was thinking about some type of AI product, but that didn’t pan out so I just have it redirecting.&lt;/p&gt;
&lt;h2&gt;D-U-N-S / Apple Developer&lt;/h2&gt;
&lt;p&gt;When I put apps in the App Store, I want the listed developer to be Latchbolt Inc. To do that, you have to set up an Apple Developer account as an organization. To be able to do that, you have to have a D-U-N-S number. Something I didn’t know existed. Applying for a number is easy. Just give company details via the web form.&lt;/p&gt;
&lt;p&gt;If you’re applying for a D-U-N-S number, heads up, they will likely call the company number. Mentioned above, I use my personal number. But, I block all unknown numbers because my phone is a daily hell of spam calls. So missed their call to verify the company was a real thing. Which, they then proceeded to end the application. Luckily they sent a follow-up email and I was able to verify everything that way. Another nudge for me to get a dedicated company number.&lt;/p&gt;
&lt;p class=&quot;offset-no-indent&quot;&gt;
  So far, so good. This process has become very easy to do. Granted, this is the most bare-bones corporation possible, but still I’ve been impressed by how smooth things have been.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Something to Latch Onto</title>
    <link href="https://tylergaw.com/blog/something-to-latch-onto/"/>
    <updated>2025-12-27T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/something-to-latch-onto/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  Three weeks is a short amount of time. It’s a tiny amount of time when it’s the total time you spend employed at a job. And it happens to be the exact amount of time I spent at my most recent job.
&lt;/p&gt;
&lt;p&gt;April 2025. A post about a new app landed on my Bluesky via repost from a friend. The app was for something that I’m very into. I used it for a few days. While it was in early stages, it was fun and promising. I immediately thought; “This is something I would love to help build.” After a quick search I saw it was a single person startup. Too early for them to be growing a team, but that would come later. I emailed the founder to tell them how much I was liking the app, and a general intro to plant the seed for a conversation to grow in the future.&lt;/p&gt;
&lt;p&gt;At the time I was working at &lt;a href=&quot;https://summer.io/&quot;&gt;Summer&lt;/a&gt;. I started there in November 2023. Things were going well. We were building good product, customer conversations were moving, and we all worked well together as a team. I wasn’t looking to make any moves. My plan was to keep helping build the product and company. But, that exciting new app and company, that seemed like it would be a perfect fit for me, was quietly in the back of my mind.&lt;/p&gt;
&lt;p&gt;Then, in June 2025, I saw the company put up their first job posts. There were two. One was for a role that was not for me. The other was for a role that was exactly me. I responded to the email thread I had with the founder and told them so and asked if they wanted to meet to talk it through. They did. So we did.&lt;/p&gt;
&lt;p&gt;My first day at the company was July 21st, 2025. Within 48 hours I was fairly certain I’d made a mistake. I tried to chalk it up to normal discomfort around starting something new. Told myself to give it time. Two weeks went by. It was not only clear that it wasn’t normal new job jitters, it was crystal clear that I’d made a mistake. Because I was the first hire, it was critical that the founder and I be able to work well together. We did not. This wasn’t gonna work. My last day was August 11th, 2025.&lt;/p&gt;
&lt;p&gt;I’ve left out specifics because they’re really not interesting or important to this story. Specifics about the company. What may have been done or not done. What may have been said or not said. What’s important is what I decided to do in response to it. If you really wanna know, buy me a beer sometime, I’ll spill all the tea.&lt;/p&gt;
&lt;h2&gt;Now What?&lt;/h2&gt;
&lt;p&gt;In the days leading up to me leaving, a question kept popping up in my head: “Why do I keep working for these people?!” That sounds a bit petulant. Let me expand.&lt;/p&gt;
&lt;p&gt;Going into any work situation with the attitude of: “Why don’t they just listen to me?”, “If they would just do what I say…”, “I know more than them.” etc. etc. is never a good approach. That’s not what I was thinking here. I’ve been lucky to work with smart and talented people throughout my career. Including the short stint in this case. My question was prompted by a career of building other peoples’ ideas. Realizing other peoples’ visions. What I was really asking was: “Why don’t I build my own ideas?”, “Why don’t I realize my own visions?”, “Why don’t I work for myself?”&lt;/p&gt;
&lt;p&gt;This wasn’t the first time I’ve asked these questions. In the past, I’ve always gotten hung up on what I thought should be the first step. I’ve always thought: “Once I have a good product idea, then I’ll start a company to build it.” Well, that clearly hasn’t happened. So, I decided to flip it. Start a company first and then work out what to build.&lt;/p&gt;
&lt;p&gt;That’s what I did. Within a week of leaving, I’d decided on a name, formed a C Corp, bought domains, set up most of the various SaaS tools I’d need, and started the process of researching and prototyping what I might build first.&lt;/p&gt;
&lt;p&gt;A lot of that was busy work. Which is exactly what I needed at the time. Having the job fall apart was a blow. I was bummed. I was pissed. It was important that I not just sit and stew, but instead get busy doing things I knew I’d eventually need.&lt;/p&gt;
&lt;h2&gt;How’s That Going?&lt;/h2&gt;
&lt;p&gt;My corporation is Latchbolt Inc. I let myself nerd out on a holding page at &lt;a href=&quot;https://latchbolt.tech/&quot;&gt;latchbolt.tech&lt;/a&gt;. Latchbolt isn’t a single product. It’s a place where I can build anything I’m inspired to. What I’m inspired to build right now is software for niche audiences. Software that’s made with care for caring people. Software that, hopefully, brings a smile to at least one person’s face. We need that right now. That does describe the side projects I build when left to my own devices. The difference is, I’ll charge money for things under the Latchbolt banner.&lt;/p&gt;
&lt;p&gt;Latchbolt’s first product is an iOS app for modern collage. It’s moving along slow, but it’s moving along. I’ll have details and a build out for initial testing next month.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Styling External Links Using :has and an Attribute Selector</title>
    <link href="https://tylergaw.com/blog/has-attribute-external-links/"/>
    <updated>2025-11-05T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/has-attribute-external-links/</id>
    <content type="html">&lt;p&gt;No doubt this has been written about before, but I used this approach yesterday and it’s cool so I’m writing about it too.&lt;/p&gt;
&lt;p&gt;Like any good website, I have a pile of links in the footer of this one. Most of the links are to internal pages. A handful of them are to external sites. It’s never bothered me before that the external links aren’t marked as such. But, in a usual fit of procrastination while writing my &lt;a href=&quot;https://tylergaw.com/blog/fairweather-ride-2025/&quot;&gt;previous post&lt;/a&gt;, I decided those external links now &lt;strong&gt;had&lt;/strong&gt; to be marked in some way.&lt;/p&gt;
&lt;p&gt;Each link is an &lt;code&gt;a&lt;/code&gt; wrapped in an &lt;code&gt;li&lt;/code&gt; element. I’m lazy, so I decided to avoid using any image and instead use the ↗ character. I wasn’t procrastinating so hard that I wanted to create, export, and upload an image.&lt;/p&gt;
&lt;p&gt;I didn’t want the ↗ to be in the &lt;code&gt;a&lt;/code&gt; itself, but after it in the containing &lt;code&gt;li&lt;/code&gt;. I could have used a class on each &lt;code&gt;li&lt;/code&gt; to do this, but instead I used the &lt;code&gt;:has&lt;/code&gt; selector plus a starts with (&lt;code&gt;^&lt;/code&gt;) attribute selector to include the ↗ character in an &lt;code&gt;::after&lt;/code&gt; element.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.footer__links li:has([href^=&quot;https&quot;])::after {
  content: &quot;↗&quot;;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This says; “Style any li element that contains any element with an href value that starts with ‘https’.”. So &lt;code&gt;&amp;lt;a href=&#39;/about&#39;&amp;gt;&lt;/code&gt; doesn’t get styled, but &lt;code&gt;&amp;lt;a href=&#39;https://example.org&#39;&amp;gt;&lt;/code&gt; does.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-has-attribute-external-links/footer-links.png&quot; alt=&quot;An enlarged screenshot of the footer links on tylergaw.com&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 1. The external footer links now marked as such with the ↗ character.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;I haven’t had many times where I’ve reached for &lt;code&gt;:has&lt;/code&gt; or the starts with attribute selector, but they sure are helpful. Here’s a &lt;a href=&quot;https://codepen.io/tylergaw/pen/pvgmRxr?editors=1100&quot;&gt;CodePen&lt;/a&gt; with an isolated example of this.&lt;/p&gt;
&lt;p class=&quot;offset-no-indent&quot;&gt;
  This is yet another reminder that:
&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-has-attribute-external-links/css-is-good.jpg&quot; alt=&quot;CSS IS GOOD&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 2. Learn it. Know it. Live it.&lt;/figcaption&gt;
&lt;/figure&gt;
</content>
  </entry>
  
  <entry>
    <title>Fairweather Ride 2025</title>
    <link href="https://tylergaw.com/blog/fairweather-ride-2025/"/>
    <updated>2025-11-03T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/fairweather-ride-2025/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;For 2025 I set a goal to ride 1,000 miles on my bike. I’ve been biking with some regularity for a little over a decade now. In that time, I’ve never set a yearly mileage goal. Only small monthly goals. Which, before this year, I only hit once. I decided it would be fun to work towards a goal way beyond what I’d ever done. Just to see if I could do it. And, of course, if I’m doing something like this, I’m gonna build a website for it.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;a href=&quot;https://bikes.tylergaw.com/&quot;&gt;
      &lt;img src=&quot;https://stuff.tylergaw.com/post-fairweather-ride-2025/fairweather-ride-intro.jpg&quot; alt=&quot;A screenshot of the hero section of the Fairweather Ride site showing the title, subtitle, and still of the hero video.&quot; /&gt;
    &lt;/a&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 1. &lt;a href=&quot;https://bikes.tylergaw.com/&quot;&gt;Fairweather Ride 2025&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p class=&quot;drop-capped&quot;&gt;
  Side projects are an exercise in fun. An opportunity to try out new things. Things that are slow, don’t scale, manual. Many things that would be deemed “not best practice” in day-to-day work. Following that, I started work on this site back in March and slowly picked at it for about five months. Remember, side projects can be slow. It’s been live since mid August. I started writing this post then, didn’t finish it, and finally getting back to it now, in November. So it goes.
&lt;/p&gt;
&lt;h2&gt;HTML, CSS, and JS&lt;/h2&gt;
&lt;p&gt;Build processes have their place. I’m a fan of a lot of that tooling for other projects. This project setup, though, is on purpose, as bare bones as possible. This is a single page made with;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;index.html&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;site.css&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;site.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rides.json&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;splitting.js&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;and a handful of fonts, images, and a video.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I &lt;strong&gt;almost&lt;/strong&gt; got away without a &lt;code&gt;package.json&lt;/code&gt; and no external JS dependencies. I use a single dependency to make local development easier, &lt;code&gt;live-server&lt;/code&gt;. Outside of that, these files get plopped on Netlify and run as they are. Just a good ole webpage. That is still 100% acceptable and good in 2025! Don’t let anyone tell you any different. The source is at &lt;a href=&quot;https://github.com/tylergaw/fairweather-ride&quot;&gt;github.com/tylergaw/fairweather-ride&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Typography&lt;/h2&gt;
&lt;p&gt;Like many designs, the backbone of this one is typography. From the start, I knew I wanted a design that used a lot of fonts. Too many fonts. Weird fonts. Fonts that clashed. I ended up using four; &lt;a href=&quot;https://www.futurefonts.com/loveletters/optic&quot;&gt;Optic&lt;/a&gt;, &lt;a href=&quot;https://www.futurefonts.com/typeji/method&quot;&gt;Method&lt;/a&gt;, &lt;a href=&quot;https://capitalics.wtf/en/font/adhd&quot;&gt;ADHD&lt;/a&gt;, and &lt;a href=&quot;https://www.futurefonts.com/dave-coleman/macabre&quot;&gt;Macabre&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Three of the four came from &lt;a href=&quot;https://www.futurefonts.com/&quot;&gt;Future Fonts&lt;/a&gt;. It’s my go-to when starting a new project. The fourth, ADHD, is from &lt;a href=&quot;https://capitalics.wtf/&quot;&gt;capitalics&lt;/a&gt;. Can’t remember how I found them, but they do fantastic work. If you visit their site, and compulsively buy fonts, prepare to spend some money.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;a href=&quot;https://bikes.tylergaw.com/&quot;&gt;
      &lt;img src=&quot;https://stuff.tylergaw.com/post-fairweather-ride-2025/fairweather-fonts.png&quot; alt=&quot;A sample of the four fonts used on the site. Each font represented by it’s name set in the font/variant.&quot; /&gt;
    &lt;/a&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 2. Look at these beauties. Optic, Macabre, Method, and ADHD&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;For the title, I wanted to do an ink-bleed style. Where edges of characters bleed into each other when they’re close, so I needed a chunky font. Optic has that nice balance of chunk, with just a touch of blobbiness to set the foundation. More on the ink-bleed SVG effect below.&lt;/p&gt;
&lt;p&gt;Method is just a solid sans-serif. I use both the book and regular variants. It provides a balance to the surrounding chaos of the other, ultra-processed type and graphics. It doesn’t get away fully untreated though. For the intro text I apply an SVG filter to give it a worn, blobby look.&lt;/p&gt;
&lt;p&gt;ADHD! What an oddball. I love it. In most cases, I cycle through three of its four variants; “hyperactive”, “distracted”, and “impulsive” with an &lt;code&gt;@keyframes&lt;/code&gt; animation. Either always or on hover/focus to add to the overall movement of the design.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@keyframes adhd {
  0% { font-family: &quot;adhd-hyperactive&quot;; }
  50% { font-family: &quot;adhd-distracted&quot;; }
  100% { font-family: &quot;adhd-impulsive&quot;; }
}&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;ADHD Section Dividers&lt;/h3&gt;
&lt;p&gt;Here’s a fun detail. There are three blobby, shaky, dividers between sections.&lt;/p&gt;
&lt;figure&gt;
  &lt;video autoplay=&quot;&quot; muted=&quot;&quot; loop=&quot;&quot; playsinline=&quot;&quot;&gt;
    &lt;source src=&quot;https://stuff.tylergaw.com/post-fairweather-ride-2025/fairweather-section-divider.mp4&quot; type=&quot;video/mp4&quot; /&gt;
  &lt;/video&gt;
  &lt;figcaption&gt;fig 3. One of the section dividers isolated.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;These started as solid, grey lines. &lt;strong&gt;How boring&lt;/strong&gt;. I didn’t want to use an image, or come up with some generated SVG. So, to create the semi-randomness, I’m using text. The markup for each divider is two &lt;code&gt;div&lt;/code&gt;s with semi-random words and phrases related to the project.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;&amp;lt;div class=&quot;divider&quot; aria-hidden=&quot;true&quot;&amp;gt;
  &amp;lt;div class=&quot;divider-content&quot;&amp;gt;
    1,000 miles fairweather ride bikes bikes bikes fuck cars 1,000 miles...
  &amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I use some base layout styles on the parent &lt;code&gt;div&lt;/code&gt; to get the overall shape. Then use a combination of a transform and SVG filters to morph the text into animated blobs.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.divider-content {
  filter: url(&quot;#heading-blur&quot;) url(&quot;#edge-noise-animated&quot;);
  font-size: 1rem;
  font-family: &quot;adhd-focused&quot;;
  transform: scaleX(1.25);
  white-space: nowrap;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ADHD focused works well here because it’s chunky. That way, as the transform and filters are mangling the text, it stays intact enough to still be visible. A thinner font would break down too much. More on the SVG filters below.&lt;/p&gt;
&lt;p&gt;To illustrate what’s happening further, here’s a divider with the transform and filters disabled.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-fairweather-ride-2025/fairweather-section-divider-disabled.png&quot; alt=&quot;A screenshot showing a section divider with CSS transforms and filters off to reveal it’s just text.&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 4. An example of a section divider without being transformed and filtered.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;I saw Macabre on Future Fonts and bought it immediately without a use in mind. I tried it out in early designs for this, but it didn’t seem to work. Felt too much at home in a horror movie poster for what I was going for. Then I started working on section headings and, similar to the dividers, what I was trying felt too boring. I pulled in Macabre because it felt so far away from the rest of the design. This is a technique I use often to break out of a design rut. Just fling something far out to see what comes from it.&lt;/p&gt;
&lt;p&gt;On its own, Macabre wasn’t doing exactly what I wanted it to for the headings. So I started breaking some rules. Stretched it vertically with a transform. Squeezed it horizontally with another. Then applied SVG filters to rough it up and animate it. The falloff to the right isn’t anything tricky. It’s the heading text repeated a few times, then manually sized, scaled, rotated, and transformed using &lt;code&gt;nth-of-type&lt;/code&gt; to move each repetition into place.&lt;/p&gt;
&lt;figure&gt;
  &lt;video autoplay=&quot;&quot; muted=&quot;&quot; loop=&quot;&quot; playsinline=&quot;&quot;&gt;
    &lt;source src=&quot;https://stuff.tylergaw.com/post-fairweather-ride-2025/fairweather-heading.mp4&quot; type=&quot;video/mp4&quot; /&gt;
  &lt;/video&gt;
  &lt;figcaption&gt;fig 5. A section heading set in Macabre, then poked, prodded, and animated with CSS&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;The Hero Loop&lt;/h2&gt;
&lt;p&gt;Somehow I’ve never designed or built a site that uses the common full width, full height hero video. As I was looking around for design ideas, I came across &lt;a href=&quot;https://takeagander.com/&quot;&gt;Gander’s beautiful site&lt;/a&gt;. It has one of those big videos on the homepage. That convinced me I needed one for this.&lt;/p&gt;
&lt;p&gt;The immediate question was; “what’s the video of?”. I didn’t just want random clips of myself riding around Manhattan in jorts. Maybe that’s for a future project. I went to the Internet Archive and quickly found some fun clips of kids riding bikes from some PSA from the 80s. That helped set the tone. I tracked down a handful more videos of various lengths of bike-related material mostly from the 80s and 90s. I limited my search to older video clips to help keep a worn feel to everything.&lt;/p&gt;
&lt;p&gt;I used After Effects to piece things together. There’s only a few “effects” in the ~25 second clip. I mostly used it as a non-linear editor. Largely because I’m most familiar and fastest with it. It was also nice to have the effects tools handy in the few cases where I needed them.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-fairweather-ride-2025/fairweather-ae.jpg&quot; alt=&quot;A screenshot of the hero video After Effects workspace.&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 6. Piecing together the hero video in After Effects&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;Strava Data&lt;/h2&gt;
&lt;p&gt;I track my rides with Strava so for my ride list and stats, I use their API. It works, but it kinda sucks. To request personal ride data from the API, you have to use a Bearer token. The only way to get that is to do an OAuth process. Strava doesn’t offer any type of app token for programmatic access, at least that I could find. There are ways to use their refresh tokens to make it work, but it wasn’t worth it for this project so, I do it manually. It only takes about 2 mins. I use Insomnia to generate the authorization URL. Go to it in a browser. Log in. Then copy the needed &lt;code&gt;code&lt;/code&gt; from the bogus callback URL I have in place. Once I have that, I plop it back in Insomnia where I make the request to &lt;code&gt;/athlete/activities&lt;/code&gt;. It’s dumb, but it works.&lt;/p&gt;
&lt;p&gt;Once I have the data as JSON, I copy and paste it into the &lt;code&gt;rides.json&lt;/code&gt; file. Instead of using &lt;code&gt;fetch&lt;/code&gt; to get the data, I use a JSON module import assertion in &lt;code&gt;site.js&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;import dataRaw from &quot;./data/rides.json&quot; with { type: &quot;json&quot; };&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A request to get the data would work just as well here. I just reached for the import assertion first because it’s slightly less work. From there it’s nothing fancy. Some data cleanup, summing, formatting, and HTML string building. Everything happens in &lt;code&gt;&lt;a href=&quot;https://github.com/tylergaw/fairweather-ride/blob/main/static/site.js&quot;&gt;site.js&lt;/a&gt;&lt;/code&gt;.&lt;/p&gt;
&lt;h2&gt;Ride Maps&lt;/h2&gt;
&lt;p&gt;The most interesting data about each ride is where I went. Luckily, the Strava API returns a polyline for each ride. The polyline contains the coordinates for the route I took, so I wanted to show that as a map. These don’t need to be interactive—zoomable, pannable—maps. They just need to show the route. Mapbox offers just the thing for this, the &lt;a href=&quot;https://docs.mapbox.com/api/maps/static-images/&quot;&gt;Static Images API&lt;/a&gt;. You set the &lt;code&gt;src&lt;/code&gt; of an &lt;code&gt;img&lt;/code&gt; element to the static API URL and include a few parameters, including an encoded polyline, and it returns an image. I knew this was a thing, but I hadn’t had a need for it until this. Pretty fun.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;`https://api.mapbox.com/styles/v1/mapbox/${style}/static/path-${strokeWidth}+${strokeColor}-1(${encodedPolyline})/auto/${size}?attribution=false&amp;padding=${padding}&amp;access_token=${mapboxToken}`;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The date and mileage aren’t part of the static map, they’re text elements styled and layered on top of the &lt;code&gt;img&lt;/code&gt;.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-fairweather-ride-2025/fairweather-maps.jpg&quot; alt=&quot;A screenshot of part of the ride maps.&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 7. A static map for each ride via the Mapbox API&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;SVG Filters&lt;/h2&gt;
&lt;p&gt;OK, this stuff is very cool. If you can’t tell, I’m not a fan of straight lines or smooth edges. Just in general, but with this design I wanted the absolute minimum of them. The last thing I’d want is for someone to describe the design as “simple and clean”. What an insult.&lt;/p&gt;
&lt;p&gt;To avoid yucky straight lines, I’m using SVG filters to rough stuff up and in some cases animate it in a kind of squigglevision style. I started down this path while figuring out the ink-bleed for the title. I won’t go into the full background of filters here. It’s a deep pool that I don’t fully understand yet. I know just enough to piece a few together and fiddle with the knobs to get what I’m after. Basically, they let you do cool things to HTML elements via SVG and CSS that you otherwise can’t.&lt;/p&gt;
&lt;p&gt;For the title, I start with standard-ish markup.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;div class=&quot;title-effected&quot;&amp;gt;
  &amp;lt;span class=&quot;title-fair&quot;&amp;gt;Fairweather&amp;lt;/span&amp;gt;
  &amp;lt;span class=&quot;title-ride&quot;&amp;gt;Ride&amp;lt;/span&amp;gt;
&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The extra &lt;code&gt;span&lt;/code&gt;s are in place for other styling. I apply the filters to the parent &lt;code&gt;div&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.title-effected {
  filter: url(&quot;#title-blobs&quot;) url(&quot;#edge-noise-animated&quot;);
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The filters themselves are in &lt;code&gt;index.html&lt;/code&gt; within a &lt;code&gt;defs&lt;/code&gt; element. This creates the ink-bleed style:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;filter id=&quot;title-blobs&quot;&amp;gt;
  &amp;lt;feGaussianBlur in=&quot;SourceGraphic&quot; stdDeviation=&quot;6&quot; result=&quot;blur&quot; /&amp;gt;
  &amp;lt;feColorMatrix
    in=&quot;blur&quot;
    mode=&quot;matrix&quot;
    values=&quot;1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 12 -5&quot;
    result=&quot;title-blobs&quot;
  /&amp;gt;
  &amp;lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;title-blobs&quot; /&amp;gt;
&amp;lt;/filter&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When I was reading about the filters in this one, I needed to play around quite a bit. I ended up building a &lt;a href=&quot;https://codepen.io/collection/rBNGEK&quot;&gt;collection of CodePens&lt;/a&gt; for them if you’re interested in seeing different ways to do it.&lt;/p&gt;
&lt;p&gt;With a few value tweaks and different layering of filters you can quickly build up very interesting effects. &lt;a href=&quot;https://thebabydino.github.io/&quot;&gt;Ana&lt;/a&gt; is the go-to for knowledge and examples on how to use filters.&lt;/p&gt;
&lt;p&gt;For the squigglevision, in the title and throughout, I’m using &lt;code&gt;feTurbulence&lt;/code&gt;, along with &lt;code&gt;animate&lt;/code&gt; and &lt;code&gt;feDisplacementMap&lt;/code&gt;. I use this same one for most of it.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;filter id=&quot;edge-noise-animated&quot;&amp;gt;
  &amp;lt;feTurbulence
    type=&quot;turbulence&quot;
    baseFrequency=&quot;0.05&quot;
    numOctaves=&quot;3&quot;
    result=&quot;turbulence&quot;
    seed=&quot;0&quot;
  &amp;gt;
    &amp;lt;animate
      attributeName=&quot;seed&quot;
      values=&quot;0;20&quot;
      dur=&quot;2s&quot;
      repeatCount=&quot;indefinite&quot;
    /&amp;gt;
  &amp;lt;/feTurbulence&amp;gt;
  &amp;lt;feDisplacementMap
    in=&quot;SourceGraphic&quot;
    in2=&quot;turbulence&quot;
    scale=&quot;3&quot;
    xChannelSelector=&quot;R&quot;
    yChannelSelector=&quot;B&quot;
  /&amp;gt;
&amp;lt;/filter&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I have a few different blur filters for different text. They use the same filters, but with different values, depending on the size of the text. Larger text needs blurred more, smaller text, less. This is one detail of filters I wish was smoother. I wish I could pass attribute values to a filter via query param (or any other mechanism). Something like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;filter: url(&quot;#general-blur?stdDeviation=5&amp;type=discrete&quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;strong&gt;The above code is not real&lt;/strong&gt;. As far as I know, there’s no way to do this. You just have to make a copy of each filter with different values.&lt;/p&gt;
&lt;p&gt;I have similar filters applied to text, the bike illustrations, and element containers. It helps give an overall handmade feel that I’m after. And it’s very cool to not have to make one-off graphics or introduce JS to make it happen.&lt;/p&gt;
&lt;p class=&quot;offset-no-indent&quot;&gt;
  As I hit publish on this, I’m at 940 miles for the year. The weather is turning cold quickly in NYC. My plan is to knock out the last 60 miles within the next week to make sure I get it done. 🤞
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>A Few Things to Enjoy #1</title>
    <link href="https://tylergaw.com/blog/a-few-things-to-enjoy-1/"/>
    <updated>2025-11-01T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/a-few-things-to-enjoy-1/</id>
    <content type="html">&lt;p&gt;These are a few things I enjoyed recently. Maybe you’ll enjoy them too.&lt;/p&gt;
&lt;h2&gt;Why Fish Don’t Exist&lt;/h2&gt;
&lt;p&gt;Rachel and I visited &lt;a href=&quot;https://www.fictionbookshop.com/&quot;&gt;the best bookshop&lt;/a&gt; in Wiscasset, Maine, at the end of September. As usual in a place like that, we wanted to take every book home with us. I was restraining myself. Rachel insisted I get at least one book to go along with her haul.&lt;/p&gt;
&lt;p&gt;I chose this one at random because of the title and cool cover. The photo doesn’t do it justice. They used a type of gold leaf for the not blue parts. Based on the subtitle, I thought it was a novel. It’s not a novel.&lt;/p&gt;
&lt;p&gt;What it is is a fascinating, frustrating, sad, beautiful ~200 pages that I highly recommend to anyone who reads things. If you do read it, don’t read anything about it before, just go in cold.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;a href=&quot;https://app.thestorygraph.com/books/dd49b326-93cc-4a8f-8533-e1192b954e39&quot;&gt;
      &lt;img src=&quot;https://stuff.tylergaw.com/post-things-to-enjoy/why-fish-dont-exist-cover.jpg&quot; alt=&quot;The cover of the book &#39;Why Fish Don&#39;t Exist&#39; by Lulu Miller. It&#39;s a blue cover, with the title of the book at the top, then the outline of the back half of a scaley fish. The subtitle; &#39;A Story of Loss, Love, and the Hidden Order of Life&#39; is displayed on a tag sewed to the fish&#39;s tail.&quot; /&gt;
    &lt;/a&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 1: &lt;a href=&quot;https://app.thestorygraph.com/books/dd49b326-93cc-4a8f-8533-e1192b954e39&quot;&gt;Why Fish Don’t Exist by Lulu Miller&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;The Good Life&lt;/h2&gt;
&lt;p&gt;Sleaford Mods are one of those bands that are guaranteed to confuse and annoy your normie friends. I love them for it.&lt;/p&gt;
&lt;p&gt;Their new single, “The Good Life”, from their upcoming album is a banger and the videos (there are two versions of it) are a lot of fun and exude the Mods’ usual casual cool. And Gwendoline Christie!? Her verse is awesome. She would be a welcome addition to any track of theirs.&lt;/p&gt;
&lt;figure&gt;
  &lt;iframe class=&quot;e-iframe-full&quot; width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/aaynJpIuaCY&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share&quot; referrerpolicy=&quot;strict-origin-when-cross-origin&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
  &lt;figcaption&gt;fig 2: &lt;a href=&quot;https://www.youtube.com/watch?v=aaynJpIuaCY&quot;&gt;The Good Life by Sleaford Mods&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;A Rant About “Technology”&lt;/h2&gt;
&lt;p&gt;Ursula K. Le Guin &lt;a href=&quot;https://www.ursulakleguin.com/a-rant-about-technology&quot;&gt;addresses a reviewer’s claim that she “avoids technology”&lt;/a&gt; in her science fiction. Her definition of technology feels refreshing and far more accurate than the reviewer’s, and I suppose, the general, modern idea of “technology”.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We have been so desensitized by a hundred and fifty years of ceaselessly expanding technical prowess that we think nothing less complex and showy than a computer or a jet bomber deserves to be called “technology” at all.
&lt;cite&gt;— &lt;a href=&quot;https://www.ursulakleguin.com/a-rant-about-technology&quot;&gt;A Rant About “Technology” by Ursula K. Le Guin&lt;/a&gt;&lt;/cite&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The piece obviously isn’t about software design or web development, but I can’t help but relate them. This feels like the familiar chorus of assholes over the years who insist that Design or front-end-related code is somehow less than. That these “soft” things like HTML and CSS are, in their view, not real engineering. Somehow “not technology”.&lt;/p&gt;
&lt;h2&gt;Kevin Bækkel’s SEVER Part&lt;/h2&gt;
&lt;p&gt;This whole video is excellent and you should watch it if you’re at all interested in watching skateboarding. Kevin’s part, that starts around &lt;a href=&quot;https://youtu.be/6FmNP5SolaY?t=1045&quot;&gt;&lt;code&gt;17:25&lt;/code&gt;&lt;/a&gt;, is packed full of some of the most ridiculous and scary god damn things ever done on a skateboard. You should watch it if you’re at all interested in seeing a human do things that seem impossible for a human to do.&lt;/p&gt;
&lt;p&gt;Something to keep in mind as you’re watching. On film, every spot looks smaller and easier to skate. In person, these things are taller, rougher, and in general, less accommodating to urethane, steel, wood, and human ambitions.&lt;/p&gt;
&lt;figure&gt;
  &lt;iframe class=&quot;e-iframe-full&quot; width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/6FmNP5SolaY?si=kEGMGSG48NKmBfXf&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share&quot; referrerpolicy=&quot;strict-origin-when-cross-origin&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
  &lt;figcaption&gt;fig 3: &lt;a href=&quot;https://youtu.be/6FmNP5SolaY?t=1045&quot;&gt;SEVER | A Short Film by Creature Skateboards. Kevin’s part starts around 17:25&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;Jesse Plemons’ Iconic Characters&lt;/h2&gt;
&lt;p&gt;There are tons of these are they’re always fun to watch. Getting to hear stories about how an actor approaches their work makes the work that much more enjoyable.&lt;/p&gt;
&lt;p&gt;Plemons’ episode is ideal because he’s not just giving safe, practiced responses like some others do. He’s giving real insight into his approach and experiences. You can see his gears turning while he’s looking for what he wants to say. He’s also a great actor so maybe he’s just, you know, acting. Either way, it’s enjoyable.&lt;/p&gt;
&lt;p&gt;I also love the shirt he’s wearing.&lt;/p&gt;
&lt;figure&gt;
  &lt;iframe class=&quot;e-iframe-full&quot; width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/Vl4qT3l-mo8&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share&quot; referrerpolicy=&quot;strict-origin-when-cross-origin&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
  &lt;figcaption&gt;fig 4: &lt;a href=&quot;https://youtu.be/Vl4qT3l-mo8&quot;&gt;Jesse Plemons Breaks Down His Most Iconic Characters&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
</content>
  </entry>
  
  <entry>
    <title>Tag, You’re It</title>
    <link href="https://tylergaw.com/blog/tag-youre-it/"/>
    <updated>2025-04-06T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/tag-youre-it/</id>
    <content type="html">&lt;p&gt;&lt;a href=&quot;https://blog.jim-nielsen.com/2025/tag-youre-it/&quot;&gt;Jim tagged me&lt;/a&gt;. These have been a lot of fun to read. Happy to keep it going.&lt;/p&gt;
&lt;h2&gt;Why did you start blogging in the first place?&lt;/h2&gt;
&lt;p&gt;I wanted to be a part of it. When I was new to building websites (started around ’04, launched this site in ’06, added the &lt;a href=&quot;https://tylergaw.com/blog/ch-ch-ch-changes/&quot;&gt;blog in ’09&lt;/a&gt;), the people I looked up to in web dev all had blogs—most still do. Those blogs had a massive impact on how I thought about and approached building the Web. Having your own website and blog felt subversive and cool! It felt like this little secret that these folks were in on and I wanted to be a part of that in any way I could.&lt;/p&gt;
&lt;h2&gt;What platform are you using to manage your blog and why did you choose it?&lt;/h2&gt;
&lt;p&gt;This is a static site built with &lt;a href=&quot;https://www.11ty.dev/&quot;&gt;Eleventy&lt;/a&gt;. Hosted with Netlify. Posts are Markdown files. I don’t get fancy with organizing them, just a &lt;code&gt;blog&lt;/code&gt; directory of files named the title of the post. The &lt;a href=&quot;https://github.com/tylergaw/tylergaw.com&quot;&gt;code is on GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I chose it because it’s light and fully under my control. And after years of this setup, it’s how my brain works best for writing.&lt;/p&gt;
&lt;h2&gt;Have you blogged on other platforms before?&lt;/h2&gt;
&lt;p&gt;Not really, no. For the first iteration of this blog I had an overengineered setup. I would write posts on a private Tumblr, then pull those into this site using the Tumblr API. I built it in PHP using Zend Framework. I’d also gone way down a rabbit whole of pulling in most data on the site from other sites using their APIs (Twitter, Lastfm, Flickr). But this domain has always been the canonical location. Over the years I’ve used other static site approaches; by hand with &lt;a href=&quot;https://en.wikipedia.org/wiki/Server_Side_Includes&quot;&gt;SSI&lt;/a&gt;, then Jekyll, then Metalsmith&lt;/p&gt;
&lt;p&gt;There was a stint where I was cross-posting from here to Medium. Was doing that for some idea of wider distribution. That was short-lived though.&lt;/p&gt;
&lt;h2&gt;How do you write your posts? For example, in a local editing tool, or in a panel/dashboard that’s part of your blog?&lt;/h2&gt;
&lt;p&gt;Locally in VSCode. In years past it’s been other text editors, but always just in the codebase. I &lt;a href=&quot;https://github.com/tylergaw/tylergaw.com/pull/92&quot;&gt;open a PR&lt;/a&gt; to merge each post. I’ve also used &lt;a href=&quot;https://hemingwayapp.com/&quot;&gt;Hemingway&lt;/a&gt; for years to help me edit. I don’t have any type of streamlined process there, just copy/paste from VSCode to Hemingway.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-tag-youre-it/writing-in-vscode.jpg&quot; alt=&quot;A screenshot of my writing setup in VSCode&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 1: My writing setup in VSCode&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;When do you feel most inspired to write?&lt;/h2&gt;
&lt;p&gt;When I’m excited about something new and I feel like I have a solid grasp on it. The majority of my posts are; “Here’s a thing I did and how I did it.” Every post comes after some amount of discovery and learning.&lt;/p&gt;
&lt;p&gt;That and seeing other people writing about what they’re up to. &lt;a href=&quot;https://livelaugh.blog/&quot;&gt;Jenn’s&lt;/a&gt; recent posts on her day-to-day life have been fun to read and are making me want to write about what I’m up to outside of computers.&lt;/p&gt;
&lt;h2&gt;Do you publish immediately after writing, or do you let it simmer a bit as a draft?&lt;/h2&gt;
&lt;p&gt;Immediately, but with a caveat. I rarely start drafts and work on them for any more than a couple days. I don’t have a bunch of partially written posts saved anywhere. What I do have is a ton of half-baked ideas for posts that I’ve written and re-written in my head, but never actually typed into a file anywhere.&lt;/p&gt;
&lt;p&gt;When I do finally open VSCode and make a new Markdown file, 99% of the time I publish that post within a day or two. My usual process is to wake up on a given day and give myself an arbitrary deadline of like 5pm to write and publish. It’s a helpful forcing function.&lt;/p&gt;
&lt;p&gt;I have a &lt;a href=&quot;https://github.com/tylergaw/tylergaw.com/pull/91&quot;&gt;rare draft&lt;/a&gt; going nowhere right now. I think it’s because it’s a boring post so I’m not motiviated to write the last few sentences needed for it to be done.&lt;/p&gt;
&lt;h2&gt;What are you generally interested in writing about?&lt;/h2&gt;
&lt;p&gt;My processes for designing and writing code to make things. For Design, I like to show that good design isn’t magic or only for a select few with a naturally given ability. It’s more about asking questions and putting in time. Those are things everyone can do.&lt;/p&gt;
&lt;p&gt;For code, I write about things I use the most; HTML, CSS, and JavaScript. Over the years I’ve written about certain libraries, frameworks, or tools. Those come and go. But the foundation of HTML, CSS, and JavaScript is always relevant and interesting.&lt;/p&gt;
&lt;h2&gt;Who are you writing for?&lt;/h2&gt;
&lt;p&gt;Me. This is largely selfish activity. Even though lots of posts are helpful for other people, the primary target of that help is me. And, putting my thoughts into public is an attention-seeking behavior. Getting attention isn’t a main motivator, but it’s definitely a nice bonus.&lt;/p&gt;
&lt;h2&gt;What’s your favorite post on your blog?&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://tylergaw.com/blog/building-osx-apps-with-js/&quot;&gt;“Building OS X Apps with JavaScript”&lt;/a&gt;. I put a ton of work into that one. It was exciting to see potential in something new and then give myself the time to explore it and do a deep dive on it. And again, the bonus was it got a lot of attention.&lt;/p&gt;
&lt;h2&gt;Any future plans for your blog? Maybe a redesign, a move to another platform, or adding a new feature?&lt;/h2&gt;
&lt;p&gt;A partial redesign and content refresh is in the early, still-in-my-head, stage. I’m exploring the idea of what a personal website is for me these days. I want to take that idea and apply it to aesthetics and content. I want it to be strange.&lt;/p&gt;
&lt;h2&gt;Tag ‘em&lt;/h2&gt;
&lt;p&gt;Tagging &lt;a href=&quot;https://danleatherman.com/&quot;&gt;Dan&lt;/a&gt;, &lt;a href=&quot;https://www.pascal.com/diary&quot;&gt;Pascal&lt;/a&gt;, &lt;a href=&quot;https://matthiasott.com/&quot;&gt;Matthias&lt;/a&gt;, &lt;a href=&quot;https://mxb.dev/&quot;&gt;Max&lt;/a&gt; to continue the chain. Also, if you’re not on that list, but reading this, consider yourself tagged by me. These questions were fun to think about and fun to write about.&lt;/p&gt;
&lt;p&gt;I like how Jim did this, so I’m doing the same. He didn’t ping me directly. He just added me to the tagged section and published his post. Then I saw it when I was going through my RSS reader this morning.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>CSS View Transition At-Rule</title>
    <link href="https://tylergaw.com/blog/view-transition-at-rule/"/>
    <updated>2024-10-06T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/view-transition-at-rule/</id>
    <content type="html">&lt;p&gt;Last year &lt;a href=&quot;https://tylergaw.com/blog/view-transitions-first-experiments-mpa/&quot;&gt;I wrote&lt;/a&gt; about &lt;a href=&quot;https://tylergaw.com/blog/complex-mpa-view-transitions/&quot;&gt;MPA view transitions&lt;/a&gt;. Since then, the spec has been expanded and browser support has improved slightly.&lt;/p&gt;
&lt;h2&gt;The @view-transition at-rule&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/@view-transition&quot;&gt;&lt;code&gt;@view-transitions&lt;/code&gt;&lt;/a&gt; is a new transitions-related at-rule. For multi-page transitions it’s required. This is a breaking change to existing multi-page transitions. Any site, include this one, that had existing multi-page transitions no longer work without &lt;code&gt;@view-transition&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In section 2.1.1. “Activation” of &lt;a href=&quot;https://www.w3.org/TR/css-view-transitions-2/#activating-cross-document-view-transition&quot;&gt;CSS View Transitions Module Level 2&lt;/a&gt; (emphasis added)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In cross-document view transition, what triggers a view transition is a navigation between two documents, as long as the following conditions are met:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Both documents are of the same origin;&lt;/li&gt;
&lt;li&gt;The page is visible throughout the entire course of the navigatiion;&lt;/li&gt;
&lt;li&gt;the navigation is initiated by the page, e.g. by clicking a link or submitting a form, or is a traverse navigation (back/forward). This excludes, for example, navigations initiated by the URL bar;&lt;/li&gt;
&lt;li&gt;the navigation didn’t include cross-origin redirects; and&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;both documents opted in to cross-document view transitions, using the @view-transition rule.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is a small change. For both pages, this rule needs to be in the CSS:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@view-transition {
  navigation: auto;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Right now, the value of &lt;code&gt;navigation&lt;/code&gt; can be &lt;code&gt;auto&lt;/code&gt; or &lt;code&gt;none&lt;/code&gt;. Unclear if the possible values will change in the future, but it’s possible. The spec mentions that &lt;code&gt;@view-transition&lt;/code&gt; can be nested inside other at-rules like &lt;code&gt;@media&lt;/code&gt; or &lt;code&gt;@supports&lt;/code&gt;. I haven’t tried this yet, but that could be a good way to only enable or disable transitions under certain conditions. For example, we could default to not having transitions and only enable them if the user has not opted for reduced-motion:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;/* Default to no transitions, (you could also just leave this rule out) */
@view-transition {
  navigation: none;
}
/* If no preference for reduced motion, enable transitions */
@media (prefers-reduced-motion: no-preference) {
  @view-transition {
    navigation: auto;
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This is likely preferable to putting a bunch of view transition pseudo selectors in &lt;code&gt;@media (prefers-reduced-motion: no-preference)&lt;/code&gt; blocks like I’m &lt;a href=&quot;https://tylergaw.com/blog/complex-mpa-view-transitions/&quot;&gt;currently doing&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Browser Support Improvements&lt;/h2&gt;
&lt;p&gt;Previously, two feature flags were required in Chrome/Arc to enable multi-page transitions. &lt;code&gt;chrome://flags#view-transition&lt;/code&gt; and &lt;code&gt;chrome://flags#view-transition-on-navigation&lt;/code&gt;. It seems &lt;code&gt;view-transition&lt;/code&gt; has been removed. I don’t have details on why or when, but it doesn’t show up anymore. &lt;code&gt;view-transition-on-navigation&lt;/code&gt; now defaults to being on, so if you’re in Chrome, transitions should just work.&lt;/p&gt;
&lt;p&gt;Overall support is still limited. In my testing these still only work in Chrome and Arc. No Firefox or Safari. I did get &lt;a href=&quot;https://github.com/tylergaw/mpa-view-transitions-sandbox/issues/2&quot;&gt;an issue&lt;/a&gt; about my transitions demos being broken that said transitions work in Safari Tech Preview 18, but I haven’t tested there yet.&lt;/p&gt;
&lt;p&gt;Great to see these features moving forward. I’m keeping the &lt;a href=&quot;https://github.com/tylergaw/mpa-view-transitions-sandbox&quot;&gt;sandbox&lt;/a&gt; up to date. Thanks to folks that emailed and created an issue there about things being broken. Keep those coming.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Mocking SvelteKit Stores in Storybook</title>
    <link href="https://tylergaw.com/blog/mocking-sveltekit-stores-in-storybook/"/>
    <updated>2024-03-27T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/mocking-sveltekit-stores-in-storybook/</id>
    <content type="html">&lt;p&gt;If you’re using SvelteKit with Storybook and the &lt;a href=&quot;https://github.com/storybookjs/addon-svelte-csf&quot;&gt;Svelte Story Format addon&lt;/a&gt; and need a way to mock built in &lt;code&gt;$app/stores&lt;/code&gt; in stories, this post is for you. This was written using the following versions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Svelte 4&lt;/li&gt;
&lt;li&gt;SvelteKit 2&lt;/li&gt;
&lt;li&gt;Storybook 7&lt;/li&gt;
&lt;li&gt;addon-svelte-csf 4&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you’re using newer versions, there’s a chance the examples here won’t work the same or at all.&lt;/p&gt;
&lt;h2&gt;The Component&lt;/h2&gt;
&lt;p&gt;Say we have a small component that gets data from the &lt;code&gt;page&lt;/code&gt; store.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// MyComponent.svelte
&amp;lt;script&amp;gt;
  import { page } from &#39;$app/stores&#39;
&amp;lt;/script&amp;gt;

&amp;lt;a href={$page.data.href}&amp;gt;{$page.data.text}&amp;lt;/a&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To create Stories for it, we use the following reduced example from the &lt;code&gt;svelte-csf&lt;/code&gt; docs:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// MyComponent.stories.svelte
&amp;lt;script context=&quot;module&quot;&amp;gt;
  import MyComponent from &#39;./MyComponent.svelte&#39;

  export const meta = {
    title: &#39;MyComponent&#39;,
    component: MyComponent
  }
&amp;lt;/script&amp;gt;

&amp;lt;script&amp;gt;
  import { Story, Template } from &#39;@storybook/addon-svelte-csf&#39;
&amp;lt;/script&amp;gt;

&amp;lt;Template let:args&amp;gt;
  &amp;lt;MyComponent {...args} /&amp;gt;
&amp;lt;/Template&amp;gt;

&amp;lt;Story name=&quot;Default&quot; /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we start up Storybook and try to view &lt;code&gt;MyComponent&lt;/code&gt;, we’ll get a big error.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-mocking-sveltekit-stores/storybook-error.jpg&quot; alt=&quot;Screenshot of an error in Storybook when trying to view MyComponent&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 1: The error we see on first run&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;There’s a lot of error stuff there, but the key part is right at the top.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;Cannot read properties of undefined (reading &#39;data&#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That makes sense, because in &lt;code&gt;MyComponent&lt;/code&gt; we’re trying to access members of &lt;code&gt;$page.data&lt;/code&gt; in two places. In this context, &lt;code&gt;$page&lt;/code&gt; is &lt;code&gt;undefined&lt;/code&gt;, so that means &lt;code&gt;data&lt;/code&gt; is also &lt;code&gt;undefined&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;We could update &lt;code&gt;MyComponent&lt;/code&gt; to guard against throwing an error by making sure these objects exist before trying to use them, but then we wouldn’t have an &lt;code&gt;href&lt;/code&gt; or &lt;code&gt;text&lt;/code&gt; value visible in &lt;code&gt;MyComponent&lt;/code&gt; stories.&lt;/p&gt;
&lt;p&gt;What we need is for the stories to have access to a &lt;code&gt;$page&lt;/code&gt; object in the same way it does in regular usage.&lt;/p&gt;
&lt;h2&gt;Use Context&lt;/h2&gt;
&lt;p&gt;This took me a while to track down and I never found full example of it, but I was able to piece together that we can use &lt;a href=&quot;https://svelte.dev/docs/svelte#setcontext&quot;&gt;Svelte context&lt;/a&gt; to mock &lt;code&gt;page&lt;/code&gt; (and other) stores. The most helpful clue was a partial example from this &lt;a href=&quot;https://www.reddit.com/r/sveltejs/comments/pakmb1/has_anyone_managed_to_mock_page_from_appstores/&quot;&gt;3+ year old Reddit thread&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;We’ll use the &lt;code&gt;setContext&lt;/code&gt; function to manually define &lt;code&gt;$page.data&lt;/code&gt;. First we need to know what name Svelte uses for page context. In &lt;code&gt;MyComponent.stories.svelte&lt;/code&gt; use &lt;code&gt;getAllContexts&lt;/code&gt; to see what’s available:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// MyComponent.stories.svelte
//...
&amp;lt;script&amp;gt;
  import { Story, Template } from &#39;@storybook/addon-svelte-csf&#39;
  // Note: we can only use Svelte context functions in scripts without context=&quot;module&quot;
  import { getAllContexts } from &#39;svelte&#39;
  console.log(getAllContexts())
&amp;lt;/script&amp;gt;
//...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This gives us a &lt;code&gt;Map&lt;/code&gt; of all the contexts we have access to in &lt;code&gt;MyComponent&lt;/code&gt;.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-mocking-sveltekit-stores/all-contexts.jpg&quot; alt=&quot;Screenshot from Chrome devtools showing the Map logged from invoking getAllContexts()&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 2: The Map showing all available contexts&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;The keys are what we’re interested in, and with the exception of the storybook keys, they should look familiar. Each one matches an available &lt;a href=&quot;https://kit.svelte.dev/docs/modules#$app-stores&quot;&gt;&lt;code&gt;$app/stores&lt;/code&gt; module&lt;/a&gt;. We need to mock the page store, so we’ll use &amp;quot;page-ctx&amp;quot; as our context. We do that in &lt;code&gt;MyComponent.stories&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// MyComponent.stories.svelte
//...
&amp;lt;script&amp;gt;
  import { Story, Template } from &#39;@storybook/addon-svelte-csf&#39;
  // Note: we can only use Svelte context functions in scripts without context=&quot;module&quot;
  import { setContext } from &#39;svelte&#39;
  
  setContext(&#39;page-ctx&#39;, {
    data: {
      href: &#39;/some/href/we/want&#39;,
      text: &#39;My Link Text&#39;
    }
  })
&amp;lt;/script&amp;gt;
//...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The second parameter of &lt;code&gt;setContext&lt;/code&gt; takes any value and assigns it to &lt;code&gt;$page&lt;/code&gt;. In our case, &lt;code&gt;MyComponent&lt;/code&gt; expects a &lt;code&gt;data&lt;/code&gt; object with &lt;code&gt;href&lt;/code&gt; and &lt;code&gt;text&lt;/code&gt; members. Here, we manually create the object so accessing &lt;code&gt;$page.data.*&lt;/code&gt; works as expected in &lt;code&gt;MyComponent&lt;/code&gt; stories. If we reload the &lt;code&gt;MyComponent&lt;/code&gt; story we see the expected link.&lt;/p&gt;
&lt;h2&gt;What else?&lt;/h2&gt;
&lt;p&gt;This example is specific to issues I’d been running into for weeks &lt;a href=&quot;https://www.summer.io/&quot;&gt;at work&lt;/a&gt;, but I’m sure this approach of using context for mocking has more uses.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Complex MPA View Transitions</title>
    <link href="https://tylergaw.com/blog/complex-mpa-view-transitions/"/>
    <updated>2023-10-24T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/complex-mpa-view-transitions/</id>
    <content type="html">&lt;p class=&quot;note-update&quot;&gt;
  &lt;strong&gt;Update October 6, 2024:&lt;/strong&gt; Some of this is outdated. See “&lt;a href=&quot;https://tylergaw.com/blog/view-transition-at-rule/&quot;&gt;CSS View Transition At-Rule&lt;/a&gt;”.
&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;note-special&quot;&gt;
  &lt;strong&gt;Note:&lt;/strong&gt; At the time of this post, view transitions are still an emerging standard. Examples may not work for you. To use in Chrome or Arc, enable two feature flags:
  &lt;code&gt;chrome://flags#view-transition&lt;/code&gt; and &lt;code&gt;chrome://flags#view-transition-on-navigation&lt;/code&gt;
&lt;/p&gt;
&lt;p class=&quot;entry-intro&quot;&gt;
  In my &lt;a href=&quot;https://tylergaw.com/blog/view-transitions-first-experiments-mpa/&quot;&gt;previous post&lt;/a&gt; on the topic, I wrote about what I was learning about view transitions and shared &lt;a href=&quot;https://github.com/tylergaw/mpa-view-transitions-sandbox&quot;&gt;examples&lt;/a&gt; of different transitions. At the end of that post, I also wrote about wanting to come up with interesting transitions on this site. A few months back, I spent a few hours across a couple days adding fun transitions to most of the project pages and the about page. They’re live now, if you’re using a browser with view transitions supported and enabled.
&lt;/p&gt;
&lt;p&gt;For this post, I’ll talk about these more complex page transitions by going into detail about the &lt;a href=&quot;https://tylergaw.com/work/streetcred&quot;&gt;StreetCred&lt;/a&gt; page, and share tricks I’m picking up along the way.&lt;/p&gt;
&lt;p&gt;Before getting into it, here’s a video showing all the transitions.&lt;/p&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/view-transitions-preview.mp4&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
    &lt;figcaption&gt;fig 1: A preview of each page’s transitions.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;As you can see in the video, the transitions are on the hero section of each page. Those hero sections are some of the most visually interesting sections of the site, and since they’re at the top, it makes them an ideal candidate for layering on view transitions.&lt;/p&gt;
&lt;p&gt;Full page transitions are OK, but they also make a site feel like a PowerPoint. The only time I’m likely to use full page transitions is if I’m making a web-based slide deck. Even then, using only full page animations can feel flat. Animating multiple elements in an orchestrated way is a better way to use motion to create interesting effects. So, that’s what I’ve done. Let’s get into it.&lt;/p&gt;
&lt;h2&gt;Setting the stage&lt;/h2&gt;
&lt;p&gt;First, we need to enable view transitions by adding the &lt;code&gt;meta&lt;/code&gt; element to the &lt;code&gt;head&lt;/code&gt; of all pages:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;meta name=&quot;view-transition&quot; content=&quot;same-origin&quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Next, since we want don’t want the default full-page fades, we turn them off with this CSS:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;::view-transition-old(*),
::view-transition-new(*) {
  animation: none;
  mix-blend-mode: normal;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That snippet clears the browser defaults for both the old and new transition snapshots. This gets us to a baseline where we’ve enabled transitions, but they don’t have a visual effect. I see this snippet, or one very near it, ending up in most of our normalize or reset styles.&lt;/p&gt;
&lt;h2&gt;Building the animation&lt;/h2&gt;
&lt;p&gt;Looking at the StreetCred page hero, we can already see opportunities for motion. I’ve had some type of motion in mind for it since I designed it years back. I could see each element moving independently in a way that gave each its own kind of story.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/streetcred-transitions-overview.jpg&quot; alt=&quot;The hero section of tylergaw.com/work/streetcred showing the elements we&#39;ll animate.&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 2: The StreetCred hero at rest.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Let’s get the styles in place that will allow us to animate each element when the page loads. There are six elements we want to animate: the logo, the main device, the app screen, and the three smaller app details positioned above the main device. In the markup, each of those is a separate element with a class.&lt;/p&gt;
&lt;p&gt;For each of those rulesets, we’ll apply a unique &lt;code&gt;view-transition-name&lt;/code&gt;. For example:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.streetcred__graphic-main {
  ...
  view-transition-name: streetcred-graphic-main;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We repeat that for each element. I’ll leave out the other elements here for brevity. The full stylesheet is &lt;a href=&quot;https://github.com/tylergaw/tylergaw.com/blob/main/src/css/modules/pages/work/streetcred.css&quot;&gt;available on Github&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;When adding motion, it’s important to work in a way where the motion isn’t required. Animations should be additive. All content and graphics must be available without transitions or animations. That could be because the current browser doesn’t support them, or because the user has opted to reduce motion on their machine. Either way, we’ll use a &lt;code&gt;prefers-reduced-motion: no-preference&lt;/code&gt; media query to only apply animations if the user hasn’t opted out.&lt;/p&gt;
&lt;p&gt;To get a foundation in place, let’s add a basic fade-in for all elements by targeting the &lt;code&gt;view-transition-new&lt;/code&gt; pseudo element.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@keframes fadeIn {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@media (prefers-reduced-motion: no-preference) {
  ::view-transition-new(streetcred-title),
  ::view-transition-new(streetcred-graphic-main),
  ::view-transition-new(streetcred-graphic-main-img),
  ::view-transition-new(streetcred-graphic-board),
  ::view-transition-new(streetcred-graphic-poi),
  ::view-transition-new(streetcred-graphic-cubes) {
    animation: fadeIn 0.5s ease;
}&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/work-transitions-0.mp4&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
    &lt;figcaption&gt;fig 3: The foundation, a basic fade-in transition.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Nothing spectacular, but we have a working transition for each element. Now, we can break this up by element to create a composition. We’ll do this in parts.&lt;/p&gt;
&lt;p&gt;For the first part, we’ll animate the main device and app screen as follows:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;No elements are visible as the page loads&lt;/li&gt;
&lt;li&gt;The main device fades in and floats up into position. On the device we see the purple background / StreetCred logo splash screen&lt;/li&gt;
&lt;li&gt;The app screen fades in with a subtle scale up&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Here’s the completed animation with all other elements hidden.&lt;/p&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/work-transitions-1.mp4&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
    &lt;figcaption&gt;fig 4: The main device and app screen animation.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;That looks solid. Notice we navigated to the StreetCred page from another page. Look at what happens if we refresh the page though.&lt;/p&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/work-transitions-1-refresh.mp4&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
    &lt;figcaption&gt;fig 5: The main device and app screen animation on page refresh looking wrong.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Wait, that’s not right. See how the device and app screen are already visible. It’s like they’re at the end of their animation. We can see some movement, so we know the animation is still happening. So what’s the problem? We’re animating the &lt;code&gt;view-transition-new&lt;/code&gt; snapshot, but the &lt;code&gt;view-transition-old&lt;/code&gt; snapshot is still visible in its final position. This is a common problem. Here’s a trick I use to fix it that we’ll use on all the pages. When we have animations like this, where elements aren’t visible on the screen and then transition in, we have to hide the old view transition snapshot. To do that, we target the &lt;code&gt;::view-transition-old&lt;/code&gt; selector for each of our named view transitions.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;::view-transition-old(streetcred-graphic-main),
::view-transition-old(streetcred-graphic-main-img) {
  display: none;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We need to hide the old snapshot for all six elements. The complete ruleset ends up being:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;::view-transition-old(streetcred-title),
::view-transition-old(streetcred-graphic-main),
::view-transition-old(streetcred-graphic-main-img),
::view-transition-old(streetcred-graphic-board),
::view-transition-old(streetcred-graphic-poi),
::view-transition-old(streetcred-graphic-cubes) {
  display: none;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It’s repetitive, but we set it once and forget it. This isn’t to say the old snapshot in &lt;code&gt;::view-transition-old&lt;/code&gt; is useless, only that I don’t have a use for it in these transitions. I’m still figuring out exactly how to use them. I &lt;strong&gt;think&lt;/strong&gt; they could be useful if I decided I wanted some type of outro transition when leaving the page.&lt;/p&gt;
&lt;p&gt;Back to the rest of the animation. In our &lt;code&gt;prefers-reduced-motion&lt;/code&gt; media query, we apply new animations to the &lt;code&gt;streetcred-graphic-main&lt;/code&gt; and &lt;code&gt;streetcred-graphic-main-img&lt;/code&gt; view transitions.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@media (prefers-reduced-motion: no-preference) {
   ::view-transition-new(streetcred-graphic-main) {
    animation: graphicMain 0.5s ease;
   }

   ::view-transition-new(streetcred-graphic-main-img) {
     animation: graphicMainImg 0.9s ease;
   }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And the &lt;code&gt;graphicMain&lt;/code&gt; and &lt;code&gt;graphicMainImg&lt;/code&gt; keyframes:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@keyframes graphicMain {
  0%, 50% {
    opacity: 0;
    translate: 0 100px;
  }

  100% {
    opacity: 1;
    translate: 0;
  }
}

@keyframes graphicMainImg {
  0%, 75% {
    opacity: 0;
    scale: 0.9;
  }

  100% {
    opacity: 1;
    scale: 1;
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These are both typical &lt;code&gt;keyframes&lt;/code&gt; rulesets, with a small timing trick that I’ll explain shortly. &lt;code&gt;graphicMain&lt;/code&gt; animates the opacity and Y translation of the main device to make it appear. &lt;code&gt;graphicMainImg&lt;/code&gt; animates the opacity and scale of the app screen to give that splash-screen-to-app-initialized effect.&lt;/p&gt;
&lt;p&gt;Now, the timing trick. Watch the transition again. Notice the slight delay before the main device starts to transition? I’m finding that a delay of 200 milliseconds or so helps sell these types of page transitions. Without it, the motion starts as soon as the page loads, and feels like it gets lost in the surrounding page changes. This isn’t a one-size-fits all setting, and I’m not yet convinced I have the timing right on all the pages. It’s something I’ll keep tweaking.&lt;/p&gt;
&lt;p&gt;The first thing I tried to create the delay, was &lt;code&gt;animation-delay&lt;/code&gt;. I found out quick that it could work, but would require more effort to use while also respecting our &lt;code&gt;prefers-reduced-motion&lt;/code&gt; media query. The reason for that is we would have to apply the “off-screen” styles to the snapshot element along with the animation to make sure the snapshot isn’t visible during the delay. I tried a few different approaches with &lt;code&gt;animation-delay&lt;/code&gt;, but I couldn’t make it work. Things just got...weird with it. So, I tried a different approach.&lt;/p&gt;
&lt;p&gt;Notice the &lt;code&gt;0%,50%&lt;/code&gt; and &lt;code&gt;0%,75%&lt;/code&gt; in the keyframes. Those delay property interpolation until 50% and 75% of the animation duration, respectively. That way, at the start of the animation, the elments are invisible because they have their &lt;code&gt;opacity&lt;/code&gt; set to &lt;code&gt;0&lt;/code&gt;. We couple that with the duration of the animations, &lt;code&gt;0.5s&lt;/code&gt; and &lt;code&gt;0.9s&lt;/code&gt;. I write those as seconds in CSS, but here, easier to say &lt;code&gt;200ms&lt;/code&gt; and &lt;code&gt;900ms&lt;/code&gt;. So that means from &lt;code&gt;0ms to 100ms&lt;/code&gt; or 50% of the total duration, and &lt;code&gt;0ms to 675ms&lt;/code&gt; or 75% of the total duration, the elements are invisible, off screen. It takes a bit of math to work those out, but it also doesn’t need to be exact. When I build these, I just feel out both the percentages and the durations until I find what works.&lt;/p&gt;
&lt;p&gt;Next up, we’ll transition the three smaller app details that sit above the main device. For each of these, we want them to do a fade with a bit of a float and scale up into place. Starting with the leaderboard.&lt;/p&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/work-transitions-2.mp4&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
    &lt;figcaption&gt;fig 6: The leaderboard detail transitioning into place.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;We follow a similar pattern as with the previous elements. Again, in our &lt;code&gt;prefers-reduce-motion&lt;/code&gt; media query we apply a keyframe animation to the new snapshot:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@media (prefers-reduced-motion: no-preference) {
   ...
  ::view-transition-new(streetcred-graphic-board) {
    animation: graphicDetail var(--duration, 1.2s) ease;
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Notice this time we’re using a custom property, &lt;code&gt;--duration&lt;/code&gt;, to set the animation duration. We’ll take advantage of that for later elements. Then, the &lt;code&gt;graphicDetails&lt;/code&gt; animation is:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@keyframes graphicDetail {
  0%,
  80% {
    opacity: 0;
    transform: scale(0.5) translateY(180px);
  }

  100% {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Again, we’re using the &lt;code&gt;0%,80&lt;/code&gt; timing trick. The property changes get our fade in, scale, and float up into place. Notice the order. The element starts scaled and translated down, then transitions to normal scale and translation. Here’s a tangent about how I think about these types of animations. Imagine you have a bowling ball attached to a rope that’s tied to a rafter in the ceiling. Then the bowling ball is hoisted up to the ceiling while keeping the rope taut and the ball is fastend to the ceiling with another piece of rope. That’s the &lt;code&gt;0% to 80%&lt;/code&gt; position of the animation. To start the animation, we cut the second piece of rope that had the ball secured to the ceiling, allowing the bowling ball to swing down until comes to a resting or, &lt;code&gt;100%&lt;/code&gt;, position.&lt;/p&gt;
&lt;p&gt;From here, we can transition the other two app details. They’re similar to the leaderboard, so we can reuse the &lt;code&gt;graphicDetail&lt;/code&gt;.&lt;/p&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/work-transitions-3.mp4&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
    &lt;figcaption&gt;fig 7: The POI and cubes details transitioning into place.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Notice they don’t all transition in at the same time, and they don’t wait for each other to finish before starting. That helps sell it. We want that slight overlap in timing to make the compisition more interesting. To do that, we apply the same &lt;code&gt;graphicDetail&lt;/code&gt; animation to the POI and cubes details, but we customize the &lt;code&gt;--duration&lt;/code&gt; custom property.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@media (prefers-reduced-motion: no-preference) {
   ...
  ::view-transition-new(streetcred-graphic-board),
  ::view-transition-new(streetcred-graphic-poi),
  ::view-transition-new(streetcred-graphic-cubes) {
    animation: graphicDetail var(--duration, 1.2s) ease;
  }
  ::view-transition-new(streetcred-graphic-poi) {
    --duration: 1.4s;
  }
  ::view-transition-new(streetcred-graphic-cubes) {
    --duration: 1.6s;
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Since we’re using the same &lt;code&gt;0%,80%&lt;/code&gt; stops on the &lt;code&gt;graphicDetail&lt;/code&gt; keyframes, setting a different duration on each snapshot causes them to start and end at different times.&lt;/p&gt;
&lt;p&gt;The last element we need to transition is the StreetCred title. It’s the ending, the “ta-da!”, like a movie trailer or teaser, tie a bow on the whole thing with the name.&lt;/p&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/work-transitions-4.mp4&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
    &lt;figcaption&gt;fig 8: The title transitioning into place.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;This follows the same patterns as the other elements. Apply an animation with our timing trick to the new snapshot, set the properties we want to transition, and watch it go. It doesn’t wait for the three detail elements to complete. It starts transitioning in the final milliseconds of the last one, with a light whisping into place to complete the composition.&lt;/p&gt;
&lt;h2&gt;The other pages&lt;/h2&gt;
&lt;p&gt;The other project pages and the about page follow the same patterns. They’re less complex, but all have multiple elements that transition in to make an interesting composition.&lt;/p&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/work-transitions-5.mp4&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
    &lt;figcaption&gt;fig 9: The Limbo project hero transition&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;The speed and duration of each transition is meant to reflect to overall tone of the project. The Groundwork is notably less snappy than the others to give it a bit of an airy, “ahhhh”-choir feel.&lt;/p&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/work-transitions-6.mp4&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
    &lt;figcaption&gt;fig 10: The Groundwork project hero transition&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/work-transitions-7.mp4&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
    &lt;figcaption&gt;fig 11: The Building OS X Apps with JavaScript project hero transition&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://stuff.tylergaw.com/post-complex-view-transitions/work-transitions-8.mp4&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
    &lt;figcaption&gt;fig 12: The about page hero transition&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Worth mentioning again that this is just CSS with a touch of HTML. Also worth pointing out that very little of this is specific to CSS view transitions. 90% of this is CSS keyframes coupled with principles of good animation.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Using ChatGPT to Write CloudFormation</title>
    <link href="https://tylergaw.com/blog/chatgpt-cloudformation/"/>
    <updated>2023-10-18T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/chatgpt-cloudformation/</id>
    <content type="html">&lt;p&gt;&lt;a href=&quot;https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html&quot;&gt;CloudFormation&lt;/a&gt; is not fun to write. The documentation is obtuse. There’s 20 different ways to do everything. Time spent on it feels like yak shaving at best and a total waste at worst. Having said that, the infra provisioning setups you can make with it are helpful and, for most things beyond small personal projects, necessary. So, I’ve been doing what every lazy programmer does. I’m getting a computer to do the unfun work for me.&lt;/p&gt;
&lt;h2&gt;The project&lt;/h2&gt;
&lt;p&gt;For a client project I’m working on right now, I’m using AWS Lambda with EventBridge, Secrets Manager, and CloudWatch. It’s a small project. What I’ve built is a Lambda function that runs at scheduled times every day. Each function invocation takes a certain input that tells the function to complete a certain task. The tasks all interact with the &lt;a href=&quot;https://www.bullhorn.com/&quot;&gt;Bullhorn&lt;/a&gt; API to modify various records. I’m also using &lt;a href=&quot;https://aws.amazon.com/serverless/sam/&quot;&gt;AWS SAM&lt;/a&gt; on the project.&lt;/p&gt;
&lt;h2&gt;The infra&lt;/h2&gt;
&lt;p&gt;I’m not an expert in infra provisioning and not an expert in AWS services. But, I’ve used AWS enough over the years to have an understanding of what’s offered and, for the most part, what’s possible. Because of that, I’m able to describe the AWS setup I want in English but, I struggle at times to find the exact CloudFormation incantation I need to accomplish what I’m looking for. Again, that’s in large part because the documentation is all over the place. (&lt;strong&gt;Side note&lt;/strong&gt;: I realize there are alternatives to CloudFormation, which I’ve used and will use on other projects, but for this one, I’m using CloudFormation.)&lt;/p&gt;
&lt;p&gt;This is where ChatGPT is a perfect tool. It’s hoovered up all of the scattered documentation and blog posts about CloudFormation and can take my specific, but unstructured, infra description and give me back the structured CloudFormation YAML.&lt;/p&gt;
&lt;h2&gt;The prompts&lt;/h2&gt;
&lt;p&gt;When I started did this, I had a rough CloudFormation template that I generated with the SAM CLI and modified for the project. Here’s the first few lines of it:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-yaml&quot;&gt;AWSTemplateFormatVersion: &#39;2010-09-09&#39;
Transform: AWS::Serverless-2016-10-31
Description: &gt;
  bullhorn-entity-updater
Globals:
  Function:
    Tracing: Active
Resources:
  BullhornEntityUpdaterFunction:
    Type: AWS::Serverless::Function
    Properties:
      Description: A Lambda function with multiple available tasks to update Bullhorn entities.
      Runtime: nodejs18.x

# ...template continues, truncated for display
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I fed the template into ChatGPT and told it that I needed help adding resources. There’s nothing sensitive in it, so I can share the &lt;a href=&quot;https://chat.openai.com/share/4ce3ff0a-dece-4834-bdd4-d4a82a499c3e&quot;&gt;full chat log&lt;/a&gt; that I went back to over a couple days.&lt;/p&gt;
&lt;p&gt;For the most part, it’s what you’d expect. After setting the scene, I started prompting with:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;First, can we add 3 aws cloudwatch events:
- Each one can invoke the BullhornEntityUpdaterFunction
- Each one is on a cron schedule at 1am daily
- Each one sends `{&quot;task&quot;: &quot;noop&quot;}` as input
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It responded back with a brief and overly enthusiastic explanation about what it had done and then gave me the complete YAML with the events added in.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-yaml&quot;&gt;...
Events:  # &lt;-- Add this Events section
  DailyTrigger1:
    Type: Schedule
    Properties:
      Schedule: cron(0 1 * * ? *)
      Input: &#39;{&quot;task&quot;: &quot;noop&quot;}&#39;
  DailyTrigger2:
    Type: Schedule
    Properties:
      Schedule: cron(0 1 * * ? *)
      Input: &#39;{&quot;task&quot;: &quot;noop&quot;}&#39;
  DailyTrigger3:
    Type: Schedule
    Properties:
      Schedule: cron(0 1 * * ? *)
      Input: &#39;{&quot;task&quot;: &quot;noop&quot;}&#39;
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Good so far. From there, I could make changes to the names, cron, and input as needed. You can see from my prompt that I understand what I want. This helps me get there.&lt;/p&gt;
&lt;p&gt;Something that’s very helpful is being able to ask clarifying questions to help me gain a better understanding. For example, my next prompt:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;If I change `DailyTrigger1` `DailyTrigger2` `DailyTrigger3` 
will that change the name of the event in the AWS console?&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;ChatGPT gives a detailed answer:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;Yes, changing the names DailyTrigger1, DailyTrigger2, 
DailyTrigger3 in the CloudFormation template will change the 
logical IDs of those AWS CloudWatch Event rules. However, it 
won&#39;t directly affect the displayed names in the AWS Console.

In AWS CloudFormation, these are known as logical IDs, which 
are used to uniquely identify a resource within a template. 

...answer continues&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These are the types of questions I can’t ask static documentation and that is difficult to Google for.&lt;/p&gt;
&lt;p&gt;Another interesting exchange later was me asking for Lambda insights.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;Can we update the function to enable lambda insights?&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Which produced a response and the following snippet&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-yaml&quot;&gt;...
Layers:
  - !Sub &#39;arn:aws:lambda:${AWS::Region}:580247275435:layer:LambdaInsightsExtension:14&#39;  # Please note that the version number (14 here) may change
Policies:
  - Version: &#39;2012-10-17&#39;
    Statement:
      - Effect: Allow
        Action:
          - &quot;cloudwatch:PutMetricData&quot;
          - &quot;logs:CreateLogGroup&quot;
          - &quot;logs:CreateLogStream&quot;
          - &quot;logs:PutLogEvents&quot;
        Resource: &quot;*&quot;
...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This was an instance where I knew more about what I wanted and this wasn’t it. I knew there was a managed policy for this instead of listing the actions like this. So, I needed to edit my prompt to get ChatGPT closer. First I tried:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;Can we update the function to enable lambda insights following 
best practices?&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It came back with the same listed actions so I had to get more specific:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;Can we update the function to enable lambda insights 
using a managed policy?&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That’s what it needed. Along with a detailed explanation it gave back this YAML:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-yaml&quot;&gt;BullhornEntityUpdaterFunction:
  Type: AWS::Serverless::Function
  Properties:
    ...
    Policies:
      - arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy
    Layers:
      - !Sub &#39;arn:aws:lambda:${AWS::Region}:580247275435:layer:LambdaInsightsExtension:14&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Again, this was me having enough knowledge about what I wanted to be able to guide ChatGPT to the best outcome. Note that in that exchange I’m editing the prompt, not creating new prompts. That’s a habit I’ve picked up from Jeremy Howard’s excellent “&lt;a href=&quot;https://youtu.be/jkrNMKz9pWU?si=w5MH0Hh9KzGG891k&quot;&gt;A Hackers&#39; Guide to Language Models&lt;/a&gt;”.&lt;/p&gt;
&lt;p&gt;It’s worth reading through the &lt;a href=&quot;https://chat.openai.com/share/4ce3ff0a-dece-4834-bdd4-d4a82a499c3e&quot;&gt;full chat log&lt;/a&gt;. There are more interesting little bits that show how I’m going back and forth to make sure I’m getting what I need and that I understand what we’re doing.&lt;/p&gt;
&lt;p&gt;So, not the singularity, but, this is the most practical, day-to-day helpful thing I’ve done with any LLM so far. Coming up with ideas for infrastructure is fun. Writing YAML is not. Having computers to do the unfun, tedious parts of the job is what they’re here for.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>The Native Node Test Runner is Great</title>
    <link href="https://tylergaw.com/blog/node-test-runner/"/>
    <updated>2023-09-26T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/node-test-runner/</id>
    <content type="html">&lt;p&gt;&lt;b&gt;TL;DR:&lt;/b&gt; There’s a &lt;a href=&quot;https://nodejs.org/docs/latest-v20.x/api/test.html&quot;&gt;native test runner in node&lt;/a&gt;. It’s great. You should use it on your next project.&lt;/p&gt;
&lt;p&gt;Things like this just feel good. Any time you can switch from using an external dependency to something built-in feels like taking off heavy winter boots. If you haven’t used it yet, node’s &lt;a href=&quot;https://nodejs.org/docs/latest-v20.x/api/test.html&quot;&gt;native test runner in node&lt;/a&gt; is excellent. It’s available in node verions &lt;code&gt;16.17+&lt;/code&gt;, &lt;code&gt;18+&lt;/code&gt;, and &lt;code&gt;20+&lt;/code&gt;. I’ve been using it on a couple small projects recently and so far it’s done everything I need a test runner to do and just feels right.&lt;/p&gt;
&lt;p&gt;I set up a &lt;a href=&quot;https://github.com/tylergaw/node-test-runner-demo&quot;&gt;demo repo&lt;/a&gt; to show how I’m using it. There’s not much there, and that’s the point. I have two scripts in &lt;code&gt;package.json&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;&quot;test&quot;: &quot;node --test&quot;,
&quot;test:watch&quot;: &quot;node --test --watch .&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In &lt;code&gt;add.js&lt;/code&gt; I have a single function that requires two arguments.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;export default function add(a, b) {
  if (!a || !b) {
    throw Error(&quot;The add function requires 2 arguments&quot;);
  }

  return a + b;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then in &lt;code&gt;add.test.js&lt;/code&gt; I import a few native modules and write tests like normal:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;import { describe, it } from &quot;node:test&quot;;
import assert from &quot;node:assert/strict&quot;;
import add from &quot;./add.js&quot;;

describe(&quot;The add function&quot;, () =&gt; {
  it(&quot;#add throws without two arguments&quot;, () =&gt; {
    assert.throws(() =&gt; {
      add();
    }, Error);

    assert.throws(() =&gt; {
      add(2);
    }, Error);
  });

  it(&quot;#add returns the expected result&quot;, () =&gt; {
    assert.equal(add(5, 4), 9);
  });
});&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I use the strict assert. Which is &lt;code&gt;===&lt;/code&gt; instead of &lt;code&gt;==&lt;/code&gt;. That’s not a requirement, just a preference.&lt;/p&gt;
&lt;p&gt;For one off tests and for a CI, I run &lt;code&gt;npm test&lt;/code&gt;. When I’m working locally I keep &lt;code&gt;npm test:watch&lt;/code&gt; running. The docs for the &lt;a href=&quot;https://nodejs.org/docs/latest-v20.x/api/test.html&quot;&gt;runner&lt;/a&gt; and for &lt;a href=&quot;https://nodejs.org/api/assert.html&quot;&gt;assert&lt;/a&gt; are clutch.&lt;/p&gt;
&lt;p&gt;This just feels light and correct and I think it’s great. That’s all.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>CSS Trig Functions, CSS Typed OM, and Pulling on Threads</title>
    <link href="https://tylergaw.com/blog/css-typed-om-thread/"/>
    <updated>2023-09-25T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/css-typed-om-thread/</id>
    <content type="html">&lt;p&gt;&lt;b&gt;TL;DR:&lt;/b&gt; I’m contributing to a &lt;a href=&quot;https://github.com/tylergaw/css-typed-om&quot;&gt;CSS Typed OM polyfill&lt;/a&gt; for browsers (and maybe jsdom).&lt;/p&gt;
&lt;p&gt;It started off like it usually does; I had an idea. Dangerous, I know. I’d been learning about, tinkering with &lt;a href=&quot;https://web.dev/css-trig-functions/&quot;&gt;CSS Trig functions&lt;/a&gt;. They’re very cool. Seems like there’s a lot of potential uses for them. My problem, though, is I can’t visualize them. I can put them in CSS and see the effect they have, but I have trouble being deliberate about the values I pass to them because I’m not sure what the result will be.&lt;/p&gt;
&lt;p&gt;Take &lt;code&gt;cos(25deg)&lt;/code&gt; for example. I know that will return a number between -1 and 1. But what number? The last time I used &lt;code&gt;cos&lt;/code&gt;, &lt;code&gt;sin&lt;/code&gt;, &lt;code&gt;tan&lt;/code&gt;, et al was in my high school trig class over 20 years ago. I can’t picture it, so I need a way to actually see the result.&lt;/p&gt;
&lt;p&gt;The idea is small. I want a tool where I can plop in any CSS trig function; &lt;code&gt;cos(25deg)&lt;/code&gt;, &lt;code&gt;sin(pi / 5)&lt;/code&gt;, &lt;code&gt;tan(0.125turn)&lt;/code&gt;, etc. and see the number it produces. &lt;code&gt;0.9063077870366499&lt;/code&gt;, &lt;code&gt;0.5877852522924731&lt;/code&gt;, &lt;code&gt;0.9999999999999999&lt;/code&gt;, and so on. Going further, I want the calculations to run exactly how CSS runs them. So, not a JavaScript approximation like &lt;code&gt;Math.cos&lt;/code&gt;, &lt;code&gt;Math.sin&lt;/code&gt;, &lt;code&gt;Math.tan&lt;/code&gt;, etc. (I realize under the hood these might be similar or the same, but still)&lt;/p&gt;
&lt;p&gt;Why a different tool, why not just apply functions to CSS properties and then use the inspector to see the value? Because you can’t see the exact value of just the trig function. You can do something like &lt;code&gt;width: calc(1px * cos(25deg))&lt;/code&gt; then check the &lt;code&gt;width&lt;/code&gt; value in the devtools computed styles panel and get close, but not exact. Also, &lt;code&gt;width: cos(25deg)&lt;/code&gt; is invalid CSS and using a custom prop like &lt;code&gt;--v: cos(25deg)&lt;/code&gt; doesn’t really work either because the custom prop value is stored as &lt;code&gt;cos(25deg)&lt;/code&gt;. I want/need something else.&lt;/p&gt;
&lt;p&gt;I started working on this. And by “started working” I mean I spent a half hour finding a domain name for this non-existent tool. At some point this thing might be at &lt;code&gt;https://cssfunctions.style&lt;/code&gt;. Then, I actually built a rough proof of concept. It’s on &lt;a href=&quot;https://codepen.io/tylergaw/pen/QWzdrWN?editors=1010&quot;&gt;CodePen&lt;/a&gt; at the moment. Right now, it only handles a few trig functions, but it’s enough to see that it’s possible and to see what else I need to do to get it working enough for me needs. So, success? Sorta.&lt;/p&gt;
&lt;h2&gt;CSS Typed OM&lt;/h2&gt;
&lt;p&gt;The key bit of code in the POC is &lt;code&gt;CSSStyleValue.parse&lt;/code&gt;. That’s a feature of the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CSS_Typed_OM_API&quot;&gt;CSS Typed Object Model API&lt;/a&gt;. A not new, but not very familiar Web API. At the time of this post, CSS Typed OM is implemented in Chrome, Edge, Safari, and Opera. But, not implemented at all in Firefox. Looking at the &lt;a href=&quot;https://bugzilla.mozilla.org/show_bug.cgi?id=1278697&quot;&gt;Bugzilla ticket&lt;/a&gt;, it doesn’t look like it will be implemented any time soon. The ticket was opened seven years ago and the only recent activity is it being marked as unassigned.&lt;/p&gt;
&lt;p&gt;A search led me to a &lt;a href=&quot;https://github.com/csstools/css-typed-om&quot;&gt;typed OM polyfill&lt;/a&gt; built by &lt;a href=&quot;https://jonneal.dev/&quot;&gt;Jonathan Neal&lt;/a&gt;. He does a ton of excellent work, so I knew it was legit. And it was, but it’s dated. The last work was done 2018. Pull requests from over three years ago are still open. Then there’s the &lt;a href=&quot;https://github.com/csstools/css-typed-om/issues/9&quot;&gt;familiar GitHub issue asking “Is this dead?”&lt;/a&gt;. That issue was opened three years ago and the last comment, before mine two days ago, was in 2022. So, safe to say the project, in its orginal state, is stalled.*&lt;/p&gt;
&lt;p class=&quot;note-special&quot;&gt;&lt;b&gt;* Note:&lt;/b&gt; That’s not a knock against Jonathan or the current owner of the repo at all. This is common. You start a project, get busy with other more pressing things, and then just don’t have the time or energy to work on it or even follow up on issues or pull requests. Check my repos and you’ll see this exact thing.&lt;/p&gt;
&lt;p&gt;I started playing around with the polyfill just to see how close it was or wasn’t to the spec. The foundation is super solid. I don’t know what the spec was like in 2018, but it seems like Jonathan got a ton of what was around then in place. Then I had another dangerous thought, maybe I can continue work on it? The code is all JavaScript and organized very well. It would be easy to see which features exist and which don’t. There are patterns in place to follow so there wouldn’t be a “blank page” problem. And there are live implementations of the API to reference.&lt;/p&gt;
&lt;p&gt;So, I forked the repo, picked a small unimplemented feature and started working on an implementation. And, it worked. Which is both good and bad. Good because I may be able to get the polyfill to a point where I can use it in my trig functions tool. Bad because I’m letting myself completely nerd out on it. Which leads me to the last part of this.&lt;/p&gt;
&lt;h2&gt;Pullin’ threads&lt;/h2&gt;
&lt;p&gt;It’s rare that you start work on a project and work on just the project. There’s always other “stuff” that you have to get into. Sometimes it’s to fix underlying issues, sometimes to shave a yak or shed a bike. But, it’s rare–at least in my case—to have a project where I’m able to let myself pull any thread and keep pulling it. Right now, though, I’m lucky (from some angles) because I don’t have a full time job. So for this project, I get to pull the threads and do the work that follows. Since I have the time, and it’s super interesting, I&#39;m full on nerding out on this one.&lt;/p&gt;
&lt;p&gt;With that, I’m already deep into work on &lt;a href=&quot;https://github.com/tylergaw/css-typed-om&quot;&gt;my fork&lt;/a&gt; of the polyfill. My goal is to get it fully functional. Or close enough. It may not have or need everything in the spec, but there’s no reason it can’t be a useful tool for unsupported browsers and, I think, jsdom. I did some early jsdom testing and it seems like it will work. There are some CSS things that just can’t happen without a browser, but most of the features can work.&lt;/p&gt;
&lt;p&gt;A big chunk of work so far was documenting &lt;a href=&quot;https://github.com/tylergaw/css-typed-om#feature-implementation-status&quot;&gt;feature implementation status&lt;/a&gt;. There’s still work to be done there, but I needed to have some type of roadmap. Other than that, I’m just picking off features and working on them. I’m having a lot of fun because I’m getting to try out new tools and use JavaScript in a way that I don’t normally. Which is writing code to facilitate writing different code. I’m also taking time to deep read sections of the &lt;a href=&quot;https://drafts.css-houdini.org/css-typed-om&quot;&gt;draft spec for typed OM&lt;/a&gt;. Definitely not the easiest thing to follow, but interesting. Gives me an even greater appreciation for everyone that implements features from specs in browsers.&lt;/p&gt;
&lt;p&gt;As always, I’ll make a fairweather attempt to write about some of the interesting things I get into here as I build out the polyfill and when I get back to the original CSS functions project.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>CSS Scroll-Driven Write-on Text Effect</title>
    <link href="https://tylergaw.com/blog/css-scroll-driven-write-on/"/>
    <updated>2023-07-19T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/css-scroll-driven-write-on/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_scroll-driven_animations&quot;&gt;CSS scroll-driven animations&lt;/a&gt; are a new feature that&#39;s in early days of rolling out to browsers. In short, they’re everything we love about CSS animations, but with a timeline based on scroll position instead of automatic timeline.
&lt;/p&gt;
&lt;p&gt;This is my first time tinkering with them and so far they’re super fun. Being able to accomplish these effects with zero JavaScript is huge. This type of text write-on effect is very common in animation. Trying it with scroll animations was one of the first things that popped into my head.&lt;/p&gt;
&lt;p class=&quot;note-special&quot;&gt;
  &lt;strong&gt;Note:&lt;/strong&gt; At the time of this post, CSS scroll-driven animations support is limited to Chrome 116+ which is only in Chrome Canary.
&lt;/p&gt;
&lt;p&gt;Here’s the demo. It’s not perfect, but workable. A proper write-on text effect would
have the actual stroke of the letters written out instead of just a reveal like this.&lt;/p&gt;
&lt;div class=&quot;codepen&quot; data-height=&quot;600&quot; data-default-tab=&quot;css,result&quot; data-slug-hash=&quot;dyQeJwJ&quot; data-user=&quot;tylergaw&quot; style=&quot;height: 600px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 1px solid; margin: 1em 0;&quot;&gt;
  &lt;span&gt;See the Pen &lt;a href=&quot;https://codepen.io/tylergaw/pen/dyQeJwJ&quot;&gt;
  CSS scroll-driven text write-on&lt;/a&gt; by Tyler Gaw (&lt;a href=&quot;https://codepen.io/tylergaw&quot;&gt;@tylergaw&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io/&quot;&gt;CodePen&lt;/a&gt;.&lt;/span&gt;
&lt;/div&gt;
&lt;script async=&quot;&quot; src=&quot;https://cpwebassets.codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;
&lt;p&gt;And a video showing the effect if you don&#39;t want to mess with Chrome Canary.&lt;/p&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://p197.p4.n0.cdn.getcloudapp.com/items/RBuJmk1m/a4a420c1-4fd9-4a3b-848e-2f7582300919.mp4?source=viewer&amp;v=bf40343d6e3cd9c35bd789a249dde455&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
&lt;/figure&gt;
&lt;p&gt;While it takes time to figure out the nuances of how scroll animations work, this demo is fairly straightforward to accomplish. I’m animating the width of a &lt;code&gt;clip-path&lt;/code&gt; &lt;code&gt;polygon&lt;/code&gt; to reveal each line of text. Instead of the animation running immediately, the progress of it is tied to the scroll position of the &lt;code&gt;p&lt;/code&gt; element for the line of the poem.&lt;/p&gt;
&lt;p&gt;The full code is available in the &lt;a href=&quot;https://codepen.io/tylergaw/pen/dyQeJwJ&quot;&gt;CodePen&lt;/a&gt;, the core bits are as follows:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@keyframes write {
  0% { clip-path: polygon(0 0, 0 0, 0 100%, 0 100%); }
  100% { clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%); }
}

main p {
  animation: write linear both;
  view-timeline-name: --written-text;
  view-timeline-axis: block;
  animation-timeline: --written-text;
  animation-range: entry-crossing 30% contain 45%;
}&lt;/code&gt;&lt;/pre&gt;
&lt;ol&gt;
&lt;li&gt;Declare a &lt;code&gt;@keyframes&lt;/code&gt; animation named &lt;code&gt;write&lt;/code&gt; that increases the width of a &lt;code&gt;clip-path&lt;/code&gt; from 0 to 100%.&lt;/li&gt;
&lt;li&gt;Apply the &lt;code&gt;write&lt;/code&gt; animation to each &lt;code&gt;p&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Give the timeline a unique name, &lt;code&gt;--written-text&lt;/code&gt;, and set that as the &lt;code&gt;animation-timline&lt;/code&gt;. This overrides the standard, automatic &lt;code&gt;animation&lt;/code&gt; timeline&lt;/li&gt;
&lt;li&gt;Using &lt;code&gt;animation-range&lt;/code&gt;, refine how the animation progresses related to the scroll position of each &lt;code&gt;p&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;That last point for &lt;code&gt;animation-range&lt;/code&gt;, that’s where I spent the most time. And where we have the most control over each animation. There’s a ton of different possible variations. Luckily &lt;a href=&quot;https://www.bram.us/&quot;&gt;Bramus&lt;/a&gt; made an &lt;a href=&quot;https://scroll-driven-animations.style/tools/view-timeline/ranges&quot;&gt;excellent tool to visualize it&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is just one effect that’s possible with scroll-driven animations. Another very welcome addition to CSS. If you’re looking for an intro to them, again Bramus has you covered with &lt;a href=&quot;https://developer.chrome.com/articles/scroll-driven-animations/&quot;&gt;“Animate elements on scroll with Scroll-driven animations”&lt;/a&gt;.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>First Experiments with View Transitions for Multi-page Apps</title>
    <link href="https://tylergaw.com/blog/view-transitions-first-experiments-mpa/"/>
    <updated>2023-05-26T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/view-transitions-first-experiments-mpa/</id>
    <content type="html">&lt;p class=&quot;note-update&quot;&gt;
  &lt;strong&gt;Update October 6, 2024:&lt;/strong&gt; Some of this is outdated. See “&lt;a href=&quot;https://tylergaw.com/blog/view-transition-at-rule/&quot;&gt;CSS View Transition At-Rule&lt;/a&gt;”.
&lt;/p&gt;
&lt;p&gt;Like a lot of other people right now, I&#39;m excited about the in-development &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API&quot;&gt;View Transitions API&lt;/a&gt;. I&#39;m extra excited about using it without JavaScript for multi-page apps (sites, whatever). &lt;a href=&quot;https://daverupert.com/2023/05/getting-started-view-transitions/&quot;&gt;Dave&#39;s excellent post&lt;/a&gt; got me set up with the basics. I&#39;ve spent the last day or so experimenting, playing, and learning as much about the topic as I can.&lt;/p&gt;
&lt;p&gt;As I&#39;m learning, I&#39;m putting together a &lt;a href=&quot;https://github.com/tylergaw/mpa-view-transitions-sandbox&quot;&gt;repo of example transitions&lt;/a&gt; and a &lt;a href=&quot;https://mpa-view-transitions-sandbox.netlify.app/&quot;&gt;site with the live examples&lt;/a&gt;.&lt;/p&gt;
&lt;p class=&quot;note-special&quot;&gt;
  &lt;strong&gt;Note:&lt;/strong&gt; At the time of this post, view transitions are still very much a work in progress. That means browser support is limited. Examples may not work for you or might break. To use in Chrome or Arc, enable two feature flags:
  &lt;code&gt;chrome://flags#view-transition&lt;/code&gt; and &lt;code&gt;chrome://flags#view-transition-on-navigation&lt;/code&gt;
&lt;/p&gt;
&lt;h2&gt;What am I learning?&lt;/h2&gt;
&lt;p&gt;If you&#39;re looking for an intro to view transitions or details on initial setup, see &lt;a href=&quot;https://daverupert.com/2023/05/getting-started-view-transitions/&quot;&gt;Dave&#39;s post&lt;/a&gt; and &lt;a href=&quot;https://adactio.com/journal/20195&quot;&gt;Jeremy&#39;s post&lt;/a&gt;. I&#39;m assuming some prior knowledge with this post. What I&#39;ll share here are the “ah-ha!” or “that&#39;s interesting” moments. Things that I could only discover by getting in and playing around with different use cases. For new features like this you have to get your hands on it to get a feel for what you can do.&lt;/p&gt;
&lt;h3&gt;You can scope transition selectors&lt;/h3&gt;
&lt;p&gt;Pseudo-elements are the CSS hook to customize transitions. There are five of them in a tree structure. &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/View_Transitions_API#the_view_transition_process&quot;&gt;Source&lt;/a&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;::view-transition
└─ ::view-transition-group()
   └─ ::view-transition-image-pair()
      ├─ ::view-transition-old()
      └─ ::view-transition-new()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Browsers generate this set of pseudo-elements for the root and all named view transitions. I haven&#39;t done anything with &lt;code&gt;::view-transition-group&lt;/code&gt; or &lt;code&gt;::view-transition-image-pair&lt;/code&gt; yet so I can&#39;t speak to what&#39;s possible with them. So far, I&#39;ve used &lt;code&gt;::view-transition-old&lt;/code&gt; and &lt;code&gt;::view-transition-new&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;From the MDN docs:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;::view-transition-old&lt;/code&gt; is the screenshot of the old page view, and &lt;code&gt;::view-transition-new&lt;/code&gt; is the live representation of the new page view.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In examples, I&#39;d only seen those selectors used by themselves like:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;::view-transition-old(root),
::view-transition-new(root) {/*...*/}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I wondered, “can these be scoped?”. Yeah they can. We can use any id, class, or other valid attribute selector for more specific scoping/targeting. This was an “ah-ha!” I guess it shouldn&#39;t have been. These are standard pseudo-elements, like &lt;code&gt;::before&lt;/code&gt; or &lt;code&gt;::after&lt;/code&gt;. Something about new additions to CSS gives them a bit of mysterious vibe to me. Takes me a bit to realize I can work with them in familiar, standard ways.&lt;/p&gt;
&lt;p&gt;So, why is scoping cool? In short, you can use scoping to have unique transitions. Could be unique per-page, per-project, per-brand, and so on. Unique transitions per-page was the first one I tried.&lt;/p&gt;
&lt;p&gt;For this example, I wanted each of four pages to all slide in and out of the screen from and to a different direction. From right to left, bottom to top, left to right, and top to bottom. You can see a live example at &lt;a href=&quot;https://mpa-view-transitions-sandbox.netlify.app/unique-page-slide/&quot;&gt;mpa-view-transitions-sandbox.netlify.app/unique-page-slide/&lt;/a&gt;. If you haven&#39;t enabled the feature flags to see that, here&#39;s a video:&lt;/p&gt;
&lt;figure&gt;
&lt;video src=&quot;https://p197.p4.n0.cdn.getcloudapp.com/items/JruejBeP/b38a000f-102d-4147-a0c5-34e311fc2043.mp4?source=viewer&amp;v=80324ae5755f4a11b3e1c97f989e499a&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
  &lt;figcaption&gt;fig 1: Live example available &lt;a href=&quot;https://mpa-view-transitions-sandbox.netlify.app/unique-page-slide/&quot;&gt;mpa-view-transitions-sandbox.netlify.app/unique-page-slide&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;This is a toy example, but it shows how powerful scoping transitions can be. Let&#39;s look at the HTML and CSS to make this happen. The &lt;a href=&quot;https://github.com/tylergaw/mpa-view-transitions-sandbox/tree/main/unique-page-slide&quot;&gt;full code&lt;/a&gt; is on Github.&lt;/p&gt;
&lt;p&gt;After initial setup of adding the transitions &lt;code&gt;meta&lt;/code&gt; tag to every page &lt;code&gt;&amp;lt;meta name=&amp;quot;view-transition&amp;quot; content=&amp;quot;same-origin&amp;quot; /&amp;gt;&lt;/code&gt;, we need an attribute to use for scoping.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;html data-page=&quot;home&quot;&amp;gt;...&amp;lt;/html&amp;gt;
&amp;lt;html data-page=&quot;one&quot;&amp;gt;...&amp;lt;/html&amp;gt;
&amp;lt;html data-page=&quot;two&quot;&amp;gt;...&amp;lt;/html&amp;gt;
&amp;lt;html data-page=&quot;three&quot;&amp;gt;...&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This doesn&#39;t have to be a data attribute, only my preference. Could be a class or id or any other attribute. These will use the &lt;code&gt;root&lt;/code&gt; transition, so the attribute does need to be on the &lt;code&gt;html&lt;/code&gt;, or root, element.&lt;/p&gt;
&lt;p&gt;With the data attributes in place, we can use them in CSS to scope our &lt;code&gt;-old&lt;/code&gt; and &lt;code&gt;-new&lt;/code&gt; pseudo-elements for each page:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;[data-page=&quot;home&quot;]::view-transition-old(root) {...}
[data-page=&quot;home&quot;]::view-transition-new(root) {...}
[data-page=&quot;one&quot;]::view-transition-old(root) {...}
[data-page=&quot;one&quot;]::view-transition-new(root) {...}
/* ...and so on for the other pages */&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This lets us customize the transition in and out for every page. Let&#39;s look at Page 1. When we navigate to Page 1, we want to see the entire page slide in from the bottom to the top. We target the &lt;code&gt;-new&lt;/code&gt; element for this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;[data-page=&quot;one&quot;]::view-transition-new(root) {
  animation: slideUp 0.3s;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;code&gt;slideUp&lt;/code&gt; is a &lt;code&gt;@keyframes&lt;/code&gt; declaration that starts the page off the screen to the bottom and then animates it to the top:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@keyframes slideUp {
  from { transform: translateY(100vh) }
  to { transform: translateY(0) }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;When we navigate away from Page 1, we want to see it continue on its path by sliding out to the top. We target the &lt;code&gt;-old&lt;/code&gt; element for this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;[data-page=&quot;one&quot;]::view-transition-old(root) {
  animation: slideOutUp 0.3s;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Again, &lt;code&gt;slideOutUp&lt;/code&gt; is a &lt;code&gt;@keyframes&lt;/code&gt; declaration. I&#39;ll leave the code out for brevity. The &lt;a href=&quot;https://github.com/tylergaw/mpa-view-transitions-sandbox/blob/main/unique-page-slide/unique-page-slide.css&quot;&gt;full stylesheet&lt;/a&gt; is on Github.&lt;/p&gt;
&lt;p&gt;We follow this same pattern for the other pages. For each, we set a custom animation on the &lt;code&gt;view-transition-new&lt;/code&gt; and &lt;code&gt;view-transition-old&lt;/code&gt; pseudo-elements. The animations use a different &lt;code&gt;transform&lt;/code&gt; and different values to get the transition we&#39;re after.&lt;/p&gt;
&lt;p&gt;Scoping isn&#39;t limited to the &lt;code&gt;root&lt;/code&gt; transition. The same concept works for named transitions. I don&#39;t have a working example, but lets say we have a content element on each page that we want to transition. The transition is the same on most pages, but we have certain ones we want a different transition. It might look something like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;::view-transition-new(content) {
  animation: standard 0.2s;
}

.special-page::view-transition-new(content) {
  animation: special 0.4s;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I haven&#39;t explored scoping named transitions much yet, but it feels like it opens up a lot of possibilities.&lt;/p&gt;
&lt;h3&gt;Elements don&#39;t have to be on both pages to transition&lt;/h3&gt;
&lt;p&gt;This is a “that&#39;s interesting”. Also maybe a “duh” in hindsight, but took me a bit to figure out. To get an element to transition or “morph” between two pages, you give that element a transition name:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;div style=&quot;view-transition-name: content&quot; /&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If an element with that name is present on both the current page and the page you’re navigating to, the element will morph between the elements’ shape, size, color, etc. I thought this was the only way to transition elements. To have the element be on both pages and morph. That&#39;s not the case. You can transition an element in and out that only exists on the page you&#39;re navigating.&lt;/p&gt;
&lt;p&gt;This is a little tough to explain in words, &lt;a href=&quot;https://mpa-view-transitions-sandbox.netlify.app/grid-item-view/&quot;&gt;here&#39;s an example&lt;/a&gt;. And again, a video in case these aren&#39;t working for you yet.&lt;/p&gt;
&lt;figure&gt;
&lt;video src=&quot;https://p197.p4.n0.cdn.getcloudapp.com/items/ApugQ4b1/69486edd-3fd5-4398-b8a2-9115f14837d4.mp4?source=viewer&amp;v=401646be1fbea0cbcdf5bdbb8641d9a6&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
  &lt;figcaption&gt;fig 2: Live example available &lt;a href=&quot;https://mpa-view-transitions-sandbox.netlify.app/grid-item-view/&quot;&gt;mpa-view-transitions-sandbox.netlify.app/grid-item-view&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;The title, description, and graphic for each item exists on both the list and single item page. So, those elements morph between each page. The “All items” button is only on the single item pages. But, we&#39;re still able to give it a transition name and, in this case, a custom animation. A custom animation isn&#39;t required, but you likely don&#39;t want the default for something like this.&lt;/p&gt;
&lt;p&gt;To do this, we set a &lt;code&gt;view-transition-name&lt;/code&gt; in the HTML. This is a normal CSS property, so we could also set this on the &lt;code&gt;small&lt;/code&gt; element in CSS. I just chose inline because I wasn&#39;t applying any other styles.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;small style=&quot;view-transition-name: all-items-link&quot;&amp;gt;
  &amp;lt;a href=&quot;./&quot;&amp;gt;&amp;lt; All items&amp;lt;/a&amp;gt;
&amp;lt;/small&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then, in the CSS, we create a custom animation and apply it to our &lt;code&gt;-new&lt;/code&gt; element for the transition name:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;::view-transition-new(all-items-link) {
  animation: itemsLinkIn 0.3s;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This gives a lot of control over how elements transition or, as I think about it, how they enter and exit the stage. &lt;a href=&quot;https://github.com/tylergaw/mpa-view-transitions-sandbox/tree/main/grid-item-view&quot;&gt;Full code&lt;/a&gt; for this example on Github.&lt;/p&gt;
&lt;h2&gt;What’s next?&lt;/h2&gt;
&lt;p&gt;It’s early days for this. I only have a few hours of tinkering so far. It’s already clear just how powerful these can be and how well designed a spec and feature it is. A couple oddities aside, things just kind of work as expected.&lt;/p&gt;
&lt;p&gt;Building these &lt;a href=&quot;https://mpa-view-transitions-sandbox.netlify.app/&quot;&gt;isolated examples&lt;/a&gt; is helpful to get the feel of things, and good for sharing what’s possible. But what will really open this up is to have specific design choices to go after. Meaning, having pages designed with transitions in mind and then trying to execute on those designs. You can only learn so much with contrived examples.&lt;/p&gt;
&lt;p&gt;I’ve started exploring ideas on this site. I have a lot of detailed layouts and graphics thoughout. I’m working on designing transitions that aren’t just standard fades and wipes per page, but ones tailored to the contents of individual pages. I don’t have anything live yet, but this video shows some of the early ideas I&#39;ve been playing with. Nothing sticking so far, I&#39;m doing kinda out-there, garish things right now to stress test and see what works and what doesn’t.&lt;/p&gt;
&lt;figure&gt;
  &lt;video src=&quot;https://p197.p4.n0.cdn.getcloudapp.com/items/2NupJ4mG/66ea8402-dd8b-460b-b3da-6fc7aba4f2b2.mp4?source=viewer&amp;v=4f8a9c5dd92462027ef492faac87f7d9&quot; controls=&quot;&quot;&gt;&lt;/video&gt;
  &lt;figcaption&gt;fig 3: Early transition design exploration on tylergaw.com&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;It’s easy to see how far we can push this. And all of this is with &lt;strong&gt;HTML and CSS, no JavaScript&lt;/strong&gt;. As with all design elements, it will take restraint to design compelling transitions that aren’t annoying. I’m certain we’ll go too far and have to reel it back it. So it goes.&lt;/p&gt;
&lt;p&gt;Lastly, this is all additive. With every new web technology, we get the chorus of; “Yeah, but when will it be supported?” Today, it’s supported today in some browsers, but not all. If you look at any of the examples on a browser that does not support them, the pages still function just fine. The transitions are an extra that’s layered on top if and when your browser supports them. Another concrete example of progressive enhancement in practice.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Refreshing Colormix</title>
    <link href="https://tylergaw.com/blog/colormix-refresh/"/>
    <updated>2023-05-16T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/colormix-refresh/</id>
    <content type="html">&lt;p&gt;&lt;a href=&quot;https://tylergaw.com/blog/colormix-mvp/&quot;&gt;Last summer&lt;/a&gt;, I built a tool to help visualize the CSS &lt;code&gt;color-mix&lt;/code&gt; function. &lt;a href=&quot;https://www.colormix.style/&quot;&gt;colormix.style&lt;/a&gt; lets you mix two colors in a given color space and generates the CSS snippet needed to do that with &lt;code&gt;color-mix&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;For the MVP, I was focused on building the bare minimum to get the idea across. Since then, browser support for &lt;code&gt;color-mix&lt;/code&gt; as improved. More people are experimenting with and &lt;a href=&quot;https://developer.chrome.com/articles/high-definition-css-color-guide/&quot;&gt;writing about&lt;/a&gt; &lt;code&gt;color-mix&lt;/code&gt; and the huge amount of new color-related features in CSS. And, my understanding of &lt;code&gt;color-mix&lt;/code&gt; and more importantly how new CSS color capabilities work as expanded.&lt;/p&gt;
&lt;p&gt;With all that, I’m taking the time to iterate &lt;a href=&quot;https://www.colormix.style/&quot;&gt;colormix.style&lt;/a&gt; beyond an MVP into a more robust, more useful tool.&lt;/p&gt;
&lt;h2&gt;What’s new?&lt;/h2&gt;
&lt;p&gt;To be able to make the larger functionality and usability improvements I wanted, the first thing I needed to do was take another stab at the overall UI. I had an idea for what I wanted when I designed the MVP, a spartan UI where every pixel of the UI was part of the tool, free from any design embellishments. That idea can work, but I didn&#39;t execute on it well enough.&lt;/p&gt;
&lt;p&gt;It also felt like my original design put too much emphasis on the color input vs the output. The two color inputs, while important, aren&#39;t the main idea. The output color of the operation is.&lt;/p&gt;
&lt;p&gt;With those things in mind, I got to work reimagining and refreshing the UI.&lt;/p&gt;
&lt;h3&gt;MVP design&lt;/h3&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://tylergaw.com/blog/assets/post-image-colormix-mvp-screenshot.jpg&quot; alt=&quot;A screenshot of colormix.style&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 1: &lt;a href=&quot;https://www.colormix.style/&quot;&gt;colormix.style&lt;/a&gt; MVP design that was functional, but left a lot of room for improvement.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;The basic utility was there, but it just wasn&#39;t what I knew it could be. As I used it more, and thought about new functionality I wanted to include, this design wasn&#39;t going to work going forward. Also, aesthetically it wasn&#39;t at the level of completeness or fidelity that I wanted.&lt;/p&gt;
&lt;h3&gt;Refreshed design&lt;/h3&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://tylergaw.com/blog/assets/post-image-colormix-refresh-after.jpg&quot; alt=&quot;A screenshot of colormix.style showing the improved design&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 2: &lt;a href=&quot;https://www.colormix.style/&quot;&gt;colormix.style&lt;/a&gt; Improved design&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;First, just aesthetically, this is easier to look at. Part of that is just due to me spending more time to get details right. And I think I think I &amp;quot;designed the bad&amp;quot; out with the MVP, which is a common exercise for me. The focus is now clearly on the output color. I have more to do here, but this sets the foundation for those future improvements.&lt;/p&gt;
&lt;p&gt;I let go of trying to have every pixel be part of the functionality. There’s whitespace in the header and footer and around the color output container. It&#39;s not a ton, but just enough to help push focus to the interactive elements on the page.&lt;/p&gt;
&lt;p&gt;This is a utility tool so functionality will always be key, but I also let myself get away with a couple design flourishes with the plus and arrow icons. A couple tiny details to break up the matter-of-factness of the rest of the design.&lt;/p&gt;
&lt;h4&gt;Removing the percentage slider&lt;/h4&gt;
&lt;p&gt;One thing I removed was the slider to control the mix percentage. The number input is the only way to control mix percentage now. We&#39;ll see if this ends up being the right decision. I took inspiration from design tools for this. I noticed that in Figma when controlling percentages like opacity, the only control is the text input. I&#39;ve never once wanted a slider for that. I think that&#39;s partially because we don&#39;t tend to make large up or down changes. If we do need to go from say 100% to 10%, it&#39;s faster to backspace or just type &amp;quot;10&amp;quot;.&lt;/p&gt;
&lt;p&gt;One improvement I&#39;ll add here is the ability to hold the shift key with the up and down arrow keys to increment by 10. That&#39;s something I reach for in Figma and other similar tools often and feels necessary.&lt;/p&gt;
&lt;h2&gt;What’s next?&lt;/h2&gt;
&lt;p&gt;This UI refresh is a first and largely cosmetic step for improving the tool. I have a list of new functionality I&#39;m working on already and will continue to work on in the coming weeks/months.&lt;/p&gt;
&lt;p&gt;The most important functionality addition will be to allow for all color spaces in color inputs. Right now I only have rgb via hex. This drastically reduces the functionality and blunts the future-looking nature of the tool. The introduction of new color spaces in CSS is huge and exciting. This tool will provide a way to work with them soon.&lt;/p&gt;
&lt;p&gt;You can follow the full list of what I&#39;m up to on &lt;a href=&quot;https://github.com/tylergaw/colormix.site/issues&quot;&gt;Github issues&lt;/a&gt;. If you see something broken or have an idea, feel free to add an issue there.&lt;/p&gt;
&lt;h2&gt;Credits&lt;/h2&gt;
&lt;p&gt;I&#39;ve been taking heavy UI and functionality inspiration from Adam Argyle’s &lt;a href=&quot;https://gradient.style/&quot;&gt;gradient.style&lt;/a&gt; and learning a ton about new CSS color capabilities from his article &lt;a href=&quot;https://developer.chrome.com/articles/high-definition-css-color-guide/&quot;&gt;&amp;quot;High Definition CSS Color Guide&amp;quot;&lt;/a&gt;.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Re-encode AVIF images for iOS 16</title>
    <link href="https://tylergaw.com/blog/ios-16-avif-fix/"/>
    <updated>2023-01-29T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/ios-16-avif-fix/</id>
    <content type="html">&lt;p&gt;In late 2022, Apple &lt;a href=&quot;https://webkit.org/blog/13152/webkit-features-in-safari-16-0/&quot;&gt;announced support&lt;/a&gt; for AVIF images on iOS 16+. That was welcome news, but did lead to issues. I don&#39;t know how wide spread this issue is, but for this site, most AVIF images I had in place stopped working. If you&#39;re searching for some version of; &lt;strong&gt;&amp;quot;iOS 16 AVIF images broken&amp;quot;&lt;/strong&gt;, this might help you out.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;TL;DR&lt;/strong&gt;: Re-encode any AVIF images that aren&#39;t working. There have been AVIF spec changes and there were bugs in popular encoders that caused AVIF not to work in iOS.&lt;/p&gt;
&lt;h2&gt;The problem&lt;/h2&gt;
&lt;p&gt;I&#39;ve been using AVIF images throughout this site since about 2020. I use the &lt;code&gt;source&lt;/code&gt; element with &lt;code&gt;srcset&lt;/code&gt; to provide AVIF, WEBP, and JPG or PNG formats for most images. This worked until iOS shipped support for AVIF. Before then, iOS would just not recognize the AVIF format and use WEBP instead.&lt;/p&gt;
&lt;p&gt;With AVIF support, iOS started recognizing and loading AVIF images. I could confirm that was the cause using the devtools network panel. But, on the page, there would be a missing image. Either blank, in Chrome iOS, or the little blue question mark in Safari iOS.&lt;/p&gt;
&lt;h2&gt;The fix&lt;/h2&gt;
&lt;p&gt;Re-encode any AVIF images. For me, this meant; tracking down original images and graphics in Figma, exporting has PNG or JPG, then converting those to AVIF using &lt;a href=&quot;https://squoosh.app/&quot;&gt;Squoosh&lt;/a&gt;. Once I did that, AVIF images loaded and displayed as expected.&lt;/p&gt;
&lt;p&gt;I had trouble finding details on this. What led me to even try re-encoding was &lt;a href=&quot;https://github.com/Fyrd/caniuse/issues/6505#issuecomment-1289471190&quot;&gt;Jen Simmons&#39; comment&lt;/a&gt; on a related issue:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Please do create new images for your tests. The specs for AVIF changed since the early days. Image encoders have been updated — including in Sept 2022, when AVIF bugs in several of the common encoders were found.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2&gt;Local trouble&lt;/h2&gt;
&lt;p&gt;Something to watch out for. I have not been able to get any AVIF images to work on the iOS 16 Simulator on macOS Monterey 12.6.1. This may just be because I&#39;m not on the latest macOS. If you&#39;re using a simulator and re-encoding does not seem to be working, make sure you try a real device. That&#39;s the only place I&#39;m seeing AVIF images work.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Visualizing CSS color-mix</title>
    <link href="https://tylergaw.com/blog/colormix-mvp/"/>
    <updated>2022-06-29T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/colormix-mvp/</id>
    <content type="html">&lt;p&gt;
  TL;DR: &lt;a href=&quot;https://www.colormix.style/&quot;&gt;colormix.style&lt;/a&gt; and &lt;a href=&quot;https://github.com/tylergaw/colormix.site&quot;&gt; github.com/tylergaw/colormix.site&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
  Way back in 2017, I &lt;a href=&quot;https://tylergaw.com/blog/introducing-colorme/&quot;&gt;built ColorMe&lt;/a&gt; for working with a proposed CSS color function. That proposal didn&#39;t end up sticking, so that &lt;code&gt;color&lt;/code&gt; function is no longer valid. ColorMe is still a useful color picker though.
&lt;/p&gt;
&lt;p&gt;
  Now, in 2022, there&#39;s a proposal for a new CSS color function. This version is named &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/color-mix&quot;&gt;&lt;code&gt;color-mix&lt;/code&gt;&lt;/a&gt;. It&#39;s part of the &lt;a href=&quot;https://drafts.csswg.org/css-color-5/#color-mix&quot;&gt;CSS Color Module Level 5&lt;/a&gt; spec. It allows you to mix two colors in a given colorspace in CSS. That&#39;s very cool.
&lt;/p&gt;
&lt;p&gt;
  Similar to the deprecated color function, I wanted a quick way to see the results and code snippet for &lt;code&gt;color-mix&lt;/code&gt;. &lt;strong&gt;So I built a new tool to do just that; &lt;a href=&quot;https://www.colormix.style/&quot;&gt;colormix.style&lt;/a&gt;&lt;/strong&gt;. 
&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://tylergaw.com/blog/assets/post-image-colormix-mvp-screenshot.jpg&quot; alt=&quot;A screenshot of colormix.style&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 1: &lt;a href=&quot;https://www.colormix.style/&quot;&gt;colormix.style&lt;/a&gt; MVP&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;What does it do?&lt;/h2&gt;
&lt;p&gt;
  This is an MVP and something I&#39;ll keep working on. For now, it provides the basic functionality of &lt;code&gt;color-mix&lt;/code&gt;. It allows you to pick two colors, set the percentage mix for each color, select a colorspace, and see the results and CSS snippet to produce it.
&lt;/p&gt;
&lt;h2&gt;Support&lt;/h2&gt;
&lt;p&gt;
  Unless you&#39;re in the habit of fiddling with browser feature flags, this likely won&#39;t work completely for you. &lt;code&gt;color-mix&lt;/code&gt; is only available in a couple browsers and those require a feature flag to be enabled. At the time of this writing, it&#39;s latest Firefox and Safari. Check &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/color_value/color-mix#browser_compatibility&quot;&gt;MDN Browser compatibility&lt;/a&gt; for details on how to enable it.
&lt;/p&gt;
&lt;p&gt;
  As always, I have a list of to-dos I want to get done and I want to write more about what I&#39;ve learned researching and working with &lt;code&gt;color-mix&lt;/code&gt;. This is a prompt and reminder for myself to do that. Let me know if you use ColorMix and find it useful or run into issues.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Realign 2020: Realigned</title>
    <link href="https://tylergaw.com/blog/realign-2020-realigned/"/>
    <updated>2021-02-27T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/realign-2020-realigned/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  A year ago today I wrote &lt;a href=&quot;https://tylergaw.com/blog/realign-2020&quot;&gt;Realign 2020&lt;/a&gt;. A typical designery blog post
  where I declared my intent to redesign and rebuild my site and write about it along
  the way.
&lt;/p&gt;
&lt;p&gt;Through 2020 I did that. I did the work. It&#39;s live now. I’m super happy with
the results. I didn&#39;t write all the posts I wanted to, but that&#39;s OK. Here&#39;s the posts I did write.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://tylergaw.com/blog/realign-2020-typography&quot;&gt;Realign 2020: Typography&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://tylergaw.com/blog/realign-2020-logo&quot;&gt;Realign 2020: Logo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://tylergaw.com/blog/realign-2020-color&quot;&gt;Realign 2020: Color&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and the posts I planned, but didn’t write&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Realign 2020: Content&lt;/li&gt;
&lt;li&gt;Realign 2020: Netlify&lt;/li&gt;
&lt;li&gt;Realign 2020: Tooling Updates&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I did all the work that would have been in those posts, but just didn&#39;t write about it. I made the classic mistake. I started out with small updates; type, color, logo. And published those posts after each chunk of work. But then? I made a mess. I made a git branch with the ominous name &amp;quot;rebuild.&amp;quot; So, of course, that turned into an amorphous catch-all. That &lt;a href=&quot;https://github.com/tylergaw/tylergaw.com/pull/46&quot;&gt;pull request&lt;/a&gt; got so far ahead of the main branch that I had to do everything in it. And that made it so I didn&#39;t want to write blog posts because I was worried about merge conflicts and just general dred of having a huge pull request. I worked in that branch from August 2020 to February 2021.&lt;/p&gt;
&lt;p&gt;This was fine though. When I started the realign in February 2020, I didn’t set a launch date for myself on purpose. Just 2020. I wanted to give myself the space to think and the time to work. And I think it shows in the results.&lt;/p&gt;
&lt;p&gt;2020 was also a hard year. For everyone. The trauma of living through the combination of a pandemic and insurrection and existential climate crisis makes just a teensy bit difficult to wrok. The daily dred impacts the creative process in awful ways. I don&#39;t do this work because of external pressue. I do this work because I’m compelled to do it. I &lt;strong&gt;have&lt;/strong&gt; to do it. I &lt;strong&gt;need&lt;/strong&gt; to do it. That compulsion to do creative work doesn&#39;t go away during hard times. But the energy to act on that compulsion does. That leads to feelings of lack of accomplishment and a constant feeling of something in the distance that you know you want to get to, but can&#39;t will yourself to move towards. I guess? I dunno? Who knows? What was I even talking about? Oh yeah. Web design.&lt;/p&gt;
&lt;p&gt;What I’ve landed on with this effort feels like the most accurate picture of my work and of me as a designer that I’ve had. It’s still not the full story. There&#39;s so much more that I want to archive on this site. And I will over time. That’s what I’m doing with this site. I’m creating a space where I can house as much information about my work as possible. For myself and for anyone that’s interested.&lt;/p&gt;
&lt;h2&gt;What&#39;s next?&lt;/h2&gt;
&lt;p&gt;This is me making another declaration of intent. In 2021 I want to keep working and writing about this website. I want to write about this most recent chunk of work. And I have bunch of other efforts in mind. Here&#39;s a list of topics I want to explore on this blog in 2021:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Switching from &lt;a href=&quot;https://metalsmith.io/&quot;&gt;Metalsmith&lt;/a&gt; to &lt;a href=&quot;https://www.11ty.dev/&quot;&gt;Eleventy&lt;/a&gt;. This will be light, fun nerd stuff. And I hope helpful for other folks using Eleventy&lt;/li&gt;
&lt;li&gt;How I created a little design world of structured chaos on the home page. I&#39;m using classic grid design techniques to set rules. And then bending and breaking those rules to make things interesting. I’m also using &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Grid_Layout&quot;&gt;CSS Grid&lt;/a&gt; extensively and will describe my approach to it&lt;/li&gt;
&lt;li&gt;Accessibility (a11y) efforts. This is a fancy, funky design, but it’s a website so it has to be accessible. I still have issues to work through, but I’ve taken a lot of care and code already and I want to share that&lt;/li&gt;
&lt;li&gt;All the details! There&#39;s so many fun little things. I want to keep a ongoing series called; &amp;quot;Look at this!&amp;quot;, or similar, to highlight specific areas of the design and how I built them&lt;/li&gt;
&lt;li&gt;The illustrations! My portait and the Limbo elephant where huge efforts. I’ll share details about my process creating those&lt;/li&gt;
&lt;li&gt;More about my approach to being creative. I&#39;m constantly thinking about and struggling with serious vs solemn, as &lt;a href=&quot;https://youtu.be/atn22-bmTPU&quot;&gt;Paula Scher&lt;/a&gt; so eloquently described&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and two archival efforts I&#39;ve started and want to continue&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The Groundwork static archive. None of the work we did is still online. I’m going to archive as much of it as I can at &lt;a href=&quot;https://theground.work/&quot;&gt;theground.work&lt;/a&gt; and invite the team to contribute&lt;/li&gt;
&lt;li&gt;Limbo static archive. When we shut down Limbo, we took the site offline. Same as The Groundwork, I&#39;m going to work on a static archive of the site for Chris and I&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;That&#39;s not everything, but that&#39;s a lot. Here&#39;s to another year of enjoying the process of tending to a personal website.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>How to Get All Custom Properties on a Page in JavaScript</title>
    <link href="https://tylergaw.com/blog/how-to-get-all-custom-properties-on-a-page-in-javascript/"/>
    <updated>2020-06-15T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/how-to-get-all-custom-properties-on-a-page-in-javascript/</id>
    <content type="html">&lt;p class=&quot;drop-capped&quot;&gt;
  When I have a question about how to do something with CSS, I often find the
  answer on &lt;a href=&quot;https://css-tricks.com/&quot;&gt;CSS-Tricks&lt;/a&gt;. I’m guessing
  that’s true for a lot of you too. It’s been the go-to for CSS knowledge for as
  long as I can remember.
&lt;/p&gt;
&lt;p&gt;
  If one day you find yourself searching for help working with CSS custom
  properties in JavaScript, you might find yourself on an article on CSS-Tricks
  written by me. Because, last Monday, June 8th 2020 I have an article published
  on that invaluable website.
&lt;/p&gt;
&lt;p class=&quot;note-update&quot;&gt;
  &lt;b&gt;Update:&lt;/b&gt; In early 2022, &lt;a href=&quot;https://css-tricks.com/css-tricks-is-joining-digitalocean/&quot;&gt;CSS-Tricks was bought by DigitalOcean&lt;/a&gt;. Since then, they haven’t done much with it. At the time of this update, the last post was almost eight months ago. I don’t trust that they’ll be a good steward going forward. I’d saw we’ll start losing posts or the entire site will just go offline at some point in the not so distant future. I don’t want to lose the contents of my post, so I’m reposting it here, &lt;a href=&quot;https://tylergaw.com/blog/how-to-get-all-custom-properties-on-a-page-in-javascript/#repost&quot;&gt;down below&lt;/a&gt;, where I know it will stay online.
&lt;/p&gt;
&lt;figure&gt;
  &lt;a href=&quot;https://css-tricks.com/how-to-get-all-custom-properties-on-a-page-in-javascript/&quot;&gt;
    &lt;picture&gt;
      &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-how-to-get-all-custom-props-1.webp&quot; type=&quot;image/webp&quot; /&gt;
      &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-how-to-get-all-custom-props-1.png&quot; type=&quot;image/jpeg&quot; /&gt;
      &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-how-to-get-all-custom-props-1.png&quot; alt=&quot;A screenshot of my article on CSS-Tricks.com&quot; /&gt;
    &lt;/picture&gt;
  &lt;/a&gt;
  &lt;figcaption&gt;
    fig 1: How to Get All Custom Properties on a Page in JavaScript
    &lt;a href=&quot;https://css-tricks.com/how-to-get-all-custom-properties-on-a-page-in-javascript/&quot;&gt;on CSS-Tricks.com&lt;/a&gt;
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;The Process&lt;/h2&gt;
&lt;p&gt;
  I used the technique I describe in the article at work for a one-off project.
  It was fun code to work on. It required a lot of following a trail of
  different browser APIs. I latch on to work like that. After I had the code
  working for the project I abstracted it to stand-alone examples. I started
  writing a draft for my personal blog. But, I wrote too many words. I got
  bogged down. The draft was over 3,000 words, wasn&#39;t finished, and wasn’t very
  good. I couldn’t motivate myself to finish it. So, it sat. In a branch,
  unfinished. Not the first blog post I’d abandoned.
&lt;/p&gt;
&lt;p&gt;
  Months later, I was listening to an
  &lt;a href=&quot;https://longform.org/posts/longform-podcast-387-eva-holland&quot;&gt;interview with Eva Holland&lt;/a&gt;
  on the Longform Podcast. In it, she talked about how during her career she’d
  cold pitched articles to editors at publications. This wasn’t the first time
  I’d heard this from writers, but something about hearing it that time stuck
  with me.
&lt;/p&gt;
&lt;p&gt;
  “&lt;b&gt;I should do that!&lt;/b&gt;”, I thought. Specifically, I thought I should pitch
  the custom properties article I’d given up on to the best web development
  publication I could think of.
&lt;/p&gt;
&lt;p&gt;
  Was that a thing? Is that how articles on CSS-Tricks come to be? Turns out
  that’s one way. I’d always assumed the only way to get an article on a site
  like CSS-Tricks was to get an invitation to do so. That is not the case. They
  have a
  &lt;a href=&quot;https://css-tricks.com/guest-posting/&quot;&gt;pitch form&lt;/a&gt; available to
  everyone.
  &lt;a href=&quot;https://chriscoyier.net/&quot;&gt;Chris even asks you to write a guest post on his site.&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
  So, I pitched the article idea. It wasn’t perfect and the draft wasn’t done.
  Chris got back to me in a few days and said, “go for it.” It took me about a
  month to get back up to speed on the code and write a full draft. I’m a slow
  writer. Within a few days of submitting the draft,
  &lt;a href=&quot;https://geoffgraham.me/&quot;&gt;Geoff&lt;/a&gt; began the editing process. We did
  a few rounds of copy edits, small style updates, and checks to make sure we
  had consistent and accurate code samples and CodePen links. June 8th was the
  day that fit the publishing calendar. And now I’m super excited to have it
  live.
&lt;/p&gt;
&lt;p&gt;
  A post like this doesn’t get a million comments or make the front page of
  Hacker News. That’s not its purpose. A post like this exists for the long
  term. It’s a utility that will sit in wait until the day you need it. On that
  day, it’ll be waiting for you, ready to help.
&lt;/p&gt;
&lt;h2 id=&quot;repost&quot;&gt;Full article reposted from CSS-Tricks&lt;/h2&gt;
&lt;p class=&quot;note-special&quot;&gt;
  Originally published June 8, 2020 at &lt;a href=&quot;https://css-tricks.com/how-to-get-all-custom-properties-on-a-page-in-javascript/&quot;&gt;https://css-tricks.com/how-to-get-all-custom-properties-on-a-page-in-javascript/&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;We can use JavaScript to get the value of a CSS custom property. Robin wrote up a detailed explanation about this in &lt;a href=&quot;https://css-tricks.com/get-a-css-custom-property-value-with-javascript/&quot;&gt;Get a CSS Custom Property Value with JavaScript&lt;/a&gt;. To review, let’s say we’ve declared a single custom property on the HTML element:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;html {
  --color-accent: #00eb9b;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In JavaScript, we can access the value with &lt;code&gt;getComputedStyle&lt;/code&gt; and &lt;code&gt;getPropertyValue&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const colorAccent = getComputedStyle(document.documentElement)
  .getPropertyValue(&#39;--color-accent&#39;); // #00eb9b&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Perfect. Now we have access to our accent color in JavaScript. You know what’s cool? If we change that color in CSS, it updates in JavaScript as well! Handy.&lt;/p&gt;
&lt;p&gt;What happens, though, when it’s not just one property we need access to in JavaScript, but a whole bunch of them?&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;html {
  --color-accent: #00eb9b;
  --color-accent-secondary: #9db4ff;
  --color-accent-tertiary: #f2c0ea;
  --color-text: #292929;
  --color-divider: #d7d7d7;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We end up with JavaScript that looks like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const colorAccent = getComputedStyle(document.documentElement).getPropertyValue(&#39;--color-accent&#39;); // #00eb9b
const colorAccentSecondary = getComputedStyle(document.documentElement).getPropertyValue(&#39;--color-accent-secondary&#39;); // #9db4ff
const colorAccentTertiary = getComputedStyle(document.documentElement).getPropertyValue(&#39;--color-accent-tertiary&#39;); // #f2c0ea
const colorText = getComputedStyle(document.documentElement).getPropertyValue(&#39;--color-text&#39;); // #292929
const colorDivider = getComputedStyle(document.documentElement).getPropertyValue(&#39;--color-text&#39;); // #d7d7d7&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We’re repeating ourselves a lot. We could shorten each one of these lines by abstracting the common tasks to a function.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const getCSSProp = (element, propName) =&gt; getComputedStyle(element).getPropertyValue(propName);
const colorAccent = getCSSProp(document.documentElement, &#39;--color-accent&#39;); // #00eb9b
// repeat for each custom property...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That helps reduce code repetition, but we still have a less-than-ideal situation. Every time we add a custom property in CSS, we have to write another line of JavaScript to access it. This can and does work fine if we only have a few custom properties. I’ve used this setup on production projects before. But, it’s also possible to automate this.&lt;/p&gt;
&lt;p&gt;Let’s walk through the process of automating it by making a working thing.&lt;/p&gt;
&lt;h3&gt;What are we making?&lt;/h3&gt;
&lt;p&gt;We’ll make a color palette, which is a common feature in pattern libraries. We’ll generate a grid of color swatches from our CSS custom properties.&lt;/p&gt;
&lt;p&gt;Here’s the &lt;a href=&quot;https://codepen.io/tylergaw/pen/57ccb4a5dfbadc7b32a225272994dc3d&quot;&gt;complete demo&lt;/a&gt; that we’ll build step-by-step.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-get-custom-properties-js/fig1.webp&quot; alt=&quot;A preview of our CSS custom property-driven color palette. Showing six cards, one for each color, including the custom property name and hex value in each card.&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 1: Here&#39;s what we&#39;re aiming for.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Let’s set the stage. We’ll use an unordered list to display our palette. Each swatch is a &lt;code&gt;&amp;lt;li&amp;gt;&lt;/code&gt; element that we’ll render with JavaScript.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;ul class=&quot;colors&quot;&amp;gt;&amp;lt;/ul&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The CSS for the grid layout isn’t pertinent to the technique in this post, so we won’t look at in detail. It’s available in the &lt;a href=&quot;https://codepen.io/tylergaw/pen/57ccb4a5dfbadc7b32a225272994dc3d&quot;&gt;CodePen demo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Now that we have our HTML and CSS in place, we’ll focus on the JavaScript. Here’s an outline of what we’ll do with our code:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Get all stylesheets on a page, both external and internal&lt;/li&gt;
&lt;li&gt;Discard any stylesheets hosted on third-party domains&lt;/li&gt;
&lt;li&gt;Get all rules for the remaining stylesheets&lt;/li&gt;
&lt;li&gt;Discard any rules that aren’t basic style rules&lt;/li&gt;
&lt;li&gt;Get the name and value of all CSS properties&lt;/li&gt;
&lt;li&gt;Discard non-custom CSS properties&lt;/li&gt;
&lt;li&gt;Build HTML to display the color swatches&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Let’s get to it.&lt;/p&gt;
&lt;h3&gt;Step 1: Get all stylesheets on a page&lt;/h3&gt;
&lt;p&gt;The first thing we need to do is get all external and internal stylesheets on the current page. Stylesheets are available as members of the global document.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;document.styleSheets&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That returns an array-like object. We want to use array methods, so we’ll convert it to an array. Let’s also put this in a function that we’ll use throughout this post.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const getCSSCustomPropIndex = () =&gt; [...document.styleSheets];&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://codepen.io/tylergaw/pen/2163695e55e0ab5e339675582cbb2462&quot;&gt;Demo on CodePen&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;When we invoke getCSSCustomPropIndex, we see an array of &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet&quot;&gt;CSSStyleSheet&lt;/a&gt; objects, one for each external and internal stylesheet on the current page.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-get-custom-properties-js/fig2.webp&quot; alt=&quot;The output of getCSSCustomPropIndex, an array of CSSStyleSheet objects&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 2: The output of getCSSCustomPropIndex&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3&gt;Step 2: Discard third-party stylesheets&lt;/h3&gt;
&lt;p&gt;If our script is running on https://example.com any stylesheet we want to inspect must also be on https://example.com. This is a security feature. From the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet%23Notes&quot;&gt;MDN docs for CSSStyleSheet&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In some browsers, if a stylesheet is loaded from a different domain, accessing cssRules results in SecurityError.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That means that if the current page links to a stylesheet hosted on https://some-cdn.com, we can’t get custom properties — or any styles — from it. The approach we’re taking here only works for stylesheets hosted on the current domain.&lt;/p&gt;
&lt;p&gt;CSSStyleSheet objects have an href property. Its value is the full URL to the stylesheet, like https://example.com/styles.css. Internal stylesheets have an href property, but the value will be &lt;code&gt;null&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let’s write a function that discards third-party stylesheets. We’ll do that by comparing the stylesheet’s href value to the current &lt;code&gt;location.origin&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const isSameDomain = (styleSheet) =&gt; {
  if (!styleSheet.href) {
    return true;
  }

  return styleSheet.href.indexOf(window.location.origin) === 0;
};&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we use &lt;code&gt;isSameDomain&lt;/code&gt; as a filter on &lt;code&gt;document.styleSheets&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const getCSSCustomPropIndex = () =&gt; [...document.styleSheets]
  .filter(isSameDomain);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://codepen.io/tylergaw/pen/35351c6c426ecbdfd3669d7d3ce03ab6&quot;&gt;Demo on CodePen&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;With the third-party stylesheets discarded, we can inspect the contents of those remaining.&lt;/p&gt;
&lt;h3&gt;Step 3: Get all rules for the remaining stylesheets&lt;/h3&gt;
&lt;p&gt;Our goal for &lt;code&gt;getCSSCustomPropIndex&lt;/code&gt; is to produce an array of arrays. To get there, we’ll use a combination of array methods to loop through, find values we want, and combine them. Let’s take a first step in that direction by producing an array containing every style rule.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const getCSSCustomPropIndex = () =&gt; [...document.styleSheets]
  .filter(isSameDomain)
  .reduce((finalArr, sheet) =&gt; finalArr.concat(...sheet.cssRules), []);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://codepen.io/tylergaw/pen/c99c6be39b1ff5f429e06f3cd7aecc11&quot;&gt;Demo on CodePen&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We use &lt;code&gt;reduce&lt;/code&gt; and &lt;code&gt;concat&lt;/code&gt; because we want to produce a flat array where every first-level element is what we’re interested in. In this snippet, we iterate over individual &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet&quot;&gt;CSSStyleSheet&lt;/a&gt; objects. For each one of them, we need its &lt;code&gt;cssRules&lt;/code&gt;. &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet/cssRules&quot;&gt;From the MDN docs&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The read-only CSSStyleSheet property cssRules returns a live CSSRuleList which provides a real-time, up-to-date list of every CSS rule which comprises the stylesheet. Each item in the list is a CSSRule defining a single rule.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Each CSS rule is the selector, braces, and property declarations. We use the spread operator &lt;code&gt;...sheet.cssRules&lt;/code&gt; to take every rule out of the &lt;code&gt;cssRules&lt;/code&gt; object and place it in &lt;code&gt;finalArr&lt;/code&gt;. When we log the output of &lt;code&gt;getCSSCustomPropIndex&lt;/code&gt;, we get a single-level array of &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CSSRule&quot;&gt;&lt;code&gt;CSSRule&lt;/code&gt;&lt;/a&gt; objects.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-get-custom-properties-js/fig3.webp&quot; alt=&quot;Example output of getCSSCustomPropIndex producing an array of CSSRule objects&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 3: Example output of getCSSCustomPropIndex producing an array of CSSRule objects&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;This gives us all the CSS rules for all the stylesheets. We want to discard some of those, so let’s move on.&lt;/p&gt;
&lt;h3&gt;Step 4: Discard any rules that aren’t basic style rules&lt;/h3&gt;
&lt;p&gt;CSS rules come in different types. CSS specs define each of the types with a constant name and integer. The most common type of rule is the &lt;code&gt;CSSStyleRule&lt;/code&gt;. Another type of rule is the &lt;code&gt;CSSMediaRule&lt;/code&gt;. We use those to define media queries, like &lt;code&gt;@media (min-width: 400px) {}&lt;/code&gt;. Other types include &lt;code&gt;CSSSupportsRule&lt;/code&gt;, &lt;code&gt;CSSFontFaceRule&lt;/code&gt;, and &lt;code&gt;CSSKeyframesRule&lt;/code&gt;. See the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CSSRule#Type_constants&quot;&gt;Type constants section&lt;/a&gt; of the MDN docs for &lt;code&gt;CSSRule&lt;/code&gt; for the full list.&lt;/p&gt;
&lt;p&gt;We’re only interested in rules where we define custom properties and, for the purposes in this post, we’ll focus on &lt;code&gt;CSSStyleRule&lt;/code&gt;. That does leave out the &lt;code&gt;CSSMediaRule&lt;/code&gt; rule type where it’s valid to define custom properties. We could use an approach that’s similar to what we’re using to extract custom properties in this demo, but we’ll exclude this specific rule type to limit the scope of the demo.&lt;/p&gt;
&lt;p&gt;To narrow our focus to style rules, we’ll write another array filter:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const isStyleRule = (rule) =&gt; rule.type === 1;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Every &lt;code&gt;CSSRule&lt;/code&gt; has a type property that returns the integer for that type constant. We use &lt;code&gt;isStyleRule&lt;/code&gt; to filter &lt;code&gt;sheet.cssRules&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const getCSSCustomPropIndex = () =&gt; [...document.styleSheets]
  .filter(isSameDomain)
  .reduce((finalArr, sheet) =&gt; finalArr.concat(
    [...sheet.cssRules].filter(isStyleRule)
  ), []);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://codepen.io/tylergaw/pen/729393ada1807162d223c47e4207f3e3&quot;&gt;Demo on CodePen&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;One thing to note is that we are wrapping &lt;code&gt;...sheet.cssRules&lt;/code&gt; in brackets so we can use the array method filter.&lt;/p&gt;
&lt;p&gt;Our stylesheet only had &lt;code&gt;CSSStyleRules&lt;/code&gt; so the demo results are the same as before. If our stylesheet had media queries or &lt;code&gt;font-face&lt;/code&gt; declarations, &lt;code&gt;isStyleRule&lt;/code&gt; would discard them.&lt;/p&gt;
&lt;h3&gt;Step 5: Get the name and value of all properties&lt;/h3&gt;
&lt;p&gt;Now that we have the rules we want, we can get the properties that make them up. &lt;code&gt;CSSStyleRule&lt;/code&gt; objects have a style property that is a &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration&quot;&gt;&lt;code&gt;CSSStyleDeclaration&lt;/code&gt;&lt;/a&gt; object. It’s made up of standard CSS properties, like &lt;code&gt;color&lt;/code&gt;, &lt;code&gt;font-family&lt;/code&gt;, and &lt;code&gt;border-radius&lt;/code&gt;, plus custom properties. Let’s add that to our &lt;code&gt;getCSSCustomPropIndex&lt;/code&gt; function so that it looks at every rule, building an array of arrays along the way:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const getCSSCustomPropIndex = () =&gt; [...document.styleSheets]
  .filter(isSameDomain)
  .reduce((finalArr, sheet) =&gt; finalArr.concat(
    [...sheet.cssRules]
      .filter(isStyleRule)
      .reduce((propValArr, rule) =&gt; {
        const props = []; /* TODO: more work needed here */
        return [...propValArr, ...props];
      }, [])
  ), []);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If we invoke this now, we get an empty array. We have more work to do, but this lays the foundation. Because we want to end up with an array, we start with an empty array by using the accumulator, which is the second parameter of reduce. In the body of the reduce callback function, we have a placeholder variable, props, where we’ll gather the properties. The return statement combines the array from the previous iteration — the accumulator — with the current &lt;code&gt;props&lt;/code&gt; array.&lt;/p&gt;
&lt;p&gt;Right now, both are empty arrays. We need to use &lt;code&gt;rule.style&lt;/code&gt; to populate props with an array for every property/value in the current rule:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const getCSSCustomPropIndex = () =&gt; [...document.styleSheets]
  .filter(isSameDomain)
  .reduce((finalArr, sheet) =&gt; finalArr.concat(
    [...sheet.cssRules]
      .filter(isStyleRule)
      .reduce((propValArr, rule) =&gt; {
        const props = [...rule.style].map((propName) =&gt; [
          propName.trim(),
          rule.style.getPropertyValue(propName).trim()
        ]);
        return [...propValArr, ...props];
      }, [])
  ), []);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://codepen.io/tylergaw/pen/8ee326b200560bc5d77fe63d90b32e80&quot;&gt;Demo on CodePen&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rule.style&lt;/code&gt; is array-like, so we use the spread operator again to put each member of it into an array that we loop over with map. In the map callback, we return an array with two members. The first member is &lt;code&gt;propName&lt;/code&gt; (which includes &lt;code&gt;color&lt;/code&gt;, &lt;code&gt;font-family&lt;/code&gt;, &lt;code&gt;--color-accent&lt;/code&gt;, etc.). The second member is the value of each property. To get that, we use the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration/getPropertyValue&quot;&gt;&lt;code&gt;getPropertyValue&lt;/code&gt;&lt;/a&gt; method of &lt;code&gt;CSSStyleDeclaration&lt;/code&gt;. It takes a single parameter, the string name of the CSS property.&lt;/p&gt;
&lt;p&gt;We use trim on both the name and value to make sure we don’t include any leading or trailing whitespace that sometimes gets left behind.&lt;/p&gt;
&lt;p&gt;Now when we invoke &lt;code&gt;getCSSCustomPropIndex&lt;/code&gt;, we get an array of arrays. Every child array contains a CSS property name and a value.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-get-custom-properties-js/fig4.webp&quot; alt=&quot;Output of getCSSCustomPropIndex showing an array of arrays containing every property name and value&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 4: Output of getCSSCustomPropIndex showing an array of arrays containing every property name and value&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;This is what we’re looking for! Well, almost. We’re getting every property in addition to custom properties. We need one more filter to remove those standard properties because all we want are the custom properties.&lt;/p&gt;
&lt;h3&gt;Step 6: Discard non-custom properties&lt;/h3&gt;
&lt;p&gt;To determine if a property is custom, we can look at the name. We know custom properties must start with two dashes (&lt;code&gt;--&lt;/code&gt;). That’s unique in the CSS world, so we can use that to write a filter function:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;([propName]) =&gt; propName.indexOf(&quot;--&quot;) === 0)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Then we use it as a filter on the props array:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const getCSSCustomPropIndex = () =&gt;
  [...document.styleSheets].filter(isSameDomain).reduce(
    (finalArr, sheet) =&gt;
      finalArr.concat(
        [...sheet.cssRules].filter(isStyleRule).reduce((propValArr, rule) =&gt; {
          const props = [...rule.style]
            .map((propName) =&gt; [
              propName.trim(),
              rule.style.getPropertyValue(propName).trim()
            ])
            .filter(([propName]) =&gt; propName.indexOf(&quot;--&quot;) === 0);

          return [...propValArr, ...props];
        }, [])
      ),
    []
  );&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://codepen.io/tylergaw/pen/c2b59c4754925b1ab2119515db9bd732&quot;&gt;Demo on CodePen&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In the function signature, we have &lt;code&gt;([propName])&lt;/code&gt;. There, we’re using array destructuring to access the first member of every child array in props. From there, we do an &lt;code&gt;indexOf&lt;/code&gt; check on the name of the property. If &lt;code&gt;--&lt;/code&gt; is not at the beginning of the prop name, then we don’t include it in the &lt;code&gt;props&lt;/code&gt; array.&lt;/p&gt;
&lt;p&gt;When we log the result, we have the exact output we’re looking for: An array of arrays for every custom property and its value with no other properties.&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://stuff.tylergaw.com/post-get-custom-properties-js/fig5.webp&quot; alt=&quot;The output of getCSSCustomPropIndex showing an array of arrays containing every custom property and its value&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 5: Output of getCSSCustomPropIndex showing an array of arrays containing every custom property and its value&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;Looking more toward the future, creating the property/value map doesn’t have to require so much code. There’s an alternative in the &lt;a href=&quot;https://drafts.css-houdini.org/css-typed-om-1/%23the-stylepropertymap&quot;&gt;CSS Typed Object Model Level 1&lt;/a&gt; draft that uses &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleRule/styleMap&quot;&gt;&lt;code&gt;CSSStyleRule.styleMap&lt;/code&gt;&lt;/a&gt;. The &lt;code&gt;styleMap&lt;/code&gt; property is an array-like object of every property/value of a CSS rule. We don’t have it yet, but If we did, we could shorten our above code by removing the map:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// ...
const props = [...rule.styleMap.entries()].filter(/*same filter*/);
// ...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://codepen.io/tylergaw/pen/5061057013e6ddef39cf6b54a8d6bc1f&quot;&gt;Demo on CodePen&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;At the time of this writing, Chrome and Edge have implementations of &lt;code&gt;styleMap&lt;/code&gt; but no other major browsers do. Because &lt;code&gt;styleMap&lt;/code&gt; is in a draft, there’s no guarantee that we’ll actually get it, and there’s no sense using it for this demo. Still, it’s fun to know it’s a future possibility!&lt;/p&gt;
&lt;p&gt;We have the data structure we want. Now let’s use the data to display color swatches.&lt;/p&gt;
&lt;h3&gt;Step 7: Build HTML to display the color swatches&lt;/h3&gt;
&lt;p&gt;Getting the data into the exact shape we needed was the hard work. We need one more bit of JavaScript to render our beautiful color swatches. Instead of logging the output of &lt;code&gt;getCSSCustomPropIndex&lt;/code&gt;, let’s store it in variable.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const cssCustomPropIndex = getCSSCustomPropIndex();&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here’s the HTML we used to create our color swatch at the start of this post:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;ul class=&quot;colors&quot;&amp;gt;&amp;lt;/ul&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We’ll use &lt;code&gt;innerHTML&lt;/code&gt; to populate that list with a list item for each color:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;document.querySelector(&quot;.colors&quot;).innerHTML = cssCustomPropIndex.reduce(
  (str, [prop, val]) =&gt; `${str}&amp;lt;li class=&quot;color&quot;&amp;gt;
    &amp;lt;b class=&quot;color__swatch&quot; style=&quot;--color: ${val}&quot;&amp;gt;&amp;lt;/b&amp;gt;
    &amp;lt;div class=&quot;color__details&quot;&amp;gt;
      &amp;lt;input value=&quot;${prop}&quot; readonly /&amp;gt;
      &amp;lt;input value=&quot;${val}&quot; readonly /&amp;gt;
    &amp;lt;/div&amp;gt;
   &amp;lt;/li&amp;gt;`,
  &quot;&quot;);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;a href=&quot;https://codepen.io/tylergaw/pen/57ccb4a5dfbadc7b32a225272994dc3d&quot;&gt;Demo on CodePen&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;We use reduce to iterate over the custom prop index and build a single HTML-looking string for &lt;code&gt;innerHTML&lt;/code&gt;. But reduce isn’t the only way to do this. We could use a &lt;code&gt;map&lt;/code&gt; and &lt;code&gt;join&lt;/code&gt; or &lt;code&gt;forEach&lt;/code&gt;. Any method of building the string will work here. This is just my preferred way to do it.&lt;/p&gt;
&lt;p&gt;I want to highlight a couple specific bits of code. In the &lt;code&gt;reduce&lt;/code&gt; callback signature, we’re using array destructuring again with &lt;code&gt;[prop, val]&lt;/code&gt;, this time to access both members of each child array. We then use the &lt;code&gt;prop&lt;/code&gt; and &lt;code&gt;val&lt;/code&gt; variables in the body of the function.&lt;/p&gt;
&lt;p&gt;To show the example of each color, we use a &lt;code&gt;b&lt;/code&gt; element with an inline style:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;&amp;lt;b class=&quot;color__swatch&quot; style=&quot;--color: ${val}&quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That means we end up with HTML that looks like:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;b class=&quot;color__swatch&quot; style=&quot;--color: #00eb9b&quot;&amp;gt;&amp;lt;/b&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;But how does that set a background color? In the &lt;a href=&quot;https://codepen.io/tylergaw/pen/57ccb4a5dfbadc7b32a225272994dc3d.css&quot;&gt;full CSS&lt;/a&gt; we use the custom property &lt;code&gt;--color&lt;/code&gt; as the value of background-color for each &lt;code&gt;.color__swatch&lt;/code&gt;. Because external CSS rules inherit from inline styles, &lt;code&gt;--color&lt;/code&gt; is the value we set on the &lt;code&gt;b&lt;/code&gt; element.&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.color__swatch {
  background-color: var(--color);
  /* other properties */
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We now have an HTML display of color swatches representing our CSS custom properties!&lt;/p&gt;
&lt;p class=&quot;codepen&quot; data-height=&quot;500&quot; data-default-tab=&quot;result&quot; data-slug-hash=&quot;jObmNNM&quot; data-user=&quot;tylergaw&quot; style=&quot;height: 500px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;&quot;&gt;
  &lt;span&gt;See the Pen &lt;a href=&quot;https://codepen.io/tylergaw/pen/jObmNNM&quot;&gt;
  CSS Custom Props to JavaScript - Complete&lt;/a&gt; by Tyler Gaw (&lt;a href=&quot;https://codepen.io/tylergaw&quot;&gt;@tylergaw&lt;/a&gt;)
  on &lt;a href=&quot;https://codepen.io/&quot;&gt;CodePen&lt;/a&gt;.&lt;/span&gt;
&lt;/p&gt;
&lt;script async=&quot;&quot; src=&quot;https://cpwebassets.codepen.io/assets/embed/ei.js&quot;&gt;&lt;/script&gt;
&lt;p&gt;This demo focuses on colors, but the technique isn’t limited to custom color props. There’s no reason we couldn’t expand this approach to generate other sections of a pattern library, like fonts, spacing, grid settings, etc. Anything that might be stored as a custom property can be displayed on a page automatically using this technique.&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Realign 2020: Color</title>
    <link href="https://tylergaw.com/blog/realign-2020-color/"/>
    <updated>2020-05-17T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/realign-2020-color/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  This is part of my “&lt;a href=&quot;https://tylergaw.com/blog/realign-2020&quot;&gt;Realign 2020&lt;/a&gt;” series. In it, I document my process during a content and design realign of
  this site. I’ll update the site piece-by-piece as I post. The design and
  content will evolve through the series and beyond.
&lt;/p&gt;
&lt;p&gt;
  Going into this, I didn’t know exactly what colors I wanted, but I knew I
  wanted a lot. I wanted my color usage to come across as deliberate. Planned.
  But at the same time unbounded. I wanted a design where no hue, shade, or tint
  is off limits or unwelcome.
&lt;/p&gt;
&lt;p&gt;
  Along with new colors, I also added a light color scheme. Or “light mode.”
  Depending on your system color mode, this text is either muddy brown on
  off-white or off-white on charcoal. There&#39;s also an override button in the
  footer, in case you prefer one scheme over the other. More on that later in
  this post.
&lt;/p&gt;
&lt;h2&gt;Choosing colors&lt;/h2&gt;
&lt;p&gt;
  Choosing colors for a design is a lot of play. With this design I started with
  what I had in place already. A dark grey background
  &lt;code class=&quot;color-swatch-code&quot; style=&quot;--color: #292929;&quot;&gt;#292929&lt;/code&gt;,
  off-white text
  &lt;code class=&quot;color-swatch-code&quot; style=&quot;--color: #f8f8f8;&quot;&gt;#f8f8f8&lt;/code&gt;, and
  a pink accent color
  &lt;code class=&quot;color-swatch-code&quot; style=&quot;--color: #ff607f;&quot;&gt;#ff607f&lt;/code&gt;.
&lt;/p&gt;
&lt;h3&gt;Toxic green&lt;/h3&gt;
&lt;p&gt;
  The first color I worked with was the primary accent color. Its job is to make
  the palette come alive. It’s also the color of text links. Because of that,
  the color I used needed to meet a minimum WCAG color contrast ratio. I used
  high contrast ratios as guideposts during this process. This primary accent
  color was important to get just right.
&lt;/p&gt;
&lt;p&gt;
  From the beginning, I saw yellows, greens, yellowish greens, and blue greens
  in my head. I went through the rainbow to try other hues, but it was clear
  this small section of the spectrum was where I&#39;d find the color I wanted.
&lt;/p&gt;
&lt;p&gt;
  The green couldn’t be a lime. That, with the off-white and charcoal, gave a
  campy/horror vibe that didn’t feel right. Towards yellow felt stale. I wanted
  an unnatural green. A weird green.
&lt;/p&gt;
&lt;p&gt;
  My hair at the time was a strange mix of blue and emerald green. The result of
  one of my recent home dye jobs. I thought that could be a place to look. I
  didn&#39;t have a hex value so I did an image search for “emerald green.” When I
  found one that looked cool, I used an eyedropper to pick a hex. My process for
  color is definitely not a science.
&lt;/p&gt;
&lt;p&gt;
  I don’t have the exact hex I started with, but it gave me a solid foundation
  to work from. It got me to a tiny sliver of the color spectrum. I had help
  getting to the final color. I mentioned before I need colors to meet certain
  contrast ratios. To do that I use the
  &lt;a href=&quot;https://webaim.org/resources/contrastchecker/&quot;&gt;WebAIM contrast checker&lt;/a&gt;. I compared the green with the charcoal background. I adjusted the hue and
  lightness by tiny amounts until I got sufficient contrast.
&lt;/p&gt;
&lt;p&gt;
  Letting contrast ratios influence aesthetic decisions like that can be a
  little uncomfortable. As an experienced designer, I have a trained eye that I
  trust to choose colors that work well and look good. But, that’s not the whole
  story. My instincts towards subtlety often lead to colors that look fantastic,
  but are low in contrast. Low contrast text can be difficult for people to see.
  Color needs more than my instincts alone. So I let go of a bit of control.
&lt;/p&gt;
&lt;p&gt;
  Letting go can produce great results. Results that make a design accessible
  and enjoyable to more people. And in this case, helped me get what I was
  looking for. This was the first color I got excited about in this process.
  This unnatural green. This weird green. This toxic green.
&lt;/p&gt;
&lt;figure&gt;
  &lt;div class=&quot;realign-color-fig realign-color-primary-accent&quot;&gt;&lt;/div&gt;
  &lt;figcaption&gt;
    fig 1: Primary accent color for the dark scheme, #00eb9b
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3&gt;Boo&lt;/h3&gt;
&lt;p&gt;
  Having a single accent color made me feel like I painted myself into a corner.
  It felt too formulaic. Also, the design before was using the accent color to
  highlight links, but then sometimes only as an accent with no interactivity. I
  needed to introduce at least one more accent color. One that I’d use only for
  embellishment. Toxic green would only be for links and other clickable
  elements.
&lt;/p&gt;
&lt;p&gt;
  I went through the process again. A slow trial and error. Clicking around on
  the color picker. Looking for one that worked with that toxic green and the
  rest of the design. I landed on a muted blue.
&lt;/p&gt;
&lt;p&gt;
  The blue itself had to look great, but the interplay between it and the other
  colors was most important.
&lt;/p&gt;
&lt;figure&gt;
  &lt;div class=&quot;realign-color-fig realign-color-primary-secondary-accent&quot;&gt;&lt;/div&gt;
  &lt;figcaption&gt;
    fig 2: Primary and secondary accent colors of the dark scheme; #00eb9b,
    #9db4ff
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  From here it was color confetti. I made a spotted, star dust-looking
  background texture in Sketch. At first it was all off-white flecks, but felt
  like it needed more. So I started picking colors at almost random to use for
  the dust. The hue is all over the spectrum, but I tried to keep them in a
  similar tone. This part was just fun.
&lt;/p&gt;
&lt;p&gt;
  Now that I have a foundation of color in place, I can keep going with it. As I
  continue developing content, I can also iterate on the design. Finding more
  opportunities to introduce color as I move along.
&lt;/p&gt;
&lt;h2&gt;Light mode&lt;/h2&gt;
&lt;p&gt;
  In the last year or so it seems almost every site and app has announced their
  “dark mode.” This site has had light text on a dark background for almost a
  decade now. With this realign, I also wanted to provide an alternative color
  scheme. The alternative would be a light version.
&lt;/p&gt;
&lt;p&gt;
  Dark and light schemes shouldn’t only the inverse of the other. They should be
  fully considered designs that stand on their own. The color selection process
  was the same as the others. Trial and error. Make sure the colors meet WCAG
  contrast ratios. Find combinations that work well together.
&lt;/p&gt;
&lt;figure&gt;
  &lt;div class=&quot;realign-color-fig realign-color-light-scheme&quot;&gt;&lt;/div&gt;
  &lt;figcaption&gt;
    fig 3: Text, primary, and secondary colors of the light scheme; #3f3d31,
    #c01458, c2d838
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  Like the dark scheme, the light scheme has a textured background. The shape
  and placement of the flecks are the same, but I chose different colors. Colors
  that fit the tone of the light accents and worked well on the off-white
  background.
&lt;/p&gt;
&lt;h3&gt;Your choice&lt;/h3&gt;
&lt;p&gt;
  A color mode you choose at your operating system level should not be the final
  say you have in the mode of a website or app. Preference over text and
  background color changes with context, time of day, and mood. For this site, I
  prefer the dark scheme. But, I don’t use dark mode on my system, macOS. Other
  folks will have different preferences.
&lt;/p&gt;
&lt;p&gt;
  With that in mind, I included a color scheme toggle in the footer that
  remembers your preference. Not across devices, but in browser.
  &lt;span class=&quot;realign-color-scheme-toggle-invite&quot;&gt;Give it a try with this button:
    &lt;button class=&quot;realign-color-scheme-toggle&quot;&gt;Switch scheme&lt;/button&gt;&lt;/span&gt;
&lt;/p&gt;
&lt;h3&gt;Mode code&lt;/h3&gt;
&lt;p&gt;
  The code I used for this is a modified version of
  &lt;a href=&quot;https://hankchizljaw.com/wrote/create-a-user-controlled-dark-or-light-mode/&quot;&gt;Andy Bell’s&lt;/a&gt;. The logic for picking a color scheme goes like this. If you haven’t chosen
  a color scheme using the provided button, go with the system setting. If you
  have a system level dark mode set, you’ll see the dark scheme. Light mode,
  light scheme.
&lt;/p&gt;
&lt;p&gt;
  If you’ve been to this site before and changed the scheme using the toggle
  button, that will be the scheme you see. If you have a system level dark mode
  set, but you’ve chosen the light scheme here, you’ll see the light scheme. The
  inverse is also true. This makes your local preference take precendence over
  system preference.
&lt;/p&gt;
&lt;p&gt;
  An interesting thing I ended up doing with the code for the scheme picker is
  splitting it into two parts. I include the first part as an internal script
  right after the opening
  &lt;code&gt;body&lt;/code&gt; tag. This code’s job is to determine the correct color
  scheme on page load. It checks &lt;code&gt;localStorage&lt;/code&gt; for a
  &lt;code&gt;user-color-scheme&lt;/code&gt; item. The value of that item will be the string
  &lt;code&gt;&quot;light&quot;&lt;/code&gt; or &lt;code&gt;&quot;dark&quot;&lt;/code&gt;. If found, that’s the color scheme
  displayed. If not, the code falls back to the system level color scheme. I’m
  able to determine the system level scheme from a CSS custom property named
  &lt;code&gt;&quot;user-color-scheme&quot;&lt;/code&gt;. The default of that prop is
  &lt;code&gt;&quot;dark&quot;&lt;/code&gt;. Using a &lt;code&gt;(prefers-color-scheme: light)&lt;/code&gt; media
  query I set the prop value to &lt;code&gt;&quot;light&quot;&lt;/code&gt;. This approach is from
  Andy’s example.
&lt;/p&gt;
&lt;p&gt;
  The reason I include this as an internal script before the document loads is
  to avoid a flash of the other scheme. If I included this as an external script
  and waited for document load, you’d see that quick flash of incorrectly styled
  content. This makes the code a tiny bit harder to maintain, but it works fine
  for my purposes. I keep the code in
  &lt;a href=&quot;https://github.com/tylergaw/tylergaw.com/blob/346982b2da07b2369b5bd2101c50488dfa246157/partials/scheme.js.html&quot;&gt;a partial&lt;/a&gt;
  that I include in my handlebars templates. This isn’t perfect. I think the
  extra &lt;code&gt;scipt&lt;/code&gt; is causing some other jitteriness on load, but it’ll
  do for now.
&lt;/p&gt;
&lt;p&gt;
  The second part of the code is also in
  &lt;a href=&quot;https://github.com/tylergaw/tylergaw.com/blob/346982b2da07b2369b5bd2101c50488dfa246157/partials/scripts.html#L10&quot;&gt;a partial&lt;/a&gt;. I include this before the closing &lt;code&gt;body&lt;/code&gt; tag. This code’s job is
  to make the scheme switcher button work. Because it’s in the footer, it can
  wait until the document loads. Andy’s post does a great job of explaining the
  approach so I won’t go into detail here about how it all works.
&lt;/p&gt;
&lt;p&gt;
  Something I added in my implementation is code that responds to system level
  mode changes. Andy mentions it as a potential improvement:
&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;
    Observe changes to the user’s dark/light mode setting, probably via the
    prefers-color-scheme media query and update the default state accordingly
  &lt;/p&gt;
  &lt;cite&gt;
    “&lt;a href=&quot;https://hankchizljaw.com/wrote/create-a-user-controlled-dark-or-light-mode/#heading-wrapping-up&quot;&gt;Create a user controlled dark or light mode&lt;/a&gt;”
  &lt;/cite&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  This addition makes sure the button stays in sync with the system level
  setting. Without this code, the CSS-driven parts of the display update, but
  not the JS-driven parts, like the button.
&lt;/p&gt;
&lt;!-- prettier-ignore-start --&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const mql = window.matchMedia(&quot;(prefers-color-scheme: light)&quot;);
mql.addListener((event) =&gt; {
  console.group(&quot;System color scheme change&quot;);
  const systemScheme = getCSSProp(&quot;--scheme-system&quot;);
  const userScheme = localStorage.getItem(schemeKey);
  console.info(&quot;System color scheme changed to&quot;, systemScheme);

  if (!userScheme) {
    console.info(&quot;No user color scheme chosen, using the system scheme&quot;);
  } else {
    console.info(`User choice takes preference, using the ${userScheme} scheme`);
  }

  updateSchemeBtn(userScheme || systemScheme);
  console.groupEnd();
});&lt;/code&gt;&lt;/pre&gt;
&lt;!-- prettier-ignore-end --&gt;
&lt;p&gt;
  I use a
  &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia&quot;&gt;&lt;code&gt;MediaQueryList&lt;/code&gt;&lt;/a&gt;
  event to keep an eye on &lt;code&gt;prefers-color-scheme&lt;/code&gt;. When it changes,
  the callback does the same &lt;code&gt;localStorage&lt;/code&gt; and custom prop lookup
  that happens on page load.
&lt;/p&gt;
&lt;p&gt;
  I left logging in place to announce changes and decisions made. I hadn’t used
  &lt;code&gt;console.group()&lt;/code&gt; and &lt;code&gt;groupEnd()&lt;/code&gt; before. They’re super
  helpful for keeping logs organized. If you want to see them in action, open
  the console and make changes to the local and system color schemes.
&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-realign-2020-color-scheme-toggle-static.png&quot; media=&quot;(prefers-reduced-motion: reduce)&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-realign-2020-color-scheme-toggle.gif&quot; alt=&quot;A looping animated gif where I’m changing the Appearance setting on macOS from Light to dark while looking at this site with the developer console open to show the logging output.&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;
    fig 4: Monitoring the effects of changing the appearance on macOS
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;Code color&lt;/h2&gt;
&lt;p&gt;
  If you’re reading this post on my site, you’ll see syntax highlighted code
  samples. Like the earlier &lt;code&gt;matchMedia&lt;/code&gt; example.
  &lt;a href=&quot;https://prismjs.com/&quot;&gt;Prism&lt;/a&gt; is my highlighter of choice. I’ve had
  a modified
  &lt;a href=&quot;https://github.com/ericwbailey/a11y-syntax-highlighting/blob/master/dist/prism/a11y-dark.css&quot;&gt;dark a11y theme by Eric Bailey&lt;/a&gt;
  in place for a couple years. For this update, I combined the dark and light
  a11y themes so they change with the rest of the scheme. I moved all the theme
  colors to CSS custom props and used similar selectors to choose the correct
  theme.
&lt;/p&gt;
&lt;p&gt;
  This approach results in a bit a repetition, but gets the job done. You can
  see the full port on
  &lt;a href=&quot;https://github.com/tylergaw/tylergaw.com/blob/cffe306ca5447e2b17cbe5ac8669a8d909837ee3/src/css/modules/prism-a11y.css&quot;&gt;GitHub in prism-a11y.css&lt;/a&gt;.
&lt;/p&gt;
&lt;h2&gt;Color naming&lt;/h2&gt;
&lt;p&gt;
  I’ll end with another fun one. Have you ever tried to name colors? There are
  common names like red, green, and blue. But what’s
  &lt;code class=&quot;color-swatch-code&quot; style=&quot;--color: #c01458;&quot;&gt;#c01458&lt;/code&gt;’s
  name? If you’ve ever named color variables or custom properties you know the
  pain of naming colors. When I’ve done this before, I start out on the right
  foot. &lt;code&gt;red-bright&lt;/code&gt;, &lt;code&gt;red-dark&lt;/code&gt;, &lt;code&gt;grey&lt;/code&gt;. But,
  before long I end up with dubious names like &lt;code&gt;red-darker&lt;/code&gt;,
  &lt;code&gt;red-lighter&lt;/code&gt;, &lt;code&gt;grey-mid&lt;/code&gt;. And eventually
  I-give-up-names like &lt;code&gt;purple-but-more-blue&lt;/code&gt;,
  &lt;code&gt;not-quite-green&lt;/code&gt;. Before this realign, I had a color named
  &lt;code&gt;darkerwhite&lt;/code&gt;. That is…less than ideal.
&lt;/p&gt;
&lt;p&gt;
  Color names like this aren’t helpful. And it’s not fun coming up with them.
  This time I let go. Instead of trying to come up with some magic, smart
  formula for naming colors, I use word association. I look at the color and
  whatever pops into my head first is the name. I follow a naming pattern
  prefix, but the names are all over the place. &lt;code&gt;toxic&lt;/code&gt;,
  &lt;code&gt;boo&lt;/code&gt;, &lt;code&gt;boogers&lt;/code&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;--color-accent-toxic: #00eb9b;
--color-accent-wine: #c01458;
--color-accent-boo: #9db4ff;
--color-accent-pank: #f2c0ea;
--color-accent-boogers: #c2d838;
--color-accent-mellow: #f1f68e;
--color-accent-orange: #e9b581;
--color-charcoal: #292929;
--color-mud: #3f3d31;
--color-offwhite: #f8f8f8;
--color-white: #fff;
--color-eggshell: #f6f5e4;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Some of them are just what they are, but not most. It’s cheeky, but I’m
  finding that I remember what color &lt;code&gt;boogers&lt;/code&gt; is better than I would
  something like &lt;code&gt;yellowgreen-light&lt;/code&gt;. It’s faster for me to name new
  colors and I get a good chuckle every time I do it. And these days, I’ll take
  the chuckles anywhere I can get ’em.
&lt;/p&gt;
&lt;h2&gt;Next&lt;/h2&gt;
&lt;p&gt;
  I’ve been working on and writing about this site realign since late February.
  These color updates and post took a long time. I’m OK with that. I want this
  to be fun, exploratory work. Not mad dash to the finish. With that in mind, I
  don’t know when I’ll publish the next post in the series, but it’ll be
  sometime sooner than later and I’ll give myself plenty of time to work on it.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>CSS: Flexible Repeating SVG Masks</title>
    <link href="https://tylergaw.com/blog/css-repeating-svg-masks/"/>
    <updated>2020-03-14T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/css-repeating-svg-masks/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  This is a technique I used recently to create a flexible,
  repeating pattern using SVG with CSS &lt;code&gt;mask&lt;/code&gt;. There are live
  examples in this post and they’re available as a
  &lt;a href=&quot;https://codepen.io/tylergaw/pen/mdJpdVm&quot;&gt;CodePen&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  The need came from something I designed at &lt;a href=&quot;https://streetcred.co/&quot;&gt;work&lt;/a&gt;.
  I gave the bottom of the header on each page a little squiggle to make it a bit
  more interesting than a straight line. Along with that, I designed a &lt;a href=&quot;https://streetcred.co/patterns#color&quot;&gt;color system&lt;/a&gt;
  for each type of page. Common pages parade in purple, company content is true blue,
  blog posts read in red, and contests own orange. With StreetCred I’ve been
  throwing a rainbow of bright colors to see what’s fun and what sticks.
&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-repeating-masks-streetcred-banner.webp&quot; type=&quot;image/webp&quot; /&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-repeating-masks-streetcred-banner.png&quot; type=&quot;image/jpeg&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-repeating-masks-streetcred-banner.png&quot; alt=&quot;A screenshot of a purple, blue, red, and orange banner from the StreetCred website.&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 1: Banner squiggles from &lt;a href=&quot;https://streetcred.co/&quot;&gt;streetcred.co&lt;/a&gt;&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  Along with the current colors, we’re getting ready to ship new features that
  use even more colors. We’ll make pages for those and they’ll need themed banner
  squiggles. We need a flexible way to do that.
&lt;/p&gt;
&lt;h2&gt;How Should This Work?&lt;/h2&gt;
&lt;p&gt;
  For the design, I needed a seamless, horizontally repeating pattern. I needed
  SVG so it was crisp at any size. I wanted a single SVG image that
  I could color using CSS. Because we could have n-number of colors, creating
  a new SVG for every color wasn’t a future-facing option. The squiggly banner using this
  approach is live on &lt;a href=&quot;https://streetcred.co/&quot;&gt;streetcred.co&lt;/a&gt;. Let’s
  look at an isolated demo to see how the pieces fit together.
&lt;/p&gt;
&lt;h2&gt;Creating the Demo SVG&lt;/h2&gt;
&lt;p&gt;
  First, I made a quick doodle of a squiggly line in Sketch using the vector tool.
  The important part was to make sure the line was seamless when repeated horizontally.
  I did that by making sure
  the first point and last point were at the same location on the y-axis. And
  that the bezier curves leading to them was flat when it reached the
  edge of the artboard. This is a simple shape, so it was easy to eyeball.
  A more complex design would involve more work.
&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-repeating-masks-creating-svg.webp&quot; type=&quot;image/webp&quot; /&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-repeating-masks-creating-svg.png&quot; type=&quot;image/png&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-repeating-masks-creating-svg.png&quot; alt=&quot;A screenshot in Sketch app showing the demo squiggle vector being created.&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 2: Creating the demo SVG in Sketch&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  To test if the shape is seamless I just duplicated the artboard and dragged it
  into place. Nothing fancy again, a quick eyeball is enough for this.
&lt;/p&gt;
&lt;p&gt;
  When I create graphics for SVG use, I simplify them as much as possible.
  For this, I expanded the stroke. That way instead of exporting a &lt;code&gt;path&lt;/code&gt;
  with a &lt;code&gt;stroke&lt;/code&gt;, I end up with a &lt;code&gt;path&lt;/code&gt; with a &lt;code&gt;fill&lt;/code&gt;.
  In my experience, filled shapes are more flexible when you’re working with them
  in browsers. Helps avoid scaling issues with &lt;code&gt;stroke&lt;/code&gt;s. SVG prep is a
  deep topic that I plan to write more about in the future.
&lt;/p&gt;
&lt;p&gt;
  Exporting SVG from Sketch leaves a lot of crud in that we don’t need. My next
  stop is &lt;a href=&quot;https://jakearchibald.github.io/svgomg/&quot;&gt;SVGOMG&lt;/a&gt;. After
  optimizing we end up with an SVG with a single &lt;code&gt;path&lt;/code&gt; element. I
  truncated the value of the &lt;code&gt;d&lt;/code&gt; attribute for brevity.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-svg&quot;&gt;&amp;lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 250 75&quot;&amp;gt;
  &amp;lt;path id=&quot;squiggle&quot; d=&quot;M12 19.778C12 1.318...&quot; /&amp;gt;
&amp;lt;/svg&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  We’ll use the &lt;code&gt;id&lt;/code&gt; attribute as a reference in CSS. Notice we don’t need
  presentational attributes like &lt;code&gt;fill&lt;/code&gt;. SVG provides the
  shape. CSS handles the color.
&lt;/p&gt;
&lt;h2&gt;The Code&lt;/h2&gt;
&lt;p&gt;
  The HTML is a single &lt;code&gt;div&lt;/code&gt;. The CSS is three properties.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;div class=&quot;repeater&quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.repeater {
  background-color: red;
  /* This fixed height is only for demo, your use cases might not need it */
  height: 75px;
  mask-image: url(&quot;/path/to/repeater.svg#squiggle&quot;);
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  As of this writing, this CSS works in Firefox, but not in Chrome, Safari,
  or Edge. WebKit/Blink browsers still require vendor-prefixed &lt;code&gt;mask&lt;/code&gt;
  properties. We don’t want to have to repeat the path to the image. Let’s store
  it in a custom property to make it reusable.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.repeater {
  background-color: red;
  /* This fixed height is only for demo, your use cases might not need it */
  height: 75px;
  --svg: url(&quot;/path/to/repeater.svg#squiggle&quot;);
  -webkit-mask-image: var(--svg);
  mask-image: var(--svg);
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  With the prefixed version of &lt;code&gt;mask-image&lt;/code&gt; in place, this works in all current
  versions of Chrome, Firefox, Safari, and Edge.
&lt;/p&gt;
&lt;figure&gt;
  &lt;style&gt;
    .demo-repeater {
      background-color: red;
      /* This fixed height is only for demo, your use cases might not need it */
      height: 75px;
      --svg: url(&quot;https://tylergaw-assets.s3.amazonaws.com/inline-masks/repeater.svg#squiggle&quot;);
      -webkit-mask-image: var(--svg);
      mask-image: var(--svg);
    }
  &lt;/style&gt;
  &lt;div class=&quot;demo-repeater&quot;&gt;&lt;/div&gt;
  &lt;figcaption&gt;fig 3: A live demo of the technique. The CSS is inline for inspection.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3&gt;What did we do?&lt;/h3&gt;
&lt;p&gt;
  &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/mask-image&quot;&gt;&lt;code&gt;mask-image&lt;/code&gt;&lt;/a&gt;
  is doing the heavy lifting here. We’re giving it a reference to an external
  SVG file and the &lt;code&gt;id&lt;/code&gt; attribute of the &lt;code&gt;path&lt;/code&gt; we want.
  Mask is hiding anything in our &lt;code&gt;div&lt;/code&gt; that doesn’t intersect
  with that shape. So we see the &lt;code&gt;background-color&lt;/code&gt; only where the
  &lt;code&gt;path&lt;/code&gt; is.
&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;mask&lt;/code&gt; is like CSS &lt;code&gt;bacground&lt;/code&gt;. It has a &lt;code&gt;mask-repeat&lt;/code&gt;
  property that defaults to &lt;code&gt;repeat&lt;/code&gt;. Check the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/mask-repeat&quot;&gt;MDN docs&lt;/a&gt;
  for more that.
&lt;/p&gt;
&lt;h3&gt;What else?&lt;/h3&gt;
&lt;p&gt;
  With a functional foundation in place, we can have fun with it. We can style the underlying &lt;code&gt;div&lt;/code&gt; any
  way we want to create different effects. We can change the color.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.repeater--orange {
  background-color: orange;
}&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
  &lt;style&gt;
    .demo-repeater--orange {
      background-color: orange;
    }
  &lt;/style&gt;
  &lt;div class=&quot;demo-repeater demo-repeater--orange&quot;&gt;&lt;/div&gt;
  &lt;figcaption&gt;fig 4: A live demo of the technique showing that we can change the color with CSS.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  We can take that further by setting a background image.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.repeater--gradient {
  background: transparent linear-gradient(90deg, red, purple, blue, green);
}&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
  &lt;style&gt;
    .demo-repeater--gradient {
      background: transparent linear-gradient(90deg, red, purple, blue, green);
    }
  &lt;/style&gt;
  &lt;div class=&quot;demo-repeater demo-repeater--gradient&quot;&gt;&lt;/div&gt;
  &lt;figcaption&gt;fig 5: A live demo of the technique showing that we can use a background image&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  Changing the background color and image is fun, we can also change the height
  of the &lt;code&gt;div&lt;/code&gt; to produce something different.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.repeater--sized {
  height: 18px;
}&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
  &lt;style&gt;
    .demo-repeater--sized {
      height: 12px;
    }
  &lt;/style&gt;
  &lt;div class=&quot;demo-repeater demo-repeater--sized&quot;&gt;&lt;/div&gt;
  &lt;figcaption&gt;fig 6: A live demo of the technique showing that we can change the size&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  We can change the color, bacground-image, and height. Let’s introduce the
  &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/mask-size&quot;&gt;&lt;code&gt;mask-size&lt;/code&gt;&lt;/a&gt; property to squish the SVG into a type
  of texture.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.repeater--textured {
  --texture-lines: 10;
  --mask-size: calc(250px / var(--texture-lines));
  -webkit-mask-size: var(--mask-size);
  mask-size: var(--mask-size);
}&lt;/code&gt;&lt;/pre&gt;
&lt;figure&gt;
  &lt;style&gt;
    .demo-repeater--textured {
      --texture-lines: 10;
      --mask-size: calc(250px / var(--texture-lines));
      -webkit-mask-size: var(--mask-size);
      mask-size: var(--mask-size);
    }
  &lt;/style&gt;
  &lt;div class=&quot;demo-repeater demo-repeater--textured&quot;&gt;&lt;/div&gt;
  &lt;figcaption&gt;fig 7: A live demo of the technique showing that we can use mask-size to produce a texture&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  Again, we’re using a custom property to not have to repeat the size value. We’re
  using &lt;code&gt;calc&lt;/code&gt; here as a convenience. &lt;code&gt;250px&lt;/code&gt; is the height
  of the &lt;code&gt;viewbox&lt;/code&gt; of the SVG. We divide that by the number of rows
  we want to make sure we don’t have partial rows.
&lt;/p&gt;
&lt;p&gt;
  We can also change the position of the mask using &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/mask-position&quot;&gt;&lt;code&gt;mask-position&lt;/code&gt;&lt;/a&gt;.
  And, if we can change a value with CSS, that means we can change it over time.
  Change over time equals motion.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@keyframes move {
  to {
    --pos: 150%;
    -webkit-mask-position: var(--pos);
    mask-position: var(--pos);
  }
}
.repeater--animated {
  animation: move 0.6s infinite linear alternate;
}&lt;/code&gt;&lt;/pre&gt;
&lt;style&gt;
  @keyframes move {
    to {
      --pos: 150%;
      -webkit-mask-position: var(--pos);
      mask-position: var(--pos);
    }
  }

  .demo-repeater--animated {
    animation: move 0.6s infinite linear alternate;
  }
&lt;/style&gt;
&lt;figure&gt;
  &lt;div class=&quot;demo-repeater demo-repeater--animated&quot;&gt;&lt;/div&gt;
  &lt;figcaption&gt;fig 8: A live demo of the technique showing that we can animate the mask position.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  These are toy examples, but they show that with a few building blocks we can
  construct a lot of variations. With more complex SVG images and more CSS, we can use this
  technique to produce all sorts of fun stuff. And be future-flexible while
  doing it.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Realign 2020: Logo</title>
    <link href="https://tylergaw.com/blog/realign-2020-logo/"/>
    <updated>2020-03-07T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/realign-2020-logo/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  This is part of my “&lt;a href=&quot;https://tylergaw.com/blog/realign-2020&quot;&gt;Realign 2020&lt;/a&gt;” series. In it, I document my process during a content and design realign of
  this site. I’ll update the site piece-by-piece as I post. The design and
  content will evolve through the series and beyond.
&lt;/p&gt;
&lt;p&gt;
  Eight letters form my first and last name. My title, 16. An ampersand for
  flair. That’s 25 characters that made up my logo. That’s how it felt. When I
  looked at my logo, I saw 25 characters standing alone next to each other. It
  felt like 25 solos. My goal with this iteration was to make those characters
  feel like an ensemble cast. A cast of characters that work together to convey
  more meaning than their underlying shapes could alone. This is what I came up
  with.
&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/blog/assets/post-image-realign-2020-logo-before-after.svg&quot; media=&quot;(min-width: 47.5em)&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/blog/assets/post-image-realign-2020-logo-before-after-vertical.svg&quot; alt=&quot;Before and after realign of my logo&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 1: Logo before and after&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;The Feeling&lt;/h2&gt;
&lt;p&gt;
  Sturdy. Dense. Heavy. Kinetic. Those are adjectives I wanted to use to
  describe my logo. I wanted this logo to feel like it was about to leap off the
  screen, burst through your wall, and crash onto your floor. I kept seeing a
  flag blowing from West to East. An object in constant, fluid motion. How a
  waving flag fits with dense and heavy, I don’t know either, but that’s where
  my head was. So, I started there.
&lt;/p&gt;
&lt;h2&gt;The Work&lt;/h2&gt;
&lt;p&gt;
  I’ve written about this process before. In “&lt;a href=&quot;https://tylergaw.com/blog/a-logo-design-process/&quot;&gt;A Logo Design Process&lt;/a&gt;” I wrote about iterating 2011’s logo into 2014’s logo. I went through a
  similar process progressing 2014’s logo to 2018’s, but didn’t write about it.
  My logo is like this site. I wrote in
  &lt;a href=&quot;https://tylergaw.com/blog/realign-2020/&quot;&gt;this series’ opener&lt;/a&gt;;
  “…I remember thinking this would be my last site…that I had a solid foundation
  that I could build on for a long time.” I feel the same about the logo. Since
  the 2011 version, I’ve worked with the same vectors and morphed them into the
  next incarnation.
&lt;/p&gt;
&lt;p&gt;
  This time around went fast. Odd fast. I didn’t sketch anything. I could see
  the chunkiness, the togetherness that I wanted in my head. I created a new
  Illustrator file and pasted the 2018 vectors in. Then got to work.
&lt;/p&gt;
&lt;p&gt;
  The first thing I did was remove the “New York NY U.S.A.” banner. I’m a New
  Yorker. I’ve been here for almost 12 years and I ain’t leavin’. But, that part
  of the logo didn’t feel necessary anymore. It’s been a fun, maybe a little
  corny, part of logo, but it was time for it to go to let my name and title
  have full focus.
&lt;/p&gt;
&lt;p&gt;
  From there, I reshaped each of the 25 characters point-by-point. There are 566
  individual vector points. I positioned every one of them.
&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/blog/assets/post-image-realign-2020-logo-points.webp&quot; type=&quot;image/webp&quot; /&gt;
    &lt;source srcset=&quot;https://tylergaw.com/blog/assets/post-image-realign-2020-logo-points.jpg&quot; type=&quot;image/jpeg&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/blog/assets/post-image-realign-2020-logo-points.jpg&quot; alt=&quot;A screenshot showing the 566 vector points and outline of the logo.&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 2: The 566 points I positioned to make the logo&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  I started with the “T” and worked from left to right. The way I got the
  interplay I was looking for was by imagining the letters where physical
  objects made of clay. I also imagined the clay had a narrow forcefield around
  it. That meant one letter couldn’t meld with another, but it could push other
  letters to reshape them. This approach created interesting dents and divots.
  It smashed ascenders and stretched descenders.
&lt;/p&gt;
&lt;p&gt;
  To create a feeling of motion I made sure the line between my name and title
  didn’t go in one direction for too long. The line follows a flow created by
  the push and pull of the heavier characters.
&lt;/p&gt;
&lt;p&gt;
  The process stretched across three or four days. Those weren’t full working
  days. I would get a hour or so session in the evenings after the day job.
&lt;/p&gt;
&lt;h3&gt;Little Flat Feet&lt;/h3&gt;
&lt;p&gt;
  In “&lt;a href=&quot;https://tylergaw.com/blog/realign-2020-typography/&quot;&gt;Realign 2020: Typography&lt;/a&gt;” I said I took inspiration from Proto Grotesk for parts of the logo. The
  descenders of Proto Grotesk on the “y” and “j” are what I pulled into the
  logo.
&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;img src=&quot;https://tylergaw.com/blog/assets/post-image-realign-2020-logo-feet.svg&quot; alt=&quot;A detail of the logo highlighting descenders that took inspiration from Proto Grotesk&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;fig 3: Proto Grotesk-inspired descenders in the logo&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  They’re not an exact copy, but a riff on the original. They were fun to work
  with because they gave another detail that effected neighboring characters.
  Because I thought of them as feet, I let that idea keep going. I imagined the
  “Y”, “R”, and “A” stomping on the characters of the title below them.
  Flattening their heads, squishing their bodies, and skewing the baseline.
&lt;/p&gt;
&lt;h2&gt;The Rest&lt;/h2&gt;
&lt;p&gt;
  When I look at the before and after I see something other than aesthetic
  improvements. I see personal progress. When you’ve been doing this work as
  long as I have, it’s easy to forget that you’re still capable of progression.
  When I look at 2018 vs. 2020 I can see how much I’ve learned. I’ve learned to
  use my tools better. I’ve learned how to see better. I’ve moved a couple steps
  closer to being able to trick computers into showing the full picture that I
  can see in my head. It feels great to know I’m still learning. Still growing.
  Still going.
&lt;/p&gt;
&lt;p&gt;
  I’ll continue this series in a few days with “&lt;a href=&quot;https://tylergaw.com/blog/realign-2020-color&quot;&gt;Realign 2020: Color&lt;/a&gt;.”
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Realign 2020: Typography</title>
    <link href="https://tylergaw.com/blog/realign-2020-typography/"/>
    <updated>2020-03-01T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/realign-2020-typography/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  This is part of my “&lt;a href=&quot;https://tylergaw.com/blog/realign-2020&quot;&gt;Realign 2020&lt;/a&gt;” series. In it, I document my process during a content and design realign of
  this site. I’ll update the site piece-by-piece as I post. The design and
  content will evolve through the series and beyond.
&lt;/p&gt;
&lt;p&gt;
  The fonts I’ve chosen for this site have run the gamut over the years.
  Handwritten, illustrated, web-safe only, monospaced, serif, questionable, and
  so on. The last few years I’ve leaned on chunky, sturdy fonts. Fonts that—to
  me—say; “hard work gets done here.” That fits my approach to design and
  engineering.
&lt;/p&gt;
&lt;p&gt;
  For this iteration, I wanted that same sturdiness. I also wanted more room to
  play. I wanted to use more weights than I have in the past and, when possible,
  I wanted to make things strange.
&lt;/p&gt;
&lt;p&gt;
  After a long search and plenty of playing with different faces, I’ve settled
  on a font that will serve the design and content well for at least a couple
  years.
&lt;/p&gt;
&lt;h2&gt;
  Proto Grotesk
&lt;/h2&gt;
&lt;p&gt;
  If you’re reading this on my site, these sentences are now set in
  &lt;a href=&quot;https://www.productiontype.com/family/proto_grotesk&quot;&gt;Production Type’s lovely Proto Grotesk&lt;/a&gt;. I’ve chosen the light weight for the base body copy. The regular weight
  feels too heavy for large swaths of copy.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/blog/assets/post-image-realign-2020-typography-proto-grotesk.png&quot; alt=&quot;A sampling of Proto Grotesk in various weights and sizes&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;
  I’m using the bold weight for certain headings and navigation items. I have
  small doses of all caps here and there.
&lt;/p&gt;
&lt;p&gt;
  The extra light weight is coming in handy for blog post titles. I want those
  to be commanding without hitting you over the head as much as a bold or
  heavier weight can.
&lt;/p&gt;
&lt;p&gt;
  As I iterate, I’m looking forward to experimenting more with weights and sizes
  and styles. Proto Grotesk also has fun alternate numerals and other alt glyphs
  that I’m hoping to make use of when appropriate.
&lt;/p&gt;
&lt;h3&gt;
  Why this typeface?
&lt;/h3&gt;
&lt;p&gt;
  I learned about Proto Grotesk via Bethany Heck’s
  &lt;a href=&quot;https://fontreviewjournal.com/proto-grotesk/&quot;&gt;excellent Font Review Journal&lt;/a&gt;. 
  A lot of what she detailed in the review is what draws me to the typeface.
  Its idiosyncrasies stick out enough to make it playful, without reducing
  reading comfort.
&lt;/p&gt;
&lt;p&gt;
  The designer’s description is a perfect summary of what I’m looking for.
&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;
    …there’s no reason type can’t be both steadfast and peculiar…its posture is
    nothing less than sturdy and forthright. Proto Grotesk is strange but
    steady.
  &lt;/p&gt;
  &lt;cite&gt;
    &lt;a href=&quot;https://www.productiontype.com/family/proto_grotesk&quot;&gt;Production Type - Proto Grotesk&lt;/a&gt;
  &lt;/cite&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  One detail I really dig are the little “flat feet”, as I’ve been referring to
  them. The lowercase “y” and “a” are the best examples. Something about that
  abrupt, a little too long bit catches my eye. I took cues from it as I was
  updating my logo. I’ll write about that in a future post.
&lt;/p&gt;
&lt;p&gt;
  Along with all that, I think Proto Grotesk just looks super cool. Sometimes
  that’s enough.
&lt;/p&gt;
&lt;h3&gt;
  Cost
&lt;/h3&gt;
&lt;p&gt;
  This was the most expensive font I’ve bought for a personal project. My bill
  was about $400 USD. That bought me all four weights with a desktop and web
  license. That’s a big buy for me, but it feels worth it and it’s cool to
  directly support a type design studio.
&lt;/p&gt;
&lt;p&gt;
  Production Type offers trial downloads of their fonts. Being able to try the
  font in design programs and in browsers made all the difference. By the time I
  clicked “purchase”. I’d been using Proto Grotesk in real settings for weeks.
&lt;/p&gt;
&lt;p&gt;
  Those trials also helped me experiment with other fonts and weed out ones that
  weren’t working. There were a few that looked great on Production’s site, but
  didn’t work in the context of my design.
&lt;/p&gt;
&lt;h2&gt;
  Implementation
&lt;/h2&gt;
&lt;p&gt;
  I’ve used Typekit on this site for about eight years. It’s served me well, but
  I don’t want to load fonts from a third party anymore. I want to self-host.
  That was a smaller reason to go with Proto Grotesk too. Not that it’s the only
  font I could self-host, but it checked that box.
&lt;/p&gt;
&lt;p&gt;
  Because I’m self-hosting, I need to load fonts in a performat way. I spent
  time catching up on font loading methods. They move fast. Zach’s post “&lt;a href=&quot;https://www.zachleat.com/web/comprehensive-webfonts/&quot;&gt;A Comprehensive Guide to Font Loading Strategies&lt;/a&gt;” is &lt;strong&gt;the&lt;/strong&gt; place for that info.
&lt;/p&gt;
&lt;p&gt;
  I didn’t end up using one of Zach’s gold standards. I wasn’t ready to
  introduce JavaScript to assist in font loading. I wanted an HTML/CSS only
  approach for now. I have other performance improvements to make in the future,
  so I’ll revisit font loading then.
&lt;/p&gt;
&lt;p&gt;
  I went with a combination of approaches in the post. I’m using; standard
  &lt;code&gt;@font-face&lt;/code&gt;, &lt;code&gt;font-display&lt;/code&gt;, and preloading. In the
  &lt;code&gt;head&lt;/code&gt; of my pages I preload two of the four weights I use.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&amp;lt;link rel=&quot;preload&quot; href=&quot;/fonts/protogroteskweb-light.woff2&quot; as=&quot;font&quot; type=&quot;font/woff2&quot; crossorigin&amp;gt;
&amp;lt;link rel=&quot;preload&quot; href=&quot;/fonts/protogroteskweb-bold.woff2&quot; as=&quot;font&quot; type=&quot;font/woff2&quot; crossorigin&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  I don’t preload the regular and extra light weights because I don’t use them
  in critical styles. They can load later via &lt;code&gt;@font-face&lt;/code&gt; without
  bothering anything.
&lt;/p&gt;
&lt;p&gt;
  From there, I include a standard &lt;code&gt;@font-face&lt;/code&gt; rule for each weight
  in my critical inline styles.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;/* repeated for each font weight */
@font-face {
  font-display: swap;
  font-family: &quot;protogrotesk-bold&quot;;
  src: url(&quot;/fonts/protogroteskweb-bold.woff2&quot;);
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Using &lt;code&gt;swap&lt;/code&gt; for &lt;code&gt;font-display&lt;/code&gt; helps avoid a flash of
  invisible content. There’s a slight shimmy when the custom font loads, but I
  can deal with that.
&lt;/p&gt;
&lt;h3&gt;Custom properties&lt;/h3&gt;
&lt;p&gt;
  I use CSS custom properties for font stacks. Again in my critical inline
  styles, I have a property for each font weight.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;--font-proto-extralight: &quot;protogrotesk-extralight&quot;, helvetica, sans-serif;
--font-proto-light: &quot;protogrotesk-light&quot;, helvetica, sans-serif;
--font-proto-regular: &quot;protogrotesk-regular&quot;, helvetica, sans-serif;
--font-proto-bold: &quot;protogrotesk-bold&quot;, helvetica, sans-serif;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Declaring those stacks as custom props makes it so I don’t have to repeat
  myself. It also lets me type less when using each weight:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;font-family: var(--font-proto-bold);&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Next&lt;/h2&gt;
&lt;p&gt;
  A site’s typography is never “done”, only out there. I’ll keep making
  improvements and experimenting over time. If you’re interested in a before and
  after, I archived the site previous to this change at
  &lt;a href=&quot;https://v6.tylergaw.com/&quot;&gt;v6.tylergaw.com&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  I’ll continue this series in a few days with “&lt;a href=&quot;https://tylergaw.com/blog/realign-2020-logo&quot;&gt;Realign 2020: Logo&lt;/a&gt;.”
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Realign 2020</title>
    <link href="https://tylergaw.com/blog/realign-2020/"/>
    <updated>2020-02-27T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/realign-2020/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  Like other designers, I enjoy updating my personal site every so often. In my
  case I do a &lt;a href=&quot;https://tylergaw.com/about#versions&quot;&gt;major iteration&lt;/a&gt; every couple years
  with minor tweaks between. This current incarnation is almost two years old
  and I’m ready to make major changes.
&lt;/p&gt;
&lt;p&gt;
  When I launched this design in 2018 I remember thinking this would be my last
  site. I wasn’t under any illusion that I wouldn’t update this site again in
  the future. Only that I had a solid foundation that I could build on for a
  long time. Even if the changes where major, they’d still be iterations of
  existing content and aesthetics.
&lt;/p&gt;
&lt;p&gt;
  I have two main motivations for this year’s realign. First, I want to present
  my work from the last few years in a more complete way. The 2018 verison of
  this site listed projects, but didn’t go into much detail. There’s a lot there
  I want to surface. I’m looking for my next role so I need to present my work
  in a way that show’s what I&#39;m capable of.
&lt;/p&gt;
&lt;p&gt;
  Second, I just want it to look cooler and weirder. Heavy emphasis on weird.
  With every iteration of this site since I launched it in 2006 I’ve made
  concerted efforts to make it look much different than the standard web
  designer portfolio/blog website. I don’t have anything against other folks’
  sites, I just want mine to look different and strange.
&lt;/p&gt;
&lt;h2&gt;Writing about it&lt;/h2&gt;
&lt;p&gt;
  Plenty of other designers are iterating on their personal sites and writing
  about their process. I enjoy reading those. So, I’m going to follow their lead
  and write about my process.
&lt;/p&gt;
&lt;p&gt;
  I’ve already started the process in a rough way. For the last few weeks I’ve
  let myself noodle on different areas of the design. I spent a lot of hours
  pushing points around in Illustrator for an updated logo and some fun
  typography squigglevision. I spent, I don’t know how long just fiddling with
  CSS in browser. I wanted time to play a while before I set out to really get
  updated content and design together.
&lt;/p&gt;
&lt;p&gt;
  With the initial play I have a rough idea of what I’ll write about. I’ll
  update this post as I go to keep a reference. Some of the topics will change
  and I’ll add more as I go, but below is a rough outline.
&lt;/p&gt;
&lt;h3&gt;Realign 2020 Posts&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;a href=&quot;https://tylergaw.com/blog/realign-2020-typography&quot;&gt;Realign 2020: Typography&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;a href=&quot;https://tylergaw.com/blog/realign-2020-logo&quot;&gt;Realign 2020: Logo&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;a href=&quot;https://tylergaw.com/blog/realign-2020-color&quot;&gt;Realign 2020: Color&lt;/a&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a class=&quot;link--future&quot;&gt;&lt;s&gt;Realign 2020: Content&lt;/s&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a class=&quot;link--future&quot;&gt;&lt;s&gt;Realign 2020: Netlify&lt;/s&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a class=&quot;link--future&quot;&gt;&lt;s&gt;Realign 2020: Tooling Updates&lt;/s&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  After the the illustration work and in browser playing, I jumped back into
  Sketch to try to get at a more concrete plan and to play more. I won’t
  continue in Sketch to get a “complete” design. I prefer to do a lot in CSS.
  But here&#39;s a zoomed out screenshot of my current mess to get an idea of what
  I’m up to.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/blog/assets/post-image-realign-2020-initial-sketch.png&quot; alt=&quot;A screenshot of a messy Sketch document showing the current status of this site’s design realign&quot; /&gt;
  &lt;figcaption&gt;
    WIP design realign
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  You can see shell pages started for projects. I have six main buckets of work
  that I want to present in detail. There’s a lot more, but those are the ones
  that I’ll have the time and energy to pull off right now.
&lt;/p&gt;
&lt;p&gt;
  Here we go again.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Using a Custom OAuth Provider with NetlifyCMS</title>
    <link href="https://tylergaw.com/blog/netlify-cms-custom-oath-provider/"/>
    <updated>2019-08-18T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/netlify-cms-custom-oath-provider/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  At &lt;a href=&quot;https://www.streetcred.co/&quot;&gt;work&lt;/a&gt;, we’re in the middle of a site
  realign and rebuild. As part of that effort, we’re moving to
  &lt;a href=&quot;https://www.netlifycms.org/&quot;&gt;NetlifyCMS&lt;/a&gt;. Implementing NetlifyCMS
  was eerily easy for me. But, I did hit one snag when it came to OAuthing
  with GitHub. In this post I explain the problem and what I did to get things
  working.
&lt;/p&gt;
&lt;p&gt;
  First, the problem. I didn’t do anything fancy with
  the NetlifyCMS installation. I used the standard approach described
  in &lt;a href=&quot;https://www.netlifycms.org/docs/add-to-your-site/&quot;&gt;their docs&lt;/a&gt;. One
  requirement we had was to not use Netlify. We wanted to keep things on our
  AWS infrastructure, because that’s where all our stuff is. We didn’t want
  another thing to manage.
&lt;/p&gt;
&lt;p&gt;
  Before diving in, here are links to examples described in this post. These
  might be all you need to get going if you’re building a similar thing:
&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://tylergaw.github.io/netlify-cms-github-oauth-provider-client-example&quot;&gt;Live client example&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/tylergaw/netlify-cms-github-oauth-provider-client-example&quot;&gt;Client example repo&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://glitch.com/edit/#!/netlify-cms-github-oauth-provider-example&quot;&gt;Server example on Glitch&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/tylergaw/netlify-cms-github-oauth-provider-server-example&quot;&gt;Server example repo&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  For NetlifyCMS authenticaton I went with &lt;a href=&quot;https://www.netlifycms.org/docs/authentication-backends/#github-backend&quot;&gt;GitHub backend&lt;/a&gt;.
  I got lost there. The docs say:
&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;To enable basic GitHub authentication:&lt;/p&gt;
  &lt;ol&gt;
    &lt;li&gt;Follow the authentication provider setup steps in the Netlify docs.&lt;/li&gt;
    &lt;li&gt;Add the following lines to your Netlify CMS config.yml file:&lt;/li&gt;
  &lt;/ol&gt;
  &lt;cite&gt;
    &lt;a href=&quot;https://www.netlifycms.org/docs/authentication-backends/#github-backend&quot;&gt;NetlifyCMS docs, &quot;Authentication &amp; Backends - GitHub Backend”&lt;/a&gt;
  &lt;/cite&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  I didn’t want to use Netlify. But I also went ahead and followed the docs they
  referenced in step one. Even with that, I couldn’t quite figure out what
  needed to happen. Step two above was fine. But, I could tell something was
  missing.
&lt;/p&gt;
&lt;h2&gt;The problem&lt;/h2&gt;
&lt;p&gt;
  When I tried to log in to the NetlifyCMS on our
  deployed site, I would hit a 404. So I knew I was missing some piece, but
  was unclear what that was. I’d spent a while banging my head against it so
  I asked &lt;a href=&quot;https://gitter.im/netlify/NetlifyCMS?at=5d4da39b9507182477ac29cf&quot;&gt;a question&lt;/a&gt;
  in the NetlifyCMS Gitter room, but didn’t find help there.
&lt;/p&gt;
&lt;h2&gt;The solution&lt;/h2&gt;
&lt;p&gt;
  &lt;strong&gt;To use a GitHub backend with NetlifyCMS, you have to have your own server
    to handle OAuth&lt;/strong&gt;. This is a requirement of GitHub’s authentication
    flow. The good news about that, is that it’s a standard OAuth flow. The
    bad news about that, is that it’s a standard OAuth flow.
&lt;/p&gt;
&lt;h3&gt;Prior art&lt;/h3&gt;
&lt;p&gt;
  &lt;a href=&quot;https://github.com/vencax/netlify-cms-github-oauth-provider&quot;&gt;vencax/netlify-cms-github-oauth-provider&lt;/a&gt;
  is an example of what’s needed. It’s mostly an example of a standard OAuth flow with
  a couple—very—helpful NetlifyCMS-specific bits. That got me almost there, but I still
  couldn’t get everything working. I was still having trouble understanding
  how all the pieces fit together.
&lt;/p&gt;
&lt;p&gt;
  What I needed to do was build my own server to handle the OAuth flow.
  This is a thing I’ve done and &lt;a href=&quot;https://tylergaw.com/articles/jribbble-three-and-oauth/&quot;&gt;written about before&lt;/a&gt;.
  OAuth is like that for me. I set it up. Deploy it. Forget it. Then have to
  give myself a refresher to do again. That’s what the server example in this
  post is.
&lt;/p&gt;
&lt;h3&gt;The server&lt;/h3&gt;
&lt;p&gt;
  I went with &lt;a href=&quot;https://glitch.com/&quot;&gt;Glitch&lt;/a&gt; for this example. For me
  it’s quickest way to get a server spun up. And the easiest way for me to share
  it with you.
&lt;/p&gt;
&lt;p&gt;
  I put steps in the &lt;a href=&quot;https://github.com/tylergaw/netlify-cms-github-oauth-provider-server-example#what-you-need-to-do&quot;&gt;README&lt;/a&gt;
  to explain what you need to do to get this up and running for your own use.
&lt;/p&gt;
&lt;p&gt;
  The user-facing part of the &lt;a href=&quot;https://glitch.com/edit/#!/netlify-cms-github-oauth-provider-example&quot;&gt;server example&lt;/a&gt;
  exists, but it’s not meant for direct use. If you try to use it directly it’ll
  look like it’s not doing anything. The idea is for you to copy the
  example—either on Glitch or your own server—and point your NetlifyCMS client
  at it using the &lt;code&gt;base_url&lt;/code&gt; key described below and in the client
  example.
&lt;/p&gt;
&lt;p&gt;
  The code is 99% standard OAuth handshake handling.
  A &lt;code&gt;GET&lt;/code&gt; followed by a &lt;code&gt;POST&lt;/code&gt; to GitHub’s OAuth resources
  to retrieve the OAuth access token. I left comments in the code to point out what’s
  happening and what’s NetlifyCMS-specific. The biggest chunk of code that
  NetlifyCMS needs is this;
&lt;/p&gt;
&lt;!-- prettier-ignore-start --&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const postMsgContent = {
  token: body.access_token,
  provider: &quot;github&quot;
};

const script = `
  &amp;ltscript&amp;gt;
    (function() {
      function recieveMessage(e) {
        console.log(&quot;recieveMessage %o&quot;, e);

        // send message to main window with the app
        window.opener.postMessage(
          &#39;authorization:github:success:${JSON.stringify(postMsgContent)}&#39;,
          e.origin
        );
      }

      window.addEventListener(&quot;message&quot;, recieveMessage, false);
      window.opener.postMessage(&quot;authorizing:github&quot;, &quot;*&quot;);
  })()
&amp;lt;/script&amp;gt;`;&lt;/code&gt;&lt;/pre&gt;
&lt;!-- prettier-ignore-end --&gt;
&lt;p&gt;
  A couple bits of formatting aside, I took this from &lt;a href=&quot;https://github.com/vencax/netlify-cms-github-oauth-provider/blob/master/index.js#L74&quot;&gt;vencax/netlify-cms-github-oauth-provider&lt;/a&gt;.
  This chunk of code is a little tough to follow. The gist of it is that your
  NetlifyCMS client JavaScript is gonna get your GitHub access token via
  &lt;code&gt;postMessage&lt;/code&gt;. I tried to find the postMessage handling code in
  the NetlifyCMS code, but haven’t been able to track it down yet. If anyone
  knows where that is, &lt;a href=&quot;mailto:me@tylergaw.com&quot;&gt;I’d love to know&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  We put this &lt;code&gt;script&lt;/code&gt; in a string because we have the
  server respond with it. You could also put this in HTML and return the
  access token a different way, but this a way to make short work of it.
&lt;/p&gt;
&lt;h3&gt;The client&lt;/h3&gt;
&lt;p&gt;
  There’s a single customization needed to make this work with the standard
  GitHub backend NetlifyCMS configuration. The &lt;code&gt;base_url&lt;/code&gt; key.
&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&lt;pre class=&quot;language-yml&quot;&gt;backend:
name: github
branch: master
repo: tylergaw/netlify-cms-github-oauth-provider-client-example # change this to your repo
base_url: https://netlify-cms-github-oauth-provider-example.glitch.me # change this to your OAuth server&lt;/pre&gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;
  The other items in &lt;code&gt;config.yml&lt;/code&gt; are standard NetlifyCMS config
  items. &lt;code&gt;base_url&lt;/code&gt; needs to be a public URL to the server that
  handles OAuth for your GitHub application. Like
  the example in this post.
&lt;/p&gt;
&lt;p&gt;
  You can see in the &lt;a href=&quot;https://github.com/tylergaw/netlify-cms-github-oauth-provider-client-example&quot;&gt;client code&lt;/a&gt;
  that this is a no frills NetlifyCMS setup.
&lt;/p&gt;
&lt;h2&gt;That’s all&lt;/h2&gt;
&lt;p&gt;
  We’re a similar setup at &lt;a href=&quot;https://streetcred.co/&quot;&gt;StreetCred&lt;/a&gt; on
  our soon-to-launch new site and so far, so good. NetlifyCMS is an excellent
  project. One that I’ve been wanting for years. It checks all the boxes that
  other CMSs don’t and I look forward to using it more.
&lt;/p&gt;
&lt;p&gt;
  If this post and/or the examples helped you, or if you try to use it and get
  stuck, send me an email at &lt;a href=&quot;mailto:me@tylergaw.com&quot;&gt;me@tylergaw.com&lt;/a&gt;
  and let me know.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Good Things</title>
    <link href="https://tylergaw.com/blog/good-things/"/>
    <updated>2019-08-04T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/good-things/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  Folks in design and technology have a tendency towards negativity. Any day
  of the week you can read Twitter, blog posts, and have conversations with co-workers
  and hear people declare, with self-appointed authority, that anything they don’t
  find value in is bad.
&lt;/p&gt;
&lt;p&gt;
  Here’s a non-exhaustive, unordered list of things about my work—maybe yours
  too—that are good.
&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;HTML is good&lt;/li&gt;
  &lt;li&gt;The WHATWG is good&lt;/li&gt;
  &lt;li&gt;CSS is good&lt;/li&gt;
  &lt;li&gt;The CSSWG is good&lt;/li&gt;
  &lt;li&gt;Sass is good&lt;/li&gt;
  &lt;li&gt;PostCSS is good&lt;/li&gt;
  &lt;li&gt;CSS-in-JS is good&lt;/li&gt;
  &lt;li&gt;CSS Modules is good&lt;/li&gt;
  &lt;li&gt;Sketch app is good&lt;/li&gt;
  &lt;li&gt;Photoshop is good&lt;/li&gt;
  &lt;li&gt;Illustrator is good&lt;/li&gt;
  &lt;li&gt;Affinity Designer is good&lt;/li&gt;
  &lt;li&gt;Paying for fonts is good&lt;/li&gt;
  &lt;li&gt;JavaScript is good&lt;/li&gt;
  &lt;li&gt;jQuery is good&lt;/li&gt;
  &lt;li&gt;React is good&lt;/li&gt;
  &lt;li&gt;React Native is good&lt;/li&gt;
  &lt;li&gt;Redux is good&lt;/li&gt;
  &lt;li&gt;Redux Thunk is good&lt;/li&gt;
  &lt;li&gt;Redux Saga is good&lt;/li&gt;
  &lt;li&gt;node is good&lt;/li&gt;
  &lt;li&gt;Babel is good&lt;/li&gt;
  &lt;li&gt;webpack is good&lt;/li&gt;
  &lt;li&gt;rollup.js is good&lt;/li&gt;
  &lt;li&gt;gulp is good&lt;/li&gt;
  &lt;li&gt;Metalsmith is good&lt;/li&gt;
  &lt;li&gt;Handlebars is good&lt;/li&gt;
  &lt;li&gt;Prettier is good&lt;/li&gt;
  &lt;li&gt;npm is good&lt;/li&gt;
  &lt;li&gt;yarn is good&lt;/li&gt;
  &lt;li&gt;Python is good&lt;/li&gt;
  &lt;li&gt;Django is good&lt;/li&gt;
  &lt;li&gt;Flask is good&lt;/li&gt;
  &lt;li&gt;PyPI is good&lt;/li&gt;
  &lt;li&gt;PHP is good&lt;/li&gt;
  &lt;li&gt;Ruby is good&lt;/li&gt;
  &lt;li&gt;Rails is good&lt;/li&gt;
  &lt;li&gt;Atom is good&lt;/li&gt;
  &lt;li&gt;TextWrangler is good&lt;/li&gt;
  &lt;li&gt;Vim is good&lt;/li&gt;
  &lt;li&gt;RSS is good&lt;/li&gt;
  &lt;li&gt;Server-side rendering is good&lt;/li&gt;
  &lt;li&gt;Client-side rendering is good&lt;/li&gt;
  &lt;li&gt;Progressive enhancement is good&lt;/li&gt;
  &lt;li&gt;Being positive is good&lt;/li&gt;
  &lt;li&gt;Being earnest is good&lt;/li&gt;
  &lt;li&gt;Being kind is good&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  There are infinite more things that are good about being a designer and
  engineer. If you read my list and thought; “Thing X is also good, why isn’t it on your list?”.
  It’s not that I don’t think thing X is good. It’s either that I; didn’t think
  of it, or don’t have enough knowledge about it to know it’s good. For those,
  I encourage you to make your own list of Good Things.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>A Library</title>
    <link href="https://tylergaw.com/blog/a-library/"/>
    <updated>2019-04-21T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/a-library/</id>
    <content type="html">&lt;p&gt;
  &lt;b&gt;Update, early 2021:&lt;/b&gt; I changed the name and URL to &lt;a href=&quot;https://tylergaw.com/bookshelf&quot;&gt;Bookshelf&lt;/a&gt;. Just seemed like a better fit.
&lt;/p&gt;
&lt;p&gt;
  I don’t read enough books. And when I do, I don’t read a wide enough variety
  of them. I’m working to fix this by doing three things:
&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;I’m reading more books&lt;/li&gt;
  &lt;li&gt;Always having a book I want to read (that I’m actually interested in, if I don’t like it, I put it down and walk away)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;
  For step number two, I either buy two books at once or as soon as I
  finish a book, I go get another one. Lately, at the excellent
  &lt;a href=&quot;https://www.mcnallyjackson.com/&quot;&gt;McNally Jackson&lt;/a&gt; on Prince St.
  near my apartment.
&lt;/p&gt;
&lt;p&gt;
  The third thing I’m doing is documenting the book I’m reading and the books
  I’ve read in &lt;a href=&quot;https://tylergaw.com/library&quot;&gt;Library&lt;/a&gt;. Nothing fancy, just a list
  book titles, authors, and the month and year I read the book. I’m not making
  an attempt to list books before 2019 right now. Just starting with what’s
  fresh in my mind.
&lt;/p&gt;
&lt;p&gt;
  I decided I wanted this after reading
  &lt;a href=&quot;https://austinkleon.com/2019/03/21/how-to-read-more-3/&quot;&gt;Austin’s, “How to read more”&lt;/a&gt;.
  In it, he mentions &lt;a href=&quot;https://www.artgarfunkel.com/library/list1.html&quot;&gt;Art Garfunkel’s&lt;/a&gt;
  list of read books. That list is amazing. I hope to maintain
  my list for even a portion as long as he as.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>No More Google Analytics</title>
    <link href="https://tylergaw.com/blog/no-more-google-analytics/"/>
    <updated>2019-02-19T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/no-more-google-analytics/</id>
    <content type="html">&lt;p&gt;
  This website has had Google Analytics tracking visitors for at a least a decade.
  I’m not sure of the exact date I added it, but I’d guess 2007-2008. As I published this,
  I removed the JavaScript for it and deleted the property in the GA dashboard.
&lt;/p&gt;
&lt;p&gt;
  For this site, the numbers serve no purpose. They’re a vanity metric I either
  never look at or anxiously check when I have a burst of traffic for whatever
  reason. &lt;b&gt;That anxious checking&lt;/b&gt;. It’s one more set of numbers to obsess
  over. The Unread emails, Slack notifications, Tweets, favorites, texts,
  and on and on and on. Ditching one set of numbers that want everything and give
  nothing feels good.
&lt;/p&gt;
&lt;p&gt;
  Also, I don’t want this site to track people in any way. You have enough of
  that. I know my use of analytics isn’t responsible for you getting ads about
  a jacket you looked at once on every other website you visit forever. But, hey
  this is now one less site that’s collecting information about where you’ve been
  on the Web. We could all use that.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Designing Anthologies: Initial Concepts</title>
    <link href="https://tylergaw.com/blog/designing-anthologies-concepts/"/>
    <updated>2018-04-21T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/designing-anthologies-concepts/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  Another day, another side project. My latest is &lt;a href=&quot;https://anthologies.co/&quot;&gt;Anthologies&lt;/a&gt;. It lets you package links to share stories. Or–more accurate–that’s what it will do when I launch it. I bought the domain name two months ago and now I’m getting to work. I plan to share as much of my design and development process as possible. This post is a look at early design concepts and a peek into my thoughts on how I approach a new design.
&lt;/p&gt;
&lt;p&gt;
  First things first. If this idea sounds familiar, it’s because it’s been a thing before. In 2012, when I was on the Readability team, we designed and built &lt;a href=&quot;https://web.archive.org/web/20160704152104/http://readlists.com:80/&quot;&gt;Readlists&lt;/a&gt;. Readlists shut down in 2016. It happens. But I miss it and I know other people do to. I don’t think it’s a huge number of people, and that’s OK. My goal for Anthologies is to build a small tool that does one thing well. If only a few people use it, that’s A-OK with me. And much cheaper. (I plan to write about my approach to building this in a cost-efficient way as soon as I figure out how to do that. I’m following the serverless path right now.)
&lt;/p&gt;
&lt;h2&gt;MVP&lt;/h2&gt;
&lt;p&gt;
  At its core, an Anthology is a title, description, and list of urls or “entries” as I’m referring to them. For the MVP, I’m also going to expand that to include details about each entry as they’re available. Each entry can have a title, excerpt, author, publication, and image. If each entry has those or not will depend on the contents of the page at the url. I know from experience that parsing pages for those details is unpredictable. So my design needs to be flexible.
&lt;/p&gt;
&lt;h2&gt;Systems Check&lt;/h2&gt;
&lt;p&gt;
  Like a lot of designers, I sit down and get right to work on a new design by staring at fonts for an hour or two. For Anthologies, I wanted what I usually want from a typeface. I wanted sturdiness at small sizes and a good range of weights. I wanted a super heavy weight for stand-out titles. I also had a specific type hang-up this time around; I wanted a typeface with a two-story lowercase “g”. In early logo and UI sketches I kept drawing two-story g’s so I had it stuck in my brain and didn’t see a reason to fight it. I settled on &lt;a href=&quot;https://typekit.com/fonts/aaux-next&quot;&gt;Aaux Next&lt;/a&gt;. It has a beautiful two-story g. So far I’ve used the regular, medium, black, and ultra weights.
&lt;/p&gt;
&lt;p&gt;
  Another way I like to put off designing is to fiddle with grid configurations. Sketch makes this way too easy. After the proper amount fiddling, I landed on a grid that seems to work well. The grid is seven–191 pixels wide–columns with ten pixel gutters. I set row gutters at twenty pixels, and every now and then actually set text on them the right way.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-anthology-grid.png&quot; alt=&quot;The seven column grid in use for the first anthologies.co concepts. It&#39;s slightly off center to the right. The gap on the left gives room for the branding banner.&quot; /&gt;
  &lt;figcaption&gt;
    The 7-column grid.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  If you’re looking at the grid image you might notice it’s off-center to the right. That’s on purpose. You’ll see later that each mock-up includes a banner with branding on the left. I didn’t want that to use the grid. I only place the primary content on the grid.
&lt;/p&gt;
&lt;h2&gt;The Concepts&lt;/h2&gt;
&lt;p&gt;
  With ample procrastination out of the way, I started designing. For content, I used &lt;a href=&quot;https://longform.org/posts/the-longform-guide-to-sad-retired-athletes&quot;&gt;&lt;i&gt;The Longform Guide to Sad Retired Athletes&lt;/i&gt;&lt;/a&gt;. Their collections are a perfect match for the type of content I expect will make up most Anthologies.
&lt;/p&gt;
&lt;h3&gt;1. Two-up&lt;/h3&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-1-anthology-two-up.webp&quot; type=&quot;image/webp&quot; /&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-1-anthology-two-up.png&quot; type=&quot;image/png&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-1-anthology-two-up.png&quot; alt=&quot;A early mock-up of a single Anthology on anthologies.co&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;
    Iteration 1 “Two-up”: The first mock-up I got to a done-enough state.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  The first go at it. A lot went into this that you don’t see in the mock-up. Much shuffling of text and images happened to get to this point. I don’t know that this is “good”, but it felt like a complete thought. It felt resolved enough. It displays the Anthology content and provides links to the articles. It accomplishes the goals.
&lt;/p&gt;
&lt;p&gt;
  The most valuable artifact of this iteration are the discovered interface patterns. These are building blocks for every later iteration. There’s a “cover”–made up of the title, description, and byline. The entries–made up of individual entry elements. And within those are smaller components. I think about these in &lt;a href=&quot;http://bradfrost.com/blog/post/atomic-web-design/&quot;&gt;Atomic design&lt;/a&gt; terms. The cover is a organism. It includes an “intro” molecule. The intro contains title, description, and byline atoms. And so on. These might not be the exact elements I end up with, but they’re a way for me to break down the interface into distinct parts. Finding interface building blocks is a goal of my early design process.
&lt;/p&gt;
&lt;h4&gt;An Organized Tangent&lt;/h4&gt;
&lt;p&gt;
  Keeping my artboards, groups, and layers organized in Sketch helps me focus. Naming those items also helps me get a jump on naming elements in HTML and CSS. The names I use in Sketch, I’ll use for future class names, file names, etc. When I look at the Sketch layers palette, I see the DOM.
&lt;/p&gt;
&lt;p&gt;
  The name of each design concept is the name I gave the artboard in Sketch. Those names might not stick and aren’t always descriptive, but they help me organize my thoughts.
&lt;/p&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-anthologies-1-sketch-layers.webp&quot; type=&quot;image/webp&quot; /&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-anthologies-1-sketch-layers.png&quot; type=&quot;image/png&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-anthologies-1-sketch-layers.png&quot; alt=&quot;A screenshot of the Sketch.app layers palette for these Anthologies designs&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;
    The layers palette of the Sketch file for Anthologies mock-ups.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  The first iteration is always the hardest. With it out of the way I started having a lot of fun with the designs. The rest of the concepts are me asking; “what if…?” and then designing answers. These aren’t meant to be separate themes to choose from. They’re exploration of possibilities. It’s me searching for interesting ways to display the same content. In that searching I find design solutions, but also more questions that lead to more design. This was also just good, fast design fun. I could do fifty of these and keep going. I won’t though, because I want to ship this thing sooner than later.
&lt;/p&gt;
&lt;h3&gt;2. Grid Dark&lt;/h3&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-2-anthology-grid-dark.webp&quot; type=&quot;image/webp&quot; /&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-2-anthology-grid-dark.png&quot; type=&quot;image/png&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-2-anthology-grid-dark.png&quot; alt=&quot;A early mock-up of a single Anthology on anthologies.co&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;
    Iteration 2 “Grid dark”: An iteration on the first mock-up where the entries float on top of the cover image.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  This was a tiny step from the first concept. A little more modern, techy aesthetic. Instead of cropping the cover image, I let it fill the layout, and let the entries float above the background. A joke name I had for it was “Textflix”, because it reminded me of Netflix’s aesthetic. I’m light on words for this one because I think it’s just…fine. I could ship this and it’d work, but it doesn’t really move the needle for me. It invokes a healthy shrug.
&lt;/p&gt;
&lt;p&gt;
  These first two iterations were dark and felt heavy. For the next concept I lightened things up in color and design elements.
&lt;/p&gt;
&lt;h3&gt;3. Text Light&lt;/h3&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-3-anthology-text-light.webp&quot; type=&quot;image/webp&quot; /&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-3-anthology-text-light.png&quot; type=&quot;image/png&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-3-anthology-text-light.png&quot; alt=&quot;A early mock-up of a single Anthology on anthologies.co&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;
    Iteration 3 “Text light”: A light-weight, brighter concept using mostly text and only a cover image.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  Along with a lighter aesthetic, in this concept I changed grid usage. In the first two concepts, I gave the cover three columns and the entries four. In this concept, I gave the cover image more prominence. When I saw that, it felt like it needed room to breathe. With that, I gave it another half column and reduced the entries to three-and-a-half columns.
&lt;/p&gt;
&lt;p&gt;
  Content-wise, I introduced entry excerpts. The layout of the first two concepts worked better without excerpts. It feels a bit off to exclude them for entries though. It seems like the reader needs a bit more of a hook to decide where they want to start.
&lt;/p&gt;
&lt;p&gt;
  In the future, excerpts could be curator-configurable per Anthology.
&lt;/p&gt;
&lt;h3&gt;4. Text Light Imgs&lt;/h3&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-4-anthology-text-light-imgs.webp&quot; type=&quot;image/webp&quot; /&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-4-anthology-text-light-imgs.png&quot; type=&quot;image/png&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-4-anthology-text-light-imgs.png&quot; alt=&quot;A early mock-up of a single Anthology on anthologies.co&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;
    Iteration 4 “Text light imgs”: A tweak on Text light. This time including an image thumbnail with each entry.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  This was the first concept I tried using an image for each entry. When I saw them in place, it felt like the cover image could go away. The title and description could shoulder the work of being the cover.
&lt;/p&gt;
&lt;p&gt;
  For this concept I also tried an off-white background color. I pulled this from Readability, Instapaper, Pocket, et al. In those, a similar color tended to be used for a sepia theme. I’m luke-warm on it.
&lt;/p&gt;
&lt;p&gt;
  I explored options for the branding banner here too. I wanted to see if a stark contrast between banner and content could help the banner detach and fade away. Sometimes when an element is so much different than the rest of the design, it can make it easier to consider it, then ignore. I’m still not sure if it’s working or not, but it’s interesting.
&lt;/p&gt;
&lt;h3&gt;5. Text Light Two&lt;/h3&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-5-anthology-text-light-two.webp&quot; type=&quot;image/webp&quot; /&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-5-anthology-text-light-two.png&quot; type=&quot;image/png&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-5-anthology-text-light-two.png&quot; alt=&quot;A early mock-up of a single Anthology on anthologies.co&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;
    Iteration 5 “Text light two”: There&#39;s a lot more going on in this one.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  In this concept, I let myself toss around more design elements. Scattered orange blocks here, a few tech lines there, an angle on the cover image, and so on. With the orange blocks, I was thinking about something like a 1970s jazz album cover. Or at least how I pictured them looking. I also switched the title and entry headings to the Ultra weight of Aaux Next. They felt like they needed some extra heft.
&lt;/p&gt;
&lt;p&gt;
  With the introduction of more design elements, it felt like the eye needed a little break. To give it that rest, I removed the image thumbnails for each entry.
&lt;/p&gt;
&lt;h3&gt;6. Spartan&lt;/h3&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-6-anthology-spartan.webp&quot; type=&quot;image/webp&quot; /&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-6-anthology-spartan.png&quot; type=&quot;image/png&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-6-anthology-spartan.png&quot; alt=&quot;A early mock-up of a single Anthology on anthologies.co&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;
    Iteration 6 “Spartan”: Just text and images-as-content
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  After Text Light Two with all its fiddly bits, I wanted to try one the other way. For this concept I let the content speak for itself. Text and images as content with–almost–no other design elements. I kept one element in place, the subtle border between the cover and entries. You might also notice I increased all the font sizes. The title and each entry title felt like they needed more oomph to take center stage. I was looking at–and taking cues from–the New York Times on this one.
&lt;/p&gt;
&lt;p&gt;
  At this point, this concept feels the strongest in terms of practicality and broad use. When I start building, I’ll most likely use this as a guide.
&lt;/p&gt;
&lt;h3&gt;7. Party&lt;/h3&gt;
&lt;figure&gt;
  &lt;picture&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-7-anthology-party-1.webp&quot; type=&quot;image/webp&quot; /&gt;
    &lt;source srcset=&quot;https://tylergaw.com/articles/assets/post-image-7-anthology-party-1.png&quot; type=&quot;image/png&quot; /&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-7-anthology-party-1.png&quot; alt=&quot;A early mock-up of a single Anthology on anthologies.co&quot; /&gt;
  &lt;/picture&gt;
  &lt;figcaption&gt;
    Iteration 7 “Party 1”: Just throwing everything at the wall to see what sticks.
  &lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  Oooooh shit, here we go! I needed to see one like this. I took about a day break between Spartan and this concept to clear my head. Then I threw everything at the wall. I’ve been reading posts on &lt;a href=&quot;https://theoutline.com/&quot;&gt;The Outline&lt;/a&gt; and enjoying the design they’re doing. I lifted ideas wholesale from them on this concept. That’s a fun thing about doing early concepts like this, it’s OK steal. It’s more about serious play than producing a finished piece.
&lt;/p&gt;
&lt;p&gt;
  I don’t know if a concept like this will make it to browsers, but it could. I don’t think it’s “bad.” Depending on the tone of the Anthology, something like this could work well. I plan to explore this type of aesthetic more as I go.
&lt;/p&gt;
&lt;h2&gt;HTML/CSS Here We Come&lt;/h2&gt;
&lt;p&gt;
  Designs like this are never “done”, but this one is ready for the next step: browsers. Using Spartan as a base, I’ll build an Anthology page using static-content. As soon as you get in a browser you learn a ton. The design will shift and shimmy from the static mocks here to meet the needs of its ultimate home.
&lt;/p&gt;
&lt;p&gt;
  As I mentioned before, I have more posts I want to write about my process. When I dive into these projects I let myself get pulled into the weeds in myriad areas of design and development. It’s tons of fun and it’s important to share. Keep an eye out for more.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Jribbble Three and Helping People OAuth</title>
    <link href="https://tylergaw.com/blog/jribbble-three-and-oauth/"/>
    <updated>2018-04-15T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/jribbble-three-and-oauth/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  In December 2017, Dribbble &lt;a href=&quot;http://developer.dribbble.com/changes/2017-12-05-api-v2/&quot;&gt;announced&lt;/a&gt; version two of their API. In the same post, they set March 26, 2018 as the deprecation date of version one. I’ve maintained Jribbble for almost &lt;a href=&quot;https://github.com/tylergaw/jribbble/commit/0895bed9b12d25dbf9ec04073acf64823a512267&quot;&gt;8 years now&lt;/a&gt;. It’s a JavaScript library to help fetch data from the Dribbble API. In that time it’s gone through plenty of iteration to keep up with Dribbble API changes. Jribbble 3.0 continues that trend.
&lt;/p&gt;
&lt;p&gt;
  To date, Dribbble API changes have been additive. API features have given users more access to more of data via the API. As Dribbble explained in &lt;a href=&quot;http://developer.dribbble.com/changes/2017-12-05-api-v2/&quot;&gt;their post&lt;/a&gt;, version two goes the other way, it removes a lot of functionality.
&lt;/p&gt;
&lt;p&gt;
  The reduced functionality seems fine though. In my time working on Jribbble, most conversations I’ve had with designers are about using it to get their own shots. That’s still available, and the focus of API version two. My guess is most users of Jribbble won’t lose out. They will need to make code changes to continue using Jribbble though.
&lt;/p&gt;
&lt;p&gt;
  I’ve had a few conversations with folks on &lt;a href=&quot;https://github.com/tylergaw/jribbble/issues/18&quot;&gt;GitHub&lt;/a&gt; and email about updating to Jribbble 3.0. The biggest change is that Jribbble is no longer a jQuery plugin. It’s now a standalone library. I write more about the decision to remove jQuery later in this post.
&lt;/p&gt;
&lt;p&gt;
  The other big change is the shape of Jribbble’s public API methods. Here’s a 2.x vs 3.x example of a user getting their own shots with Jribbble:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// Jribbble 2.x
$.jribbble.setToken(&quot;&amp;lt;access_token&amp;gt;&quot;);
$.jribbble.users(&quot;tylergaw&quot;).shots().then(function(shots) { /* Work with shots JSON */ });&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;// Jribbble 3.x
jribbble.setToken(&quot;&amp;lt;access_token&amp;gt;&quot;);
jribbble.shots(function(shots) { /* Work with shots JSON */ });&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  The Jribbble API is no longer chainable or promise-based. Again, I detail more of the code decisions later in this post. We can still do the same thing, but now in a more concise way.
&lt;/p&gt;
&lt;h2 id=&quot;a-new-barrier-to-entry&quot;&gt;A New Barrier to Entry&lt;/h2&gt;
&lt;p&gt;
  With Dribbble API version one, we could make requests using read-only client access tokens. When creating an application via the Dribbble UI, they would generate the client access token. We could then use that token to make requests to the API.
&lt;/p&gt;
&lt;p&gt;
  In version two, those easy-to-use, auto-generated client access tokens are gone. Now, all requests must use a &lt;a href=&quot;https://stackoverflow.com/questions/25838183/what-is-the-oauth-2-0-bearer-token-exactly&quot;&gt;bearer token&lt;/a&gt;. To get a bearer token, you have to go through the &lt;a href=&quot;http://developer.dribbble.com/v2/oauth/#web-application-flow&quot;&gt;OAuth2 flow&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  Depending on your experience with OAuth, you might read that and think; “Sure, no problem. OAuth is easy” or “uhhhh, what’s an OAuth?” or somewhere in between. At any experience level, if you only want to make a single API request to display your Dribbble shots on your personal site, it’s a rigmarole.
&lt;/p&gt;
&lt;p&gt;
  When I first read about the new auth I thought, “welp, Jribbble is dead. As is all client-side JS access to the Dribbble API.” I thought this beause in most cases, you shouldn’t put OAuth-generated bearer access tokens in public code. Doing so makes them available for anyone to find and act on behalf of token owners in any–malicious–way they want.
&lt;/p&gt;
&lt;p&gt;
  &lt;a href=&quot;https://twitter.com/tylergaw/status/951532274482368512&quot;&gt;I asked the Dribbble folks&lt;/a&gt; about this and they let me know that in this case, putting access tokens in public code would be OK because they’re read-only. A bad actor could still snag your access token and use it to abuse the API on your behalf. I’d guess by making a ton of nonsense requests. The Dribbble API has rate-limiting in place to help mitigate this. At the worst, Dribbble could revoke your access token or disable your app. You’d then need to go back though the process to get a new token and/or create a new app.
&lt;/p&gt;
&lt;p&gt;
  This change still didn’t sit well with me though. What are less code-savvy folks supposed to do? The main users of Dribbble and Jribbble are Designers. There’s a good chance many of them don’t have experience creating and deploying OAuth flows. That’s exactly who I’ve had conversations with over the years. And that’s who has reached out to me since the API version two announcment. Folks that know enough code to copy, paste, and tweak a snippet of JS, but not enough code to build and deploy a custom OAuth setup.
&lt;/p&gt;
&lt;p&gt;
  With that, I set out to come up with a way to help them. Because that’s what we do here.
&lt;/p&gt;
&lt;h3 id=&quot;options&quot;&gt;Options&lt;/h3&gt;
&lt;p&gt;
  My first idea was to create a site where people would authenticate with
  a Dribbble application that I owned. They’d show up, tap “connect”, confirm
  with Dribbble, then get directed back to my site where they’d get an access token.
&lt;/p&gt;
&lt;p&gt;
  That would get the job done, but felt wrong. Having people authenticate through my app would mean their access tokens would be in my hands. If I deleted the
  app—or my Dribbble account—their tokens would stop working. If a bad actor generated a token then used it to abuse the API, my app could get suspended. Again, taking every user’s access token with it.
&lt;/p&gt;
&lt;p&gt;
  I needed a way for every Jribbble user to be able to generate access tokens using an application they owned.
&lt;/p&gt;
&lt;h3 id=&quot;glitch&quot;&gt;Glitch&lt;/h3&gt;
&lt;p&gt;
  If you haven’t used it yet, &lt;a href=&quot;https://glitch.com/&quot;&gt;Glitch&lt;/a&gt; is an excellent tool for sharing and learning code. What sets Glitch apart from similar code-sharing tools is that it gives you the ability to create and share web servers.
&lt;/p&gt;
&lt;p&gt;
  That’s exactly what I needed for this OAuth problem. I could write the server
  necessary for the OAuth flow, then make it available for anyone to–in the parlance of Glitch–“remix” the code to get full access to it. And they can do so without even creating a Glitch account.
&lt;/p&gt;
&lt;p&gt;
  So that’s what I did. &lt;a href=&quot;https://jribbble.glitch.me/&quot;&gt;jribbble.glitch.me&lt;/a&gt;
  is template that anyone can remix to get their own OAuth flow for generating bearer tokens to use with Dribbble API version two.
&lt;/p&gt;
&lt;p&gt;
  I won’t say that writing a server for this is “easy” because it’s only easy if
  you already know how to do it. But, I hope that this will help folks
  see that it’s attainable. To demonstrate, I’m going to plop the entire server here. The code is under 100 lines. The rest is comments to help people understand what’s happening at each step along the way:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;const express = require(&amp;quot;express&amp;quot;);
const tiny = require(&amp;quot;tiny-json-http&amp;quot;);
const nunjucks = require(&amp;quot;nunjucks&amp;quot;);
const cookieParser = require(&amp;quot;cookie-parser&amp;quot;);

// We store the relavant Dribbble URLs here for convenience.
// authUrl is passed along to our template in the `/` handler below.
const authUrl = &amp;quot;https://dribbble.com/oauth/authorize&amp;quot;;
const tokenUrl = &amp;quot;https://dribbble.com/oauth/token&amp;quot;;

// The path of the Callback URL we set when creating our application on Dribbble.
// We reference this URL below in an app.get
const callbackUrl = &amp;quot;/oauth_callback&amp;quot;;

// This isn&#39;t oauth or dribbble specific, but storing the value of the original
// Glitch project to check if we&#39;re seeing the original or a remix.
const ogGlitchUrl = &amp;quot;https://jribbble.glitch.me&amp;quot;;

// These environment variables need to be set in the `.env` file. Look to your left 👈
// client id is safe as public value, if those are seen, it&#39;s OK.
// client_secret is not safe for public. You need to keep that private at all times.
const client_id = process.env.DRIBBBLE_APP_ID;
const client_secret = process.env.DRIBBBLE_APP_SECRET;

// When we receive an access_token from the api.dribbble.com server, we&#39;ll store it
// in this variable.
// Q: Why do we use `let` here instead of `const`?
// A: We use `let` so we can reassign `access_token` to a new value. Here, we set
// an initial value of `null`. Below in the `/oauth_callback` handler we set
// it to a new value of the access_token from the server.
let access_token = null;

// Standard express setup code.
const app = express();
app.use([express.static(&amp;quot;public&amp;quot;), cookieParser()]);

// Set up our template library.
// I–Tyler–didn&#39;t look too deep into this, this block of code came from the nunjucks
// docs and got me up and running, so good enough for me at this time.
nunjucks.configure([&amp;quot;views&amp;quot;, &amp;quot;public&amp;quot;], {
  autoescape: true,
  express: app,
});

// This is our homepage and the page that does most of the work.
app.get(&amp;quot;/&amp;quot;, (req, res) =&amp;gt; {
  const pageUrl = `https://${req.get(&amp;quot;host&amp;quot;)}`;

  // Here, we&#39;ll try to set the access_token from a cookie.
  // In the callback handler below, we set the access_token cookie on successful auth.
  // This isn&#39;t something you need to do in your Jribbble uses.
  access_token = req.cookies.access_token;

  // We use render so we can pass along variables to our template.
  // In index.html any time you see {{thing}} or {% %}, we&#39;re referencing
  // a variable we set here.
  res.render(&amp;quot;index.html&amp;quot;, {
    authUrl,
    accessToken: access_token,
    clientId: client_id,
    // Just in case we&#39;ve hit an authentication error we&#39;ll use this to display a message in the template
    error: req.query.error,
    // We create new boolean value here so we don&#39;t send the actual secret to the template.
    // Note: I–Tyler–am not sure this is 100% necessary, but it felt best to be overly
    // cautious when our app secret. You don&#39;t want anyone to have that.
    hasClientSecret: client_secret.length,

    pageUrl,
    isRemix: pageUrl !== ogGlitchUrl,
    callbackUrl,
  });
});

// This is where our Dribbble applications will come back to after a GET to authUrl
app.get(callbackUrl, async (req, res) =&amp;gt; {
  const data = {
    code: req.query.code,
    client_id,
    client_secret,
  };

  try {
    // We required `tiny` above in tiny-json-http
    // That&#39;s a small http library I preferred to use https://github.com/brianleroux/tiny-json-http
    // It&#39;s not the only way to make requests, there are many different was to accomplish
    // this http post request to Dribbble
    // Note we are using async/await here. If you&#39;re unfamiliar, that&#39;s OK. The number one thing
    // to know is `await` makes this code act like it&#39;s pausing here and waiting for the http
    // request to complete before moving on to the following lines of code.
    const { body } = await tiny.post({ url: tokenUrl, data });

    // As mentioned above, here we&#39;re assigning access_token a new value that is your
    // shiny oauth access token that gives you public read access to your Dribbble account
    access_token = body.access_token;

    // NOTE: Setting a cookie want be required in your uses of Jribbble, because you will
    // include the access_token in your JavaScript.
    res.cookie(&amp;quot;access_token&amp;quot;, access_token);

    // We don&#39;t want to stay on the /oauth_callback page, so redirect back home.
    res.redirect(&amp;quot;/&amp;quot;);
  } catch (err) {
    // If we hit an error we&#39;ll handle that here
    console.log(err);
    res.redirect(&amp;quot;/?error=😡&amp;quot;);
  }
});

app.get(&amp;quot;/logout&amp;quot;, (req, res) =&amp;gt; {
  res.clearCookie(&amp;quot;access_token&amp;quot;);
  res.redirect(&amp;quot;/&amp;quot;);
});

app.listen(process.env.PORT);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Again, you can remix this at &lt;a href=&quot;https://jribbble.glitch.me/&quot;&gt;jribbble.glitch.me&lt;/a&gt;
  to get full access to the code.
&lt;/p&gt;
&lt;p&gt;
  Another cool thing. This example is intended for the Dribbble API, but with a
  few minor changes, it will work for any standard OAuth flow.
&lt;/p&gt;
&lt;p&gt;
  If you use that and run into trouble–or think it’s great–let me know on &lt;a href=&quot;https://twitter.com/tylergaw&quot;&gt;Twitter&lt;/a&gt;.
&lt;/p&gt;
&lt;h2 id=&quot;the-jribbble-rewrite&quot;&gt;The Jribbble Rewrite&lt;/h2&gt;
&lt;p&gt;
  The main part of this project was writing Jribbble 3.0.
  &lt;a href=&quot;https://github.com/tylergaw/jribbble/blob/v2.0.4/src/jribbble.js&quot;&gt;Jribbble 2.x&lt;/a&gt; has six public methods to access resources from Dribbble
  API version one. Many of those methods have subresources like comments, likes, et al. It also has a chainable, promise-based interface. All these things add a non-trivial amount of plumbing code to make them possible.
&lt;/p&gt;
&lt;p&gt;
  Dribbble API version two reduces functionality to getting the current
  user’s profile, shots, and projects. For Dribbble-approved applications you can get a user’s likes and a list of popular shots.
&lt;/p&gt;
&lt;p&gt;
  The reduced functionality meant I could cut most of Jribbble’s code. The first
  thing I did was audit the usage of jQuery. The only jQuery methods in use were; &lt;code&gt;$.ajax&lt;/code&gt;, &lt;code&gt;$.Deferred&lt;/code&gt;, and &lt;code&gt;$.extend&lt;/code&gt;.
  Because of the limited usage, I decided Jribbble 3.0 would not use jQuery.
&lt;/p&gt;
&lt;p&gt;
  It also didn’t feel necessary to use any type of transpiling process. So no Babel or
  TypeScript or the like. I would only write good-ole browser JavaScript. Also, I wanted 3.0 to work in as many browsers as possible, so I only used old-timey
  JS. No arrow functions, no &lt;code&gt;let&lt;/code&gt; or &lt;code&gt;const&lt;/code&gt;, etc. It wasn’t that bad. This is a small library so
  restraining myself to older JS wasn’t a problem. And writing it directly instead of relying on Babel keeps the file size smaller.
&lt;/p&gt;
&lt;p&gt;
  I could have used newer features and still probably ended up with wide-enough support, but it was a fun challenge. And it reminded me of writing JS in years past.
&lt;/p&gt;
&lt;p&gt;
  This was enough of a rewrite that I opened a new, blank file and started
  writing instead of reusing 2.0 code.
&lt;/p&gt;
&lt;h3 id=&quot;30-details&quot;&gt;3.0 Details&lt;/h3&gt;
&lt;p&gt;
  Like 2.0, this version also has six public methods;
  &lt;code&gt;setToken&lt;/code&gt;, &lt;code&gt;shots&lt;/code&gt;, &lt;code&gt;user&lt;/code&gt;, &lt;code&gt;projects&lt;/code&gt;, &lt;code&gt;likes&lt;/code&gt;, and &lt;code&gt;popular&lt;/code&gt;. Each method is available on the window-scoped &lt;code&gt;jribbble&lt;/code&gt; object.
&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;setToken&lt;/code&gt; is the same as in 2.0. It’s how users give Jribbble
  their access tokens.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;jribbble.setToken(&quot;12345&quot;);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  For 3.0 I decided to also allow users to provide their token as an option when calling any of the other methods. For example:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;jribbble.shots({token: &quot;12345&quot;}, callback);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  That accomplishes the same thing as &lt;code&gt;setToken&lt;/code&gt; in a more concise way.
&lt;/p&gt;
&lt;p&gt;
  From here, I’ll detail three internal functions that handle the lion’s share of what Jribbble can do.
&lt;/p&gt;
&lt;h3 id=&quot;function-one-get&quot;&gt;Function one: &lt;code&gt;get&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;
  I took it back in time for this one. For day-to-day work I use &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API&quot;&gt;fetch&lt;/a&gt; or a wrapper like &lt;a href=&quot;https://github.com/axios/axios&quot;&gt;Axios&lt;/a&gt; to make network requests. For Jribbble I didn’t want to use a third-party library or polyfills for requests. So instead of fetch, I went back to &lt;code&gt;XMLHttpRequest&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  All Jribbble requests have the same requirements so I was able to abstract the functionality to a common function. I use the internal &lt;code&gt;get&lt;/code&gt; function for all requests to the Dribbble API:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var get = function(path, callback) {
  var url = &quot;https://api.dribbble.com/v2/&quot; + path;
  var req = new XMLHttpRequest();
  req.addEventListener(&quot;load&quot;, function() {
    if (callback) {
      if (typeof callback === &quot;function&quot;) {
        var ret = {};
&lt;pre&gt;&lt;code&gt;    if (this.status &amp;lt; 400) {
      try {
        ret = JSON.parse(this.responseText);
      } catch (err) {
        ret = {
          error: &amp;quot;There was an error parsing the server response as JSON&amp;quot;
        };
      }
    } else {
      ret = {
        error:
          &amp;quot;There was an error making the request to api.dribble.com.&amp;quot;,
        status: this.status
      };
    }

    callback(ret);
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;});
req.open(&amp;quot;GET&amp;quot;, url);
req.setRequestHeader(&amp;quot;Authorization&amp;quot;, &amp;quot;Bearer &amp;quot; + accessToken);
req.send();
};&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  Not bad. It’s a standard &lt;code&gt;XMLHttpRequest&lt;/code&gt; GET request with an Authorization header. The bulk of the function is guard code to protect against type errors, JSON parsing problems, and network errors. It does what it can to fail with grace if there is a problem.
&lt;/p&gt;
&lt;p&gt;
  I use the Authorization header to send along the user’s Dribbble access token with every request.
&lt;/p&gt;
&lt;p&gt;
  The &lt;code&gt;get&lt;/code&gt; function will work back to IE7. I figured It’d be safe to not include the old fork to check for &lt;code&gt;ActiveXObject&lt;/code&gt;. It’s been years since I’ve typed that, it’s giving me a good chuckle to see it here.
&lt;/p&gt;
&lt;h3 id=&quot;function-two-createApiMethod&quot;&gt;Function two: &lt;code&gt;createApiMethod&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;
  The &lt;code&gt;user&lt;/code&gt;, &lt;code&gt;projects&lt;/code&gt;, &lt;code&gt;likes&lt;/code&gt;, and &lt;code&gt;popular&lt;/code&gt; methods all do the same thing. They process N-number of arguments, make a request to the Dribbble API, and call a user-provided callback. The callback receives a single argument, the JSON response from the request.
&lt;/p&gt;
&lt;p&gt;
  Because they’re all similar, I didn’t want to have to repeat the same code when defining each method. Instead, I abstracted the functionality to &lt;code&gt;createApiMethod&lt;/code&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var createApiMethod = function(path) {
  return function() {
    var args = processArguments.apply(null, arguments);
    get(path + args.query, args.callback);
  };
};&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  The &lt;code&gt;path&lt;/code&gt; parameter is passed along to &lt;code&gt;get&lt;/code&gt; to build the URL to the Dribbble API.
&lt;/p&gt;
&lt;p&gt;
  I then define each public method as a member of the &lt;code&gt;api&lt;/code&gt; object. Each is a function with a unique path based on its needs.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var api = {
  ...
  user: createApiMethod(&quot;user&quot;),
  projects: createApiMethod(&quot;user/projects&quot;),
  likes: createApiMethod(&quot;user/likes&quot;),
  popular: createApiMethod(&quot;popular_shots&quot;)
};&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  This doesn’t provide any extra functionality. It only makes it so I don’t
  have to repeat as much code when defining methods. &lt;code&gt;createApiMethod&lt;/code&gt; returns a function. Let’s look at what’s happening in the body of that function.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var args = processArguments.apply(null, arguments);
get(path + args.query, args.callback);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  The first line is the heavy lifting. It’s function number three that I’ll write about next. For now, it’s important to know that it returns an object with &lt;code&gt;query&lt;/code&gt;, &lt;code&gt;callback&lt;/code&gt;, and &lt;code&gt;resourceId&lt;/code&gt; keys.
&lt;/p&gt;
&lt;p&gt;
  Those values, plus the &lt;code&gt;path&lt;/code&gt; argument, let us build the arguments needed to make the request to Dribbble with &lt;code&gt;get&lt;/code&gt;.
&lt;/p&gt;
&lt;h3 id=&quot;function-three-processArguments&quot;&gt;Function three: &lt;code&gt;processArguments&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;
  For me, this is the most interesting bit of code in Jribbble. Every public Jribbble method except &lt;code&gt;setToken&lt;/code&gt; uses &lt;code&gt;processArguments&lt;/code&gt;. Its purpose is to inspect all arguments passed to Jribbble methods.
&lt;/p&gt;
&lt;p&gt;
  To show its usefulness, consider the following usage examples:
&lt;/p&gt;
&lt;!-- prettier-ignore-start --&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;jribbble.shots(
  &quot;456789&quot;,
  { token: &quot;12345&quot; },
  function(shotObject) { /* Work with JSON */ }
);

jribbble.shots({
    token: &quot;12345&quot;,
    page: 3,
    perPage: 5
  },
  function(shotsArray) { /* Work with JSON */ }
);

jribbble.projects(
  function(projectsArray) { /* Work with JSON */ },
  { token: &quot;12345&quot; }
);

jribbble.user(
  function(userObject) { /* Work with JSON */ }
);&lt;/code&gt;&lt;/pre&gt;
&lt;!-- prettier-ignore-end --&gt;
&lt;p&gt;
  Notice in each I’m providing a different number of arguments of different types. And in the case of &lt;code&gt;projects&lt;/code&gt; I’m providing the arguments in a different order. This type of flexibility isn’t possible with a typical method signature. One where I define each parameter when I create the method.
&lt;/p&gt;
&lt;p&gt;
  For example, imagine a method signature for &lt;code&gt;jribbble.shots&lt;/code&gt; like this:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var shots = function(shotId, options, callback) { /* Do the work */ };&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  That would work for the first usage example, but what about the second? What if I don’t need a single shot and I don’t need to provide an &lt;code&gt;options&lt;/code&gt; argument?
&lt;/p&gt;
&lt;p&gt;
  This is where &lt;code&gt;processArguments&lt;/code&gt; comes into play.
&lt;/p&gt;
&lt;p&gt;
  First, notice when I call the function in &lt;code&gt;createApiMethod&lt;/code&gt; I use &lt;code&gt;apply&lt;/code&gt;:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var args = processArguments.apply(null, arguments);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  This took me a few minutes to get my head around. It’s also hard to write about, but here goes. I need the function that &lt;code&gt;createApiMethod&lt;/code&gt; returns to take zero to
  three arguments. The Jribbble user, provides those. Using &lt;code&gt;apply&lt;/code&gt; let me pass along the &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments&quot;&gt;&lt;code&gt;arguments&lt;/code&gt;&lt;/a&gt; object received from calls to public API methods. Then, within
  &lt;code&gt;processArguments&lt;/code&gt; I have access to that original &lt;code&gt;arguments&lt;/code&gt; object. Once I have it, I convert it to an array for manipulation:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var args = [].slice.call(arguments);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  An important thing to note is &lt;code&gt;processArguments&lt;/code&gt; doesn’t define parameters:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var processArguments = function() {...};&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Again, that’s not something I can define ahead of time. This whole dance lets
  the public methods be flexible in number and order of parameters. It
  lets them say “yeah, whatever you got, I’ll take it.”
&lt;/p&gt;
&lt;p&gt;
  I mentioned earlier, &lt;code&gt;processArguments&lt;/code&gt; returns an object with &lt;code&gt;query&lt;/code&gt;, &lt;code&gt;callback&lt;/code&gt;, and &lt;code&gt;resourceId&lt;/code&gt; keys. The work of the function focuses on creating that object.
&lt;/p&gt;
&lt;p&gt;
  While I can’t define parameters, I do know a few things about potential arguments. I know any callback should be a function and any options should be an object. I also know &lt;code&gt;resourceId&lt;/code&gt; is the identifier for a Dribbble shot. A shot id can be a string or a number.
&lt;/p&gt;
&lt;p&gt;
  I use that knowledge to inspect each item in the &lt;code&gt;args&lt;/code&gt; array I created from the &lt;code&gt;arguments&lt;/code&gt; object. Depending on the type I assign the item’s value to a local variable.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
var resourceId = null;
var opts = {};
var callback = function() {};
...
for (var i = 0; i &lt; args.length; i += 1) {
  switch (typeof args[i]) {
    case &quot;string&quot;:
    case &quot;number&quot;:
      resourceId = args[i];
      break;
    case &quot;object&quot;:
      opts = args[i];
      break;
    case &quot;function&quot;:
      callback = args[i];
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  That snippet sets two out of three variables this function needs to return. &lt;code&gt;resourceId&lt;/code&gt; and &lt;code&gt;callback&lt;/code&gt; are ready to to go. I only use &lt;code&gt;resourceId&lt;/code&gt; in &lt;code&gt;jribbble.shots&lt;/code&gt;. The Dribbble API has different paths if you’re requesting a single shot or a list of shots. I use the value–or lack of a value–of &lt;code&gt;resourceId&lt;/code&gt; to &lt;a href=&quot;https://github.com/tylergaw/jribbble/blob/3.0.0/src/jribbble.js#L104&quot;&gt;determine the path&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  What about the third item, &lt;code&gt;query&lt;/code&gt;? Also what is this &lt;code&gt;opts&lt;/code&gt; object in favor of?
&lt;/p&gt;
&lt;p&gt;
  In earlier examples, I showed providing an object with token, page, and per_page keys to public methods. Token is the most important one. If a user doesn’t provide an access token, they can’t make requests. After the for loop I check for a token key on the &lt;code&gt;opts&lt;/code&gt; object:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;if (opts.token) {
  accessToken = opts.token;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  I define &lt;code&gt;accessToken&lt;/code&gt; at the root level of the main Jribbble function. This is how I provide the flexibility of setting token with the &lt;code&gt;setToken&lt;/code&gt; method or via an options object.
&lt;/p&gt;
&lt;p&gt;
  At this point in &lt;code&gt;processArguments&lt;/code&gt;, if there’s no value for &lt;code&gt;accessToken&lt;/code&gt; there’s no reason to continue. I throw an error and let the user know they need to update their code.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;if (!accessToken) {
  throw new Error(
    &quot;jribbble needs a valid access token. You can either include this as an option: jribbble.shots({token: &#39;1234&#39;}) or with jribbble.setToken(&#39;1234&#39;)&quot;
  );
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  If the user provided &lt;code&gt;page&lt;/code&gt; or &lt;code&gt;per_page&lt;/code&gt;, those keys will also be on the &lt;code&gt;opts&lt;/code&gt; object. &lt;code&gt;query&lt;/code&gt; needs to be a string that I can append to the URL of any request. So, I need to create that string if necessary. I know that “page” and “per_page” are the only query parameters allowed because they’re &lt;a href=&quot;http://developer.dribbble.com/v2/#pagination&quot;&gt;documented&lt;/a&gt;. I can use that knowledge to build the string based on the user-provided values.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var params = [&quot;page&quot;, &quot;per_page&quot;]
  .map(function(p) {
    return opts[p] ? p + &quot;=&quot; + opts[p] : null;
  })
  .filter(function(i) {
    return i;
  })
  .join(&quot;&amp;&quot;);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  For each item in the array check to see if that key exists in &lt;code&gt;opts&lt;/code&gt;. If it does, return a string beginning with the item plus an equals sign plus the value in &lt;code&gt;opts&lt;/code&gt;. If the key isn’t in &lt;code&gt;opts&lt;/code&gt; return &lt;code&gt;null&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  At this point, we could have an array that looks like:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;[&quot;page=4&quot;, null]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  That’s if the user set a &lt;code&gt;page&lt;/code&gt;, but not a &lt;code&gt;per_page&lt;/code&gt; value.
&lt;/p&gt;
&lt;p&gt;
  Next, I use &lt;code&gt;filter&lt;/code&gt; to remove any &lt;code&gt;null&lt;/code&gt; values. And finally join the items of the array with an ampersand between each. In the above example we’d end up with “page=4”.
&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;processArguments&lt;/code&gt; is ready to return an object with the three keys needed. I also need to do one last thing for &lt;code&gt;query&lt;/code&gt;. If the user doesn’t need a query, return an empty string. If they do, prefix the &lt;code&gt;params&lt;/code&gt; string with a “?” so it’s ready to append to a URL.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;return {
  resourceId: resourceId,
  callback: callback,
  query: params ? &quot;?&quot; + params : &quot;&quot;
};&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  And that’s &lt;code&gt;processArguments&lt;/code&gt;. Syntax and even code-wise it’s not fancy, but it does a job and does it in what I think is a clear way.
&lt;/p&gt;
&lt;h2&gt;One more iteration complete&lt;/h2&gt;
&lt;p&gt;
  This was another iteration on a little library I keep going. It has a small userbase, but I know it provides value for them when it’s needed. As the Dribbble API changes, I’ll keep Jribbble in sync as best I can.
&lt;/p&gt;
&lt;p&gt;
  Again, the OAuth flow project is at &lt;a href=&quot;https://jribbble.glitch.me/&quot;&gt;jribbble.glitch.me&lt;/a&gt; or just &lt;a href=&quot;https://jribbble.com/&quot;&gt;jribbble.com&lt;/a&gt;. The Jribbble source is &lt;a href=&quot;https://github.com/tylergaw/jribbble&quot;&gt;available on GitHub&lt;/a&gt;. If you run into trouble, please open an issue or submit a pull request.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Dynamic Redux Reducers</title>
    <link href="https://tylergaw.com/blog/dynamic-redux-reducers/"/>
    <updated>2018-01-09T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/dynamic-redux-reducers/</id>
    <content type="html">&lt;p&gt;
  This post is specific to a need I had on recent React / Redux project. It’s a
  common need and one I’d run into before, but this was the first time I needed to
  come up with a solution for it. This was difficult for me. I had to slow down
  and take time to internalize what I was trying to do and all the pieces involved.
  My hope is that this post will help someone else also working to figure
  this out.
&lt;/p&gt;
&lt;p&gt;
  I’ll detail my process in this post. Here’s a
  &lt;a href=&quot;https://qk3n9xmm3w.codesandbox.io/&quot;&gt;live demo&lt;/a&gt; and an
  &lt;a href=&quot;https://codesandbox.io/s/qk3n9xmm3w&quot;&gt;editable sandbox&lt;/a&gt;.
  The best way to see the effects is to use the &lt;a href=&quot;https://github.com/zalmoxisus/redux-devtools-extension&quot;&gt;Redux DevTools Chrome extension&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  If you’re reading this I’m going to assume you have knowledge of Redux and
  are using it with React by way of &lt;code&gt;react-redux&lt;/code&gt;. I&#39;m also going to
  assume you’re looking for a solution to a similar problem.
&lt;/p&gt;
&lt;h2&gt;What am I trying to do and why?&lt;/h2&gt;
&lt;p&gt;
  In standard Redux usage, you provide reducer functions at the time you create
  the store with &lt;code&gt;createStore&lt;/code&gt;. I wanted a way to add reducer functions
  later, on demand.
&lt;/p&gt;
&lt;p&gt;
  A lot of folks need this because their reducers are not available at
  &lt;code&gt;createStore&lt;/code&gt; time due to code-splitting. That’s a perfect use for
  dynamic reducers.
&lt;/p&gt;
&lt;p&gt;
  My project doesn’t use code-splitting. For this, dynamic reducers were a preference. I
  didn’t want to spread info about modules throughout the project structure.
  I wanted each feature to live in a directory, isolated as much as possible.
  That meant co-locating reducers, components, styles, and so on. I could do
  that and still import the reducers to the main reducer creation, but that
  would couple module reducers to the main reducer.
&lt;/p&gt;
&lt;h2&gt;Existing solutions&lt;/h2&gt;
&lt;p&gt;
  In my Googling for an existing solution I landing on
  &lt;a href=&quot;https://stackoverflow.com/a/33044701&quot;&gt;this Stack Overflow question and answer&lt;/a&gt;.
  The answer is from Dan Abramov so I knew it was a way to go. My solution uses
  most of the code from that answer.
&lt;/p&gt;
&lt;p&gt;
  In Dan’s answer, it all made sense to me until his example of how to inject
  reducers. I’m using React Router, but I don’t define routes the way he described. I didn’t
  want to have to change how I defined my routes for this. I also couldn’t find
  official documentation for methods he used in his example so I wanted to avoid
  copy / paste. I also wanted to fully understand the code I was adding to my project.
&lt;/p&gt;
&lt;p&gt;
  It’s worth mentioning two projects I came across in my search.
  &lt;a href=&quot;https://github.com/ioof-holdings/redux-dynamic-reducer&quot;&gt;redux-dynamic-reducer&lt;/a&gt;
  and &lt;a href=&quot;https://github.com/asteridux/paradux&quot;&gt;paradux&lt;/a&gt;. I didn’t try
  either of them because I didn’t see the need in adding another dependency, but
  they might work for you.
&lt;/p&gt;
&lt;h2&gt;What the demo shows&lt;/h2&gt;
&lt;p&gt;
  The &lt;a href=&quot;https://qk3n9xmm3w.codesandbox.io/&quot;&gt;demo&lt;/a&gt; shows a simple page
  with a link to &lt;code&gt;/records&lt;/code&gt;. When page loads, the Redux state tree
  contains two keys. One for each reducer function introduced at store creation.
&lt;/p&gt;
&lt;p&gt;
  There’s a link to the &lt;code&gt;/records&lt;/code&gt; page. When you navigate to that
  page, I add another reducer function for Records. In the rest of this post
  I’ll decribe how I do that.
&lt;/p&gt;
&lt;h2&gt;The code&lt;/h2&gt;
&lt;p&gt;
  You can follow along in the &lt;a href=&quot;https://codesandbox.io/s/qk3n9xmm3w&quot;&gt;CodeSandbox&lt;/a&gt;.
  I’ll start with creating the root reducer in &lt;code&gt;/rootReducer.js&lt;/code&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;import { combineReducers } from &quot;redux&quot;;
import layout from &quot;./reducers/layout&quot;;
import home from &quot;./reducers/home&quot;;

/**
 * @param {Object} - key/value of reducer functions
 */
const createReducer = asyncReducers =&gt;
  combineReducers({
    home,
    layout,
    ...asyncReducers
  });

export default createReducer;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  I pulled this code from Dan’s &lt;abbr title=&quot;Stack Overflow&quot;&gt;SO&lt;/abbr&gt; answer.
  It has two reducer functions; &lt;code&gt;layout&lt;/code&gt; and &lt;code&gt;home&lt;/code&gt;.
  They’re global reducers, not module level, so they fit well in the root reducer.
&lt;/p&gt;
&lt;p&gt;
  The key detail here is the &lt;code&gt;asyncReducers&lt;/code&gt; parameter. Adding the
  contents of it to the object given to &lt;code&gt;combineReducers&lt;/code&gt; is
  how we add reducers later.
&lt;/p&gt;
&lt;p&gt;
  Next up is store creation in &lt;code&gt;/initializeStore.js&lt;/code&gt;. Again, most
  of this code is from Dan’s example.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;import { createStore } from &quot;redux&quot;;
import createReducer from &quot;./rootReducer&quot;;

const initializeStore = () =&gt; {
  const store = createStore(createReducer());

  store.asyncReducers = {};
  store.injectReducer = (key, reducer) =&gt; {
    store.asyncReducers[key] = reducer;
    store.replaceReducer(createReducer(store.asyncReducers));
    return store;
  };

  return store;
};

export default initializeStore;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  The first line of &lt;code&gt;initializeStore&lt;/code&gt; is where we create the Redux
  store with the initial reducers from &lt;code&gt;createReducer&lt;/code&gt;. In standard
  Redux usage, this is all you’d need. The store is set up and ready with the
  &lt;code&gt;home&lt;/code&gt; and &lt;code&gt;layout&lt;/code&gt; reducers.
&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;createStore&lt;/code&gt; returns a plain object, so we’ll take advantage of that
  by tacking helpful items onto it. We’ll use &lt;code&gt;store.asyncReducers&lt;/code&gt; to house
  our dynamic reducers. With &lt;code&gt;store.injectReducer&lt;/code&gt; I deviate from
  Dan’s example. The function does the same thing as his &lt;code&gt;injectAsyncReducer&lt;/code&gt;,
  but I attach it to the &lt;code&gt;store&lt;/code&gt; object for convenience that I’ll
  show later.
&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;injectReducer&lt;/code&gt; has two responsibilities. First, store all dynamic
  reducers in &lt;code&gt;asyncReducers&lt;/code&gt;. This ensures that each time we invoke
  &lt;code&gt;injectReducer&lt;/code&gt; we don’t lose other dynamic reducers. Next up
  is the main work. &lt;a href=&quot;https://redux.js.org/docs/api/Store.html#replaceReducer&quot;&gt;&lt;code&gt;replaceReducer&lt;/code&gt;&lt;/a&gt;
  isn’t custom, it’s part of Redux. It does does what it says on the tin.
  Invoking it replaces the reducer function with one you give it.
&lt;/p&gt;
&lt;h3&gt;Where things got tricky for me&lt;/h3&gt;
&lt;p&gt;
  At this point everything seemed straightforward to me, but then I got lost fast. I
  have a store, I have a function to add new reducers. But where can I access
  that function to invoke it? In all my frantic Googling, I couldn’t find an
  example that worked for my setup. So, I sat down to figure out a solution.
&lt;/p&gt;
&lt;p&gt;
  It took me a while to figure out where I could access that &lt;code&gt;store&lt;/code&gt;
  object. I had clues though. In my entry point file &lt;code&gt;/index.js&lt;/code&gt; I
  use the &lt;code&gt;Provider&lt;/code&gt; component. This is standard for React / Redux projects.
&lt;/p&gt;
&lt;!-- prettier-ignore-start --&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;import React from &quot;react&quot;;
import { render } from &quot;react-dom&quot;;
import { Provider } from &quot;react-redux&quot;;
import initializeStore from &quot;./initializeStore&quot;;
import App from &quot;./App&quot;;

const store = initializeStore();
render(
  &amp;lt;Provider store={store}&amp;gt;
    &amp;lt;App /&amp;gt;
  &amp;lt;/Provider&amp;gt;,
  document.getElementById(&quot;root&quot;)
);&lt;/code&gt;&lt;/pre&gt;
&lt;!-- prettier-ignore-end --&gt;
&lt;p&gt;
  Giving the &lt;code&gt;store&lt;/code&gt; to &lt;code&gt;Provider&lt;/code&gt; makes it available to
  all child components by way of the &lt;code&gt;connect&lt;/code&gt; function. I read more about it and learned that &lt;code&gt;store&lt;/code&gt;
  is also available in the &lt;code&gt;context&lt;/code&gt; of each component.
  If you’ve read anything about
  React &lt;code&gt;context&lt;/code&gt;, you’ve read that you probably shouldn’t use it.
  For my purposes here it seemed isolated enough to be OK. Time will tell if that’s correct or not.
  More details on my &lt;code&gt;context&lt;/code&gt; usage to later.
&lt;/p&gt;
&lt;h2&gt;Putting the pieces together&lt;/h2&gt;
&lt;p&gt;
  I want to use as little code as possible to add reducers. I do that with a
  &lt;a href=&quot;https://reactjs.org/docs/higher-order-components.html&quot;&gt;higher-order component&lt;/a&gt;
  in &lt;code&gt;/withReducer.js&lt;/code&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;import React from &quot;react&quot;;
import { object } from &quot;prop-types&quot;;

const withReducer = (key, reducer) =&gt; WrappedComponent =&gt; {
  const Extended = (props, context) =&gt; {
    context.store.injectReducer(key, reducer);
    return &amp;lt;WrappedComponent {...props} /&amp;gt;
  };

  Extended.contextTypes = {
    store: object
  };

  return Extended;
};

export { withReducer };&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  And example usage in &lt;code&gt;routes/Records/Records.js&lt;/code&gt;:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;import { withReducer } from &quot;../../withReducer&quot;;
import reducer from &quot;./ducks&quot;;

const Records = () =&gt; (...);
export default withReducer(&quot;records&quot;, reducer)(Records);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  I’ll start with usage in &lt;code&gt;Records.js&lt;/code&gt;. I import the records
  reducer from &lt;code&gt;routes/Records/ducks/index.js&lt;/code&gt;. The reducer doesn’t
  do much. It sets hard-coded initial state, then returns it as-is.
  The component acts like a container component.
  I could &lt;code&gt;connect&lt;/code&gt; it, but for the purposes of this
  demo, left it out.
&lt;/p&gt;
&lt;p&gt;
  The pertinent bit is the last line. There I invoke &lt;code&gt;withReducer&lt;/code&gt; and
  provide it a key of “records” and the record reducer. Then I invoke the
  returned function, providing the &lt;code&gt;Records&lt;/code&gt; component.
&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;Records&lt;/code&gt; is a React component I import to use as
  the value of the &lt;code&gt;component&lt;/code&gt; property of a React Router &lt;code&gt;&amp;lt;Route /&amp;gt;&lt;/code&gt;.
&lt;/p&gt;
&lt;h3&gt;The withReducer component&lt;/h3&gt;
&lt;p&gt;
  &lt;code&gt;withReducer&lt;/code&gt; is a &lt;a href=&quot;https://reactjs.org/docs/higher-order-components.html&quot;&gt;Higher-Order Component&lt;/a&gt;.
  The &lt;code&gt;key&lt;/code&gt; parameter becomes the key in the Redux state tree.
  The &lt;code&gt;reducer&lt;/code&gt; parameter is the reducer to add. It returns a function
  that accepts a single parameter, &lt;code&gt;WrappedComponent&lt;/code&gt;. That’s expected
  to be a valid React component. In the earlier usage example, that’s the
  &lt;code&gt;Records&lt;/code&gt; component.
&lt;/p&gt;
&lt;p&gt;
  I’ll jump ahead to an important part of &lt;code&gt;withReducer&lt;/code&gt; that was
  new to me and might be confusing.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
Extended.contextTypes = {
  store: object
};
...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  &lt;code&gt;Extended&lt;/code&gt; is a stateless component, so it must define
  a &lt;code&gt;contextTypes&lt;/code&gt; property to gain access to &lt;code&gt;context&lt;/code&gt;.
  From the React docs:
&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;
    Stateless functional components are also able to reference context if contextTypes is defined as a property of the function.
  &lt;/p&gt;
  &lt;cite&gt;
    &lt;a href=&quot;https://reactjs.org/docs/context.html#referencing-context-in-stateless-functional-components&quot;&gt;reactjs.org/docs/context.html#referencing-context-in-stateless-functional-components&lt;/a&gt;
  &lt;/cite&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  In &lt;code&gt;contextTypes&lt;/code&gt; I defined the property I want to access in the
  component, &lt;code&gt;store&lt;/code&gt;. That uses the
  &lt;code&gt;object&lt;/code&gt; type from the &lt;code&gt;prop-types&lt;/code&gt; library.
&lt;/p&gt;
&lt;p&gt;
  When a component defines a &lt;code&gt;contextTypes&lt;/code&gt; property, it receives
  a second parameter, &lt;code&gt;context&lt;/code&gt;. That’s visible in
  the &lt;code&gt;Extended&lt;/code&gt; signature:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
const Extended = (props, context) =&gt; {...}
...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  &lt;code&gt;Extended&lt;/code&gt; now has access to the &lt;code&gt;store&lt;/code&gt; object. That’s
  because &lt;code&gt;&amp;lt;Provider store={store}&amp;gt;&lt;/code&gt; in &lt;code&gt;/index.js&lt;/code&gt;
  makes it available to all child components via &lt;code&gt;context&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  This happens in the &lt;code&gt;Provider.js&lt;/code&gt; source with
  &lt;a href=&quot;https://github.com/reactjs/react-redux/blob/master/src/components/Provider.js#L26&quot;&gt;&lt;code&gt;getChildContext&lt;/code&gt;&lt;/a&gt;
  and &lt;a href=&quot;https://github.com/reactjs/react-redux/blob/master/src/components/Provider.js#L52&quot;&gt;&lt;code&gt;childContextTypes&lt;/code&gt;&lt;/a&gt;.
  That code is good reading if you’re looking for examples of &lt;code&gt;context&lt;/code&gt; usage.
&lt;/p&gt;
&lt;p&gt;
  In &lt;code&gt;initializeStore.js&lt;/code&gt; I created a function on the store object,
  &lt;code&gt;store.injectReducer&lt;/code&gt;. Now, I use that to add the new reducer:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
const Extended = (props, context) =&gt; {
  context.store.injectReducer(key, reducer);
  return &amp;lt;WrappedComponent {...props} /&amp;gt;;
};
...&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  The orginal component doesn’t change. &lt;code&gt;Extended&lt;/code&gt; only returns
  it with any original properties.
&lt;/p&gt;
&lt;h2&gt;How to see this working&lt;/h2&gt;
&lt;p&gt;
  At this point, the code works. But, this type of change can be difficult to
  visualize. As mentioned earlier, the &lt;a href=&quot;https://github.com/zalmoxisus/redux-devtools-extension&quot;&gt;Redux DevTools Chrome extension&lt;/a&gt;.
  works best for me.
  In the &lt;a href=&quot;https://qk3n9xmm3w.codesandbox.io/&quot;&gt;demo&lt;/a&gt; I included the
  devtools snippet when creating the store. If you install the extension and
  view the Redux panel, you can see new reducers change the state tree.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://d3vv6lp55qjaqc.cloudfront.net/items/1n0J3V3G0j1X2a1M1C00/Screen%20Recording%202018-01-07%20at%2009.52%20PM.gif&quot; alt=&quot;Animated gif showing a new reducer added in Redux devtools Chrome extension.&quot; /&gt;
  &lt;figcaption&gt;
    Demo of the records reducer being added when navigating to the /records route.
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  To further show the results in the demo, I &lt;code&gt;connect&lt;/code&gt;ed the record
  route to display record data from the store.
&lt;/p&gt;
&lt;!-- prettier-ignore-start --&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
const mapStateToProps = (state, props) =&gt; {
  const { match: { params: { id } } } = props;

  return {
    recordId: id,
    record: state.records[id] || {}
  };
};

export default connect(mapStateToProps)(Record);&lt;/code&gt;&lt;/pre&gt;
&lt;!-- prettier-ignore-end --&gt;
&lt;p&gt;
  The full code is in &lt;code&gt;/routes/Records/routes/Record.js&lt;/code&gt;.
&lt;/p&gt;
&lt;h2&gt;A solution&lt;/h2&gt;
&lt;p&gt;
  As I mentioned earlier, this is a common need in React/Redux projects for
  different reasons. I’ve used other, similar methods for dynamic
  routes in the past. Other folks have different approaches. With that, this is &lt;em&gt;a&lt;/em&gt;
  solution, not necessiarly &lt;em&gt;the&lt;/em&gt; solution.
&lt;/p&gt;
&lt;p&gt;
  If this is helpful and you use it as-is or change it to fit your needs, let
  me know. There’s always room for improvement.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Building My First PWA</title>
    <link href="https://tylergaw.com/blog/building-my-first-pwa/"/>
    <updated>2017-11-20T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/building-my-first-pwa/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  I’ve been looking for time and a sandbox to sit down and learn how to build offline-capable/first web sites or “Progressive Web Apps” (PWA) for a while. I learn best with a hands-on approach. &lt;a href=&quot;https://colorme.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ColorMe&lt;/a&gt; is a site I maintain and a perfect candidate for offline experimentation. This post details the steps I took, the issues I ran into, and things I learned building my first PWA.
&lt;/p&gt;
&lt;p&gt;
  Quick note. This isn’t a general “How to make a PWA” post. It may not even be a good intro. There are plenty of articles and tutorials to get the basics. This post is specific to the work involved in making ColorMe a PWA.
&lt;/p&gt;
&lt;p&gt;
  In a lot of what I’ve read about PWAs, there’ve been common steps for building them. A simple-on-the-surface looking process. Here’s one list from Jeremy:
&lt;/p&gt;
&lt;blockquote&gt;
  &lt;ol&gt;
    &lt;li&gt;switch over to HTTPS,&lt;/li&gt;
    &lt;li&gt;add a JSON manifest file with your metacrap, and&lt;/li&gt;
    &lt;li&gt;add a service worker.&lt;/li&gt;
  &lt;/ol&gt;
  &lt;cite&gt;
    &lt;a href=&quot;https://adactio.com/journal/12461&quot;&gt;Jeremy Keith, “Progressing the Web.”&lt;/a&gt;
  &lt;/cite&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  OK, that seems easy enough. Except that last step. That seems like it could be a lot to unpack. He does offer a disclaimer:
&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;
    That last step can be tricky if you’re new to service workers, but it’s not unsurmountable.
  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  I’ll ignore the service worker part of the process for now and focus on the first two items.
&lt;/p&gt;
&lt;h2&gt;Using HTTPS&lt;/h2&gt;
&lt;p&gt;
  ColorMe already has HTTPS in place. I host it on S3 and serve it through CloudFront. I used &lt;a href=&quot;https://aws.amazon.com/certificate-manager/&quot;&gt;Amazon’s Certificate Manager&lt;/a&gt; to add an SSL certificate. HTTPS is in place and has been since launch.
&lt;/p&gt;
&lt;h2&gt;Adding a Manifest&lt;/h2&gt;
&lt;p&gt;
  This is where things got more interesting. I built ColorMe with &lt;a href=&quot;https://github.com/facebookincubator/create-react-app&quot;&gt;Create React App&lt;/a&gt; (CRA) so I made a &lt;code&gt;manifest.json&lt;/code&gt; file in the &lt;code&gt;public&lt;/code&gt; directory. The same directory as the favicon and &lt;code&gt;index.html&lt;/code&gt;. Anything in the &lt;code&gt;public&lt;/code&gt; directory gets copied to the &lt;code&gt;build&lt;/code&gt; directory as is. That’s what we need for &lt;code&gt;manifest.json&lt;/code&gt;.
&lt;/p&gt;
&lt;h3&gt;Doesn’t CRA do PWA stuff out of the box?&lt;/h3&gt;
&lt;p&gt;
  Yes. CRA added built-in support for PWAs in version &lt;code&gt;1.0.0&lt;/code&gt;. ColorMe is still on version &lt;code&gt;0.8.4&lt;/code&gt;. That was the latest version when I created the project and haven’t had a reason to update.
&lt;/p&gt;
&lt;p&gt;
  I could have updated CRA to use the built-in PWA, but I didn’t want to miss the opportunity to learn step-by-step. Doing this myself, taking the long, “dumb” way, helped internalize the why and the how of each step. On future CRA-built projects, I’ll use the latest version with built-in PWA support. With that out of the way, here’s all my “metacrap.”
&lt;/p&gt;
&lt;p&gt;
  I knew there was “stuff” that went in the manifest, but I wasn’t sure about specifics. What keys can I use? What are example values for each key? And what key-values am I supposed to have? The best resource I found for questions number one and two is the MDN &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/Manifest&quot;&gt;Web App Manifest documentation&lt;/a&gt;. It lists available keys and example values.
&lt;/p&gt;
&lt;h3&gt;Lighthouse&lt;/h3&gt;
&lt;p&gt;
  For the third question, I turned to &lt;a href=&quot;https://developers.google.com/web/tools/lighthouse/&quot;&gt;Lighthouse audits&lt;/a&gt; in Chrome dev tools. Before adding anything to the manifest, I ran a PWA audit. It reported items needed to meet the minimum requirements for a PWA (according to the audit).
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-pwa-audit-before.png&quot; alt=&quot;&quot; /&gt;
  &lt;figcaption&gt;
    A pre-pwa audit of colorme.io
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  With the audit report as a starting point, I hit each item on the list. Most important, I referenced the manifest in the &lt;code&gt;head&lt;/code&gt; of &lt;code&gt;index.html&lt;/code&gt;. This uses the CRA-specific &lt;code&gt;%PUBLIC_URL%&lt;/code&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;&amp;lt;link rel=&quot;manifest&quot; href=&quot;%PUBLIC_URL%/manifest.json&quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Most items in the manifest are straightforward enough so I won’t go line-by-line. But I will call out a couple items that took a bit more work. You can see the complete file &lt;a href=&quot;https://github.com/tylergaw/colorme/blob/develop/public/manifest.json&quot;&gt;on GitHub&lt;/a&gt; and below:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;{
  &quot;background_color&quot;: &quot;#ffffff&quot;,
  &quot;theme_color&quot;: &quot;#B50003&quot;,
  &quot;display&quot;: &quot;standalone&quot;,
  &quot;short_name&quot;: &quot;ColorMe&quot;,
  &quot;name&quot;: &quot;ColorMe&quot;,
  &quot;start_url&quot;: &quot;/&quot;,
  &quot;icons&quot;: [
    {
      &quot;src&quot;: &quot;launcher-icon-48x48.png&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
      &quot;sizes&quot;: &quot;48x48&quot;
    },
    {
      &quot;src&quot;: &quot;launcher-icon-96x96.png&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
      &quot;sizes&quot;: &quot;96x96&quot;
    },
    {
      &quot;src&quot;: &quot;launcher-icon-192x192.png&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
      &quot;sizes&quot;: &quot;192x192&quot;
    },
    {
      &quot;src&quot;: &quot;launcher-icon-256x256.png&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
      &quot;sizes&quot;: &quot;256x256&quot;
    },
    {
      &quot;src&quot;: &quot;launcher-icon-384x384.png&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
      &quot;sizes&quot;: &quot;384x384&quot;
    },
    {
      &quot;src&quot;: &quot;launcher-icon-512x512.png&quot;,
      &quot;type&quot;: &quot;image/png&quot;,
      &quot;sizes&quot;: &quot;512x512&quot;
    }
  ]
}&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;Icon sizes&lt;/h3&gt;
&lt;p&gt;
  As you can see in the manifiest, I included six different icon sizes. The audit requires two sizes; 192x192 and 512x512. The former for the homescreen icon on Android, the latter as an icon for a splash screen on Android.
&lt;/p&gt;
&lt;p&gt;
  I’m not sure if the other four sizes are necessary, but I saw those in examples so I figured it wouldn’t hurt to include them.
&lt;/p&gt;
&lt;h3&gt;Theme color&lt;/h3&gt;
&lt;p&gt;
  A requirement–per the audit–was to add a &lt;code&gt;theme-color&lt;/code&gt; meta tag to &lt;code&gt;index.html&lt;/code&gt;:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;&amp;lt;meta name=&quot;theme-color&quot; content=&quot;#B50003&quot;&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;
  &lt;p&gt;
    The theme-color meta tag ensures that the address bar is branded when a user visits your site as a normal webpage.
  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3&gt;noscript&lt;/h3&gt;
&lt;p&gt;
  Another failing audit was “Contains Some Content When JavaScript Is Not Available.” For that, I added &lt;code&gt;noscript&lt;/code&gt; content. It doesn’t do anything except apologize for not working without JavaScript. It would be better to have some type of useful experience without JS, but I’ll save that for another time. It’s interesting to think how to make a site like this provide value without JavaScript.
&lt;/p&gt;
&lt;h3&gt;“According to the audit”&lt;/h3&gt;
&lt;p&gt;
  I’m using specific language like; “per the audit” and “according to the audit” on purpose here. Some of these aren’t universal. For example, the &lt;code&gt;theme_color&lt;/code&gt; property and the &lt;code&gt;theme-color&lt;/code&gt; meta tag have no effect on Mobile Safari or Mobile Chrome on iOS as far as I can tell. For the purposes of this exercise, I’m working towards 100% on the audit. I’m sure not every project needs every item. As usual, it depends.
&lt;/p&gt;
&lt;h3&gt;The Chrome Dev Tools Manifest Tab&lt;/h3&gt;
&lt;p&gt;
  Every time I’d make a change to the manifest I’d re-run the PWA audit to check the results. This was slow. I didn’t realize there was a tab in Chrome dev tools for inspecting the &lt;code&gt;manifest.json&lt;/code&gt; results. I found it early enough in the process that it helped speed things along. It also has an “Add to homescreen” button to test that mechanism. That’s much appreciated because I don’t have access to an Android device for proper testing. I wrote this in case someone else also doesn’t know about the manifest tab in Google Chrome Dev Tools.
&lt;/p&gt;
&lt;p&gt;
  At this point I still don’t have a PWA. The audit turns up one last failure:
&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;
    Failures: Site does not register a Service Worker, Manifest start_url is not cached by a Service Worker.
  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  With the basics of the manifest in place, I turned my attention to the service worker.
&lt;/p&gt;
&lt;h2&gt;The Service Worker&lt;/h2&gt;
&lt;p&gt;
  Like I mentioned above, this was the biggest mystery for me. I understood the general concept of service workers, but I didn’t understand what the goals of a service worker for a PWA were. Sure, it’s JS, it runs in the background, but what’s that JS supposed to &lt;em&gt;do&lt;/em&gt;? After spending time with tutorials, examples, and fiddling, I got a clearer picture.
&lt;/p&gt;
&lt;h3&gt;The goals of ColorMe’s service worker:&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;
    Store the site’s static files–HTML, CSS, JavaScript, and images–in the &lt;code&gt;window.caches&lt;/code&gt; object
  &lt;/li&gt;
  &lt;li&gt;
    Intercept all network requests. If the name of the requested file is in &lt;code&gt;window.caches&lt;/code&gt;, respond with the cached file instead of making a request to the server
  &lt;/li&gt;
  &lt;li&gt;
    Delete stale caches when the cache key changes
  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  One thing that stuck out early was the &lt;code&gt;caches&lt;/code&gt; member on the global &lt;code&gt;window&lt;/code&gt; scope. When I first saw &lt;code&gt;caches&lt;/code&gt; in use in example service workers, I thought it was a global only in the service worker context. That’s not the case. &lt;code&gt;window.caches&lt;/code&gt; is available from any JS.
&lt;/p&gt;
&lt;p&gt;
  Here’s a quick example of &lt;code&gt;caches&lt;/code&gt;. Go to &lt;a href=&quot;https://colorme.io/&quot;&gt;colorme.io&lt;/a&gt;. Open the developer console and run this snippet:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;caches.keys().then(names =&gt; {console.log(names)});&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  That should output &lt;code&gt;[&quot;colorme-v7&quot;]&lt;/code&gt; (the version number might be different). Not much to look at, but you can see that &lt;code&gt;window.caches&lt;/code&gt; is a thing in this context. That means you can access caches from any client side JavaScript, not only service workers. That’s pretty cool.
&lt;/p&gt;
&lt;h3&gt;Goal 1: Cache Static Files&lt;/h3&gt;
&lt;p&gt;
  For ColorMe to work offline it needs to cache all critical static files. It’s a single page site so there are only a few; &lt;code&gt;index.html&lt;/code&gt;, &lt;code&gt;main.css&lt;/code&gt;, &lt;code&gt;main.js&lt;/code&gt;, &lt;code&gt;manifest.json&lt;/code&gt;, an svg image, and a Google Fonts stylesheet.
&lt;/p&gt;
&lt;p&gt;
  The CRA build process creates or renames the CSS, JS, and image files. That made things difficult and I’ll describe my process for fixing it later. For now, I’ll pretend the file names are what they are and walk through the code.
&lt;/p&gt;
&lt;p&gt;
  I created &lt;code&gt;service-worker.js&lt;/code&gt; in the &lt;code&gt;public&lt;/code&gt; directory. The full file is available &lt;a href=&quot;https://github.com/tylergaw/colorme/blob/03946e9540a031075f3f691356d7aa3f4e457a2d/public/service-worker.js&quot;&gt;on GitHub&lt;/a&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const STATIC_CACHE_NAME = &quot;colorme-v1&quot;;
const STATIC_URLS = [
  &quot;/&quot;,
  &quot;/index.html&quot;,
  &quot;/manifest.json&quot;,
  &quot;/static/css/main.css&quot;,
  &quot;/static/js/main.js&quot;,
  &quot;/static/media/bgTransparent.svg&quot;,
  &quot;https://fonts.googleapis.com/css?family=Cousine:400|Karla:400,700&quot;
];
self.addEventListener(&quot;install&quot;, event =&gt; {
  event.waitUntil(
    caches.open(STATIC_CACHE_NAME).then(cache =&gt; {
      return cache.addAll(STATIC_URLS);
    }).then(() =&gt; self.skipWaiting())
  );
});&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  &lt;code&gt;STATIC_CACHE_NAME&lt;/code&gt; is a unique key for this cache. &lt;code&gt;STATIC_URLS&lt;/code&gt; is the list of files to cache. I’ll explain how I update this list later to account for dynamic file names.
&lt;/p&gt;
&lt;p&gt;
  In broad strokes, the next lines say:
&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;when the service worker finishes the install process,&lt;/li&gt;
  &lt;li&gt;find or create a cache with our name,&lt;/li&gt;
  &lt;li&gt;and put the files we specified in that cache.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;
  There are full descriptions of the install event and &lt;code&gt;waitUntil&lt;/code&gt; available. &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/API/InstallEvent&quot;&gt;MDN&lt;/a&gt; is a great one.
&lt;/p&gt;
&lt;h4&gt;Skip Waiting?&lt;/h4&gt;
&lt;p&gt;
  I’ve read docs about &lt;code&gt;skipWaiting&lt;/code&gt;, but I’m still a bit hazy on what it does or if I even need it in this context. Enough examples I saw recommended it, so I went with it for now. I’ll learn more about it as I work with it.
&lt;/p&gt;
&lt;p&gt;
  With those lines, ColorMe’s static assets are snug in a cache. There’s still work to be done though.
&lt;/p&gt;
&lt;h3&gt;Goal 2: Serve Cached Files&lt;/h3&gt;
&lt;p&gt;
  Putting static files in &lt;code&gt;caches&lt;/code&gt; isn’t enough on its own. For ColorMe to work offline, we need to tell the browser to look in the cache for those files.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;self.addEventListener(&quot;fetch&quot;, event =&gt; {
  event.respondWith(
    caches.match(event.request)
      .then(response =&gt; response || fetch(event.request))
  );
});&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  This snippet listens for all HTTP requests from the user’s browser. &lt;code&gt;event.respondWith&lt;/code&gt; prevents the browser’s default &lt;code&gt;fetch&lt;/code&gt; handling. That allows us to check if the requested URL–&lt;code&gt;event.request&lt;/code&gt;–is in the cache. If it is, respond with the cached file. If it’s not cached, continue with the request to the server using &lt;code&gt;fetch()&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  ColorMe now works with or without an Internet connection.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-pwa-audit-100-percent.png&quot; alt=&quot;&quot; /&gt;
  &lt;figcaption&gt;
    A post-pwa audit of colorme.io
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;h3&gt;Goal 3: Delete Stale Caches&lt;/h3&gt;
&lt;p&gt;
  If I stopped here ColorMe works offline, but I’d have no way to release updates to users. Cached items have to be deleted, they never expire. The service worker should remove stale caches.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;self.addEventListener(&quot;activate&quot;, event =&gt; {
  event.waitUntil(
    caches.keys().then(cacheNames =&gt; {
      return Promise.all(
        cacheNames
          .filter(name =&gt; name.includes(&quot;colorme&quot;) &amp;&amp; name !== STATIC_CACHE_NAME)
          .map(name =&gt; caches.delete(name))
      )
    }).then(() =&gt; self.clients.claim())
  );
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  This is the most involved-looking code in the service worker, but it doesn’t do much.
&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;get an array of all cache keys with &lt;code&gt;caches.keys()&lt;/code&gt;,&lt;/li&gt;
  &lt;li&gt;remove any keys that don’t contain our name and remove a cache with the exact &lt;code&gt;STATIC_CACHE_NAME&lt;/code&gt;,&lt;/li&gt;
  &lt;li&gt;for each of the remaining keys, delete that cache.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;
  When the service worker activates–every time the page loads–check to see if there are stale caches. If there are, delete them. I determine if a cache is stale with #2 above.
&lt;/p&gt;
&lt;p&gt;
  In the first code snippet I defined the cache key; &lt;code&gt;const STATIC_CACHE_NAME = &quot;colorme-v1&quot;&lt;/code&gt;. When I make changes to any of the cached files and deploy the site, I also change that version number. If a user visited the site when &lt;code&gt;colorme-v1&lt;/code&gt; was latest, then visits again when &lt;code&gt;colorme-v7&lt;/code&gt; is the latest, the service worker deletes v1 and caches v7.
&lt;/p&gt;
&lt;h2&gt;Caching Dynamic Filenames&lt;/h2&gt;
&lt;p&gt;
  At this point, I’ve met all the goals for ColorMe’s service worker and have a functioning PWA. If you visit ColorMe then turn off your network connection, you should be able to refresh the page and use it as normal.
&lt;/p&gt;
&lt;p&gt;
  There is one issue I mentioned above. The filenames for the CSS, JS, and image are incorrect. In the earlier snippet, I cached files named;
&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;code&gt;&quot;/static/css/main.css&quot;&lt;/code&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;code&gt;&quot;/static/js/main.js&quot;&lt;/code&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;code&gt;&quot;/static/media/bgTransparent.svg&quot;&lt;/code&gt;
  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  The CRA build process fingerprints those filenames to something like;
&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;code&gt;&quot;/static/css/main.2ebebc14.css&quot;&lt;/code&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;code&gt;&quot;/static/js/main.7e7a1a8f.js&quot;&lt;/code&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;code&gt;&quot;/static/media/bgTransparent.e6317315.svg&quot;&lt;/code&gt;
  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  This is common for cachebusting and not only for CRAs. I’ve used and built tons of different asset pipelines over the years that use fingerprinting.
&lt;/p&gt;
&lt;p&gt;
  I got hung up on this big time. How am I going to tell the service worker to cache files when I have no control over their names? I didn’t find much info on the topic. &lt;a href=&quot;https://github.com/w3c/ServiceWorker/issues/657&quot;&gt;This issue&lt;/a&gt; raises the question and the discussion helped me figure out an approach. I’d need to somehow generate the list of filenames during the build process. I had a few options, a couple of them not good ones;
&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;Run the CRA eject script and change the default webpack build process to generate the service worker&lt;/li&gt;
  &lt;li&gt;Update to latest CRA and use their built-in PWA support&lt;/li&gt;
  &lt;li&gt;Walk away from computer, sleep on it, think about a better solution the next morning while walking my &lt;a href=&quot;http://leela.dog/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;dog&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;
  I didn’t want to eject from CRA, because it didn’t seem worth it. I mentioned above, updating to the latest CRA would take away the opportunity to learn. Option #3 sounded best. After getting away from the computer, I realized I had more options than I realized and a solution that &lt;em&gt;should&lt;/em&gt; work. It was’t going to be elegant or scalable, but it’d do the job.
&lt;/p&gt;
&lt;h3&gt;Piggybacking on the CRA build script&lt;/h3&gt;
&lt;p&gt;
  The default CRA build script builds the project according to the baked in webpack config. I can’t change the config–without ejecting–but I can add to the build script in &lt;code&gt;package.json&lt;/code&gt;. I’d already modified the script to include &lt;code&gt;NODE_PATH=src&lt;/code&gt;. That makes it easier to import modules without referencing the full path. ColorMe’s starting build script looked like:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;NODE_PATH=src react-scripts build&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  I knew a couple things. I knew the build process creates a file named &lt;code&gt;asset-manifest.json&lt;/code&gt;. The contents of that file include the full fingerprinted names of all static assets used in the site. Example contents of the manifest file:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;{
  &quot;main.css&quot;: &quot;static/css/main.2ebebc14.css&quot;,
  &quot;main.css.map&quot;: &quot;static/css/main.2ebebc14.css.map&quot;,
  &quot;main.js&quot;: &quot;static/js/main.7e7a1a8f.js&quot;,
  &quot;main.js.map&quot;: &quot;static/js/main.7e7a1a8f.js.map&quot;,
  &quot;static/media/bgTransparent.svg&quot;: &quot;static/media/bgTransparent.e6317315.svg&quot;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Those are the full filenames I need to cache with my service worker. I need to get those filenames into the service worker file.
&lt;/p&gt;
&lt;p&gt;
  The first thing I did was add to the build script. Back in &lt;code&gt;package.json&lt;/code&gt; I updated the script to look like:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;NODE_PATH=src react-scripts build &amp;&amp; npm run generate-sw&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  This says; “run the normal build process, when you’re done with that run this other npm script”. That script looks like:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;&quot;generate-sw&quot;: &quot;node scripts/generate-sw.js&quot;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  To make sure that worked, I created &lt;code&gt;/scripts/generate-sw.js&lt;/code&gt; and added a single line; &lt;code&gt;console.log(&#39;hello&#39;)&lt;/code&gt;. Then I ran the build script &lt;code&gt;npm run build&lt;/code&gt; to make sure the project built and I saw “hello” in my terminal output. So far so good.
&lt;/p&gt;
&lt;h4&gt;The generate script&lt;/h4&gt;
&lt;p&gt;
  I need to get the filenames out of &lt;code&gt;asset-manifest.json&lt;/code&gt; and into the array of filenames to cache in &lt;code&gt;service-worker.js&lt;/code&gt;. My plan was to not get fancy with this. I only need to take strings from one file and write them into another file. The fact that the target file is JavaScript is immaterial to this process.
&lt;/p&gt;
&lt;p&gt;
  The full file is available &lt;a href=&quot;https://github.com/tylergaw/colorme/blob/03946e9540a031075f3f691356d7aa3f4e457a2d/scripts/generate-sw.js&quot;&gt;on GitHub&lt;/a&gt; and I’ll go through the code in detail here.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const manifest = require(&quot;../build/asset-manifest.json&quot;);
const fs = require(&quot;fs&quot;);
const swPath = &quot;build/service-worker.js&quot;;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  First is setup. &lt;code&gt;asset-manifest&lt;/code&gt; is JSON so I &lt;code&gt;require&lt;/code&gt; it here for use as an object. I’ll use the &lt;code&gt;fs&lt;/code&gt; package for reading and writing files. I store the path of the service worker for convenience.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;code-muted&quot;&gt;const manifest = require(&quot;../build/asset-manifest.json&quot;);
const fs = require(&quot;fs&quot;);
const swPath = &quot;build/service-worker.js&quot;;&lt;/code&gt;
&lt;code class=&quot;language-javascript&quot;&gt;const urlsCSV = Object.keys(manifest)
  .filter(k =&gt; !k.includes(&quot;.map&quot;))
  .map(k =&gt; manifest[k]);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Getting more interesting, but still not fancy. The goal of this chunk of code is to build an array of filenames. First, use &lt;code&gt;Object.keys&lt;/code&gt; to get the keys from the manifest JSON to loop over an array.
&lt;/p&gt;
&lt;p&gt;
  Next, use &lt;code&gt;filter&lt;/code&gt; to remove keys that include the string “.map.” If you look at &lt;code&gt;asset-manifest.json&lt;/code&gt; you’ll see source maps. We don’t want to cache those. I’m not sure if there’s a best practice for or against that, but I decided it didn’t seem right for this project.
&lt;/p&gt;
&lt;p&gt;
  Now that we only have keys for the files we want to cache, use &lt;code&gt;map&lt;/code&gt; to create the array of filenames stored as &lt;code&gt;urlsCSV&lt;/code&gt;;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;[
  &quot;static/css/main.2ebebc14.css&quot;,
  &quot;static/js/main.7e7a1a8f.js&quot;,
  &quot;static/media/bgTransparent.e6317315.svg&quot;
]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  &lt;strong&gt;A short tangent.&lt;/strong&gt; Given the code above, you might be asking; &lt;em&gt;“why didn’t you just use &lt;code&gt;Object.values&lt;/code&gt; instead of &lt;code&gt;Object.keys&lt;/code&gt; plus &lt;code&gt;map&lt;/code&gt;?”&lt;/em&gt; That’s a great question with a quick answer. As of this writing, I’m running Node.js version 6.9.1. &lt;code&gt;Object.values&lt;/code&gt; is not supported without the &lt;code&gt;--harmony&lt;/code&gt; flag until version &lt;code&gt;7.0.0&lt;/code&gt;. I didn’t want to upgrade Node.js for this. I’ll do that another time. That’s all.
&lt;/p&gt;
&lt;p&gt;
  I need to get that array of filenames into the service worker file. Again, this isn’t meant to be fancy or scalable. It’s meant to do the work.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;code-muted&quot;&gt;const manifest = require(&#39;../build/asset-manifest.json&#39;);
const fs = require(&#39;fs&#39;);
const swPath = &#39;build/service-worker.js&#39;;
const urlsCSV = Object.keys(manifest)
  .filter(k =&gt; !k.includes(&#39;.map&#39;))
  .map(k =&gt; manifest[k]);&lt;/code&gt;

&lt;code class=&quot;language-javascript&quot;&gt;fs.readFile(swPath, &quot;utf8&quot;, (err, data) =&gt; {
  if (err) { return console.log(&quot;Error trying to read SW file&quot;, err); }

  const result = data.replace(&quot;%MANIFESTURLS%&quot;, JSON.stringify(urlsCSV));

  fs.writeFile(swPath, result, &quot;utf8&quot;, err =&gt; {
    if (err) { return console.log(&quot;Error trying to write SW file&quot;, err); }
  });
});&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Let’s break this down. First, open the service worker file (&lt;code&gt;swPath&lt;/code&gt;) for reading. The error condition isn’t important. I included it to be nice to myself in case something odd happens during a build.
&lt;/p&gt;
&lt;p&gt;
  The next line is the point of this script. It searches the contents of the service worker file (&lt;code&gt;data&lt;/code&gt;) for the unique string &lt;code&gt;“%MANIFESTURLS%”&lt;/code&gt;. When found, it’s replaced with a JSON stringified version of our filenames array, &lt;code&gt;urlsCSV&lt;/code&gt;. Then, the updated contents are written back to the service worker file.
&lt;/p&gt;
&lt;h3&gt;Updates to service-worker.js&lt;/h3&gt;
&lt;p&gt;
  As mentioned above the generate script needs to find &lt;code&gt;“%MANIFESTURLS%”&lt;/code&gt; in &lt;code&gt;service-worker.js&lt;/code&gt;. I went back and updated the script to account for that.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const STATIC_CACHE_NAME = &quot;colorme-v1&quot;;
const BASE_STATIC_URLS = [
  &quot;/&quot;,
  &quot;/index.html&quot;,
  &quot;/manifest.json&quot;,
  &quot;https://fonts.googleapis.com/css?family=Cousine:400|Karla:400,700&quot;
];
const STATIC_URLS = BASE_STATIC_URLS.concat(JSON.parse(&#39;%MANIFESTURLS%&#39;));
&lt;p&gt;// The install handler is the same as when we started.
self.addEventListener(&amp;quot;install&amp;quot;, event =&amp;gt; {
event.waitUntil(
caches.open(STATIC_CACHE_NAME).then(cache =&amp;gt; {
return cache.addAll(STATIC_URLS);
}).then(() =&amp;gt; self.skipWaiting())
);
});&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  Here’s what I&#39;ve done. I moved the filenames I know about to &lt;code&gt;BASE_STATIC_URLS&lt;/code&gt;. I don’t fingerprint those file names, so they’re safe to hard-code. The important change is next. &lt;code&gt;STATIC_URLS&lt;/code&gt; still ends up being an array of filenames, but now it’s a combination of two arrays. The filenames we know about and the generated array of filenames written to this file.
&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;STATIC_URLS&lt;/code&gt; ends up looking something like this;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;[
  &quot;/&quot;,
  &quot;/index.html&quot;,
  &quot;/manifest.json&quot;,
  &quot;https://fonts.googleapis.com/css?family=Cousine:400|Karla:400,700&quot;,
  &quot;static/css/main.2ebebc14.css&quot;,
  &quot;static/js/main.7e7a1a8f.js&quot;,
  &quot;static/media/bgTransparent.e6317315.svg&quot;
]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  When the project builds the fingerprinted filenames and &lt;code&gt;asset-manifest&lt;/code&gt; changes. Then the service worker gets updated with the new filenames.
&lt;/p&gt;
&lt;p&gt;
 That all adds up to a build process that handles caching of fingerprinted files and one offline-capable PWA.
&lt;/p&gt;
&lt;h2&gt;A New Normal&lt;/h2&gt;
&lt;p&gt;
  I’ve seen folks talking at length about how transformative PWAs are, but I couldn’t grasp it until I went through this process. This felt like building a responsive design for the first time. It’s the realization that this isn’t going to be a gimmick or extra or nice-to-have. It’ll take time for habit to kick in and browsers to catch up, but this will become my default when building sites.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Starting Something New</title>
    <link href="https://tylergaw.com/blog/something-new/"/>
    <updated>2017-09-25T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/something-new/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  On December 15, 2016 I became unemployed. This was the first time in my career the unemployment was not my choice. The entirety of the company I worked for was RIF’d. If you’re unfamiliar, RIF stands for “reduction-in-force”. We were out of money to pay salaries and RIF was the best case scenario for us at the time.
&lt;/p&gt;
&lt;p&gt;
  We were lucky. The founder and team all wanted to keep doing the &lt;a href=&quot;https://thegroundwork.com/&quot;&gt;work&lt;/a&gt; we all felt so close to. There’s a story behind that work that I plan to share in the future. Over the course of two months, we were able to rustle enough contract work to pay salaries for the team members that stuck around. We were hired back in late February 2017.
&lt;/p&gt;
&lt;p&gt;
  In that couple month span I was able to stop and breathe for the first time in two and half years. I got to work on &lt;a href=&quot;https://tylergaw.com/articles/rewriting-day-player-for-sketch-40&quot;&gt;fun&lt;/a&gt; &lt;a href=&quot;https://tylergaw.com/articles/sass-to-postcss&quot;&gt;side&lt;/a&gt; &lt;a href=&quot;https://tylergaw.com/articles/introducing-colorme&quot;&gt;projects&lt;/a&gt;. And I was able to ruminate on things I wanted out of my work, career, and life.
&lt;/p&gt;
&lt;p&gt;
  Inspired by the loss of a job and the uncertainty and clarity that brings, my thoughts about want I wanted led towards one thing. I wanted to work on a &lt;strong&gt;business that I owned&lt;/strong&gt; that I could help build from the ground up. I wasn’t sure what that business should be or how I’d go about it. Then I got an unexpected opportunity from a friend.
&lt;/p&gt;
&lt;figure&gt;
  &lt;a href=&quot;https://www.limbo.io/&quot;&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-limbo-1.png&quot; alt=&quot;&quot; /&gt;
  &lt;/a&gt;
  &lt;figcaption&gt;
    Limbo is an anonymous job platform
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  On Wednesday, September 13&lt;sup&gt;th&lt;/sup&gt;, 2017 &lt;a href=&quot;http://www.umbrae.net/&quot;&gt;Chris&lt;/a&gt; and I launched our new business, &lt;a href=&quot;https://www.limbo.io/&quot;&gt;Limbo&lt;/a&gt;.
&lt;/p&gt;&lt;p&gt;
  Chris visited New York from California during my two month “vacation” and invited me for a drink to catch up. We hadn’t seen each other since I’d last visted the Dary’s Berkeley home about a year before. At one point in our conversation about family and work and life he asked; “Can I pitch you an idea?” Of course. He then laid out the idea and business model for Limbo and asked, “are you interested in working on it with me?”
&lt;/p&gt;
&lt;p&gt;
  Chris and I met in 2008 when he interviewed me for a position at &lt;a href=&quot;https://web.archive.org/web/20080828193240/https://arc90.com&quot;&gt;Arc90 &lt;sup&gt;(RIP)&lt;/sup&gt;&lt;/a&gt;. I ended up getting the job and staying there for &lt;a href=&quot;https://tylergaw.com/articles/2000-days&quot;&gt;five years&lt;/a&gt;. In that time, I got to work alongside him on Readability and Readlists and occasional other projects. I saw him conceive of and build &lt;a href=&quot;https://kindlingapp.com/&quot;&gt;Kindling&lt;/a&gt;–which stayed in business for close to a decade. Over the years I saw him do excellent work, make smart decisions, and in general be a great person to be around. Any time I had the chance to work with Chris or even just have a conversation over coffee, I jumped at it.
&lt;/p&gt;
&lt;p&gt;
  So when Chris comes to me and asks; “I have an idea, do you want to work on it with me?” I say “yes” because I know it’s going to be a great project.
&lt;/p&gt;
&lt;p&gt;
  As expected, Chris didn’t dissapoint this time around. The next day he emailed me what he had so far. It was a lot. He already had the project set up. He had wireframes and rough mocks. He even sent a spreadsheet full of projections and different business model scenarios. Real adult stuff.
&lt;/p&gt;
&lt;p&gt;
  So we got to work. Or more accurate, I got to work, he’d already been hard at it.
&lt;/p&gt;
&lt;p&gt;
  I was still working full-time at The Groundwork and wanted to keep a hard separation between it and Limbo. To do that, I worked on Limbo mornings, nights, and weekends. My schedule would usually go something like; get up, work on Limbo for 30 minutes or so. Switch to The Groundwork for the day. Stop in the early evening. Take a break. Eat food. Then hop back to Limbo and work until I couldn’t keep my eyes open. Repeat.
&lt;/p&gt;
&lt;p&gt;
  Weekdays were always more productive than weekends even with splitting my time. An occasional rainy Saturday or Sunday I’d get things done, but it’s  tough for me to do more computering on the weekend. Too many other things I’d rather do including doing nothing.
&lt;/p&gt;
&lt;p&gt;
  And so it went like that for months. My schedule made it take longer to get to launch, but we were making progress every day and now it’s a real, live thing.
&lt;/p&gt;
&lt;h2&gt;Unknown unknowns&lt;/h2&gt;
&lt;p&gt;
  The feedback we’ve received since launch has been overwhelmingly positive. So there’s &lt;strong&gt;something&lt;/strong&gt; there but, this is a business so we can’t say for certain how things will shake out. The goal is for Limbo to be our full time–paying–jobs. We’re doing everything we can to get there.
&lt;/p&gt;
&lt;p&gt;
  If you’ve worked with me you know I take ownership of what I’m working on. Not only design and code aspects of what I’m doing. I like to get in there. Co-workers have described me as “vocal.” When I see things in projects or teams or organizations that I think could be better, I offer my thoughts, ideas, and help. This is the opportunity we’re making for ourselves. &lt;strong&gt;We get to ask all the questions.&lt;/strong&gt; We get to make decisions about every aspect of the business in a way that reflects our values. This is a chance to make something positive and put it into the world.
&lt;/p&gt;
&lt;p&gt;
  One example of the decisions we’re making is around money. In our first conversation we discussed seeking funding versus bootstrapping. We’ve been around long enough and seen enough to know that seeking early outside investment often does not end well. We decided bootstrapping was the way to go. It’s not that we think VC is wrong, it just doesn’t feel right for us on this venture, at this time. We want to see if the business model is sustainable from the day one. Not work on it for years, then get to the common start-up point of “I guess it’s time to figure out how to make money?” We either offer enough value to make enough money or we don’t.
&lt;/p&gt;
&lt;p&gt;
  A huge thank you to everyone who’s helped us with Limbo so far. We’re fortunate to have friends who will take time out of their day to try things out, give us feedback, point us in new directions, and offer encouragement.
&lt;/p&gt;
&lt;p&gt;
  This feels like the cusp of something. This has the potential to be where we put our energy for years to come. Chris and I have helped design and build world class products for other smart people. Now we’ll see if we can build, nurture, and sustain a business for ourselves.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>The Impact of Flash</title>
    <link href="https://tylergaw.com/blog/the-impact-of-flash/"/>
    <updated>2017-07-29T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/the-impact-of-flash/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  A short Twitter exchange with &lt;a href=&quot;https://twitter.com/mciarlo/status/890931236054720513&quot;&gt;Mike&lt;/a&gt; made me pause and think about the positive impact &lt;a href=&quot;https://blogs.adobe.com/conversations/2017/07/adobe-flash-update.html&quot;&gt;Flash&lt;/a&gt; has had on me. I felt the need to scribble a few loose thoughts and anecdotes about a technology near its end.
&lt;/p&gt;
&lt;p&gt;
  I’m thinking about the time between late 2004 to sometime in 2008. That&#39;s the start of my time working with the Web and computers in any real capacity. Flash was still Macromedia Flash. It was pervasive and incredible.
&lt;/p&gt;
&lt;p&gt;
  Building websites with HTML and CSS in 2004 to 2007-ish was interesting, but limited. We made 760 pixel fixed-width pages with tiled background images and bad image-based type. And that’s only if you’d made the switch from table-based layouts. Many folks had not. CSS transitions and animations weren’t even on the radar. jQuery wasn&#39;t a thing. JavaScript was still considered a toy language for “DHTML” gimmicks by most.
&lt;/p&gt;
&lt;p&gt;
  Flash filled a need and did it well. It provided a path to design and publish web sites with as far out graphics and layouts as we could conjure. Being able to work outside the capabilities of browsers was helpful for someone like me. I had a traditional art background and still felt stifled by computer-based design tools and the limits of browsers of the day. Flash was a looser way to learn and develop digital design skills. At the time, making Flash sites was flat out more fun and exciting.
&lt;/p&gt;
&lt;h2&gt;Movement and sound&lt;/h2&gt;
&lt;p&gt;
  Flash helped many of us learn timing, pacing, and rhythm. It helped us learn how to design to music. Sometimes real music, sometimes the songs in our heads. These concepts aren’t limited to animation. Through the years, I’ve folded motion design concepts into tons of static design. It’s one way to arrive at richer, more interesting designs. I realize this sounds esoteric, it is. It’s squishy, designer-feel stuff, but it often results in design that stirs emotion.
&lt;/p&gt;
&lt;p&gt;
  Working in Flash opened doors to designing with other mediums like audio. How many of you also used &lt;a href=&quot;http://www.audacityteam.org/&quot;&gt;Audacity&lt;/a&gt; to create sound effects for use in &lt;code&gt;.swf&lt;/code&gt;s? Homemade foley was a constant in my early Flash projects. It was fun and silly and great.
&lt;/p&gt;
&lt;p&gt;
  Sites like &lt;a href=&quot;http://www.2advanced.com/&quot;&gt;2advanced.com&lt;/a&gt; displayed a breadth and depth to designing with motion and sound on the Web. At the time, you could not find that with sites built with web standards alone. Seeing what was possible opened eyes and removed barriers. If 2Advanced and others could do work like that, so could we. And later, when technology caught up, we learned we could do it without Flash.
&lt;/p&gt;
&lt;p&gt;
  These concepts and approaches we learned weren’t lost when we stopped using Flash. We rolled them along to CSS and JavaScript and iOS and Android. The rich motion we now expect from digital products is no doubt inspired and learned by earlier work done with Flash.
&lt;/p&gt;
&lt;h2&gt;Typography&lt;/h2&gt;
&lt;p&gt;
  We would not have the typographic capabilities on the Web we have today if not for Flash. &lt;a href=&quot;https://en.wikipedia.org/wiki/Scalable_Inman_Flash_Replacement&quot;&gt;sIFR&lt;/a&gt; let us explore what was possible with custom type in web pages. There were no other options at the time. &lt;code&gt;@font-face&lt;/code&gt; would not exist for a couple years. It would be more years still until it had wide enough browser support you could use it.
&lt;/p&gt;
&lt;p&gt;
  In this instance, Flash was a polyfill. Using Flash to embed custom fonts helped us learn what we wanted from typography on the Web. That knowledge informed specifications and browser vendors were then able to make the specs reality. This feels, to me, like the most day-to-day, “bread and butter” impact Flash had on the Web.
&lt;/p&gt;
&lt;h2&gt;Learning to code&lt;/h2&gt;
&lt;p&gt;
  Everything in this post is from my perspective, but this section is 100% about my experience. Everyone who writes code learned in a different way. I learned to program using ActionScript 2.0 within Flash so I hold it in high regard. ActionScript was my introduction to basic programming concepts; variables, conditionals, loops, and functions. I took to it well I think because it was the first time I’d seen code tied to a fun end result. Write code, see something fun happen in a &lt;code&gt;.swf&lt;/code&gt;. It was immediate and tangible so it stuck.
&lt;/p&gt;
&lt;p&gt;
  Writing ActionScript also taught me how to think in code and convince a computer to do what I wanted. Often times the convincing wasn’t done in an elegant way. I remember my final for an Advanced ActionScript course in college. I got half credit on one programming task because I made it work, but did so in some roundabout way. That’s representative of how I write code today. I may not always have the most elegant solution, but I&#39;ll get it done no matter what.
&lt;/p&gt;
&lt;h2&gt;It’s really the humans&lt;/h2&gt;
&lt;p&gt;
  In Mike’s tweet he used “nostalgic.” I wasn’t sure at the time if I felt nostalgia about Flash or not.
&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;
    a sentimental longing or wistful affection for the past, typically for a period or place with happy personal associations.
  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  After thinking and writing about this, yes I do. I’m not nostalgic about the technology itself though. Flash, like all other technology, is a means to an end. Thinking about Flash reminds me of that time in my life. It reminds me of the work I was doing, the rush of new ideas, and the thrill of making new things. It reminds me of the people I was working with, most of whom I haven&#39;t spoken to in the years since. So yeah, I think I’ll always look back on that time with “wistful affection”.
&lt;/p&gt;
&lt;p&gt;
  We’re doing what we always do, moving on. We learn, we evolve, we evolve our tools. This is a good thing and a constant in our field. At the same time it’s important to witness and remember the steps in our evolution.
&lt;/p&gt;&lt;p&gt;
  Even though it has a couple more years of life, Flash’s time has come and gone. Flash&#39;s positives far outweigh its negatives and its impact will persist for years after it’s gone.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>New ColorMe Features</title>
    <link href="https://tylergaw.com/blog/new-colorme-features/"/>
    <updated>2017-01-18T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/new-colorme-features/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  Since releasing it two weeks ago, &lt;a href=&quot;https://colorme.io/&quot;&gt;ColorMe&lt;/a&gt; has had time to simmer and I’ve gotten a bunch of great feedback. In that time I’ve made improvements and feature additions. New features include; support for &lt;code&gt;hsl(a)&lt;/code&gt; and &lt;code&gt;rrggbbaa&lt;/code&gt; colors. Red, green, and blue color adjusters. And the option to choose the format of the output color.
&lt;/p&gt;
&lt;p&gt;
  The first updates I made I snuck in the day after release. Those were improvements to the color adjuster sliders for touch devices. Or more accurate, devices without &lt;code&gt;hover&lt;/code&gt; support. I knew the initial design had usability issues on mobile, but decided to ship it and iterate.
&lt;/p&gt;
&lt;p&gt;
  The main problem was the horizontal scrolling interfering with the range sliders. The thumb of the sliders was too hard to get a hold of with a finger. And it was tough to adjust the slider instead of scrolling horizontal.
  For this first update I didn&#39;t change the UI completely for touch devices. For now I only increased the size of the thumb on the range sliders in &lt;a href=&quot;https://github.com/tylergaw/colorme/pull/4&quot;&gt;this pull request&lt;/a&gt;.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-colorme-updates-touch-support.png&quot; alt=&quot;A screenshot of touch device use of color adjusters on ColorMe&quot; /&gt;
  &lt;figcaption&gt;
    The new size of an inactive and an active thumb on touch devices. It looks odd here, but easier to see and handle when you’re using a finger instead of a mouse pointer.
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  By default the CSS targets all devices. The range slider thumb is large. Almost comical in size and off center vertically when active. It looks strange in a screenshot, but the larger size and y-offset make it easier to control when using a finger.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.adjusterValRange::-webkit-slider-thumb {
  ...
  height: 1.6rem;
  margin-top: -0.8rem;
  width: 1.6rem;
}
&lt;p&gt;.adjusterValRange::-webkit-slider-thumb:hover,
.adjusterValRange::-webkit-slider-thumb:active {
margin-top: -1.8rem;
height: 2.5rem;
width: 2.5rem;
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  To decrease the thumb size on devices with &lt;code&gt;hover&lt;/code&gt; support , I used the &lt;code&gt;hover&lt;/code&gt; media query available in &lt;a href=&quot;https://www.w3.org/TR/mediaqueries-4/#hover&quot;&gt;Media Queries Level 4&lt;/a&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@media (hover) {
  .adjusterValRange::-webkit-slider-thumb {
    ...
    height: 0.75rem;
    margin-top: -0.3rem;
    width: 0.75rem;
  }
&lt;p&gt;.adjusterValRange::-webkit-slider-thumb:hover,
.adjusterValRange::-webkit-slider-thumb:active {
margin-top: -0.5rem;
height: 1.1rem;
width: 1.1rem;
}
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  I’m a huge fan of using the &lt;code&gt;hover&lt;/code&gt; media query instead of relying on screen size. The issue isn’t caused because the screen is too narrow. It’s caused by not having the fine control a mouse and cursor provide. The new media query isn’t available in all browsers yet, but support is good enough for these purposes.
&lt;/p&gt;
&lt;p&gt;
  You can see the full CSS for the adjuster range sliders in &lt;code&gt;&lt;a href=&quot;https://github.com/tylergaw/colorme/blob/2017-01-17T22.58.04/src/components/Adjuster/Adjuster.css#L102&quot;&gt;Adjuster.css&lt;/a&gt;&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  Usability of the adjusters on touch devices still has room for improvement. There’s an &lt;a href=&quot;https://github.com/tylergaw/colorme/issues/5&quot;&gt;open issue&lt;/a&gt; about it in the repo. Along with the ideas there, I have an alternate UI I’d like to try out. That will likely be the next round of changes I make to the project.
&lt;/p&gt;
&lt;h2&gt;Red, green, and blue adjusters&lt;/h2&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-colorme-updates-rgb-adjusters.gif&quot; alt=&quot;An animated gif showing red, green, and blue color adjusters ColorMe&quot; /&gt;
  &lt;figcaption&gt;
    Adjust the red, green, and blue channels.
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  In the first release I also left out three of the available &lt;a href=&quot;https://drafts.csswg.org/css-color/#modifying-colors&quot;&gt;color adjusters&lt;/a&gt;. Red, green, and blue. Those are in place now. They do what they say on package. Each one adjusts that single channel. Could be helpful for finding that perfect reddish-greenish-blue. Or for finding a good complementary color.
&lt;/p&gt;
&lt;h2&gt;New supported formats&lt;/h2&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-colorme-updates-formats.gif&quot; alt=&quot;An animated gif showing new format inputs in ColorMe&quot; /&gt;
  &lt;figcaption&gt;
    &lt;code&gt;hsl(a)&lt;/code&gt; and &lt;code&gt;rrggbbaa&lt;/code&gt; formats now supported.
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  One of the first bits of feedback I got was from my coworker, &lt;a href=&quot;https://twitter.com/thefivetoes&quot;&gt;Justin&lt;/a&gt;. He said ColorMe should support &lt;code&gt;rrggbbaa&lt;/code&gt; colors for the base color. I’d never used them before so I took some time to educate myself. If they’re new to you too, read &lt;a href=&quot;https://hashnode.com/post/understanding-rrggbbaa-color-notation-cisvdr52x088fwt53h1drf6m2&quot;&gt;this post&lt;/a&gt;. Then play with them in &lt;a href=&quot;https://colorme.io/?color=ff0000af&quot;&gt;ColorMe&lt;/a&gt; to get a better feel how they work. I’ve been using the alpha adjuster to go through each value to see what the percentage is in hex. It’s still taking me some time to think about alpha values as hex, but I&#39;m a fan. You should give it a try if you haven’t already.
&lt;/p&gt;
&lt;p&gt;
  I also added support for &lt;code&gt;hsl(a)&lt;/code&gt; base colors. This was a no-brainer. It just didn&#39;t make the cut for first release.
&lt;/p&gt;
&lt;h2&gt;Choosing output color format&lt;/h2&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-colorme-updates-format-select.gif&quot; alt=&quot;An animated gif showing new format selection in ColorMe&quot; /&gt;
  &lt;figcaption&gt;
    You can now choose the output color format.
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  OK, this is a fun one! Also the one that required the most effort. A request I got was the ability to see the output color in &lt;code&gt;hex&lt;/code&gt; or &lt;code&gt;hsl(a)&lt;/code&gt; format instead of only &lt;code&gt;rgb(a)&lt;/code&gt;. This was also something I’d been wanting. So I took the idea and ran with it.
&lt;/p&gt;
&lt;p&gt;
  You now have the option to choose the format for the output color. There are up to seven different formats depending on the color. The full list of formats is; hex, hex shorthand, rrggbbaa, rrggbbaa shorthand, rgb(a), hsl(a), and keyword. Depending on the base color some of them are available and some aren’t.
&lt;/p&gt;
&lt;p&gt;
  When you choose a format, ColorMe will do its best to hold on to your selection. Sometimes though there&#39;s no way to display a color in a certain format. For example; say you enter the color &lt;code&gt;red&lt;/code&gt;. The output format is &quot;keyword&quot;. Now, say you adjust the &lt;code&gt;alpha&lt;/code&gt; value to 90%. There is no hex or keyword format for the new color. In that case ColorMe switches to the &lt;code&gt;rgba&lt;/code&gt; format. It also disables the hex, hex shorthand, rrggbbaa shorthand and keyword formats because those aren&#39;t available. In the UI, this just happen for you. React makes short work out of maintaining view layer updates. Behind the scenes there’s a lot of logic to determining what formats work for each color.
&lt;/p&gt;
&lt;p&gt;
  If you’re interested in that logic, have a look at the &lt;code&gt;getColorFormats&lt;/code&gt; function in &lt;code&gt;&lt;a href=&quot;https://github.com/tylergaw/colorme/blob/2017-01-17T22.58.04/src/utils/color.js#L232&quot;&gt;utils/color.js&lt;/a&gt;&lt;/code&gt;. The code there isn’t clever. Most of it is &lt;code&gt;if&lt;/code&gt; statements representing what I knew should be true about each format. Because this type of logic can be brittle when making changes, I also wrote a battery of &lt;a href=&quot;https://github.com/tylergaw/colorme/blob/2017-01-17T22.58.04/src/utils/__tests__/color.test.js#L385&quot;&gt;tests&lt;/a&gt; to let me know when I break things.
&lt;/p&gt;
&lt;h2&gt;A bug fix and open-source sleuthing&lt;/h2&gt;
&lt;p&gt;
  As I was tinkering with the UI, I hit one of those voodoo, ghost-looking bugs. After fiddling with the knobs a while longer, I saw the pattern and was able to reproduce the &lt;a href=&quot;https://github.com/tylergaw/colorme/issues/3&quot;&gt;issue&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  When using the &lt;code&gt;alpha&lt;/code&gt; adjuster with the &lt;code&gt;tint&lt;/code&gt;, &lt;code&gt;shade&lt;/code&gt;, or &lt;code&gt;contrast&lt;/code&gt; adjusters, the alpha value was wrong. For example, this code;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;color(red a(10%) tint(50%))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  produced:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;rgba(255, 128, 128, 0.19999999999999996)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  when I expected it to produce:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;rgba(255, 128, 128, 0.1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  First I made sure my code wasn&#39;t up to anything fishy. Then started looking at my dependencies. The unexpected results were coming from the the &lt;a href=&quot;https://github.com/ianstormtaylor/css-color-function&quot;&gt;css-color-function&lt;/a&gt; package. To complicate things more, the problematic code didn&#39;t end in css-color-function. It was its use of another &lt;a href=&quot;https://github.com/Qix-/color&quot;&gt;color package&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  css-color-function uses the &lt;code&gt;mix&lt;/code&gt; function of that color package for &lt;code&gt;tint&lt;/code&gt;, &lt;code&gt;shade&lt;/code&gt;, and &lt;code&gt;contrast&lt;/code&gt; adjusters. The &lt;code&gt;Color.mix&lt;/code&gt; function was ported from Sass. In Sass, the &lt;code&gt;mix&lt;/code&gt; function not only mixes color channels, it also mixes the alpha channel.
&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;
    The opacity of the colors is also considered when weighting the components.
  &lt;/p&gt;
  &lt;cite&gt;
    &lt;a href=&quot;http://sass-lang.com/documentation/Sass/Script/Functions.html#mix-instance_method&quot;&gt;
      From the Sass docs on the &lt;code&gt;mix&lt;/code&gt; function
    &lt;/a&gt;
  &lt;/cite&gt;
&lt;/blockquote&gt;
&lt;p&gt;
  As far as I can tell, this isn&#39;t the intended behavior of the color function adjusters. For ColorMe, I forked css-color-function and modified its &lt;code&gt;blend&lt;/code&gt; method. The problematic adjusters use that method. What I did was take the alpha value out of play before mixing colors. Then put it back when finished. Here&#39;s my updated version of the &lt;code&gt;blend&lt;/code&gt; method:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;exports.blend = function (color, args) {
  var targetAlpha = color.alpha();
&lt;p&gt;// Reset the alpha value to one. This is required because color.mix mixes
// the alpha value as well as rgb values. For blend() purposes, that&#39;s not
// what we want.
color.alpha(1);&lt;/p&gt;
&lt;p&gt;var other = new Color(args[0].value);
var percentage = 1 - parseInt(args[1].value, 10) / 100;&lt;/p&gt;
&lt;p&gt;// Finally set the alpha value of the mixed color to the target value.
color.mix(other, percentage).alpha(targetAlpha);
};&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  ColorMe is now using &lt;a href=&quot;https://github.com/tylergaw/css-color-function/tree/tg-ignore-alpha-on-mix&quot;&gt;my fork&lt;/a&gt; of css-color-function. I opened a &lt;a href=&quot;https://github.com/ianstormtaylor/css-color-function/pull/26&quot;&gt;pull request&lt;/a&gt; to get the changes the original fork. I also added more detail about the cause and solution in the description of that PR.
&lt;/p&gt;
&lt;h3&gt;Pull requests beget pull requests&lt;/h3&gt;
&lt;p&gt;
  When I started pulling at this thread I found two other projects affected by it. I&#39;m sure there are others. I opened a &lt;a href=&quot;https://github.com/postcss/postcss-color-function/pull/33&quot;&gt;pull request&lt;/a&gt; in postcss-color-function and &lt;a href=&quot;https://github.com/MoOx/postcss-cssnext/issues/337&quot;&gt;reported the problem&lt;/a&gt; in postcss-cssnext.
&lt;/p&gt;
&lt;h2&gt;More to come&lt;/h2&gt;
&lt;p&gt;
  I had a lot fun with these updates, hope folks find them useful. As said I have more ideas for future ColorMe updates. And as always if you see issues or have ideas, &lt;a href=&quot;https://github.com/tylergaw/colorme/issues&quot;&gt;open an issue&lt;/a&gt;.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Introducing: ColorMe</title>
    <link href="https://tylergaw.com/blog/introducing-colorme/"/>
    <updated>2017-01-05T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/introducing-colorme/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  &lt;a href=&quot;https://colorme.io/&quot;&gt;ColorMe&lt;/a&gt; is a site I built to make working with the &lt;a href=&quot;https://drafts.csswg.org/css-color/#modifying-colors&quot;&gt;CSS Color Function&lt;/a&gt; easier. It provides a UI for applying adjusters to a base color and gives a visual of the adjustments. The excellent &lt;a href=&quot;http://jim-nielsen.com/sassme/&quot; target=&quot;_blank&quot;&gt;SassMe&lt;/a&gt; was my inspiration.
&lt;/p&gt;
&lt;p&gt;
  The Color Function is a CSS feature in editor&#39;s draft stage of specification. This means it will be a while before it lands in any browser. That doesn&#39;t mean you can&#39;t use the proposed syntax today though. You can use the &lt;a href=&quot;https://github.com/postcss/postcss-color-function&quot;&gt;color function&lt;/a&gt; PostCSS plugin. That plugin is also included in &lt;a href=&quot;http://cssnext.io/features/#color-function&quot;&gt;cssnext&lt;/a&gt; if you want access to more future-facing CSS. The plugin uses the &lt;a href=&quot;https://github.com/ianstormtaylor/css-color-function&quot;&gt;css-color-function&lt;/a&gt; package for its parsing and converting.
&lt;/p&gt;
&lt;p&gt;
  I &lt;a href=&quot;https://tylergaw.com/articles/sass-to-postcss&quot;&gt;wrote&lt;/a&gt; about switching this site to PostCSS. That was my first encounter with the color function. After years of using color transform functions in Sass it&#39;s easy to see how powerful a native CSS color function will be.
&lt;/p&gt;
&lt;p&gt;
  There are more detailed &lt;a href=&quot;https://topaxi.codes/modifying-css-colors-with-the-color-function/&quot;&gt; articles&lt;/a&gt; about the color function. I&#39;ll give a brief overview of it here. On its own, &lt;code&gt;color&lt;/code&gt; doesn&#39;t do anything with the given base color:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;color(#ea3333) /* output is the same as input */&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  The power of the function is in adjusters. These are transformations applied to the base color. The current draft spec lists 15 available adjusters; &lt;code&gt;alpha&lt;/code&gt;, &lt;code&gt;rgb&lt;/code&gt;, &lt;code&gt;red&lt;/code&gt;, &lt;code&gt;green&lt;/code&gt;, &lt;code&gt;blue&lt;/code&gt;, &lt;code&gt;hue&lt;/code&gt;, &lt;code&gt;saturation&lt;/code&gt;, &lt;code&gt;lightness&lt;/code&gt;, &lt;code&gt;whiteness&lt;/code&gt;, &lt;code&gt;blackness&lt;/code&gt;, &lt;code&gt;tint&lt;/code&gt;, &lt;code&gt;shade&lt;/code&gt;, &lt;code&gt;blend&lt;/code&gt;, &lt;code&gt;blenda&lt;/code&gt;, and &lt;code&gt;contrast&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  The &lt;code&gt;color&lt;/code&gt; function allows you to apply one or more adjusters to the given base color:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;color(#ea3333 alpha(90%) saturation(75%) shade(20%)) /* rgba(182, 47, 47, 0.9) */&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Many of the adjusters also have short names:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;color(#ea3333 a(90%) s(75%) shade(20%)) /* rgba(182, 47, 47, 0.9) */&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Like Sass, using the CSS Color Function in code can be difficult visualize. Colors are easier to work with when you can see them. That&#39;s why SassMe is so darn useful. And that&#39;s why I thought we needed the same for CSS.
&lt;/p&gt;
&lt;figure&gt;
  &lt;a href=&quot;https://colorme.io/&quot;&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-colorme-screenshot-1.png&quot; alt=&quot;A screenshot of colorme.io&quot; /&gt;
  &lt;/a&gt;
  &lt;figcaption&gt;
   This is &lt;a href=&quot;https://colorme.io/&quot;&gt;ColorMe.io&lt;/a&gt;
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;h2&gt;Building It&lt;/h2&gt;
&lt;p&gt;
  ColorMe is a React app. I used the wonderful &lt;a href=&quot;https://github.com/facebookincubator/create-react-app&quot;&gt;create-react-app&lt;/a&gt; to get started.
&lt;/p&gt;
&lt;p&gt;
  Before getting any UI in place I needed to see a first thing work. I needed to convert color function strings to rgb(a) strings. For that I used the &lt;code&gt;css-color-function&lt;/code&gt; package. I started by importing the package and logging results of its use:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;import colorFn from &#39;css-color-function&#39;;
console.log(colorFn.convert(&#39;color(red alpha(50%))&#39;)); // rgba(255, 0, 0, 0.5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  No major breakthrough, but that&#39;s how I get myself going. Just get one win no matter how small. From there it was a matter of building up functionality piece by piece.
&lt;/p&gt;
&lt;p&gt;
  The workhorse of the project is the &lt;a href=&quot;https://github.com/tylergaw/colorme/blob/2017-01-05T17.19.10/src/utils/color.js&quot;&gt;color utils&lt;/a&gt;. All color calculations happen there. When you enter a base color, the app &lt;a href=&quot;https://github.com/tylergaw/colorme/blob/2017-01-05T17.19.10/src/utils/color.js#L10&quot;&gt;breaks it apart&lt;/a&gt; into individual color properties. Those properties are initial values for the adjusters. I used &lt;a href=&quot;https://github.com/Qix-/color&quot;&gt;this color package&lt;/a&gt; to parse the base color string.
&lt;/p&gt;
&lt;p&gt;
  Because the color utils do so much I took the time to write &lt;a href=&quot;https://github.com/tylergaw/colorme/blob/develop/src/utils/__tests__/color.test.js&quot;&gt;decent test coverage&lt;/a&gt;. Writing tests isn&#39;t something I jump at doing (&lt;i&gt;read as: I get distracted, just wanna draw pictures, or go outside, or anything else. Please don&#39;t make me write tests!&lt;/i&gt;). But it felt necessary for this and did save me a few headaches during refactoring.
&lt;/p&gt;
&lt;h2&gt;Deploying It&lt;/h2&gt;
&lt;p&gt;
  When I&#39;m ready to release updates to ColorMe I run &lt;code&gt;npm run release&lt;/code&gt;. That command creates a new Git tag and pushes it to GitHub. Travis then runs the tests. When Travis sees the build is for a tag it executes &lt;a href=&quot;https://github.com/tylergaw/colorme/blob/2017-01-03T23.50.13/scripts/deploy.sh&quot;&gt;deploy.sh&lt;/a&gt;. That script does a production-ready build with &lt;code&gt;npm run build&lt;/code&gt; and then syncs the artifacts to AWS S3. This is a similar build process that I wrote about in more detail in &lt;a href=&quot;https://tylergaw.com/articles/rewriting-day-player-for-sketch-40&quot;&gt;“Rewriting Day Player for Sketch 40+”&lt;/a&gt;.
&lt;/p&gt;
&lt;h2&gt;Try it out&lt;/h2&gt;
&lt;p&gt;
  It&#39;s still early days for the CSS Color Function. It&#39;s a promising feature with momentum behind it. My hope is that more folks will start using it and giving feedback. We&#39;ll see the spec continue to evolve and sooner or later get implemented by browsers.
&lt;/p&gt;
&lt;p&gt;
  Take &lt;a href=&quot;https://colorme.io/&quot;&gt;ColorMe&lt;/a&gt; for a spin. If you find bugs or have ideas, feel free to add &lt;a href=&quot;https://github.com/tylergaw/colorme/issues&quot;&gt;issues&lt;/a&gt;.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>From Sass to PostCSS</title>
    <link href="https://tylergaw.com/blog/sass-to-postcss/"/>
    <updated>2016-12-28T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/sass-to-postcss/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  Sass has been my go-to for years. But for a while now, I&#39;ve wanted to try a new styling setup with PostCSS and the cssnext plugin. I love the idea of writing future CSS syntax today and using tooling more aligned with other tools I&#39;m used to. This personal site is a perfect test bed to try this new setup.
&lt;/p&gt;
&lt;p&gt;
  The first step I took was an inventory of my Sass usage. I needed to know what features I was using to make sure I found a replacement in the new setup. Here&#39;s a list of what I was using on this project:
&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;partial imports&lt;/li&gt;
  &lt;li&gt;variables&lt;/li&gt;
  &lt;li&gt;nesting&lt;/li&gt;
  &lt;li&gt;mixins&lt;/li&gt;
  &lt;li&gt;extend&lt;/li&gt;
  &lt;li&gt;placeholder classes&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;darken&lt;/code&gt; and &lt;code&gt;rgba&lt;/code&gt; color functions&lt;/li&gt;
  &lt;li&gt;compression&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Preparing&lt;/h2&gt;
&lt;p&gt;
  Before getting to new syntax or other fun I needed to do some yak shaving. The project was using a file structure typical for Sass usage. I used the leading underscore naming convention for partials. And included the required &lt;code&gt;scss&lt;/code&gt; extension. I used two directories to loosely organize Sass files. &lt;code&gt;modules&lt;/code&gt; housed Sass that didn&#39;t produce CSS. Things like variables, placeholder classes, and mixins. &lt;code&gt;partials&lt;/code&gt; housed all CSS-producing Sass.
&lt;/p&gt;
&lt;p&gt;
  This was the beginning file structure:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-none&quot;&gt;css/
  scss/
    modules/
      _module.scss
      ...
    partials/
      _partial.scss
      ...
    tylergaw.scss
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Each Sass partial gets imported in &lt;code&gt;tylergaw.scss&lt;/code&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;@import &quot;modules/setup&quot;;
@import &quot;modules/reset&quot;;
@import &quot;modules/fonts&quot;;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  I reorganized and renamed the files. I first changed the extension from &lt;code&gt;scss&lt;/code&gt; to &lt;code&gt;css&lt;/code&gt;. Instead of doing it a file at a time, I used a Bash script:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;for f in *.scss; do git mv -- &quot;$f&quot; &quot;${f%.scss}.css&quot;; done;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Because the leading underscore is from the Sass world I also removed that. I couldn&#39;t figure a way to do it with Bash so I removed it from each file by hand. &lt;i&gt;(note to self; learn how to Bash better)&lt;/i&gt;
&lt;/p&gt;
&lt;p&gt;
  The last step was to move all the CSS files to the &lt;code&gt;modules&lt;/code&gt; directory and remove the &lt;code&gt;partials&lt;/code&gt; directory. I decided referring to all CSS as modules made more sense than trying to split them along the modules/partials line.
&lt;/p&gt;
&lt;h2&gt;Build setup&lt;/h2&gt;
&lt;p&gt;
  I started with the &lt;a href=&quot;https://github.com/postcss/postcss-cli&quot;&gt;PostCSS CLI&lt;/a&gt;. I added a temporary build script to &lt;code&gt;package.json&lt;/code&gt;:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&quot;scripts&quot;: {
  &quot;postcss&quot;: &quot;postcss -o public/css/tylergaw.css src/css/tylergaw.css&quot;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Without changing any styles I compiled the CSS:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;npm run postcss&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  It worked! Sorta. I didn&#39;t get errors in the console, but it left me with a naked page on the &lt;a href=&quot;http://css-naked-day.github.io/&quot;&gt;wrong day&lt;/a&gt;.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-postcss-1.png&quot; alt=&quot;A screenshot of tylergaw.com missing all styles&quot; /&gt;
  &lt;figcaption&gt;
    Results of the first PostCSS build
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  With the build process functional I could now work to get the styles back in order.
&lt;/p&gt;
&lt;p&gt;
   Looking at the console in Chrome I saw a stack of 404s. This revealed the first missing feature; &lt;code&gt;@import&lt;/code&gt; inlining. &lt;code&gt;tylergaw.css&lt;/code&gt; contains only &lt;code&gt;@import&lt;/code&gt;s for each CSS module. The browser saw those and did what it knows to do. It attempted to load each module via an HTTP request. My build process only copies the single CSS file, not each module. Because of that, the browser couldn&#39;t find them.
&lt;/p&gt;
&lt;p&gt;
  I could change the build process to make default &lt;code&gt;@import&lt;/code&gt;s work, but that would be inefficient. I needed a replacement for Sass style &lt;code&gt;@import&lt;/code&gt; inlining.
&lt;/p&gt;
&lt;h2&gt;The first plugin&lt;/h2&gt;
&lt;p&gt;
  To get Sass-style &lt;code&gt;@import&lt;/code&gt;s I used the &lt;code&gt;postcss-import&lt;/code&gt; plugin. After installing the module via npm I updated the build script to use it:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&quot;scripts&quot;: {
  &quot;postcss&quot;: &quot;postcss -u postcss-import -o public/css/tylergaw.css src/css/tylergaw.css&quot;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  And ran the script again with &lt;code&gt;npm run postcss&lt;/code&gt;. The single CSS file contains all the modules and the site now has partial styling.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-postcss-2.png&quot; alt=&quot;A screenshot of tylergaw.com with partial styles&quot; /&gt;
  &lt;figcaption&gt;
    Results of the PostCSS build using postcss-import plugin
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;h3&gt;Will this be in a future CSS?&lt;/h3&gt;
&lt;p&gt;
  The inlining of &lt;code&gt;@import&lt;/code&gt;s was huge when it showed up in Sass. It&#39;s changed how we&#39;re able to organize styles for the better. I&#39;m not sure this functionality will ever be native in though. It seems like we&#39;ll always need a build step for this type of functionality. Which doesn&#39;t seem all that bad.
&lt;/p&gt;
&lt;p&gt;
  I imagine the &lt;code&gt;postcss-import&lt;/code&gt; plugin will be a staple for all my future PostCSS setups. My guess is this will be true for other folks too. This quote from the plugin author sounds right on:
&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;
    This plugin should probably be used as the first plugin of your list. This way, other plugins will work on the AST as if there were only a single file to process, and will probably work as you can expect.
  &lt;/p&gt;
  &lt;cite&gt;
    &lt;a href=&quot;https://github.com/postcss/postcss-import#postcss-import&quot;&gt;
      postcss-import
    &lt;/a&gt;
  &lt;/cite&gt;
&lt;/blockquote&gt;
&lt;h2&gt;cssnext&lt;/h2&gt;
&lt;p&gt;
  &lt;a href=&quot;https://cssnext.github.io/&quot;&gt;cssnext&lt;/a&gt; is a PostCSS plugin for compiling future CSS syntax to syntax that works today. It&#39;s important to note that it&#39;s not a different language like Sass or Less. The features it offers are in-progress CSS specs. Some for features already showing up in browsers today. Others in beginning stages of the specification process.
&lt;/p&gt;
&lt;p&gt;
  I used cssnext to fill in the rest of the gaps left by missing Sass features.
&lt;/p&gt;
&lt;h3&gt;Vendor prefixes&lt;/h3&gt;
&lt;p&gt;
  I built this site before I knew about &lt;a href=&quot;https://github.com/postcss/autoprefixer&quot;&gt;Autoprefixer&lt;/a&gt;. I used &lt;a href=&quot;https://github.com/tylergaw/tylergaw.com/blob/pre-postcss/src/css/scss/modules/_prefixed.scss&quot;&gt;custom Sass mixins&lt;/a&gt; to handle adding the needed prefixes. cssnext includes Autoprefixer, so I was able to remove that entire mixins module.
&lt;/p&gt;
&lt;h3&gt;Variables&lt;/h3&gt;
&lt;p&gt;
  Next I changed the Sass variables to CSS custom properties. In &lt;a href=&quot;https://github.com/tylergaw/tylergaw.com/blob/pre-postcss/src/css/scss/modules/_setup.scss&quot;&gt;_setup.scss&lt;/a&gt; I had:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;$grey: #1e1e1d;
$yellow: #ffad15;
$offwhite: #f8f8f8;
$darkerwhite: darken($offwhite, 15);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  This isn&#39;t all the Sass vars I was using, but it&#39;s the main ones. The rest are in individual modules.
&lt;/p&gt;
&lt;p class=&quot;note-special&quot;&gt;
  &lt;b&gt;Note:&lt;/b&gt; The “custom properties” vs. “variables” distinction. CSS custom properties are only valid for property values. They can&#39;t be used in selectors, property names, or media query values.
&lt;/p&gt;
&lt;p&gt;
  The updated &lt;code&gt;setup.css&lt;/code&gt;:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;:root {
  --white: #fff;
  --grey: #1e1e1d;
  --yellow: #ffad15;
  --offwhite: #f8f8f8;
  ...
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  and an example of updated usage:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;a {
  color: var(--yellow);
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Apart from syntax, CSS custom properties work the same as Sass variables. Because of limited browser support, properties are still compiled out. In the above example, the compiled value is &lt;code&gt;color: #ffad15&lt;/code&gt;.
&lt;/p&gt;
&lt;h3&gt;Color functions&lt;/h3&gt;
&lt;p&gt;
  In the previous example, I left out one variable; &lt;code&gt;$darkerwhite: darken($offwhite, 15);&lt;/code&gt;. This is another Sass feature I needed a replacement for. There&#39;s a &lt;a href=&quot;https://drafts.csswg.org/css-color/#modifying-colors&quot;&gt;draft spec&lt;/a&gt; for a CSS &lt;code&gt;color&lt;/code&gt; function. cssnext includes this function today and it&#39;s super cool. Here&#39;s &lt;code&gt;setup.css&lt;/code&gt; with a &lt;code&gt;darkerwhite&lt;/code&gt; custom property created with the &lt;code&gt;color&lt;/code&gt; function and &lt;code&gt;shade&lt;/code&gt; adjuster:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;:root {
  ...
  --offwhite: #f8f8f8;
  --darkerwhite: color(var(--offwhite) shade(20%));
  ...
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  The &lt;code&gt;color&lt;/code&gt; function provides a bunch of &lt;a href=&quot;https://github.com/postcss/postcss-color-function#list-of-color-adjuster&quot;&gt;adjusters&lt;/a&gt;. You can use multiple adjusters in a single usage:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;background-color: color(#d32c3f shade(40%) alpha(40%));&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  compiles to:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;background-color: rgba(127, 26, 38, 0.4);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  To reiterate. Right now cssnext compiles the result of &lt;code&gt;color()&lt;/code&gt; to hex or rgba values. When the &lt;code&gt;color&lt;/code&gt; function arrives in browsers, the compilation won&#39;t be necessary. The color manipulation can happen at runtime.
&lt;/p&gt;
&lt;h3&gt;Nesting&lt;/h3&gt;
&lt;p&gt;
  Nesting is an indispensable feature introduced by CSS preprocessors. A must for any comfortable styling setup. Tab Atkins has a &lt;a href=&quot;http://tabatkins.github.io/specs/css-nesting/&quot;&gt;spec&lt;/a&gt; in-progress for CSS nesting and cssnext makes it available today.
&lt;/p&gt;
&lt;p&gt;
  This was mostly legwork. The CSS syntax for nesting includes a leading &lt;code&gt;&amp;&lt;/code&gt; before nested blocks. For example, the following is a Sass snippet from my Projects page:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;.projects-list {
  ...
&lt;p&gt;li {
&amp;amp; &amp;gt; div {...}
}&lt;/p&gt;
&lt;p&gt;a {
...&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;amp;:hover,
&amp;amp;:focus {...}

&amp;amp;::after {...}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;@media (min-width: 640px) {...}
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  For CSS nesting, I changed that to:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.projects-list {
  ...
&lt;p&gt;&amp;amp; li {
&amp;amp; &amp;gt; div {...}
}&lt;/p&gt;
&lt;p&gt;&amp;amp; a {
...&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;amp;:hover,
&amp;amp;:focus {...}

&amp;amp;::after {...}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;@media (min-width: 640px) {...}
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  Basic nesting requires the leading &lt;code&gt;&amp;&lt;/code&gt;. Pseudo classes and selectors are the same in Sass and CSS. Media queries don&#39;t need a leading &lt;code&gt;&amp;&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  Also worth noting is &lt;code&gt;@nest&lt;/code&gt;. As mentioned in the &lt;a href=&quot;https://cssnext.github.io/features/#nesting&quot;&gt;docs&lt;/a&gt;, complex nesting requires &lt;code&gt;@nest&lt;/code&gt; instead of &lt;code&gt;&amp;&lt;/code&gt;. I didn&#39;t have any use cases for it on this project, but may in the future.
&lt;/p&gt;
&lt;h3&gt;Extend and Placeholder classes&lt;/h3&gt;
&lt;p&gt;
  I was using Sass &lt;code&gt;@extend&lt;/code&gt; and placeholder classes for common styles. Here&#39;s an example usage responsible for styling Futura headings:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;%futura {
  font-family: &#39;futura-pt&#39;, helvetica, sans-serif;
}
&lt;p&gt;%futura-heading {
@extend %futura;
font-weight: 700;
line-height: 1.1;
text-transform: uppercase;
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  and an example usage:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;.my-heading {
  @extend %futura-heading;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  We looked at CSS custom properties usage earlier. There&#39;s a related in-progress &lt;a href=&quot;http://tabatkins.github.io/specs/css-apply-rule/&quot;&gt;spec&lt;/a&gt; for the &lt;code&gt;@apply&lt;/code&gt; rule. &lt;code&gt;@apply&lt;/code&gt; allows you to store a set of properties and reference them in selectors. I used &lt;code&gt;@apply&lt;/code&gt; in place of Sass&#39;s &lt;code&gt;extend&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  Back in &lt;code&gt;setup.css&lt;/code&gt; I added the updated Futura heading properties:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;:root {
  ...

  --franklin: {
    font-family: &#39;futura-pt&#39;, helvetica, sans-serif;
  };

  --franklin-heading: {
    @apply --franklin;
    font-weight: 700;
    line-height: 1.1;
    text-transform: uppercase;
  };
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  and an example usage:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;.my-heading {
  @apply --franklin-heading;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  &lt;code&gt;@apply&lt;/code&gt; is not &lt;code&gt;extend&lt;/code&gt;. In the current form in cssnext, &lt;code&gt;@apply&lt;/code&gt; copies the properties and values to each rule. This is a small project so that&#39;s OK. On larger projects the extra properties may cause too much bloat. At that time it would probably be best to use a common class name to get similar results.
&lt;/p&gt;
&lt;p&gt;
  At this point I had the site looking as it did before the changes. The Projects page was an exception. On it I used a different color for each project tile. Next I&#39;ll describe how styling that correctly without Sass required more work and more typing.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-postcss-3.png&quot; alt=&quot;A screenshot of tylergaw.com/projects&quot; /&gt;
  &lt;figcaption&gt;
    The colorful tiles of the Projects page
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;h2&gt;Mixins with arguments&lt;/h2&gt;
&lt;p&gt;
  To make writing the projects styles easier I used a Sass mixin. The mixin took a single argument, the color for the tile. Here&#39;s the &lt;code&gt;project-block&lt;/code&gt; mixin:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;@mixin project-block ($c) {
  background-color: $c;

  a {
    color: $c;

    &amp;:hover {
      background-color: $c;
      color: $offwhite);
    }
  }
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  and example usage:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;.p-jribbble {
  @include project-block(#ff0066);
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  At the time of this writing, I couldn&#39;t find a way to mimic this functionality in CSS. Custom property sets with &lt;code&gt;@apply&lt;/code&gt; aren&#39;t functions, so you can&#39;t pass them arguments. In the future, it might be possible to use custom selectors for argument magic. The &lt;a href=&quot;https://drafts.csswg.org/css-extensions/#declarative-custom-selector&quot;&gt;draft spec&lt;/a&gt; has a complex example that looks promising. Right now, I&#39;ll admit, I don&#39;t fully understand how it works.
&lt;/p&gt;
&lt;p&gt;
  That didn&#39;t mean I was out of luck. The CSS I write is longer than the Sass, but not by much. I also made use of another in-progress CSS feature; the &lt;a href=&quot;https://drafts.csswg.org/selectors-4/#matches&quot;&gt;matches&lt;/a&gt; selector.
&lt;/p&gt;
&lt;p&gt;
  Here&#39;s an example of the CSS replacement for the &lt;code&gt;project-block&lt;/code&gt; mixin:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.p-jribbble,
.p-jribbble a:matches(:hover, :focus) {
  background-color: var(--color-jrb);
&lt;p&gt;&amp;amp; a {
color: var(--color-jrb);
}
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  The color variables are in a &lt;code&gt;:root&lt;/code&gt; scope earlier in the file. cssnext compiles the above CSS to:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.p-jribbble,
.p-jribbble a:hover,
.p-jribbble a:focus {
  background-color: #ff0066
}
&lt;p&gt;.p-jribbble a,
.p-jribbble a:hover a,
.p-jribbble a:focus a {
color: #ff0066;
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  The last two selectors &lt;code&gt;...a a:hover&lt;/code&gt; and &lt;code&gt;...a a:focus&lt;/code&gt; won&#39;t match any elements. They&#39;re unecessary, but aside from a few more bytes they don&#39;t hurt anything. I preferred nesting the &lt;code&gt;a&lt;/code&gt; selector for code readability.
&lt;/p&gt;
&lt;h2&gt;More PostCSS&lt;/h2&gt;
&lt;p&gt;
  With the styles back in proper order, I decided to take advantage of more PostCSS plugins. I used &lt;a href=&quot;https://github.com/hail2u/node-css-mqpacker&quot;&gt;css mqpacker&lt;/a&gt; to combine media queries that share the same query. I also used &lt;a href=&quot;http://cssnano.co/&quot;&gt;cssnano&lt;/a&gt; for code optimization.
&lt;/p&gt;
&lt;p&gt;
  This is where I&#39;m looking forward to using a PostCSS setup. With Sass I felt locked in to the features in the current version. Because PostCSS works as a collection of plugins, it&#39;s extendible. If I have a specific need, I can write a plugin for it. The potential there is exciting.
&lt;/p&gt;
&lt;h2&gt;I&#39;m sold&lt;/h2&gt;
&lt;p&gt;
  After working with this setup for a few days, I&#39;m all in. Making the switch from Sass syntax to new CSS syntax has been easy. And that&#39;s after five or six years of using Sass on every project I worked on.
&lt;/p&gt;
&lt;p&gt;
  I enjoy the shift in thinking this brings. cssnext has a similar approach to CSS as &lt;a href=&quot;https://babeljs.io/&quot;&gt;Babel&lt;/a&gt; has to JavaScript. They both allow you to write the language as it is and as it will be in the future.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Rewriting Day Player for Sketch 40+</title>
    <link href="https://tylergaw.com/blog/rewriting-day-player-for-sketch-40/"/>
    <updated>2016-12-21T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/rewriting-day-player-for-sketch-40/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  At 2 ½ my placeholder image plugin was showing signs of age and side-project neglect. I decided to make it a priority to get &lt;a href=&quot;https://github.com/tylergaw/day-player&quot; title=&quot;View Day Player on GitHub&quot;&gt;Day Player&lt;/a&gt; back in working order. In doing so, I would also need to educate myself on the latest in Sketch Plugin development. I didn&#39;t know it when I started, but I would also put together a fun build and release setup for Sketch plugins.
&lt;/p&gt;
&lt;p&gt;
  Day Player has a limited scope. It requests images from placeholder image services and places them in Sketch documents. This &lt;code&gt;3.0.0&lt;/code&gt; rewrite and release hasn&#39;t changed the scope. I did end up cutting two features and adding a new one.
&lt;/p&gt;
&lt;h2&gt;What got removed?&lt;/h2&gt;
&lt;p&gt;
  The first feature cut was the placeholder service &lt;a href=&quot;http://lorempixel.com/&quot;&gt;Lorempixel.com&lt;/a&gt;. I removed it because it doesn&#39;t support &lt;code&gt;https&lt;/code&gt;. Day Player doesn&#39;t transport sensitive data. Still, I decided not to use services without &lt;code&gt;https&lt;/code&gt; support.
&lt;/p&gt;
&lt;p&gt;
  The second feature cut was &lt;a href=&quot;https://github.com/tylergaw/day-player/pull/9&quot;&gt;remembering user values for each service&lt;/a&gt;. I cut this for time. I didn&#39;t want to hold up the release for a non-essential feature. There&#39;s a good chance I&#39;ll circle back and add this in the future. Or, if you&#39;re feeling up to it, &lt;a href=&quot;https://github.com/tylergaw/day-player#contributing-to-this-project&quot;&gt;open a pull request&lt;/a&gt;.
&lt;/p&gt;
&lt;h2&gt;What’s new?&lt;/h2&gt;
&lt;p&gt;
  The one new feature is the ability to add an image with the same dimensions and position &lt;a href=&quot;https://github.com/tylergaw/day-player#creating-images-with-dimensions-and-position-of-existing-layers&quot;&gt;as an existing layer&lt;/a&gt;.
&lt;/p&gt;
&lt;figure&gt;
  &lt;a href=&quot;https://github.com/tylergaw/day-player&quot;&gt;
    &lt;img src=&quot;https://d3vv6lp55qjaqc.cloudfront.net/items/0o1M3n07223o223D2C3R/Screen%20Recording%202016-11-13%20at%2003.23%20PM.gif&quot; alt=&quot;Animated gif showing new Day Player functionality&quot; /&gt;
  &lt;/a&gt;
  &lt;figcaption&gt;
    Placing an image with the same dimensions and position as an existing layer
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  I added this because of a &lt;a href=&quot;https://github.com/tylergaw/day-player/issues/27&quot;&gt;user request&lt;/a&gt;. While it&#39;s not exactly what the user was asking for, it feels close enough to get the job done. And, as a user myself, it&#39;s a welcome addition.
&lt;/p&gt;
&lt;h2&gt;What’s next?&lt;/h2&gt;
&lt;p&gt;
  As expected, within a day or two of release, I got the first “this doesn&#39;t work” &lt;a href=&quot;https://github.com/tylergaw/day-player/issues/37&quot;&gt;issue&lt;/a&gt;. After a quick back and forth, it seems we&#39;ve isolated the problem to macOS Sierra. I&#39;m a slow new adopter, so I still haven&#39;t reproduced the issue. Sooner than later I&#39;ll update a machine and find and fix what&#39;s broken. If you have any tips for what may have changed, let me know here or on that issue.
&lt;/p&gt;
&lt;h2&gt;How do you build and release this?&lt;/h2&gt;
&lt;p&gt;
  So glad you asked. This is a topic I want to write in more detail about in the future because it&#39;s fun, but I&#39;ll give a few highlights now.
&lt;/p&gt;
&lt;h3&gt;Building&lt;/h3&gt;
&lt;p&gt;
  I&#39;m not using Babel or any other code transmogrifying. I write in the JavaScript available in JavaScriptCore. In my day-to-day JS I use Babel and enjoy using ES2015+ features. With the current JSCore we have access to a limited set of new features. We can use &lt;code&gt;const&lt;/code&gt; (but not &lt;code&gt;let&lt;/code&gt;). Template literals are available to make short work of string munging. And that&#39;s about it. No arrow functions or other niceties yet. They&#39;ll get there. As I do more plugin development, I&#39;ll likely update my build tooling to use Babel.
&lt;/p&gt;
&lt;p&gt;
  Sketch plugins give you access to the Cocoa Framework. This allows you to write JS to create and interact with Cocoa elements. If you&#39;ve ever written code to do this, you know that it doesn&#39;t have the smoothest API. A fun aspect of Day Player was writing components to act as &lt;a href=&quot;https://github.com/tylergaw/day-player/tree/3.0.0/src/components&quot;&gt;facades&lt;/a&gt; for each Cocoa element needed. These components allow me to write more idiomatic code. They also allow for writing less code and provide a chainable interface.
&lt;/p&gt;
&lt;p&gt;
  For example, here&#39;s the code required to create a text label using regular Cocoa:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;const textField = NSTextField.alloc().initWithFrame(NSMakeRect(0, 0, 350, 16));
textField.setDrawsBackground(false);
textField.setEditable(false);
textField.setBezeled(false);
textField.setSelectable(true);
textField.setStringValue(&#39;My Label:&#39;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  and the code required using the &lt;code&gt;Label&lt;/code&gt; &lt;a href=&quot;https://github.com/tylergaw/day-player/blob/3.0.0/src/components/Label.js&quot;&gt;component&lt;/a&gt;:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;new Label({
  value: &#39;My Label:&#39;
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Each image service has similar options. Because of this, I was able to abstract common setup code to a few functions. Those functions live in &lt;a href=&quot;https://github.com/tylergaw/day-player/blob/3.0.0/src/utils.js&quot;&gt;utils.js&lt;/a&gt;. Utils.js also includes comments describing my learning process with the excellent and in-progress &lt;a href=&quot;http://developer.sketchapp.com/reference/api/&quot;&gt;Sketch JS API&lt;/a&gt;.
&lt;/p&gt;
&lt;h3&gt;Releasing&lt;/h3&gt;
&lt;p&gt;
  &lt;a href=&quot;https://github.com/tylergaw/day-player#installation&quot;&gt;Installing&lt;/a&gt; Day Player takes 3 steps; download, unzip, double-click. It was important to make that process as easy as possible. I want the user to use the plugin, not spend time figuring out how to get it.
&lt;/p&gt;
&lt;p&gt;
  As as plugin author, it&#39;s also important that the release process is as painless as possible. The release process works by chaining 5 primary tools together. Make, Node.js, Git, Travis CI, and AWS S3.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-dayplayer-process.png&quot; alt=&quot;An illustration showing the steps of the Day Player release process&quot; /&gt;
  &lt;figcaption&gt;
    A diagram showing the steps of the release process
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  Here&#39;s how it works. When I&#39;m ready to ship a new release I update the &lt;code&gt;version&lt;/code&gt; in &lt;code&gt;package.json&lt;/code&gt;. I then run &lt;code&gt;make release&lt;/code&gt;. That in turn uses Node.js to execute the &lt;a href=&quot;https://github.com/tylergaw/day-player/blob/3.0.0/scripts/release.js&quot;&gt;release.js&lt;/a&gt; script. I could run &lt;code&gt;node scripts/release.js&lt;/code&gt; directly, but I prefer to put it in a Make target so all build commands are in one place.
&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;Release.js&lt;/code&gt; first confirms I want to release. I put this in as check to keep myself from releasing an incorrect version. The script then creates a new Git tag and pushes it to the origin at GitHub. At this point, the process is on autopilot.
&lt;/p&gt;
&lt;figure&gt;
  &lt;a href=&quot;https://github.com/tylergaw/day-player/blob/3.0.0/scripts/release.js&quot;&gt;
    &lt;img src=&quot;https://cl.ly/2p0j2O0Q1a3p/Screen%20Shot%202016-12-18%20at%208.18.39%20PM.png&quot; alt=&quot;A screenshot of a command prompt confirming the release of Day Player&quot; /&gt;
  &lt;/a&gt;
  &lt;figcaption&gt;
    The friendly prompt I see when releasing Day Player
  
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  Travis CI now takes over. In &lt;a href=&quot;https://github.com/tylergaw/day-player/blob/3.0.0/.travis.yml&quot;&gt;travis.yml&lt;/a&gt; we have the following:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;deploy:
- provider: script
  script: make publish
  on:
    tags: true
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  This tells Travis to watch for builds that create new Git tags. When it sees a tag it should run &lt;code&gt;make publish&lt;/code&gt; after all other tasks are complete.
&lt;/p&gt;
&lt;p&gt;
  The &lt;a href=&quot;https://github.com/tylergaw/day-player/blob/3.0.0/Makefile#L53&quot;&gt;publish&lt;/a&gt; Make target handles packaging the plugin and uploading it to S3. It first creates a zip file of the Sketch plugin &lt;a href=&quot;http://developer.sketchapp.com/introduction/plugin-bundles/&quot;&gt;bundle&lt;/a&gt;. Then using the AWS CLI, copies the zip file to the Day Player bucket; &lt;code&gt;s3://day-player&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  Interacting with AWS CLI in this way requires extra setup. First, we install the tool during the Travis &lt;a href=&quot;https://github.com/tylergaw/day-player/blob/3.0.0/.travis.yml#L13&quot;&gt;install step&lt;/a&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;install:
- pip install --user -U awscli
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  The next steps ensure Travis can make safe requests to AWS on my behalf. I set two environment variables in the &lt;a href=&quot;https://github.com/tylergaw/day-player/blob/3.0.0/.travis.yml#L24&quot;&gt;travis conf&lt;/a&gt;. &lt;code&gt;AWS_ACCESS_KEY_ID&lt;/code&gt; and an encrypted value for the &lt;code&gt;secure&lt;/code&gt; key. The encrypted key:value is for the &lt;code&gt;AWS_SECRET_ACCESS_KEY&lt;/code&gt;. The access key is not sensitive, so it&#39;s OK to be out in the open. The secret is for my eyes only. I used the Travis CLI tool to encrypt that value. You can read about that process in the &lt;a href=&quot;https://docs.travis-ci.com/user/environment-variables/#Encrypting-environment-variables&quot;&gt;Travis docs&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  By default, the AWS CLI tool looks for the environment variables set above. Requests use them for authentication if found.
&lt;/p&gt;
&lt;p&gt;
  You may be wondering where the AWS access key and secret come from. This is an area where I use a best practice for handling AWS credentials. I&#39;ve set up an AWS IAM Role that only has permission to upload objects to the Day Player S3 bucket. Setting up a restricted IAM Role is outside the scope of this post. A Google search for “IAM role for single bucket” returns up-to-date articles on the topic. That&#39;s how I figured it out for this process.
&lt;/p&gt;
&lt;h2&gt;All this for placeholder images?&lt;/h2&gt;
&lt;p&gt;
  Yeah! This is a side project and my side projects are for learning, tinkering, and fun. If I also build things that are useful to other folks at the same time, that makes it even better.
&lt;/p&gt;
&lt;p&gt;
  Download &lt;a href=&quot;https://github.com/tylergaw/day-player/releases/tag/3.0.0&quot;&gt;Day Player 3.0&lt;/a&gt;.
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Overawe</title>
    <link href="https://tylergaw.com/blog/overawe/"/>
    <updated>2015-06-25T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/overawe/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  Using Web technolgies as a medium for motion graphics was maybe not on the
  mind of Tim Berners-Lee when he came up with the WWW. For the past few months
  I’ve been working on a &lt;a href=&quot;http://lab.tylergaw.com/overawe&quot;&gt;project&lt;/a&gt;
  that does just that.
&lt;/p&gt;
&lt;p&gt;
  Web folks–especially those of us working on the front-end of things–tend to be
  a bit consumed by tools and process. I sometimes get fatigued by the
  near constant chatter of new frameworks, build tools, package managers,
  plugins and on and on. I enjoy those tools and their benefits, but when
  I get worn down by them I need something to help pull me up and remind me why
  I love working on the Web. Our tools and processes are just means. I needed
  to work on something that would allow me to focus 100% on the end. Where the code creating
  it was unimportant. Where I could do things the long, hard, stupid way. And where I could bend and
  break best practices. That’s what I set out to do with what became
  &lt;a href=&quot;http://lab.tylergaw.com/overawe&quot;&gt;Overawe&lt;/a&gt;.
&lt;/p&gt;
&lt;h2&gt;What is this?&lt;/h2&gt;
&lt;p&gt;
  I’m no stranger to using HTML/CSS to build projects that &lt;a href=&quot;http://lab.tylergaw.com/themanfromhollywood/&quot;&gt;exist&lt;/a&gt;
  &lt;a href=&quot;http://lab.tylergaw.com/css-shaky-animation/&quot;&gt;a bit&lt;/a&gt;
  &lt;a href=&quot;http://lab.tylergaw.com/css-true-titles/&quot;&gt;outside the norm&lt;/a&gt;. Until now
  I’ve considered these projects “experiments”. They seemed like a way to try
  out new–at the time–CSS features. I think I’m beyond that point. Things like
  CSS animations are here to stay. With Overawe–and other projects like
  it I’ll do–I’m not experimenting with CSS anymore. I’m choosing the web as my
  preferred medium for creating art.
  HTML, CSS, and JavaScript are my paintbrushes and web browsers are my canvases.
  And how cool is that? There&#39;s not a single, fixed size, always-the-same canvas.
  Each browser and each operating system and each computer that runs Overawe will
  run it a bit different. This is due to feature implementation, processor
  strength, etc. It’s also different based on each viewers&#39; preferences. What size
  is their screen? Are they running their browser in full screen or presentation mode?
  Do they have a slow network connection?
  Do they have a bunch of other programs running that will cause Overawe to stutter?
&lt;/p&gt;
&lt;p&gt;
  For each one of the questions and many others, there is an effect on the project
  and how each viewer experiences it. I think that&#39;s incredible. Some people will
  hate it because it doesn&#39;t appear to do anything. For some it will run
  the same as it does for me on my local development server. I have no control
  over it and that makes it fun.
&lt;/p&gt;
&lt;h2&gt;Where did this come from?&lt;/h2&gt;
&lt;p&gt;
  The idea for the format came from those cool MTV identities. You know, the short clips
  they play between segments. If you&#39;re not familiar,
  &lt;a href=&quot;https://www.youtube.com/watch?v=3u_UQoMViEM&quot;&gt;here’s an hour of them &lt;/a&gt;.
  I wanted to make something similar by pairing graphics with short audio
  clips. Each section is independent of the others. With some of them I have an
  idea about what it means and what I’m saying with it. Others, I made just because they
  give me chuckle.
&lt;/p&gt;
&lt;p&gt;
  Coming up with each section would be sporadic. Sometimes I would sit down and
  just start writing words and phrases that popped into my head. Other times I would
  be walking or taking shower or just doing other things and an idea for a section
  would come into my head. The process was loose. Once I had a phrase or an idea
  I&#39;d hop into Photoshop and just play. I tried not to spend too much time on any
  one section. I would just throw together text and images and apply whichever
  styles and filters felt right at the time. I didn&#39;t worry about “mistakes”. Because
  this project was about creating a little world of it&#39;s own, there are no mistakes.
  Whatever ended up on the screen was supposed to be there in that form.
&lt;/p&gt;
&lt;h2&gt;How did you do this?&lt;/h2&gt;
&lt;p&gt;
  While I don’t want this article or poject to be defined by the means of creation, I do want
  them to be available to anyone curious. As with most of my projects, you can
  access the &lt;a href=&quot;https://github.com/tylergaw/overawe&quot;&gt;source code on Github&lt;/a&gt;.
  All the animations are done using CSS. I did make use of the Web Audio API to
  fiddle with the audio clips. Each one is different, but I do things like
  speed up or slow down playback, add distortion, and apply high and low band filters.
  This is another area that gets interesting in different browsers. The Web Audio API
  is implemented different across browsers so the audio sounds different depending
  on which one you&#39;re using.
&lt;/p&gt;
&lt;p&gt;
  This was a lot of fun. Any time I get to sit down and create my own little
  world is good time. If no other person saw this but me, it’s still served it’s
  purpose. It allowed me to just make a thifng without the normal internal
  debates about if I was doing every little thing the &quot;right&quot; way. I encourage everyone to
  do the same regardless of the medium.
&lt;/p&gt;
&lt;p&gt;
  &lt;a href=&quot;http://lab.tylergaw.com/overawe&quot;&gt;http://lab.tylergaw.com/overawe&lt;/a&gt;
  &lt;br /&gt;
  &lt;a href=&quot;https://github.com/tylergaw/overawe&quot;&gt;https://github.com/tylergaw/overawe&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
  &lt;i&gt;Thanks for reading&lt;/i&gt;
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Building OS X Apps with JavaScript</title>
    <link href="https://tylergaw.com/blog/building-osx-apps-with-js/"/>
    <updated>2014-09-27T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/building-osx-apps-with-js/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  OS X Yosemite introduced JavaScript for Automation. This makes it possible to
  access native OS X frameworks with JavaScript. I’ve been
  digging in to this new world and putting together &lt;a href=&quot;https://github.com/tylergaw/js-osx-app-examples&quot;&gt;examples&lt;/a&gt;
  along the way. In this post I’ll explain the basics and step through building
  a small &lt;a href=&quot;https://github.com/tylergaw/js-osx-app-examples/tree/master/ChooseAndDisplayImage.app&quot;&gt;example app&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  WWDC 2014 included a session on
  &lt;a href=&quot;https://developer.apple.com/librarY/prerelease/mac/releasenotes/InterapplicationCommunication/RN-JavaScriptForAutomation/index.html&quot;&gt;JavaScript for Automation&lt;/a&gt;.
  The session explained that you would be able to use JavaScript in place of
  AppleScript to automate applications. That alone is exciting news. Being able to automate
  repetitive tasks using AppleScript has been around a long time. AppleScript is
  not the most fun thing to write so using a familiar syntax in its place is welcome.
&lt;/p&gt;
&lt;p&gt;
  During the session the presenter explains the Objective-C bridge. This is where
  things get super cool. The bridge allows you to import any Objective-C framework
  into JS applications. For example, if you want to build a GUI using standard OS X
  controls you would import Cocoa:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;ObjC.import(&quot;Cocoa&quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  The &lt;a href=&quot;https://developer.apple.com/library/mac/documentation/Cocoa/Reference/Foundation/ObjC_classic/_index.html&quot;&gt;Foundation&lt;/a&gt;
  framework does what its name suggests. It provides the building blocks for
  OS X apps. The framework includes a large amount of classes and protocols.
  &lt;code&gt;NSArray&lt;/code&gt;, &lt;code&gt;NSURL&lt;/code&gt;, &lt;code&gt;NSUserNotification&lt;/code&gt;, and so on. You may not be familiar with
  those classes, but their names hint at what they do. Because of its importance,
  you can use its classes without needing to import it in new apps. They are
  available by default.
&lt;/p&gt;
&lt;p&gt;
  As far as I can tell, you can use JavaScript to build anything that you can
  with Objective-C or Swift.
&lt;/p&gt;
&lt;h2&gt;Building an example app&lt;/h2&gt;
&lt;p class=&quot;note-special&quot;&gt;
  &lt;b&gt;Note:&lt;/b&gt; You need Yosemite Developer
  Preview 7+ for the examples to work.
&lt;/p&gt;
&lt;p&gt;
  The best way to get going is to jump in and build something. I’m
  going to walk through building a small app that lets you display an image
  from your computer.
&lt;/p&gt;
&lt;p&gt;
  You can download the completed example from my &lt;a href=&quot;https://github.com/tylergaw/js-osx-app-examples&quot;&gt;example apps repo&lt;/a&gt;.
&lt;/p&gt;
&lt;figure&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-jsosx-example-01.jpg&quot; alt=&quot;&quot; /&gt;
    &lt;figcaption&gt;
      A screenshot of the app we’ll build.
    
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  Making up the app is; a window, text label, text input, and button. Or by their
  class names; &lt;code&gt;NSWindow&lt;/code&gt;, &lt;code&gt;NSTextField&lt;/code&gt;, &lt;code&gt;NSTextField&lt;/code&gt;,
  and &lt;code&gt;NSButton&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  Clicking the Choose an Image button will show an &lt;code&gt;NSOpenPanel&lt;/code&gt; that allows you
  to select a file. We’ll configure the panel to restrict the file selection to .jpg,
  .png, or .gif.
&lt;/p&gt;
&lt;p&gt;
  After selecting an image, we&#39;ll display it in the window. The window will
  resize to match the width and height of the image plus the height of the controls.
  We’ll also set a minimum width and height for the window to make sure the controls
  don’t get cut off.
&lt;/p&gt;
&lt;h3&gt;Setting up the project&lt;/h3&gt;
&lt;p&gt;
  Open the Apple Script Editor application located in &lt;code&gt;Applications &gt; Utilities&lt;/code&gt;.
  Script Editor ain’t the best editor I’ve ever used, but it’s necessary for now.
  It has a bunch of features that we need for building JS OS X apps. I’m not sure
  what goes on beyond the scenes, but it can compile and run your scripts as apps.
  It also creates extra stuff that we need like an Info.plist file. My guess is there
  are ways to make other editors do the same, but I haven’t looked into it yet.
&lt;/p&gt;
&lt;p&gt;
  Create a new document with &lt;code&gt;File &gt; New&lt;/code&gt; or &lt;code&gt;cmd + n&lt;/code&gt;. The
  first thing we need to do is save the document as an application.
  Save with &lt;code&gt;File &gt; Save&lt;/code&gt; or &lt;code&gt;cmd + s&lt;/code&gt;.
  Don’t confirm the save right away. There are two options that are necessary to make
  this run as an application.
&lt;/p&gt;
&lt;figure&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-jsosx-save.jpg&quot; alt=&quot;&quot; /&gt;
    &lt;figcaption&gt;
      The Script Editor Save dialog with important fields highlighted
    
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
  Change the File Format to “Application”. Check the “Stay open after run handler”
  option. &lt;s&gt;It’s important to set both of these options the first time you save the
  file because–as far as I can tell–there is no way to set them later. If you
  miss one of these you’ll have to create a new document and copy your code over.&lt;/s&gt;
&lt;/p&gt;
&lt;p&gt;
  &lt;s&gt;If anyone knows a way to change the settings after creation, let me know.&lt;/s&gt;
&lt;/p&gt;
&lt;p class=&quot;note-update&quot;&gt;
  &lt;b&gt;Update:&lt;/b&gt; A nice &lt;a href=&quot;https://tylergaw.com/articles/building-osx-apps-with-js#comment-1609250306&quot;&gt;person&lt;/a&gt;
  explained how to update the settings. Open the File menu and then hold down
  the option key. That will give you the “Save as...” option. The save dialog
  allows you to make changes to the settings. It’s still best to set these on first save to avoid the hassle.
&lt;/p&gt;
&lt;p&gt;
  If you don’t select “Stay open after run handler” your app will open, flash for
  a split second, and then close. There is not much in the way of documentation for
  this stuff online. I only learned this detail after hours of forehead/keyboard merging.
&lt;/p&gt;
&lt;h3&gt;Let’s make something do something!&lt;/h3&gt;
&lt;p&gt;
  Add the following two lines to your script and then run it with &lt;code&gt;Script &gt; Run Application&lt;/code&gt;
  or &lt;code&gt;opt + cmd + r&lt;/code&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;ObjC.import(&quot;Cocoa&quot;);
$.NSLog(&quot;Hi everybody!&quot;);
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Not much happened. The only visible changes are in the menu bar and dock. The app
  name along with &lt;code&gt;File&lt;/code&gt; and &lt;code&gt;Edit&lt;/code&gt; menus are in the menu bar.
  You can see the app is running because its icon is in your dock.
&lt;/p&gt;
&lt;p&gt;
  Where is the “Hi everybody!”? What is with the dollar sign, what is this, jQuery?
  Quit the app with &lt;code&gt;File &gt; Quit&lt;/code&gt; or &lt;code&gt;cmd + q&lt;/code&gt; and
  we’ll find out where that &lt;code&gt;NSLog&lt;/code&gt; went.
&lt;/p&gt;
&lt;p&gt;
  Open the Console app: &lt;code&gt;Applications &gt; Utilities &gt; Console&lt;/code&gt;. Every
  application can log messages to the console. This console is not much different
  than Developer Tools in Chrome, Safari, or Firefox. The main difference is you
  use it for debugging applications instead of websites.
&lt;/p&gt;
&lt;p&gt;
  There’s a lot of messages in the console. You can filter it down by
  typing “applet” into the search field in the top right corner. Leave “applet” in
  the search field and go back to Script Editor. Run the application again
  with &lt;code&gt;opt + cmd + r&lt;/code&gt;.
&lt;/p&gt;
&lt;figure&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-jsosx-console.jpg&quot; alt=&quot;A screenshot showing a log message in Console.app&quot; /&gt;
&lt;/figure&gt;
&lt;p&gt;
  Did you see it!? The message “Hi everybody!” should have logged to the console.
  If you didn’t see it, quit your application and run it again. A lot of times
  I forget to quit and the code doesn’t run again.
&lt;/p&gt;
&lt;h3&gt;What about the dollar sign?&lt;/h3&gt;
&lt;p&gt;
  The dollar sign is your access to the Objective-C bridge. Any time you need
  to access an Objective-c class or constant, you use &lt;code&gt;$.foo&lt;/code&gt; or
  &lt;code&gt;ObjC.foo&lt;/code&gt;. There are a couple of other ways
  to use &lt;code&gt;$&lt;/code&gt; that I’ll cover later.
&lt;/p&gt;
&lt;p&gt;
  Console App and &lt;code&gt;NSLog&lt;/code&gt; are indispensable tools, you’ll use them
  non-stop for debugging.
  For examples of logging things other than strings, have a look at my
  &lt;a href=&quot;https://github.com/tylergaw/js-osx-app-examples/tree/master/NSLog.app&quot;&gt;NSLog example&lt;/a&gt;.
&lt;/p&gt;
&lt;h3&gt;Creating the window&lt;/h3&gt;
&lt;p&gt;
  Let’s make something we can see and interact with. Update your script to look
  like the following code:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;ObjC.import(&quot;Cocoa&quot;);
&lt;p&gt;var styleMask = $.NSTitledWindowMask | $.NSClosableWindowMask | $.NSMiniaturizableWindowMask;
var windowHeight = 85;
var windowWidth = 600;
var ctrlsHeight = 80;
var minWidth = 400;
var minHeight = 340;
var window = $.NSWindow.alloc.initWithContentRectStyleMaskBackingDefer(
$.NSMakeRect(0, 0, windowWidth, windowHeight),
styleMask,
$.NSBackingStoreBuffered,
false
);&lt;/p&gt;
&lt;p&gt;window.center;
window.title = &amp;quot;Choose and Display Image&amp;quot;;
window.makeKeyAndOrderFront(window);
&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  When that’s in place, run the app. &lt;code&gt;opt + cmd + r&lt;/code&gt;. Now we’re
  talking! With a small amount of code we’ve built an app that launches a window
  with a title that we can move, minimize, and close.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-jsosx-basic-window.jpg&quot; alt=&quot;&quot; /&gt;
  &lt;figcaption&gt;A basic NSWindow created with JS&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  If you’ve never built an app with Objective-C or Cocoa–like me–parts of this might
  look like a lot of gibberish. For me, that was due to the length of the
  method names. I enjoy descriptive names, but Cocoa takes it to the extreme.
&lt;/p&gt;
&lt;p&gt;
  Looking past that though, this is JavaScript. This code looks just like code
  you’d write when building a website.
&lt;/p&gt;
&lt;p&gt;
  What’s going on with that first new line where we set &lt;code&gt;styleMask&lt;/code&gt;?
  You use style masks to configure windows. Each style option says what it adds;
  a title, a close button, a minimize button. These options are constants. Use a pipe “|”
  to separate options. That pipe is a C bitwise &lt;code&gt;OR&lt;/code&gt; operator.
  I’m not gonna pretend to know what that means. I just know it’s
  needed to combine style options for a mask and that’s good enough for me.
&lt;/p&gt;
&lt;p&gt;
  There are more style options. You can read about them in &lt;a href=&quot;https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/WinPanel/Tasks/SettingWindowAppearance.html&quot;&gt;the docs&lt;/a&gt;.
  &lt;code&gt;NSResizableWindowMask&lt;/code&gt; is one you’ll use. Try adding it to the
  style mask to see what it does.
&lt;/p&gt;
&lt;p&gt;
  There are a couple interesting things about syntax that you’ll need to remember.
  &lt;code&gt;$.NSWindow.alloc&lt;/code&gt; calls the &lt;code&gt;alloc&lt;/code&gt; method of &lt;code&gt;NSWindow&lt;/code&gt;.
  Notice there are no parenthesis “()” after alloc. In JavaScript that’s how we
  access properties, not how we call a methods. What’s with that? In JS for OS X parenthesis are only
  allowed when calling a method if you pass arguments to it. If you use parenthesis
  with no arguments, you will get a runtime error. Check Console for errors when
  things don’t do what you think they should.
&lt;/p&gt;
&lt;p&gt;
  The next thing is about that super long method name:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;initWithContentRectStyleMaskBackingDefer&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Take a look at the &lt;code&gt;NSWindow&lt;/code&gt; &lt;a href=&quot;https://developer.apple.com/library/mac/documentation/Cocoa/Reference/ApplicationKit/Classes/NSWindow_Class/Reference/Reference.html#jumpTo_105&quot;&gt;docs&lt;/a&gt;
  for that method and you’ll notice it looks a bit different.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;initWithContentRect:styleMask:backing:defer:&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  In Objective-C you would create the same window we did like this:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-clike&quot;&gt;NSWindow* window [[NSWindow alloc]
  initWithContentRect: NSMakeRect(0, 0, windowWidth, windowHeight)
  styleMask: styleMask,
  backing: NSBackingStoreBuffered
  defer: NO];
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  The thing to note are the colons “:” in the original method signature. When you convert
  and Objective-C method to JS you remove the colons and capitalize the first letter
  following it. When you see two items in brackets “[]”, that is calling a method
  of a class or object. &lt;code&gt;[NSWindow alloc]&lt;/code&gt; calls the &lt;code&gt;alloc&lt;/code&gt; method
  of &lt;code&gt;NSWindow&lt;/code&gt;. For JS, convert those to dot-notation and parenthesis
  if necessary; &lt;code&gt;NSWindow.alloc&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  I think the rest of the code to create and display the window is straightforward-enough.
  I’ll skip any more detailed description of it.
  It takes time and a lot of reading the docs to understand what’s happening
  for each step along the way, but you’ll get there. As long as the window is
  showing up you’re doing great. Let’s do more.
&lt;/p&gt;
&lt;h3&gt;Adding the controls&lt;/h3&gt;
&lt;p&gt;
  We need a label, text field, and button in this window. We’ll use &lt;code&gt;NSTextField&lt;/code&gt;
  and &lt;code&gt;NSButton&lt;/code&gt; to make that happen. Update your script with the
  following code and then run the app.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;ObjC.import(&quot;Cocoa&quot;);
&lt;p&gt;var styleMask = $.NSTitledWindowMask | $.NSClosableWindowMask | $.NSMiniaturizableWindowMask;
var windowHeight = 85;
var windowWidth = 600;
var ctrlsHeight = 80;
var minWidth = 400;
var minHeight = 340;
var window = $.NSWindow.alloc.initWithContentRectStyleMaskBackingDefer(
$.NSMakeRect(0, 0, windowWidth, windowHeight),
styleMask,
$.NSBackingStoreBuffered,
false
);&lt;/p&gt;
&lt;p&gt;var textFieldLabel = $.NSTextField.alloc.initWithFrame($.NSMakeRect(25, (windowHeight - 40), 200, 24));
textFieldLabel.stringValue = &amp;quot;Image: (jpg, png, or gif)&amp;quot;;
textFieldLabel.drawsBackground = false;
textFieldLabel.editable = false;
textFieldLabel.bezeled = false;
textFieldLabel.selectable = true;&lt;/p&gt;
&lt;p&gt;var textField = $.NSTextField.alloc.initWithFrame($.NSMakeRect(25, (windowHeight - 60), 205, 24));
textField.editable = false;&lt;/p&gt;
&lt;p&gt;var btn = $.NSButton.alloc.initWithFrame($.NSMakeRect(230, (windowHeight - 62), 150, 25));
btn.title = &amp;quot;Choose an Image...&amp;quot;;
btn.bezelStyle = $.NSRoundedBezelStyle;
btn.buttonType = $.NSMomentaryLightButton;&lt;/p&gt;
&lt;p&gt;window.contentView.addSubview(textFieldLabel);
window.contentView.addSubview(textField);
window.contentView.addSubview(btn);&lt;/p&gt;
&lt;p&gt;window.center;
window.title = &amp;quot;Choose and Display Image&amp;quot;;
window.makeKeyAndOrderFront(window);
&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  If things worked you’ll now have a window with controls.
  You can’t type in the text field and the button doesn’t do anything, but hey,
  we’re getting somewhere.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-jsosx-controls.jpg&quot; alt=&quot;&quot; /&gt;
  &lt;figcaption&gt;Label, field, and button elements in the window&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  What did we do in that addition? &lt;code&gt;textFieldLabel&lt;/code&gt; and &lt;code&gt;textField&lt;/code&gt;
  are similar. They’re both instances of &lt;code&gt;NSTextField&lt;/code&gt;. We make them
  in a similar way as we made the window. When you see &lt;code&gt;initWithFrame&lt;/code&gt;
  and &lt;code&gt;NSMakeRect&lt;/code&gt;, it’s a good sign that the script is creating
  a UI element. &lt;code&gt;NSMakeRect&lt;/code&gt; does what it says. It makes a rectangle
  with the given position and dimensions; &lt;code&gt;(x, y, width, height)&lt;/code&gt;. That
  creates what’s called a struct in Objective-C. In JavaScript we’d refer to it as an
  object or hash or maybe dict. It’s a thing with keys and values.
&lt;/p&gt;
&lt;p&gt;
  After creating the text fields we set a handful of properties on each to get the
  results we’re looking for. Cocoa doesn’t have anything like the html &lt;code&gt;label&lt;/code&gt;
  element. For that we make our own by disabling editing and background styling.
&lt;/p&gt;
&lt;p&gt;
  We’ll populate the text field programmatically, so we disable editing on it as well.
  If we didn’t need that, creating a standard text field is a one-liner.
&lt;/p&gt;
&lt;p&gt;
  For the button we use &lt;code&gt;NSButton&lt;/code&gt;. Like the text fields, creating
  it requires drawing a rectangle. There are two properties that stand out;
  &lt;code&gt;bezelStyle&lt;/code&gt; and &lt;code&gt;buttonType&lt;/code&gt;. The values for both are
  constants. These properties control how the button will render and the style
  it will have. Check out the &lt;code&gt;NSButton&lt;/code&gt;
  &lt;a href=&quot;https://developer.apple.com/library/mac/documentation/cocoa/reference/applicationkit/classes/NSButton_Class/Reference/Reference.html&quot;&gt;docs&lt;/a&gt;
  to see everything you can do with it. I also have
  an &lt;a href=&quot;https://github.com/tylergaw/js-osx-app-examples/tree/master/NSButton.app&quot;&gt;example app&lt;/a&gt;
  that shows the different button types and styles in action.
&lt;/p&gt;
&lt;p&gt;
  The last new thing we do is add the elements to the window with &lt;code&gt;addSubview&lt;/code&gt;.
  When I first tried this I did &lt;code&gt;window.addSubview(theView)&lt;/code&gt;. That works
  for other standard views that you create with &lt;code&gt;NSView&lt;/code&gt;, but not for
  instances of &lt;code&gt;NSWindow&lt;/code&gt;. I’m not sure why that is, but for windows you
  need to add sub views to the &lt;code&gt;contentView&lt;/code&gt;. The docs describe it as;
  “The highest accessible NSView object in the window’s view hierarchy”. Works for
  me.
&lt;/p&gt;
&lt;h3&gt;Making the button do something&lt;/h3&gt;
&lt;p&gt;
  When clicking the Choose an Image button, we want a panel to open that shows
  files on our computer. Before we do that, let’s warm up by logging a message
  to the console when clicking the button.
&lt;/p&gt;
&lt;p&gt;
  In JavaScript you bind event listeners to elements to handle clicks.
  Objective-C doesn’t use quite that same concept. It has what’s called message passing.
  With it, you send a message containing a method name to an object. That object needs
  to have information about what to do when it receives a message containing
  the method name. That may not be a spot-on description, but it’s
  how I understand it.
&lt;/p&gt;
&lt;p&gt;
  The first thing we need to do is set the button &lt;code&gt;target&lt;/code&gt; and &lt;code&gt;action&lt;/code&gt;.
  The &lt;code&gt;target&lt;/code&gt; is the object we want to send the &lt;code&gt;action&lt;/code&gt;
  to. If this doesn’t make sense now, just keep going and it’ll get more clear
  when you see the code. Update the button setup part of the script with the
  following properties.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
btn.target = appDelegate;
btn.action = &quot;btnClickHandler&quot;;
...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  &lt;code&gt;appDelegate&lt;/code&gt; and &lt;code&gt;btnClickHandler&lt;/code&gt; don’t exist yet. We need to
  make them. In the next addition to the script, order matters. I put
  comments in the following code to show where you should add the new stuff.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;ObjC.import(&quot;Cocoa&quot;);
&lt;p&gt;// New stuff
ObjC.registerSubclass({
name: &amp;quot;AppDelegate&amp;quot;,
methods: {
&amp;quot;btnClickHandler&amp;quot;: {
types: [&amp;quot;void&amp;quot;, [&amp;quot;id&amp;quot;]],
implementation: function (sender) {
$.NSLog(&amp;quot;Clicked!&amp;quot;);
}
}
}
});&lt;/p&gt;
&lt;p&gt;var appDelegate = $.AppDelegate.alloc.init;
// end of new stuff&lt;/p&gt;
&lt;p&gt;// Below here is in place already
var textFieldLabel = $.NSTextField.alloc.initWithFrame($.NSMakeRect(25, (windowHeight - 40), 200, 24));
textFieldLabel.stringValue = &amp;quot;Image: (jpg, png, or gif)&amp;quot;;
...
&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  Run the app, click the Choose Image button, and watch Console. Do you see “Clicked!”
  when you click the button? If so, that’s pretty darn cool right? If not, double
  check your script matches the code here and look for any errors in Console.
&lt;/p&gt;
&lt;h3&gt;Subclassing&lt;/h3&gt;
&lt;p&gt;
  What’s this &lt;code&gt;ObjC.registerSubclass&lt;/code&gt; all about? Subclassing is a way
  to create a new class that inherits from another Objective-C class. Side note; the likelihood
  I’m using incorrect terminology here is through the roof. Bear with me.
  &lt;code&gt;registerSubclass&lt;/code&gt; takes a single argument;
  a JS object with the members of the new object. Members can be; &lt;code&gt;name&lt;/code&gt;,
  &lt;code&gt;superclass&lt;/code&gt;, &lt;code&gt;protocols&lt;/code&gt;, &lt;code&gt;properties&lt;/code&gt;, and
  &lt;code&gt;methods&lt;/code&gt;. I’m not 100% sure that’s an exhaustive list, but that’s what’s
  in the &lt;a href=&quot;https://developer.apple.com/librarY/prerelease/mac/releasenotes/InterapplicationCommunication/RN-JavaScriptForAutomation/index.html#//apple_ref/doc/uid/TP40014508-CH109-SW30&quot;&gt;release notes&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  That’s all well and good, but what did we do there? Since we didn’t provide a
  &lt;code&gt;superclass&lt;/code&gt; we inherited from &lt;code&gt;NSObject&lt;/code&gt;. That’s the root
  class of most Objective-C classes. Setting a &lt;code&gt;name&lt;/code&gt; let’s us reference
  the object later through the bridge with &lt;code&gt;$&lt;/code&gt; or &lt;code&gt;ObjC&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;$.AppDelegate.alloc.init;&lt;/code&gt; creates an
  instance of our &lt;code&gt;AppDelegate&lt;/code&gt; class. Again, notice we don’t
  use parenthesis with the &lt;code&gt;alloc&lt;/code&gt; or &lt;code&gt;init&lt;/code&gt; methods since
  we’re not passing arguments.
&lt;/p&gt;
&lt;h3&gt;Subclass methods&lt;/h3&gt;
&lt;p&gt;
  You create a method by giving it any string name. In this case “btnClickHandler”.
  Give it an object with &lt;code&gt;types&lt;/code&gt; and &lt;code&gt;implementation&lt;/code&gt; members.
  I haven’t found official docs for what the &lt;code&gt;types&lt;/code&gt; array should
  contain. Through trial and error I found it goes like this:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;[&quot;return type&quot;, [&quot;arg 1 type&quot;, &quot;arg 2 type&quot;,...]]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  &lt;code&gt;btnClickHandler&lt;/code&gt; won’t return anything so we set the return type to &lt;code&gt;void&lt;/code&gt;.
  It takes one parameter, the sender object. In this case it will be the &lt;code&gt;NSButton&lt;/code&gt;
  we named &lt;code&gt;btn&lt;/code&gt;. We use the “id” type because represents any object.
&lt;/p&gt;
&lt;p&gt;
  The full list of types is in the
  &lt;a href=&quot;https://developer.apple.com/librarY/prerelease/mac/releasenotes/InterapplicationCommunication/RN-JavaScriptForAutomation/index.html#//apple_ref/doc/uid/TP40014508-CH109-SW32&quot;&gt;release notes&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;implementation&lt;/code&gt; is a normal function. Inside of it you write
  JavaScript. You have the same access to the &lt;code&gt;$&lt;/code&gt; bridge as you do
  outside of an object. You also have access to variables you create outside
  the function.
&lt;/p&gt;
&lt;h3&gt;A quick note on using protocols&lt;/h3&gt;
&lt;p&gt;
  You can implement existing Cocoa protocols with sublcasses,
  but there’s a “gotcha”.
  I found out that if you use the &lt;code&gt;protocols&lt;/code&gt; array your script
  will just stop with no errors. I wrote an &lt;a href=&quot;https://github.com/tylergaw/js-osx-app-examples/blob/master/docs/subclass-using-NSUserNotificationCenterDelegate.md&quot;&gt;example and explanation&lt;/a&gt;
  that you’ll want to have a look at if you’re doing that type of thing.
&lt;/p&gt;
&lt;h3&gt;Choosing and displaying images&lt;/h3&gt;
&lt;p&gt;
  We’re ready to open the panel, choose an image, and display it. Update the
  &lt;code&gt;btnClickHandler&lt;/code&gt; implementation function with following code:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;...
implementation: function (sender) {
  var panel = $.NSOpenPanel.openPanel;
  panel.title = &quot;Choose an Image&quot;;
&lt;p&gt;var allowedTypes = [&amp;quot;jpg&amp;quot;, &amp;quot;png&amp;quot;, &amp;quot;gif&amp;quot;];
// NOTE: We bridge the JS array to an NSArray here.
panel.allowedFileTypes = $(allowedTypes);&lt;/p&gt;
&lt;p&gt;if (panel.runModal == $.NSOKButton) {
// NOTE: panel.URLs is an NSArray not a JS array
var imagePath = panel.URLs.objectAtIndex(0).path;
textField.stringValue = imagePath;&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var img = $.NSImage.alloc.initByReferencingFile(imagePath);
var imgView = $.NSImageView.alloc.initWithFrame(
$.NSMakeRect(0, windowHeight, img.size.width, img.size.height));

window.setFrameDisplay(
  $.NSMakeRect(
    0, 0,
    (img.size.width &amp;gt; minWidth) ? img.size.width : minWidth,
    ((img.size.height &amp;gt; minHeight) ? img.size.height : minHeight) + ctrlsHeight
  ),
  true
);

imgView.setImage(img);
window.contentView.addSubview(imgView);
window.center;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}
}
&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  The first thing we do is create an instance of an &lt;code&gt;NSOpenPanel&lt;/code&gt;. If
  you’ve ever selected a file to open, or a location to save a file you’ve seen
  panels in action.
&lt;/p&gt;
&lt;p&gt;
  We only want the app to open images. Setting &lt;code&gt;allowedFileTypes&lt;/code&gt; lets
  us specify the allowed types for the panel. It expects an &lt;code&gt;NSArray&lt;/code&gt;. We create
  a JS array with &lt;code&gt;allowedTypes&lt;/code&gt;, but we need to convert that to an
  &lt;code&gt;NSArray&lt;/code&gt;. We make that conversion with &lt;code&gt;$(allowedTypes)&lt;/code&gt;.
  This is another use of the bridge. You use it in this way to bridge
  a JS value to Objective-C. To bridge an Objective-C value to JavaScript you’d
  use &lt;code&gt;$(ObjCThing).js&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  We open the panel with &lt;code&gt;panel.runModal&lt;/code&gt;. That pauses code execution.
  When you click Cancel or Open, the panel will return a value.
  If you clicked Open, the contstant value of &lt;code&gt;$.NSOKButton&lt;/code&gt; is returned.
&lt;/p&gt;
&lt;p&gt;
  The other note about &lt;code&gt;panel.URLs&lt;/code&gt; is important. In JS, we access
  the first value of an array with &lt;code&gt;array[0]&lt;/code&gt;. Because &lt;code&gt;URLs&lt;/code&gt;
  is an &lt;code&gt;NSArray&lt;/code&gt; we can’t use bracket notation. Instead we use the &lt;code&gt;objectAtIndex&lt;/code&gt;
  method. They both give the same results.
&lt;/p&gt;
&lt;p&gt;
  Once we have the URL of the image we can create a new &lt;code&gt;NSImage&lt;/code&gt;.
  Since it’s common to create an image from a file URL, there’s a handy method
  doing it:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;initByReferencingFile&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  We create an &lt;code&gt;NSImageView&lt;/code&gt; using the same process we did for creating
  other UI elements. &lt;code&gt;imgView&lt;/code&gt; handles displaying the image.
&lt;/p&gt;
&lt;p&gt;
  We want to change the width and height of our window to match the width and height of
  the image. We also want to make sure we don’t go below a minimum width or height.
  We use &lt;code&gt;setFrameDisplay&lt;/code&gt; to change the size of the window.
&lt;/p&gt;
&lt;p&gt;
  We wrap things up by setting the image view image and
  adding it to the window. Since its width and
  height have updated we re-center the window.
&lt;/p&gt;
&lt;p&gt;
  And that’s our little app. Kick it around, open a bunch of images. And yes,
  animated gifs will display and play so be sure to try some.
&lt;/p&gt;
&lt;h3&gt;Tidbits&lt;/h3&gt;
&lt;p&gt;
  So far, we’ve been running the app from Script Editor
  with &lt;code&gt;opt + cmd + d&lt;/code&gt;. You run the actual app by double clicking
  its icon like any other application.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-jsosx-appicon.jpg&quot; alt=&quot;&quot; /&gt;
  &lt;figcaption&gt;Double click the icon to run the app&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  You can update the app icon by replacing &lt;code&gt;/Contents/Resources/applet.icns&lt;/code&gt;.
  To access the app resources, right click on the app icon and choose “Show Package Contents”.
&lt;/p&gt;
&lt;h2&gt;Why I’m excited&lt;/h2&gt;
&lt;p&gt;
  I’m excited about this because I think it has a lot of potential. Here’s
  how I’ve been thinking about it. When Yosemite is available, anyone that installs
  the OS will be able to sit down and write a native application. They will be
  able to do so using one of the most ubiquitous programming languages that exists. They
  won’t need to download or install anything extra. You don’t even have to install
  or open Xcode if you don’t want to. That removes a massive barrier to entry.
  It’s incredible.
&lt;/p&gt;
&lt;p&gt;
  I know there’s a whole lot more to building OS X apps than just being able
  whip up a quick script. I don’t have any illusions that JavaScript will become
  the defacto way to build for the Mac. I do think this will allow developers
  to build small apps that make development easier for themselves and for other
  people. Have a team member that’s not so comfortable using the command line?
  Build a quick GUI for them. Need a quick, visual way to create and update
  a large configuration file? Make a little app for it.
&lt;/p&gt;
&lt;p&gt;
  Other languages have these capabilities. Python and Ruby have access to the same
  native APIs and people make apps using those languages. Something just feels
  different about being able to use JavaScript. It feels subversive. It feels
  like some of the DIY of the Web knocking on the door of the Desktop.
  Apple left the door unlocked, I’m inviting myself in.
&lt;/p&gt;
&lt;p&gt;
  &lt;i&gt;Thanks for reading&lt;/i&gt;
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Media Seek from URL</title>
    <link href="https://tylergaw.com/blog/media-seek-from-url/"/>
    <updated>2014-09-20T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/media-seek-from-url/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  I recently had a need to be able to control the time of &lt;code&gt;audio&lt;/code&gt;
  elements via a URL query string. I whipped up a bit of JavaScript to handle it.
  There’s a demo &lt;a href=&quot;http://lab.tylergaw.com/media-seek-from-url/&quot;&gt;here&lt;/a&gt; and
  the source is &lt;a href=&quot;https://github.com/tylergaw/media-seek-from-url&quot;&gt;on GitHub&lt;/a&gt;.
  I had fun figuring it out and thought maybe you’d enjoy reading about it.
  The following are details about why I needed it and the code I wrote.
&lt;/p&gt;
&lt;p&gt;
  As with most projects, this one started with a problem that needed fixin’ The
  site this was for had a listing of audio tracks. Each list item included; the &lt;code&gt;audio&lt;/code&gt;
  element, a title/link to the page for that track, and a short description.
  Some of list items had extra links to the track’s page in the description.
&lt;/p&gt;
&lt;p&gt;
  With this setup, the links to the track pages were causing the problem. Here’s
  what was happening; Users were pressing play on one of the tracks in the list.
  They would then click on one of the track’s links. That would take them away
  from the listing to that track’s page. The navigation would cause them to
  lose their place in the track they were listening to. The tracks were podcasts that
  ran from 45 to 90 minutes in length so losing your spot at 33 minutes and 45 seconds was annoying.
&lt;/p&gt;
&lt;p&gt;
  This is where controlling the time of the &lt;code&gt;audio&lt;/code&gt; element came into play.
  Clicking on a link should take the user to the track’s page and
  the track should resume playing where they left off.
&lt;/p&gt;
&lt;h2&gt;Writing The Thing&lt;/h2&gt;
&lt;p&gt;
  YouTube does this style of jumping around in videos via the URL. I think
  the query string style they use works well, so I took my cues from them. I decided
  I’d use URLs like:&lt;br /&gt; &lt;code&gt;http://site.com/tracks/track-name?t=1h22m35s&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  Two quick things about the code examples and descriptions:
&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;
    I wrote the original code for a specific project. The code I’ll be showing
    here is a modified version of that project’s code. The main difference
    is that there are no links to separate pages. I left that out because I
    felt like the interesting thing is not the navigation between pages.
  &lt;/li&gt;
  &lt;li&gt;
    The examples only show &lt;code&gt;audio&lt;/code&gt; elements, but you can use the same code
    with &lt;code&gt;video&lt;/code&gt; elements.
  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;
  On page load, we run a function called &lt;code&gt;seekIfNeeded&lt;/code&gt;. This
  function checks the &lt;code class=&quot;language-javascript&quot;&gt;window.location.search&lt;/code&gt; for the presence of
  the string “t=”. This determines if we need to bother trying to parse
  a time from the URL. This check is by no means fool-proof, but it gets the job done.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;function seekIfNeeded () {
  var q = window.location.search;
&lt;p&gt;if (q.indexOf(&#39;t=&#39;) &amp;gt; -1) {
// Do parsing stuff
}
}
&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  Once it’s determined there’s a time to parse the fun code starts.
  We declare a couple convenience variables for later use.
  We bind a &lt;code&gt;canplay&lt;/code&gt; event to the &lt;code&gt;audio&lt;/code&gt;.
  We convert the query string to seconds and then update &lt;code&gt;currentTime&lt;/code&gt;
  property of the &lt;code&gt;audio&lt;/code&gt; element.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;function seekIfNeeded () {
  var q = window.location.search;
&lt;p&gt;if (q.indexOf(&#39;t=&#39;) &amp;gt; -1) {
// Store the &amp;quot;1h34m27s&amp;quot; part of the query string
var timeString = q.split(&#39;=&#39;)[1],&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;  // Store a reference to the audio element with an id of &amp;quot;media&amp;quot;
  media = document.getElementById(&#39;media&#39;),

  // Have we updated the time of the media element from the URL before?
  seekedFromURL = false;

// We can only interact with audio elements when they are ready.
// Listen for the &amp;quot;canplay&amp;quot; event to know when that is.
media.addEventListener(&#39;canplay&#39;, function () {

  // The &amp;quot;canplay&amp;quot; event is triggered every time the audio element
  // is able to play. We only want to change the currentTime of
  // the audio the first time this event fires.
  if (!seekedFromURL) {

    // The currentTime property seeks to a value of seconds in
    // the media element.
    media.currentTime = secondsFromTimeParts(partsFromTimeString(timeString));

    // We&#39;ve done the seeking, don&#39;t do this again.
    seekedFromURL = true;
  }
});

media.play();
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}
}
&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;h2&gt;Converting a String to Time&lt;/h2&gt;
&lt;p&gt;
  Things get interesting with the line that sets
  &lt;code&gt;media.currentTime&lt;/code&gt;. It’s being set to the return value of the
  &lt;code&gt;secondsFromTimeParts&lt;/code&gt; function. That function is given the
  return value of another function, &lt;code&gt;partsFromTimeString&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
  I’ll break down that line of code from the inside out. &lt;code&gt;timeString&lt;/code&gt;
  is a string like; “1h32m23s” or “15m10s” or “12s”. Any combination of hours,
  minutes, and seconds. Even though humans can figure out the string
  represents time, the &lt;code&gt;audio&lt;/code&gt;
  element isn’t going to understand it. We pass the string to &lt;code&gt;partsFromTimeString&lt;/code&gt;.
  That function converts the string into an object of key/value pairs. In the object, the
  keys represent a part of the time and the values the amount of time for each part.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;function partsFromTimeString (str) {
  var parts = {h: 0, m: 0, s: 0};
&lt;p&gt;// Wrapping in a try to avoid an error in case someone gives the &#39;t=&#39;
// query string with no time. It&#39;ll just default to zero without it.
try {&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;// The regex match breaks the string into an array
// like [&amp;quot;1h&amp;quot;, &amp;quot;32m&amp;quot;, &amp;quot;6s&amp;quot;]
str.match(/[0-9]+[hms]+/g).forEach(function (val) {

  // Creates an array with two elements, the time and part
  // key like [&amp;quot;32&amp;quot;, &amp;quot;m&amp;quot;]
  var part = val.match(/[hms]+|[0-9]+/g);
  parts[part[1]] = parseInt(part[0], 10);
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}
catch (e) {}&lt;/p&gt;
&lt;p&gt;return parts;
}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  My first idea wasn’t to use a regular expression. I tend to avoid them because
  I only have a cursory knowledge of them. But the query string posed a problem
  I couldn’t solve without a regex. When trying
  to break up a string into specific parts, I look for patterns. A common letter or
  symbol or certain number or anything that repeats. A string like “1h32m23s”
  doesn’t have that, so I needed a more complex pattern.
&lt;/p&gt;
&lt;p&gt;
  The pattern that sticks out is; a number, followed by one of three letters.
  That letter could be “h”, “m”, or “s”. There’s no certainty
  that all the letters will be there. And they may not appear in the same order. Ambiguity lead
  me down the regular expression path. I suppose that’s what they’re for?
&lt;/p&gt;
&lt;p&gt;
  The &lt;code&gt;string.match&lt;/code&gt; method returns an array of all matches found
  by a given regex. The regex &lt;code class=&quot;language-javascript&quot;&gt;/[0-9]+[hms]+/g&lt;/code&gt; reads the string from left to right
  and says, “I want an integer with a value of 0 through 9, followed by the letter ‘h’, ‘m’, or ‘s’.”
  If the regex finds that alphanumeric combination, it puts it in the array.
&lt;/p&gt;
&lt;p&gt;
  We’re getting closing to being able to separate the letters from the numbers.
  That’s what we’re after. Even though we want to separate them, we don’t want
  to disassociate them. Each letter gives us valuable information about the
  number. It tells us what part of the time it represents.
&lt;/p&gt;
&lt;p&gt;
  The next step is to iterate over the array of number/letter pairs one by one.
&lt;/p&gt;
&lt;p&gt;
  Again, we use the &lt;code&gt;match&lt;/code&gt; method with a regex. The &lt;code class=&quot;language-javascript&quot;&gt;/[hms]+|[0-9]+/g&lt;/code&gt;
  regex says, “I want either the letter ‘h’, ‘m’, ‘s’ or a number, 0 through 9.”
  When either of those are found they’re placed in the array we named “part”.
&lt;/p&gt;
&lt;p&gt;
  The last bit of work is to add each of the time parts to the parts object we
  created at the start of the function. Since we get the time value from a
  string we need to use &lt;code&gt;parseInt&lt;/code&gt; to convert it to a integer.
&lt;/p&gt;
&lt;p&gt;
  Now we have an object of time parts. The object looks like &lt;code class=&quot;language-javascript&quot;&gt;{h: 1, m: 22, s: 37}&lt;/code&gt;.
  The next step in &lt;code&gt;seekIfNeeded&lt;/code&gt; is to get seconds from those parts.
  For that, we use the &lt;code&gt;secondsFromTimeParts&lt;/code&gt; function.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;function secondsFromTimeParts (parts) {
  var seconds = 0;
&lt;p&gt;seconds += parts.s;
seconds += parts.m _ 60;
seconds += parts.h _ 3600;&lt;/p&gt;
&lt;p&gt;return seconds;
}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;secondsFromTimeParts&lt;/code&gt; adds up the values of the time parts object to
  get a total number of seconds. To get the number of seconds from
  minutes we multiply by 60. To get the number of seconds from
  hours we multiply by 3600. 3600 equals 60 minutes per hour times 60 seconds per minute.
&lt;/p&gt;
&lt;p&gt;
  At this point, we’ve converted a string that represents a time to an actual
  time value the media element can understand. We use that value–the number
  of seconds into the media we want to go–to set the &lt;code&gt;currentTime&lt;/code&gt;
  property and then tell it to play.
&lt;/p&gt;
&lt;h2&gt;Converting a Time to String&lt;/h2&gt;
&lt;p&gt;
  So now we can update the time of a media element with a query string, but what
  if we want to go the other way? What if we have the seconds and we want
  to convert that to our time string?
&lt;/p&gt;
&lt;p&gt;
  For that we’ll follow the previous process in reverse. We’ll get an object of
  time parts from the seconds and then a time string from the parts.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var timeStr = timeStringFromParts(timePartsFromSeconds(media.currentTime));
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
  Again, from the inside out, let’s look at the &lt;code&gt;timePartsFromSeconds&lt;/code&gt;
  function.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;function timePartsFromSeconds (seconds) {
  var parts = {},
    secondsInt = Math.floor(seconds);
&lt;p&gt;parts.h = Math.floor((secondsInt / 3600) % 24);
parts.m = Math.floor(secondsInt / 60);
parts.s = secondsInt % 60;&lt;/p&gt;
&lt;p&gt;return parts;
}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  We start by creating the empty parts object where we’ll store the key/value pairs.
  &lt;code&gt;media.currentTime&lt;/code&gt; gives the number of seconds and milliseconds
  as a float. In this script I decided that I didn’t need milliseconds.
  &lt;code&gt;Math.floor(seconds)&lt;/code&gt; removes the decimal point and everything after it.
&lt;/p&gt;
&lt;p&gt;
  The next few lines use the total number of seconds to determine the number of
  hours and minutes. Those values are set to the appropriate members of the parts
  object. These calculations are the reverse of what we used in &lt;code&gt;secondsFromTimeParts&lt;/code&gt;.
  We know there are 3600 seconds in an hour so we divide the total seconds by it.
  We use the modulus–&lt;code&gt;% 24&lt;/code&gt;–because anything over 24 hours would be a new
  time part: days. This script doesn’t handle days, but with a handful of additions
  it would be able to. We determine the number of minutes by dividing the total
  seconds by the number of seconds in a minute: 60.
&lt;/p&gt;
&lt;p&gt;
  That gives us an object of parts–&lt;code class=&quot;language-javascript&quot;&gt;{h: 1, m: 32, s: 27}&lt;/code&gt;–that we need
  to convert into a time string. We’ll do that with the &lt;code&gt;timeStringFromParts&lt;/code&gt;
  function.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;function timeStringFromParts (parts) {
  var str = &#39;&#39;;
&lt;p&gt;for (key in parts) {
if (parts[key] &amp;gt; 0) {
str += parts[key] + key;
}
}&lt;/p&gt;
&lt;p&gt;return str;
}&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
  This small function iterates over the keys in the parts object. For each key,
  if the value is greater than zero we add the value followed by the key to the
  &lt;code&gt;str&lt;/code&gt; variable that we’ll return. The string returned will look something
  like “1h32m28s”.
&lt;/p&gt;
&lt;p&gt;
  &lt;code&gt;secondsFromTimeParts&lt;/code&gt; and &lt;code&gt;timeStringFromParts&lt;/code&gt; could have
  been combine into a single function like &lt;code&gt;timeStringFromSeconds&lt;/code&gt;. I
  chose to separate them because I like to make functions that are as small and
  as specific as possible. Doing so provides clarity and allows for reuse. This
  approach is a tenet of functional programming.
&lt;/p&gt;
&lt;p&gt;
  And with that, we have our script soup to nuts. If you take a look at the source
  code you’ll see a function named &lt;code&gt;displayTimeURL&lt;/code&gt;. That function
  converts a time to a time string for display. It also contains a couple other
  tidbits that may be useful if you need to build something like this yourself.
&lt;/p&gt;
&lt;h2&gt;Bonus: Soundcloud&lt;/h2&gt;
&lt;p&gt;
  Soundcloud allows for embedding of most of their tracks. The embedded player
  also has a &lt;a href=&quot;https://developers.soundcloud.com/docs/api/html5-widget&quot;&gt;pretty cool API&lt;/a&gt;.
  I whipped up a version of this script to work with Soundcloud players. I’d say
  it’s about 98% the same. All the little functions I wrote aren’t concerned
  with the whole story. They just want numbers, strings, arrays, etc. Because of
  that I was able to use them with the Soundcloud version. &lt;a href=&quot;http://lab.tylergaw.com/media-seek-from-url/soundcloud.html&quot;&gt;Have a look&lt;/a&gt; at the
  demo. Like the HTML demo, you can add &quot;?t=1m35s&quot; to the URL to jump to that
  point in the track.
&lt;/p&gt;
&lt;p&gt;
  The only differences are how you interact with the media element
  and that Soundcloud takes milliseconds instead of seconds
  to set the current time. Soundcloud provides events and
  methods that you can use to control the player. They aren’t the same as their HTML
  counterparts, but the ideas are the same. The Soundcloud example code is in
  the &lt;a href=&quot;https://github.com/tylergaw/media-seek-from-url&quot;&gt;same repo&lt;/a&gt; as the HTML
  version.
&lt;/p&gt;
&lt;p&gt;
  This was a fun problem to solve. Both from the UX view and from the code. I’m
  sure there are quite a few similar implementations, but I’m sure there are
  none just like this one.
&lt;/p&gt;
&lt;p&gt;
  &lt;i&gt;Thanks for reading&lt;/i&gt;
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>How I Manage Nginx Config</title>
    <link href="https://tylergaw.com/blog/how-i-manage-nginx-config/"/>
    <updated>2014-07-24T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/how-i-manage-nginx-config/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
    I host my personal sites–this one, &lt;a href=&quot;http://lab.tylergaw.com/&quot;&gt;my lab&lt;/a&gt;, &lt;a href=&quot;http://againwiththis.com/&quot;&gt;my quips&lt;/a&gt;,
    &lt;a href=&quot;http://listentoslayer.com/&quot;&gt;nonsense&lt;/a&gt;, and others–on a
    Rackspace &lt;a href=&quot;http://en.wikipedia.org/wiki/Virtual_private_server&quot;&gt;VPS&lt;/a&gt;.
    &lt;a href=&quot;http://nginx.com/&quot;&gt;NGINX&lt;/a&gt; is my web server of choice. Each site
    has its own configuration file. I’m definitely not Mr. Sys Admin,
    but I have an easy way of organizing those config files to help me make quick
    updates and additions.
&lt;/p&gt;
&lt;p&gt;
    I’m assuming some knowledge with this post. Folks who have middle ground knowledge
    of NGINX will get the most out of this. It’s not a how-to NGINX post, so beginners may not find it useful.
    It also may not be helpful if you have advanced NGINX knowledge as you likely
    have a better way to handle these things.
&lt;/p&gt;
&lt;h2&gt;What I Do&lt;/h2&gt;
&lt;p&gt;
    I keep my config files in a private Github repo called “server-conf”. In it
    I have two directories; “local” and “prod”. Local for the NGINX install
    on my developement machine and prod for my VPS. I have different sites
    locally than I do production. Each site whether local or prod has its
    own config file.
&lt;/p&gt;
&lt;figure&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-nginx-conf-editor.jpg&quot; alt=&quot;The server-conf repo opened in a text editor&quot; /&gt;
    &lt;figcaption&gt;
        server-conf in my current preferred text editor, Atom. Being able to use it instead of something
        like Vim is much more comfortable for me
    
&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
    Both locally and in production, I clone the server-conf repo to my home directory.
    To tell NGINX where the config files are, I use &lt;code&gt;include&lt;/code&gt;
    in the &lt;code&gt;http&lt;/code&gt; block of the main NGINX config file, &lt;code&gt;nginx.conf&lt;/code&gt;.
    The location of this file is different for each install. Locally, mine is at
    &lt;code&gt;/usr/local/etc/nginx&lt;/code&gt;. I can never remeber where it is
    on my VPS, I just have to peck around until I find it. Here are
    the relevant snippets from my local and prod &lt;code&gt;nginx.conf&lt;/code&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-clike&quot;&gt;# local
&lt;p&gt;http {
...
include /path/to/home/server-conf/local/*;
}
&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-clike&quot;&gt;# production
http {
...
include /path/to/home/server-conf/prod/\*;
}&lt;/code&gt;&lt;/pre&gt;
&lt;h2&gt;Why the Home Directory?&lt;/h2&gt;
&lt;p&gt;
Mainly because I can never remember the default location of NGINX config
files. This is especially true on my VPS since I access it infrequently. Having it in the home
directory allows me to stumble on it since it’s the first directory
I see when I SSH into the VPS.
&lt;/p&gt;
&lt;h2&gt;How is this helpful?&lt;/h2&gt;
&lt;p&gt;
This helps me in a number of ways. First, like I mentioned above, it
makes locating the config files much easier.
&lt;/p&gt;
&lt;h4&gt;Comfort&lt;/h4&gt;
&lt;p&gt;
Doing this allows me
to use a text editor I’m most comfortable with to make updates to
production configs.
&lt;/p&gt;
&lt;p&gt;
When I need to make an addition or change to production config I can make the changes
on my machine. I then commit and push the changes to Github. Then SSH into
my VPS, and navigate to the &lt;code&gt;server-conf&lt;/code&gt; directory. There
I &lt;code&gt;git pull&lt;/code&gt; and after an &lt;code&gt;nginx -s reload&lt;/code&gt; my
changes are live.
&lt;/p&gt;
&lt;p&gt;
Before this, to make production changes I would have to SSH into the VPS,
navigate to the default NGINX config location
and use Vim to make changes. This was a slow and error-prone
process for me because I’m not comfortable with Vim and I get a bit
lost sometimes navigating with the command line. Also, my server
isn’t the fastest so editing there is much slower than it is on my
laptop.
&lt;/p&gt;
&lt;h4&gt;Git&lt;/h4&gt;
&lt;p&gt;
The ability to quickly roll back breaking changes is huge.
If I pull down changes that cause the prod server to stop working, I
can use git to check out the previous version of the offending file(s) while I fix the problem.
If I’m making larger changes I can create a different branch to make it even
easier.
&lt;/p&gt;
&lt;p&gt;
Config backup via Github. If I get a new computer or if mine is damaged,
I won’t have to recreate my configs for local development. I can just clone the repo and
make the quick update the &lt;code&gt;nginx.conf&lt;/code&gt; to get back up and running.
&lt;/p&gt;
&lt;p&gt;
Another cool thing is having a config revision history. Since everything
is in git and on Github, I can see when and what changes I’ve made.
This isn’t that helpful for me since I’m the only one making changes
and they tend to be small, but it could be a huge plus if you have
multiple people making updates.
&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-nginx-conf-log.jpg&quot; alt=&quot;Github commit log for the server-conf repo&quot; /&gt;
&lt;figcaption&gt;
The server-conf git log provides a history of config changes

&lt;/figcaption&gt;&lt;/figure&gt;
&lt;p&gt;
NGINX is relativily easy to configure, but I used to dread making
changes in production because I’m not as handy with the command-line
and Vim as I am a graphical text editor. Having this setup in place
makes it as easy as updating any other files associated with my sites.
&lt;/p&gt;
&lt;p&gt;
    &lt;i&gt;Thanks for reading&lt;/i&gt;
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>A Logo Design Process</title>
    <link href="https://tylergaw.com/blog/a-logo-design-process/"/>
    <updated>2014-07-17T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/a-logo-design-process/</id>
    <content type="html">&lt;pre&gt;&lt;code&gt;    &amp;lt;p class=&amp;quot;entry-intro&amp;quot;&amp;gt;
        As part of my site &amp;lt;a href=&amp;quot;https://tylergaw.com/articles/how-i-start&amp;quot;&amp;gt;redesign&amp;lt;/a&amp;gt;
        I wanted new branding. It’s not really a logo I guess, but
        it’s what I’ll be using on this site and any other promotional crud that I make
        like business cards. This was a fun process that let me dive deeper
        into hand-lettering than I have before. Here’s a look into the design of the
        new logo from pencil sketch to final (enough) image.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        I’m not trying throw out everything and
        start from zero. Because of that, my first step was look at what I have now. My current
        logo appears in three variations. The largest appears
        on my homepage. On medium size screens a smaller, stacked
        version with &amp;quot;web&amp;quot; on top and &amp;quot;designer&amp;quot; below my name is shown. On small screens,
        a side-by-side version with my name on the left and &amp;quot;web designer&amp;quot; on the right is shown.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-logo-process-existing.jpg&amp;quot; alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            Variations of my current logo displayed at different screen sizes
        &amp;lt;/figcation&amp;gt;
    &amp;lt;/figure&amp;gt;

    &amp;lt;p&amp;gt;
        I always start as rough as possible. I grabbed the &amp;quot;Tyler Gaw&amp;quot; portion
        of the existing logo and plopped it into a new PSD. I didn’t have a
        plan for what I’d do with the logo so just started
        typing out different titles next to it in different typefaces to get
        things rolling. I tried side-by-side, top and bottom, serifs, sans-serifs, handwriting,
        pulling, prodding, stretching, scaling, etc. I let myself play and make
        as many ugly messes as I could.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        After a good amount of messin’ I landed on something that definitely
        wasn’t ready, but felt like a good path. My name with &amp;quot;Design &amp;amp; Development&amp;quot; and &amp;quot;Brooklyn NY, USA&amp;quot;
        below it. I added a slight angle to both sides to make it a more
        interesting.
    &amp;lt;/p&amp;gt;

    &amp;lt;p&amp;gt;
        The image below shows that everything was out of whack, it’s
        not even fully readable. That was OK. It was enough that I could see
        where I wanted to go with it.
    &amp;lt;/p&amp;gt;

    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-logo-process-roughage.jpg&amp;quot; alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            The results of messing with the existing logo. This was bad on
            purpose. It got me started down the right path.
        &amp;lt;/figcation&amp;gt;
    &amp;lt;/figure&amp;gt;

    &amp;lt;p&amp;gt;
        In the existing logo I refer to myself as a &amp;quot;Web Designer&amp;quot;. That feels like
        an accurate title because I design and
        write code, but I wanted to be more clear so I went with &amp;quot;Design &amp;amp; Development&amp;quot;.
        Using &amp;quot;Web Designer&amp;quot;
        as a title I often have to answer; &amp;quot;no, not only design. I write code too&amp;quot;.
    &amp;lt;/p&amp;gt;

    &amp;lt;h2&amp;gt;Back to Sketching&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        The next step was to get off the computer and do some sketching. I gave
        myself some loose guides to follow for the width/height and for the
        shape the text would be in. I redrew the same thing five or six times
        until I got one that was close enough.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-logo-process-sketches.jpg&amp;quot; alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            Trying to get a solid sketch to start
        &amp;lt;/figcation&amp;gt;
    &amp;lt;/figure&amp;gt;

    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-logo-process-sketch.jpg&amp;quot; alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            The close enough pencil &amp;amp;amp; Ink sketch that was used as a starting point in Illustrator
        &amp;lt;/figcation&amp;gt;
    &amp;lt;/figure&amp;gt;

    &amp;lt;h2&amp;gt;Moving Into Illustrator&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        I brought the close enough sketch into Illustrator and live traced it.
        The conversion to vector was as good as could be expected. With any
        hand-drawn text there are a lot of unneeded and rough points.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        I did a pass where I cleaned up the spacing and removed many points to
        make the letters of &amp;quot;Design &amp;amp;amp; Development&amp;quot; smoother. In the image
        below you can see some sharp edges in places on the &amp;quot;Tyler Gaw&amp;quot;. Those
        were caused by me changing the height and rotation of different letters
        and portions of letters.
    &amp;lt;/p&amp;gt;

    &amp;lt;p&amp;gt;
        When I thought I had the basic size and shape where I wanted it I
        brought it over to Photoshop and placed it in a very early layout of
        the new site.
    &amp;lt;/p&amp;gt;

    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-logo-process-first-thought.jpg&amp;quot; alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            This is what I originally imagined the logo would resemble. Very
            hand-drawn, close to my existing logo. There would still have been a lot of
            clean-up required for this to work.
        &amp;lt;/figcation&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        This felt wrong. It was too spindly. I didn’t feel like it was standing up on its own.
        Felt like it could get lost easily at smaller sizes. I wanted
        it to feel more involved, more interesting, just more.
    &amp;lt;/p&amp;gt;

    &amp;lt;p&amp;gt;
        &amp;quot;What if I add some serifs?&amp;quot; I asked myself. I started with the &amp;quot;D&amp;quot;
        in &amp;quot;Design&amp;quot;. I widened the stroke and added slight serifs to it.
        That’s what it needed. With that small change I could tell immediately that this was where
        it needed to go. That also let me know that I was in for a whole lot
        of tedious work as I would have to take the same steps for each letter.
    &amp;lt;/p&amp;gt;

    &amp;lt;h2&amp;gt;The Work&amp;lt;/h2&amp;gt;

    &amp;lt;p&amp;gt;
        It took me about about fours days to update all the letters. I
        always started by removing as many points as possible. A general rule
        I figured out was mo’ points, mo’ problems. Fewer points allow for
        smoother curves and fewer pinches and nicks where they aren’t wanted.
        After deleting the points it was a matter of moving them around until
        the stroke width and serifs matched the rest of the letters. I used
        some loose guides to keep the serif sizes similar, but since this is
        supposed to have a hand-drawn look I could take liberties with them.
    &amp;lt;/p&amp;gt;

    &amp;lt;p&amp;gt;
        The removing, adding, and moving of points feels a lot like working with clay. You start with these
        rough shapes and you slowly push and pull and smooth it into the shape
        that you’re looking for. I’ve written about this process before
        for &amp;lt;a href=&amp;quot;https://tylergaw.com/articles/slenderman&amp;quot;&amp;gt;Slenderman&amp;lt;/a&amp;gt;.
        For some reason it felt more like chiseling rock that time.
    &amp;lt;/p&amp;gt;

    &amp;lt;p&amp;gt;
        As a way to check that things were shaping up correctly and as a break
        from tedium, I would often bring the logo into the rough layout in Photoshop.
        Looking at it as a raster image at the approximate size it would be
        displayed helped me make sure it was readable and looked how I wanted it.
        I worked on the letters in bursts. I would do a letter, maybe two. Then
        stop, get some air. Move it to Photoshop, check it, repeat.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-logo-process-ani.gif&amp;quot; alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            Animation showing the rough steps of the process
        &amp;lt;/figcation&amp;gt;
    &amp;lt;/figure&amp;gt;

    &amp;lt;p&amp;gt;
        I’m happy with how it’s turned out. I’m also working on colors
        for the redesign so I added bits of color to the logo and put it up on
        &amp;lt;a href=&amp;quot;https://dribbble.com/shots/1644137-GAW-Mark-WIP&amp;quot;&amp;gt;Dribbble&amp;lt;/a&amp;gt; for feedback.
        From the beginning I’ve had my brain set on a red for some reason, but
        all of the feedback points to yellow. I’ve been playing with yellow
        as an accent color for the the rest of the site and it feels like it’s working so far.
    &amp;lt;/p&amp;gt;

    &amp;lt;p&amp;gt;
        Here’s a final (as-of-right-now) version of the logo embedded as SVG.
        I removed the yellow drop shadow from my name that is shown in the Dribbble shot.
        It was kind of cool, but didn’t feel necessary. I think I can get more
        mileage out of the logo without it.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;svg version=&amp;quot;1.1&amp;quot; xmlns=&amp;quot;https://www.w3.org/2000/svg&amp;quot; xmlns:xlink=&amp;quot;https://www.w3.org/1999/xlink&amp;quot; x=&amp;quot;0px&amp;quot; y=&amp;quot;0px&amp;quot;
 width=&amp;quot;3267.3px&amp;quot; height=&amp;quot;440px&amp;quot; viewBox=&amp;quot;0 0 3267.3 2116.3&amp;quot; style=&amp;quot;width:100%; height:auto; min-height:200px;background-color:#1e1e1d;&amp;quot;
 xml:space=&amp;quot;preserve&amp;quot; title=&amp;quot;Tyler Gaw Design &amp;amp; Development - Brooklyn, NY U.S.A.&amp;quot;&amp;gt;
        &amp;lt;g id=&amp;quot;Logo&amp;quot;&amp;gt;
        	&amp;lt;path id=&amp;quot;gaw-w&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#F9F9F9;&amp;quot; d=&amp;quot;M2783.4,977c19.8,1,52-275.5,54.8-279.7
        		c3.2-4.7-29.4-47.2-22.1-47.5c1.6-0.1,96.1-21.8,124.4,0c8.3,6.4-19.9,14-15.8,33.3c9,41.6,87.5,202.7,94.3,204.2
        		c12.2,0-9.5-125.3-9.2-143c0.5-28.8-2.9-132.7-4-146.9c-1.5-19.3-6.5-110.3-6.5-127.6c0-79.5,2.8-178,6-199
        		c1.6-10.6-4-46.6-2.8-65.3c3.1-45.3-37.7-51.7-36.2-84.7c-0.8-8.4,152.9,15.5,151.1,18.2c-13.6,38.8-41.8,33.8-44.4,53.2
        		c-1.8,13.7-12.7,79.5-20.8,157.7c-0.4,0.4-3.7,78.6-2.4,103.1c1,19.4,10.8,100.4,10.6,106.2c-1.4,40,0.1,30.4,0.5,72
        		c0.2,19.8,15.4,82,11.2,111.1c-3.3,22.6,6.7,168.1,6,175c-2.1,20.1,41.9,30.9,39.5,55c-0.6,5.9-136.4,50.2-142.1,38.9
        		c-4.5-9,19.7-36.7,1.5-75c-10.4-21.7-28.6-52.9-45.2-89.6c-27.7-61.2-36.6-128.9-41.1-128.9c-5.7,0-4.7,67.5-15.5,142.2
        		c-11.9,82.7-35.1,174.1-28.5,192.3c-2.1,9.5-121.1,56.8-125.8,49.6c-3.2-4.9,11.9-62.1,9.7-74.8c-2.4-13.6-23.4-137.5-25.9-183.1
        		c-0.7-12.3-16.3-114.5-19.6-136.7c-3.2-21.2-15.4-94.7-17.4-102.9c-5.3-21.4-15.1-59.9-23.5-83.5c-5.9-16.4-8.4-33.8-13.4-50.5
        		c-5.3-18.1-28.4-138.5-32.8-154c-3.9-13.9-39.8-126.7-45.5-155.2c-1.9-9.4-41-58.8-44-68c-2.2-6.7,153.2,4.2,156,6
        		c17-4.9-30.3,61.4-29.7,65.5c1.8,11.2,34.8,135.9,37.7,144.7c8.1,24.5,27.5,129.3,30.4,145.8c2.7,15.3,48.6,274.5,47.7,289.9
        		c-0.7,12.1,6.1,92.2,4.7,115C2754.1,878.5,2763.9,976.5,2783.4,977z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;gaw-a&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#F9F9F9;&amp;quot; d=&amp;quot;M2446.7,797.9c-17.4,2.8-66.3,24.6-74.6,26.4
        		c-15.5,3.4-88.7,13.5-93.8,17c-5.8,7.7,26.6,280.8,27,304c2,27,19.7,15.7,24.3,47.1c1.8,12.2-159.5,66.3-158.3,57.9
        		c2.4-15.8,18.3-34.1,21-49.8c2.7-15.8,21.6-110.2,22.2-126.1c0.2-5.5,0.1-11.1,1.1-16.5c5.1-27.7-8.3-171.9-5.7-199.8
        		c1.5-15.9,1.3-177.4,0.2-200.2c-1-19.8,2.8-291.5-1.3-310.9c-2.6-12.2-13.6-195.6-14.5-205.7c-1.1-12.5-26.4-44.2-26-57
        		c0-9.4,167,0.6,173,8c2.9,9.1-19.8,23.3-19,39c1.9,36.2,20.1,94.9,38,126.2c4.2,7.3,65.9,180.7,72.9,203.6
        		c3.3,10.9,58.6,132.3,62.7,157.7c3.1,19,21.2,109.6,21.4,128.8c0.2,18.2,41.2,314.4,40.3,332.7c-1.1,21.2,19,18,25.7,49
        		c1.2,5.8-133.2,45-135.9,40.3c-2.2-18.6,20.2-18.3,19.2-55.9C2464.6,1035.5,2450.9,797.2,2446.7,797.9z M2283.4,767.7
        		c1.9,1.2,66.9-1.9,79.3-6.7c10.3-3.9,72.2-22.5,71.9-31.5c-10.2-77.1-45.4-196.1-53.4-224.1c-2.7-9.3-69.2-225-71.8-232.2
        		c-3.5-9.5-46.9-117.3-52-117.8c-7-0.6-3.4,173.7-2,181c3.1,16.4,5.7,169.2,9.5,180.8C2270.7,535.4,2281.9,763.1,2283.4,767.7z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;gaw-g&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#F9F9F9;&amp;quot; d=&amp;quot;M2005.4,258.9c-26.7-12.8-33.9-21.7-44.3-56.2
        		c-39.5-131.4-157.3-82.4-171-71.1c-5.9,4.1,24.3,560.6,23.9,586.6c-0.4,26.7-15.1,252.2-16.9,267.8c-0.2,1.9,1.4,55.8-1.6,80.6
        		c-2.6,21.5-40.2,246.2,24.8,237.6c50-6.6,114-76,133-121c9.5-17.6,27.9-395.9,23.7-395c-24,5.4-44.5,12.2-65.7,15.7
        		c-9.9,11.5-18.8,15.1-35.7,14.7c-4.8-0.3-2.2-95,1.3-98.2c5-8.7,44.7-6.6,72.7-7.5c21.1-1.6,77.5-10.4,78.1-8.9
        		c2.4,6.2,9.9,220.2,8,239.7c-1.4,14.3-2.7,348.2-15.4,350.5c-39.3,4.8-48.2-39.4-48.2-39.4c-5.8,18.2-19.8,70.3-62.1,82
        		c-16,0.3-125,54.7-159.8,48.6c-35-6.1-33.9-244-32.1-278c0.7-1.9,25.1-241.6,25.1-250c-0.1-5.6,3.2-206,3.1-231
        		c0-15.9-16.8-235.1-21.6-314c-3.4-19.1,3.2-170.9,10.1-181c14.8-30.9,15.5-67.7,139.2-67.7c84.9,0,78.3,38.2,102.6,41.5
        		c26.4,3.6,26.4-18.1,37-1.7C2014.7,120.5,2014.6,234.7,2005.4,258.9z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;tyler-r&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#F9F9F9;&amp;quot; d=&amp;quot;M1488.2,432.6c-0.1,11.3-7.8,101.4-7.7,117.9
        		c0-21.1,2.1,242.4-18.5,333.9c-5.3,17.7-68.6,34.2-83.6,36.2c-0.3,0,74.8,23.7,69.8,79.7c-2.8,30.9-9.9,186-10.8,217
        		c-0.4,15.1-24.8,170.5,73.5,112.5c10.9-6.5,22.5-20.2,30.6-25.1c13.3-8,30.9,78.8-56.4,100.8c-4.7,0.1-106.3-36.7-113-40.9
        		c-13.9-29.4,1.3-79-1.3-104.3s9.2-222.5,9-229.7c-0.6-23.3-5.7-72.3-36.3-64.3c0,0-3.9,66.8-7.3,89.2
        		c-3.5,23.1-14.7,128.1-18,142.2c-3.1,13.2-6.6,83.7-4.1,95.8c0.8,4,14.5,53.9,10.2,55.2c-4.8,1.5-106.3-41.8-108.6-45.9
        		c-1.7-3.2,20.5-23.7,21.1-27.5c4.6-29.7,12.5-58.8,19.7-88c3.7-14.8,3.1-30.2,4.7-45.3c2.5-22.8,8.5-96.5,11.6-119.2
        		c2.4-17.5,6.1-41.9,7.4-59.6c0.3-4.8-0.4-9.7,0.1-14.5c6.6-64.2,4-192,4-177.4c0-20.8,1.4-41.3,2.6-61.9
        		c0.9-14.5,4.5-68.3,4.1-88.9c-0.4-21.4,4.6-220.4,4.3-225.6c-1.1-20.2-8.4-83.1-8.3-94.5c0.1-11-21.6-195.2-20-209.2
        		c0.3-2.9-32.7-17.4-31.2-28.4c5.2-4.1,68.9-6,74-6.1C1532,44.8,1480.6,248,1480.4,279.3C1480.4,296.4,1488.3,417,1488.2,432.6z
        		 M1348.5,854.7c0.4,5.6-3,4.7,33.9-0.4c21.1-2.9,36.1-104.4,38.1-122.4c2.4-20.9,9.6-148.1,9.7-150c0.3-10.9-0.6-148.6,0-161.5
        		c0.5-11.3-4.5-60.4-4-72c1.3-28,1.1-167.5-5.8-188.1c-6.7-20.1-3.3-34.9-21-48c-29.4-21.8-25.5-25.7-63-22
        		c0,0,10.5,96.4,10.5,114.5c0,17.7,8,233,8,260.5c0,29-4.3,139-4,143c1.2,19.3-0.9,78.2-2.4,88.2
        		C1344.5,721.8,1348.8,832.7,1348.5,854.7z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;tyler-e&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#F9F9F9;&amp;quot; d=&amp;quot;M1022.7,887c10.8-55,1.6-97.9,3.7-117.4
        		c0.8-8.1-9.2-196.6-10.5-214.1c-1.6-20.7-22.1-261.9-22.2-293.8c0-13.6-10.8-144.4-9.4-156.7c-1-20.6-41.9-15.3-42.2-35.7
        		c0-4.1,76.4-4.4,84.7-4.3c10.6,0.1,45.8-1.2,52.6,0.4c4.2,1,73.9-2.3,85.8-2.2c5.4,0,11.8,63.4-4.8,62.4c-16-1.3,28-32-109.3-32
        		c0.1,6,21.3,212.8,26.7,265.3c2.5,52.5,11.3,212.2,12.7,236.9c0.5,10.2,6.7,160.8,4,178.4c-2.2,13.9-2.9,75.6-4.6,88.3
        		c-1,7.9,53.3-3.2,74.6,1.7c0.6,0.1,1.9,76.8-5,74.3c-17.8-6.3-80.4-14.9-81.9-11c-2.7,7.5-2.7,100-9.4,138
        		c-5.1,24.9-11.8,93.4-15.7,118.5c1.1,4.2,69.4,21.7,81,26.5c4,1.7,27.1-1.9,31.7-2.7c3.8-0.7-2.4,95.9-6.7,94.8
        		c-4.2-1-112-41.6-122.5-45.5c-10.1-3.7-91.4-29-91.8-29c-9-11,33.3-56.3,33.3-56.3c4.8-9.3,10.6-46,12.9-67.7
        		C990.7,1100.5,1019.7,913.1,1022.7,887z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;tyler-l&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#F9F9F9;&amp;quot; d=&amp;quot;M891.5,1107.5c-0.6,15.6,1,118.3-5.5,115.8
        		c-8.7-3.3-116.2-44.4-137.3-48.9c-3.2-0.7-98-28.7-101.3-29.1c-0.4-25.7,51.8-47.8,52.6-54.6c3.4-23,29.1-94.3,29.6-97.7
        		c3.4-22.4,19.3-61.8,20.8-84.3c1.6-22.8,6.3-60.8,8.3-83.7c1.5-16.7,27.3-180.5,28.7-195.7c0.9-9.5-2.9-28.5-1.3-38
        		c4-23.9-7.1-253.7-7.3-272.3c-0.3-20.7-0.8-38.1-3-58.7c-1.5-14.1,10.9-143.1,8.3-157c-1.6-8.6-33.7-14.7-33.7-28.4
        		c0,0,60.1-0.3,77.1-2.8s55.3,2.8,55.3,2.8c-0.7,19.1-36.2,19.8-33.8,37.1c2.1,12.1-1.1,141-0.2,155c1.7,25.7,3.1,62.1,3.3,77.3
        		c0.4,23.5,4.7,93.1,6.7,111c1.8,15.9,1.2,125.8,0,138c-1.4,14-9.9,124.2-12,157.7c-1.7,27.6-6.2,54.7-11.2,82
        		c-2.4,13.3-8.4,57.9-9.8,80.7c-1.4,22.1-15.6,73.4-17,81.3c-2.4,13.7-11.5,36.8-13,50.7c-4.1,38-10.1,61.7-10.1,61.7
        		c32.7,13.5,36.3,19.4,53.3,24.7C859.2,1138.4,874.2,1104.5,891.5,1107.5z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;tyler-y&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#F9F9F9;&amp;quot; d=&amp;quot;M711.5,85.9c-3.3,22.8-22.1,14-29.5,36.5
        		c-4.2,12.7-17.1,70.2-21,83c-3.2,10.8-31.8,102.6-35,108c-3.5,5.9-50.2,223.8-52.5,228.9c-4.1,9.1-7.5,47.5-8.8,54.3
        		c-5.2,26.6-2.2,60.1-1.3,93.1c-3.7,24.5-9.2,160.9-10.4,182.9c-0.7,14.5-7.7,56.3-10.3,70.7c-0.9,4.8-8,115.5-6.8,131.8
        		c0.5,7.1,15.8,27.9,12.5,49.2c0,0-158.9-55.2-159.7-61.3c4-10.7,27.3-10.7,36.7-21.5c5.9-10.9,27.9-44.5,29-63.5
        		c0.7-11.4,15.3-61,20-78c1.3-4.8,16.3-97.8,17-123c0.6-20,0.5-84.3,4-113.9c2.1-44.7-6.3-48.6-7-75.9c-1.9-31.2,2-87-4-106.7
        		c-5.1-16.5-35.8-223.5-40.4-245.1c-3.6-17.3-13.7-100-22.3-118.4c-4.4-9.3-32.6-15-37.7-24c-2.4-4.3,94.1-8.3,95.5-6.2
        		c1.8,4.6-26.1,18.4-22,34.7c12.4,49,23.4,136.1,27,151.5c4.9,20.8,38.5,222.8,42.5,222.9c3.9,0.1,34.7-184.7,39.5-195.9
        		c9.4-22.1,36.9-164.3,42.4-181.5c4.5-14.3-21.9-29-23.4-35.5c-0.4-2,30.7,3.9,61.8,0.5C660,82,711.4,83.9,711.5,85.9z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;tyler-t&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#F9F9F9;&amp;quot; d=&amp;quot;M137.7,929.3c8.4-14,28.7-258.7,31.3-277.9
        		c2-14.3,8.4-296.9,7.7-308.6s-3-185.9,0.7-205.2c0,0-42.4,2.7-66,6.9c-9.1,0.2-41.9,32.7-50.4,35.8c-2.6,1,6.8-62,9-63.7
        		c11.7-3.6,21.2-1.8,33.9-1.2c8.8,0.4,84.5-4.5,84.5-4.5s95.8-11.7,119.3-10.8c9.7,0.4,32.9-1.3,35-1.2c6.3,0.4,16.3,69.9,10,69.4
        		c-5.7-0.4-38.2-34.7-46-35.3c-16.8-1.5-56.1,1.7-56.1,1.7s6.2,223.5,8.1,245.7c-0.5,15.5-6.7,98.5-7.9,110.6
        		c-1.8,17.9,1.1,95.3-0.7,108.8c-2.7,20.9-11.2,347.1-11.3,356.5c-0.2,10,24.7,56.6,16.7,72c0,0-155-53.8-153.9-67
        		C105.2,951,135.3,935.7,137.7,929.3z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;dev-t&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M3188.7,1119.3c0,0,2.3,33.9-1.9,32.8
        		c-3.8,1.2-6.5-6.5-33.3,1.8c-2.2,0.7-1.7,149.2-5,168.2c-6.1,35.3-4,64.6-7.2,105.9c-2,26.2,3.4,52.1,1.1,78.2
        		c-1.7,19.3,0.9,38.5,2.3,57.8c1.6,21.2,3.6,42.4,5.4,63.6c2.5,28.8,8.1,171.8,10.7,187.7c1,4.5,16.6,14.5,15.4,21.9
        		c-1,1.7-63.1,2.5-62.8,0.6c2.3-12.3,13.6-19.5,13.9-24c1.1-13.8-1.2-124.6-1.7-153.8c-0.2-15-11.2-104.7-10.1-135
        		c0.9-23.8-4.3-47.7-0.5-71.3c3-18.4,3.5-87.9,5.9-104.2c2.1-14.5,2.8-28.6,4-43.3c1-12.9,4.7-148.5,2.7-148
        		c-36.3,9.2-27.3,17.7-32,19.8c-0.9,0.8-8.9-27.4-7.9-28.5c9.2-5.8,17.5-9,27.2-11.1c17.8-3.8,37.1-11.3,55.8-16.4
        		C3175.4,1121.5,3181.7,1118.9,3188.7,1119.3z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;dev-n&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M3040.2,1764.4c3.4-2.8-2.9-89.2-2.7-107.3
        		c0.2-19.2-4.3-38.1-4.6-57.2c-0.2-14.2-6.9-162.2-5-179c3.4-30.2-2-219.6-0.9-235.3c-4,0-15.1-4.8-19-10.3
        		c-1.2-4,52.4-17.3,52.2-15.7c3.1,12-9.8,11.9-9.2,23.5c0.8,8.2,3.9,123,1.8,143c-1.5,13.9,2.1,57.9,0.1,71.8
        		c-2.6,18.1,1.3,158.1,1.2,177.1c-0.2,27.7,7.3,219.9,8.4,238.2c0.1,2.7,15.9,17,14.3,23.9c-0.3,1.2-60.3,1.9-60.7-0.2
        		c-1.5-8.9,9.8-18.1,9.4-24.1c-1-14.6-11-76.9-14.5-89.6c-4.9-17.3-17.5-88-18-103.1c-0.6-18.7-14.1-164.6-15.4-190
        		c-0.9-17.7-17.8-178.4-24-176.2c-9.5,1.5,4.7,209.8,5.2,218.7c1.3,23.8-0.8,159.6-0.6,171.2c0.5,20.1,0.5,145.1-0.9,167.9
        		c0.1,5.2,14.1,15.5,16.5,25.2c0.8,3.3-56.9,3-56.8,0.4c-1.7-13.7,10.3-12.4,10.5-24.5c1.7-81.4,7.9-360.4,5.6-396.4
        		c-0.6-23.9-5.2-193.3-6.7-207.2c-0.8-4.4-12-8.2-15.1-15.1c-0.1-2.7,42.8-11.7,44.4-9.2c7.9,16.2,26.3,58.5,29.1,77.2
        		c5.5,37,21.6,243.3,25.5,266S3037.4,1762.4,3040.2,1764.4z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;dev-e-3&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M2800.8,1629.3c1.5-17.2-0.2-38.2,1.5-55.3
        		c5.3-53.1,5.7-217.8,4.3-229c-0.5-3.6-5.7-90.3-6.2-94.7c-0.9-1.7-14.9,1.6-14.9,1.6c-1.4-12.2-3.5-20.7-3.5-20.7
        		c26.5-11.5,79.9-26.6,90.7-29.9c4.9-1.5,8.5,36.7,7.6,39c-1,1.6-5.3-8-15.5-7.8c-15.8,0.3-31.5,7.3-38.7,10.8
        		c-1.9,1,0,53.8,2.7,65.8c3.6,16.3,3.8,72.1,3.5,92.7c-0.4,22.5,1.4,60.9,0.2,68.6c-2.8,18.4-2.7,30.9-3.2,49.5
        		c-0.4,15.2-1.8,31,0,31.2c23.9,1,33.9-6.4,41.6-5.8c0.8,0.8,2.5,37.2-2.1,36.7c-6.2-0.5-21-7.2-42.2-4.5
        		c-1.8-0.3-4.4,236.6-0.1,236.4c6.4-0.2,29,1.3,35.2,1.2c10.6,0,8.4-11.2,18.8-10c4.1,0.5,0.4,36.6-1,36.7
        		c-10.5-1.1-81.9-1.7-87.2-2c-0.4,0-4.6-10.4-1.6-25.1c0.5-2.3,10.2-1.6,10.2-1.6C2801.9,1760,2800.2,1636.5,2800.8,1629.3z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;dev-m&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M2659.8,1551.3c-0.1-7.7,6.7-11.2,6.6-16
        		c-0.3-18.9-25.2-164-27.5-163.5s-0.3,96.4-1.4,107.3c-1.2,11.6,0.5,23.4,0.3,35.1c-0.1,7.2,0,100.8-3.4,122.1
        		c-1.6,10.1-1.6,138.8-3.2,181.6c-0.3,6.9,11.2,9.3,9.9,19.7c-0.6,1.8-49.5,2.9-49.3,0.2c-0.1-8.6,7.7-11.6,8.7-16.6
        		c2.9-18.8,5.1-138.8,7.6-157.6c2.9-21.2,1.6-120.6,2.6-137.1c0.8-14.1,0-46.7-0.1-55.1c-0.1-35.5,7-99,4.4-134.5
        		c-0.9-12.7-2-26.6-4.1-41.6c-0.3-2-16-5.5-15-11.5c0.5-2.5,56-21.2,57-17.5c0.7,2.6-6.1,17.5-5.5,22c0.2,1.7-4.6,13.5,2.2,55.2
        		c0.6,7.3,32.1,157.9,32.1,157.9c4-4,13.9-130.3,18.6-179.4c4.1-42.5,5.4-42.8,6-55.8c-0.6-5.4-12.1-6.3-12-12.9
        		c1.1-3.5,47.3-18,47.5-15.1c1.6,7.4-7.6,14.4-7.5,21c-0.1,6.1,8.3,106.7,9.6,124.8c1.7,24.5,5.9,72,3.2,96.4
        		c-2.8,26-0.2,43.1-2.9,69.1c-1,9.9,2.8,52.9,1.1,62.8c-3.8,23.6-0.2,181.1-1.6,205c-0.2,6.3,9.5,9,8.9,21.1
        		c0.2,2.5-49.6,2.5-51.2,0c-1.7-7.2,13.8-12.4,13.8-21.2c0.2-36.6-1.2-164.8,4-201c4.4-30.4,0-84,3.3-114.5
        		c2.5-23,1.7-136.4-0.9-159.5c-0.5-4.5-9.2,83.3-10.5,93.1c-1.3,17.2-10.5,65.1-16.5,94.9c-0.8,4.5,6.3,6.3,6.4,13.5
        		C2701.3,1547.1,2660.9,1555.3,2659.8,1551.3z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;dev-p&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M2577.5,1532.5c0.2,11.4-0.3,32.8-1.6,44.2
        		c-3.7,31.6-5.6,40.2-54,40.9c-0.8,0.5-2.8,78.7-2.7,94c0.1,12.6,1.4,25.2,0.2,37.7c-1.4,14.2,2,54.6-0.2,68.6
        		c-1.7,10.7,12.4,11.8,11.1,21.1c-0.3,2.2-54.9,4.2-55.2,1c-0.6-8,12.9-12.3,13.8-19.9c1.6-14.2,3.2-39.4,5.4-53.5
        		c4.4-27.4,2.8-55.1,4.3-82.5c0.2-3.8-0.9-44.7-0.3-48.5c1-6.6-2.2-59.7-1.1-77c1.4-23.5-0.2-46.8-0.7-70.1
        		c-0.5-21.7-5.2-40.3-7.3-61.8c-2-20.6-6.3-67-11.4-95.1c0,0-11.1,4.8-11.9,1.4c-0.4-1.9-11.3-14-10.6-14.7
        		c11.4-5.4,59.6-17.9,72.5-19.7c9.5-1.3,15.8,2.5,22,10c6.8,8.3,9.9,21.7,13,31.7c3.7,11.9,4.3,45.4,5.4,53.3
        		c2.4,18.4,3.6,33.5,4.6,52C2573.6,1456.7,2576.5,1502.1,2577.5,1532.5z M2521.5,1552.3c0,12.2,0.3,37.6,1.3,37.6
        		c2.8-0.2,11.5,0.8,17.5,0.2c20.8-2.6,18.8-6.8,19.2-25.7c0.5-22.7-1.4-55.5-1.3-75.7c0.1-16.7-9-99.2-11.1-117.5
        		c-1.8-15.3,1.6-26.9-6.9-40c-4.1-6.4-12.2-9.6-17.9-8.5s-19.6,5.1-21.5,5.6c-1.6,0.7,8.6,67.8,9.2,74.7
        		c2.6,28.1,9.3,53.1,10.2,81.4C2520.3,1490.1,2521.6,1535.3,2521.5,1552.3z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;dev-o&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M2444.7,1488.8c1.2,29.9,2.7,99.7,3.2,131.6
        		c0.5,31.6-2.3,67.1-4.7,98.5c-2.5,32.5-3.5,64.5-14.7,95c-4,10.7-4.7,32-39.9,32c-14.6-1.7-31.5-12-32.7-24.9
        		c-0.7-7.5-2.7-14.7-2.8-22.5c-0.2-11.1-0.5-22.3-0.2-33.3c0.7-24.9,2.3-49.9,1.2-74.8c-1-21.6-1-47.1-1.3-68.7
        		c-0.2-14-3.4-65.8-3.6-79.6c-0.3-20.7-4-40.9-5.1-61.4c-0.9-16.5-2.9-33-3.6-49.6c-1.3-29.3-4.3-54.5,8.8-80.8
        		c3.6-7.2,12.2-12.5,18.8-16.7c26.1-9.3,44.9-7.7,49.6-0.7c6.1,9.1,9.9,34.4,11.9,41.6c2.8,10,6,20.7,7.5,31.1
        		C2440.8,1432.5,2444.1,1459.5,2444.7,1488.8z M2382.6,1817.3c1.5,5.4,9,6,12.6,1.8c2.5-3,7.8-12.1,8.8-15.8c5.1-14.6,9-53.7,11-71
        		c1.7-14.8,1.3-29.9,2.7-44.6c1.9-19.2,3.2-42.4,4.2-61.6c1.1-21.5-2.1-81.1-1.8-102.6c0.2-12.3,0.8-24.7-0.3-36.8
        		c-2-21.8-5.5-43.4-7-65.2c-0.4-5.2-5.7-44.5-10.3-63.2c-2.7-13.4-16.5-11.7-20.3-11.9c-7.9-0.9-12.1,33-14.1,49.3
        		c-2.1,16.7-0.7,65,0.7,72c3,16,3.5,32.4,5,48.5c2.3,25.8,5.5,89.6,5.5,115.7c0,19.3,1.6,42.5,1.4,61.8c-0.2,18.3-1.6,36.4-2.1,54.6
        		C2378.3,1761.3,2380,1807.8,2382.6,1817.3z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;dev-l&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M2319.2,1841.6c-18.2-1.7-75.8,1.1-92.6-0.7
        		c-1.8-1-1.1-12.5,0-23.7c0.3-3.5,15.9-1.5,16-3.6c0.8-12.5,6.9-83.2,7.9-95.8c1.4-16.9,3.2-33.7,6-50.4c3-17.8,3.1-35.6,4.4-53.5
        		c0.9-11.6,1.1-72.7,1.4-91.6c0.4-22.7,2.3-33.9-1.3-56.2c-1.5-9.2-8.4-66.8-7.2-76c0.5-3.8-16.9-8.3-16.9-18.8
        		c0-1.6,53.3-13.6,53.2-12.9c2.6,17.2-8.3,21.8-7.5,26.8c1.7,11.1,4,87.9,3.7,97c-0.3,10.6,2.2,57,1.1,68.5
        		c-2.2,21.8-2.2,55-3.1,76.8c-0.9,21.2-7.1,84.4-8,89.2c-2.8,14.7-2.1,36.1-4.1,50.9c-2.1,15.4-3.9,46.9-2.9,47.1
        		c7.6,1.7,24.5,0.5,32.1,0.1c13.9,0.4,12.9-10.6,18.7-8.9C2324.3,1807.2,2321.5,1842.2,2319.2,1841.6z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;dev-e-2&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M2149.6,1691.9c-1,0.1-3.8,47.8-7.4,64.1
        		c-2.9,13.3-5.2,59.7-1.9,59.5c12.2,0.5,14.3,1.8,25.4,1.8c9.7,0,7-13.3,15.5-13.9c2.4,0.8,1.9,37.4-1,37.2
        		c-4.6,0.4-23.2-0.9-27.8-0.6c-12.2,0.7-41.8,0.9-55.4,0.5c0,0-1.1-12.1,1.3-22.8c1.1-5.1,11.9-1.4,12.2-2.9
        		c5.8-39.5,14.6-154.9,17.5-176.4c3.1-22.7,8.1-68.3,7.6-91.8c-0.1-7.3,1.9-111.3,2.2-118.6c-0.1-4.1-15.9,9.7-15.3-2.7
        		c0.3-5.4-4.7-22.8-3.5-24.3c4.8-0.8,50.6-12.6,63.2-14.7c7.6-1,22.9-10.2,25.2-10.2c4.5,0.1,7.4,44.1,5.8,47.3
        		c-0.6,1.2-19-13.2-19-13.2c-11.5,3.3-19.5,5.8-29,8.9c-2.9,1.5-3.2,47.2-3,53.4c0.9,30.2-0.4,58.2-0.5,88.4c0,21.9-2.4,33.7-4,55.5
        		c-1.7,24.6-6.5,45.9-4.9,46c37.5,1.5,22.7-13.1,35.3-11.3c3.5,2,2.8,41.1,1,42.6c-4-0.3-9.6-2.8-15.6-3.3
        		C2165.6,1689.9,2155,1691.6,2149.6,1691.9z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;dev-v&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M2016.9,1807.9c5.8,0,11.1-75.8,13.4-87.9
        		c4-20.8,8.4-71.7,9.5-76.4c6.7-28.4,14-120.5,15.6-136c0.1-1,7.4-55.2,5.3-69.6c-0.7-12.8-14.1-6.3-16.5-16.4
        		c-0.9-4.1,49.3-15.5,50.1-14.3c0.1,14.9-12.7,13.9-12.4,23.4c0.3,11.1-6.2,67-4.6,80.1c0.7,5.4-3.9,91.4-11,127.2
        		c-1.8,9-20.5,97.4-25.7,131.3c-1.7,9.8-5.3,39-9,50.7c-0.5,8.5,6,5.8,6.8,21.7c0.2,3.5-44.3,1.8-46.9,1.8
        		c-4.4-11.2,10.3-16.6,8.8-23.8c-1-4.9-3-61.3-3-66.3c0-36.9-2.5-75.2-3.7-112c-1-31.2-3.7-61.6-3.7-92.9c0-15.5-2.9-81.1-3.3-90.3
        		c-0.2-6.4-16.4-3.5-17.9-10.9c-0.8-4.2,50.1-16.6,51.6-15.1c1.4,9.2-13.2,14.1-12.3,20.6c0.7,5.4,5.3,62.5,4.3,79
        		c-1.2,20.6,3,37,3,66.7c0,13.3,1.8,82.2,2.3,106C2018.1,1721.6,2012.4,1807.3,2016.9,1807.9z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;dev-e&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M1918.8,1840.6c-11.3,0.8-56.8-1.3-58.8-1.1
        		c-3.4,0-1.3-14.4-0.5-23.2c0.1-1.3,6.7,1.3,7.4-1.1c6.1-23.6,12.4-172.7,12.2-180.2c-0.4-23.6,0-39-3.8-62.4
        		c-2.2-13.4-2.2-70-3.3-77.2c0,0-13.5,4.1-13.4,2.3c0.7-4.4-5.3-17.8-3.7-18.2c2.6,0,38.5-11.2,43.7-12.2c10.9-3.2,32.4-8.4,42-9.3
        		c1.6-0.2,2.1,34.5,0.5,39.4c-0.2,0.6-9.8-10.1-14.8-9.9c-7.4,0.3-22.3,2.7-30.2,3.6c-1.9,0.2-2.2,19.6-1.2,28.5
        		c2.9,25.4,1,51.8,3.8,77.3c4.1,36.7,2.4,61.5,0.6,98.4c-0.4,8.7-1.4,14.7,0.2,15.1c32.3-0.2,28.3-5.5,36-5.2c0,0-0.1,6.2-0.2,11.7
        		c0.1,6.4-0.3,19.5-0.3,19.5c-6.9-0.5-6-5-37.1-4.2c-2.4,0.5-2.3,6.4-4,25.9c-1.8,15.5-5.6,57.6-4,57.7c12,0.4,20.1,1.5,31.1,1.6
        		c12,0.4,12.6-10.5,18.5-10.3c1,3.9,1.8,31.1-0.5,32.8C1937.1,1841.4,1927.7,1840.5,1918.8,1840.6z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;dev-d&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M1740.7,1610c-1.2-31-3.1-35.3-3.1-35.8
        		c-0.1-1.6-4.5-32.4-4.8-34c-3.1,0.8-15.9,4.4-16.5,2c-1.2-4.8-2.9-22.6-2-23.1c9-4.4,43-14.5,53.4-16.3c3.7-0.1,26-3.1,29.4-1.6
        		c13.6,6.3,21.4,17.1,22.4,31.3c2.1,30.7,4.8,55.4,5.4,86.1c0.2,13.8,0.3,62.5-0.3,81c-0.9,25.2-2.5,50.2-7.2,75.1
        		c-3.1,16.1-9.1,31-16.8,45.2c-3.5,6.5-13,13.8-24.2,17.3c-12.1,3.8-48.5,2.7-61.6,2.7c-2-0.7,0.9-18.7,1-22.8c10.8-0.5,13-1,13-1
        		c4.9-27.3,11.9-135.7,12-152.7C1741.9,1638,1740.4,1618.2,1740.7,1610z M1802.5,1660.2c0.1-6-2.9-105.3-4.4-118.1
        		c-2.8-23.9-45.2-7.9-45.2-7.9c1.2,11.2,6.8,30.5,7.3,41.9c0.8,16,1.8,16.9,2.9,32.9c0.4,6.6,1.5,20.5,0.3,32.7
        		c-1.5,15.7-1.9,82.7-2,95.5c0,4.8,0,9-0.4,14.1c-1.1,12.4-11.7,63.9-10.8,64c10.7,0.8,26,0.2,31.6-7.9c8.3-12.1,12-38.9,12.8-41.2
        		c1.7-11.5,2.1-24.1,3.5-35.5C1800.7,1710,1803.6,1680.9,1802.5,1660.2z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;des-n&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M1172.1,1672.2c-0.7,23.9,0,141.7-1.4,153.1
        		c-0.7,7.7,10,3,11.3,13.8c0.2,1.5-57.2,3.5-57.2-0.2c0-7.6,9.2-5.6,10.6-11.5c5.6-24,7.6-91.9,9.8-101
        		c4.3-17.8-1.5-224.9-1.5-245.3c0-10.5-10.4-12.9-8.5-23.4c0.9-5.1,33.3,7.2,35,11.3c2.2,5.4,8,42.2,13.5,54.2
        		c4.4,9.6,13.8,44.7,15.5,52.4c5.1,23.8,20.3,107.5,24.7,129.9c1.2,5.9,16.5,85.4,17.7,88.7c9.4-2.5-3.1-189-2.8-202.5
        		c0.4-16.9,1.7-80.8,0.7-92.2c-1.6-4.1-9-11.7-8.9-18c0.9-2,51.2,15.3,48.6,19.6c-3.4,8-11,0.7-12.3,13.6c1.7,15.3-4,44.4-4.1,59.9
        		c-0.1,16.3,5.5,98.1,3.5,139.4c0.1,25.1,3.6,82.4-1.2,103.4c-3.8,16.5,9.6,8.7,11.3,20.3c0.3,2-58.4,4-59.8,0.3
        		c-0.9-5.9,11.7-5.3,7.2-20.8c-4.4-15.2-15.6-67.2-17.9-82.8c-2.5-17.7-11.1-34.5-13-52.2c-1.5-13.9-22.6-123.5-24.5-127.3
        		C1165,1554.4,1172.7,1649.5,1172.1,1672.2z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;des-g&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M1046.7,1434.9c-0.8,1.3-20,49.6-20.9,47.2
        		c-12.2-12.1,4-8.4-8.2-32.8c-4.4-9.9-36.3-32.3-46.9-25.8c-8.6,5.3-12,19.1-14.1,28.2c-2.6,11.3,4,60.4,4.2,73.5
        		c0,1.5-0.8,90.1-2.2,97.4c-3,16-6.7,111-10.4,137c-2.2,15.1,0.7,22,5.4,36c7,21.2,36.4,29.8,52,14.4c7.3-7.1,5.6-60.8,7.3-78.8
        		s0.3-37-2.9-36c-3.5,0-14.5-2-24.4-0.9c-0.3-9.1-14.3-26.2-7.2-29.7c15.5,0.9,67.6,2.4,82.7,0.4c3.3,1.3,1.4,20.5-2.7,27.7
        		c-0.7,8-15.3,1-16.3,5c-3.1,12.5,2.3,138.3,0.7,143.5c-25.7,1.6-15.1-21.5-25.7-11.4c-11.1,10.4-11,13.8-48.9,13.8
        		c-49.8,0-54.6-69.1-51.1-87.6c3.4-17.8,15.5-231.8,13.3-241.5c-5.1-23.6-8.3-123.4,46.5-115.6c28.4,4.1,43.1,25.7,52.3,30.2
        		C1036.9,1432.7,1050,1425.9,1046.7,1434.9z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;des-i&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M817.9,1572.5c0.3,2.4,0.1,22.8,0,27.8
        		c-0.7,25.8-2.3,72.9-2.8,88.9c-0.1,2.3-5.8,67-7.4,79.2c-1.6,12.3,0.2,35.7,0.1,40.2c-0.2,3.7,4,3.9,11.8,5.2
        		c6.5,1.2,7.2-6.5,10.8-4.5c-0.6,4.5,1.9,28.7-1.5,29.7c-24-3.7-65.2,1.1-68.1,0.3c-1.1-1.1-2.3-24.7-1.6-29.5c3.8-4,4.4,3.8,10,3.1
        		c7.5-1.5,9.9,2.6,10.5-3.1c1.7-16.7,1.6-39.9,3-56.7c1.3-15.8,8.2-142.2,8.6-152.5c0.3-8.9-0.8-28.6-0.7-38.5
        		c0.2-17.2-7.2-133.3-7.9-140.6c-1.5-15.6-0.4-48.9-0.6-50.6c0,0-3.6-2.4-7.8-4.3c-8.2-2.5-9.9,6.2-13.7,2.8
        		c1.8-4-1.5-31.6,2.3-32.2c5-0.3,25.8,5.7,40.6,12.4c11.7,5.3,7.9,3.6,20.7,8c2.3,1.1,10.8,5.4,10.2,7.8c-3.1,12-3.9,26.9-5.7,26.1
        		c-4.7-1.5,2.6-2.4-8.7-8.5l-12.4-4.7C807.4,1380.6,816.8,1563.2,817.9,1572.5z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;des-s&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M633.7,1593.6c-5-10.8-42.2-23.9-45.7-27
        		c-14.3-12.7-29.1-28.2-32.3-46.9c-1.4-8.5-7.9-85.2-7-105.4c0.1-1.3,1.3-124.5,51.9-125c49.5-0.5,61.9,46.1,63.5,61
        		c1.5,19,8.6,87.4,8.8,106.4c0.1,16.9,6,10.7,6,22.1c-1.2,3.5-38.2,3.4-41.8-0.1c-1.7-11.3,8.9,0,8.9-20.4
        		c0-13.6-2.9-101.1-3.5-114.7c-0.5-11.1-17.7-32-24.8-33.3c-8.3-1.6-26.3-0.1-31.1,19.5c-4.1,11.5-8.4,78.9-8.4,84.3
        		c-0.3,31.9,1.6,97,9.2,111.5c6.7,28.1,48.7,28.7,64.6,52.8c5.9,7.7,15.8,88.4,15.4,114.2c-0.2,6.6,10.8,148.7-51.6,150
        		s-87-72-86.6-96.3c0.3-18.6-2.2-53.2,1.9-76.3c3.9-21.7,29.1-40.7,44-40.7c6.2,0,7.5-5.3,17-12c3.1-2.2,14.3,65.5,10.7,65.2
        		c-12.7-1.2-7.2-7.3-19.4-14.8c-8.7-5.3-17-8.3-20.8-0.1c-6.4,14.1-3.9,36.3-3.9,52.7c0,13.2,23.6,88.9,51.6,88.3
        		s35.4-54.3,34.9-90.8S637,1600.8,633.7,1593.6z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;des-e&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M390.9,1837.5c-14.1,0.2-47-1.7-63.2-2.6
        		c0,0-2.3-8.4,1.4-24.7c7.6,2.2,6.5-0.6,6.6-12.9c0.8-11.5,1.1-87.4,2.2-122.6c0.2-5.8,0.6-24.6,0.5-26.3c0-1.3,1.2-60.1,2.8-65.7
        		c1.6-5.7-0.1-91.5-1.9-103.6c-0.6-3.9-5.9-97.2-5.6-105.1c0.4-12.5-1.9-96.5-1.2-108.9c1-29.3,3.4-26.6-8.4-27
        		c-0.9-13.7-1.4-31.6-0.8-31.6c18.3,0,60.6,21.5,76.7,27.6c52.2,15.8,50.4,10.3,59.1,10.9c3.1,0.6-6.7,49.1-9.6,48.6
        		c-6.4-0.7,2.6-13.5-15-21.1c-20.2-8.6-53.9-24.3-73-28.1c-2.5-0.3,1.9,105.3,2.5,116.2c1,21.2,0.3,48.6,2.4,69.8
        		c1.2,12.5,3.6,60.7,4.4,72c1.1,16.5-1.6,70.6-1.2,74.8c1.4,16.9-0.5,72.7,0.6,73.2c4.5,1.2,24.5,0.8,28.8,0.9
        		c28.8,1.2,26.8-7.5,35-7.8c1.1,0.4,1.6,39.9,0.4,39.9c-5.9,0-2.6-8.6-64.7-8.2c-1.8,0-1.2,136.5,2.2,137.5
        		c74.2,3.4,61.5-11.1,70.8-11.2c5.1-0.7,3.4,33.7,2.8,34C436.5,1837.5,404.6,1837.5,390.9,1837.5z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;des-d&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#FFB400;&amp;quot; d=&amp;quot;M126.1,1143.7c14.1,4,43.3,12.5,57.2,17
        		c16.3,5.2,31.2,20.7,38.8,36.3c7.6,15.5,11.1,31.5,14.7,48c3.3,15.3,14.6,210.1,11.9,231.1c-2.2,16.8-6.5,184.4-7.3,203.3
        		c-1.1,27.2-12.2,123.8-42.6,142.9c-32.2,20.2-98.8,6.3-118.7,11.6c0,0-0.7-8.5,0-23.9c0.9-6.9,17.3,11.1,17.4-17.1
        		c0.2-53.8-6.2-295.7-6.2-299.6c0-114,3-286.6,2.9-296.1c1.5-45.9-15.1-24.4-16.5-32.9c-0.5-2.8,0.2-27.7,3.5-27.9
        		C83.3,1136.4,121.2,1142.4,126.1,1143.7z M201.1,1210.7c-5.6-16.7-17.2-23.3-33.5-28.2c-15.9-4.6-51.2-15-50.7-11.2
        		c0.8,6.9,0.7,61.5,0.9,71.1c0.3,16.2,2.1,171.9,2.8,182.6c1.2,18.9,0.4,132.4,1.8,151.4c0.4,5.3-1.5,123.7-1.8,126.3
        		c-1.3,16.4,0.9,102.1,0.9,102.1c21.4,6.4,21.4,6.4,43.7-2.8s37.6-42.3,39.4-55c2.7-19.4,10.7-255.5,10.7-265.3
        		C215.3,1469.3,208.4,1232.4,201.1,1210.7z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;bk-n&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M1650.6,2036.7c-8.8,0.1-8.7-1.3-10-7
        		c-1.5-6.9-8.3-9.3-12.2-14.3c-5.4-6.8-11.8-13-18-19.1c-3.3-3.2-5.2-2.5-6.2,2c-3.4,14.9-10.6,28.4-16.3,42.4c-2,4.9-7,6.8-10.7,5
        		c-4.4-2.1-5.8-6.5-3.5-11.8c6.6-15.1,12.8-30.3,17.3-46.2c1.4-5,2-9.8,2.5-14.8c0.5-5,1.8-9.9,6.8-11.3c5.4-1.5,9.7,1.5,12.7,6.2
        		c8.6,13.5,21.8,22.8,31.3,35.6c4.9,6.7,8,6,11-2.2c4.5-12.2,13.7-21.5,19-33.1c1.7-3.8,0.6-5.4,9.8-3.2c6,2.7,3.2,4.6,3.3,7.7
        		c0,2.9-1.5,5.1-3.2,7.3c-8.6,11.1-13.2,24.2-19,36.8c-1.4,2.9-0.8,5.9-1,8.9C1664.2,2036.1,1664.2,2036.1,1650.6,2036.7z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;bk-k&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M1120.3,1996.2c11.6,13,26.9,20.3,40.8,29.6
        		c9.6,5.8,9.6,5.8,3.6,13.5c-7,9-7,9-14.1,3.7c-0.9-0.4-1.9-0.8-2.6-1.5c-10.4-10.2-24.2-15.8-35.1-25.2c-1.8-1.5-3.7-3-5.8-4.1
        		c-8.3-4.5-11.4-3.2-13.2,6.3c-1.2,6.1-3.5,11.6-6.1,17.1c-3.4,8.2-4.4,10.6-12.8,6.9c-10.9-4.6-8.9-4.9-3.6-14.1
        		c6.6-11.8,9.8-24.9,15.9-36.9c5.5-10.9,13.1-21.3,13.4-34.5c0.1-3.9,1.7-7.1,10.9-3.9c8.8,3.1,7,5.6,5.3,9.3c-1.7,3.7-4,7-5.9,10.6
        		c-1.1,2.1-2,4.8,0.2,6.5c1.7,1.4,4,0.2,5.5-1c8-6.4,17.8-9.6,26.3-15.1c3.4-2.2,6.4-4.5,10,0.1c7.4,8.7,2.1,7.7-0.6,10.2
        		c-3.2,7.1-10.7,8.1-16.2,11.3C1130.6,1988.3,1125.3,1991.7,1120.3,1996.2z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;bk-o-2&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M1001.8,2002c1,8.2-3.7,14.4-8.9,21
        		c-10.5,13.2-24.9,20.4-40.6,18.3c-16-2.1-31.2-8.7-39.7-25.5c-5.6-11.1-4.3-20.8,1-30.6c5.1-9.6,13-16.1,24-18.3
        		c4-0.8,11.6-1.4,14-4.6c0,0,3.8-4.4,8.3-2.8c5.4,1.9,11.1,3,16.5,4.8C992.4,1969.6,1002.8,1985,1001.8,2002z M936,1981
        		c-10.3,4.6-14.5,18.7-7.3,27.4c5,6,11,11.5,19.3,14c9.8,2.9,19,0.7,27.3-3.4c7-3.5,12.6-9.3,12-18.4c-0.7-9.7-7.5-18.3-15.8-21.4
        		C961.4,1973.9,940.9,1978.8,936,1981z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;bk-o-1&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M728.3,2009.1c1.7-16.7,6.8-31.7,20.8-42.5
        		c6.4-4.9,13-7.6,21.3-7.1c11.3,0.7,22.2,1.6,30.8,10.3c6,6,9.4,13,9.6,21.6c0.3,13.4-3.2,25.4-13.1,34.9
        		c-5.6,5.4-9.8,12.6-19.2,13.6c-11,1.2-21-0.4-31.2-4.8c-7.9-3.4-11.9-10.5-18.2-15.4C725.6,2016.7,728.4,2012.7,728.3,2009.1z
        		 M744.8,2002.9c-0.9,3.7,1.1,7.3,4.5,10.6c4.7,4.7,10.7,7.6,16.8,8.7c4.7,0.8,10,3.8,14.7,0.9c9.2-5.8,15.6-14.4,15.9-25.4
        		c0.2-8.2-3.6-16.4-11.2-20.2C768.3,1969,746.1,1982.6,744.8,2002.9z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;bk-r&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M627.9,1978.4c1.8,6.7-6,8.4-9.6,12.8
        		c-1,1.2-2.9,1.6-4.4,2.4c-3.1,1.8-9,1.1-9.3,5c-0.3,4.5,5.5,6.5,8.9,8.2c14.3,7,31,18.4,45.1,25.5c3.9,2-4.8,15.9-10,14.7
        		c-4.5-1-9.5-2.3-13.1-4.9c-15-11-32.4-17.8-48.3-27.1c-2.3-1.3-5.1-1.7-7.7-2.4c-7.6-1.8-9.3-1.2-9.6,6.8
        		c-0.3,6.7-4.7,9.2-8.7,12.7c-2.3,2-4.3,0.9-6.5,0c-2.8-1.2-2.9-3.4-2.3-5.9c3.5-14.7,1.2-30.1,4.9-44.8c0.9-3.7,0.9-7-0.7-10.7
        		c-1.8-4.1-2.3-8.5,0.6-12.6c1.5-2,2.9-3.3,5.8-2.7c10.3,1.9,20.5,2.4,30.9,0.4c6.3-1.2,12.7,0.9,19,1.8
        		C620.4,1958.6,627.7,1969,627.9,1978.4z M591.7,1970.9c-3.3,0.4-6.6,0.8-10,1.3c-1.3,0.2-5.8-1.4-7-0.9c-3.8,1.4-2.8,21.5,2.7,19.7
        		c13.4-4.2,7.2-1.9,22.7-7.2c3.5-1.2,8.1-2.8,8.1-6.4c0-4.1-5.1-4.5-8.5-5.5C597.1,1971.2,594.4,1971.2,591.7,1970.9z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;bk-b&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M420.5,1946.9c7.5,2.3,14.3,0.5,21,1.7
        		c11,2,18.7,10.7,19.1,21.6c0.1,3.6-1.9,6.5-3.4,9.4c-4.5,8.6-4.2,8.1,2.2,14.6c10,10.2,13.3,20.8,4.2,34.3
        		c-2.6,3.8-6.5,5.8-10.5,7.6c-12.6,5.6-25.4,10.8-39.2,12.9c-4.9,0.8-11.8,1.7-16.3,4.6c-3.9,2.5-7,2.5-11.7,2.3
        		c-6.8-0.4-8.5-3.3-6.9-9.9c3.4-14.1,8.6-27.5,15.3-40.3c4.9-9.5,5.7-20,9-29.9c1.9-5.7,4.2-10.8,0.5-17.2c-2.2-3.8,2.2-7.5,6-9
        		C413.2,1948,417.3,1947.6,420.5,1946.9z M436.8,2005.3c-5,0.2-24.5,3.4-28.8,5.7c-3.6,1.9-12.3,25-6.7,25c2.7,0,14.3-2.4,16.9-3.2
        		c9.3-2.9,18.6-6.2,27.9-9.2c4.1-1.3,5.8-3.6,5.9-8.1c0.1-5-2.2-7.5-6.2-9.3C443,2004.9,439.9,2005.1,436.8,2005.3z M444.1,1972.4
        		c-1.7-2.6-1.7-6.9-5.8-7.4c-4.7-0.6-8.9-2.8-13.8-2.8c-4,0-6.1,1.5-7.6,5.1c-1.9,4.8-2,9.9-3,14.8c-2.3,11.2-4.7,11.2,6.1,8.7
        		c8.1-1.9,15.7-7.9,21.4-13C443,1976.5,444.2,1974.8,444.1,1972.4z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;ny-n&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M1893.7,1997.2c-3,9.2-11.7,27.1-17.1,35.1
        		c-3,4.4-5.9,8.9-7.1,14.4c-0.6,2.8-1.7,7-6.1,7.1l-11.3-7.1c-1.7-6.7,2.9-14,6.8-18c10-10.3,13.7-23.3,17.3-36.3
        		c2.3-8.2,7.8-14.1,12.4-20.6c4.5-6.3,4.5-6.3,15.2,3.3c2.5,3.1,18.4,33.6,22.1,41.9l9.4-14.6c0,0,12.8-27.5,15.9-36.1
        		c2.9-9.7,2.9-9.7,14.6-4.7c5.8,3.2,5.8,3.2,2.8,9.4c-3.5,7.4-6,15.1-9.8,21.9c-3.8,7-7,14.4-11,21.4c-3.9,6.8-13.8,32.3-14.2,35.7
        		c-2.2,8,0.1,8-9.1,8c-7.9,0.1-6.8-2.8-7.8-6.5C1912.9,2037.1,1894.9,1997.5,1893.7,1997.2z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;us-a&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M2774.7,1972.3c0.7,7.8,1.3,16.8,1.1,26
        		c-0.1,3.4,1.8,4.8,4.7,5.3c10.5,1.7,10.5,2.7,0.7,10.6c-5.2,4.2,0.8,11.3,1.9,16.4c2.8,13.2,8,19.5-6.7,19.5
        		c-10.7,0-9.2-3.6-9.9-9.2c-0.9-6.8-0.6-21.9-2.1-28.4c-11.1-3.6-10.1-3.1-16.2-3.7c-4.4-0.4-11.8-4.3-16.2-4.3
        		c0,0-13.2,14.5-17.5,25.4c-0.9,2.2-0.9,6.9-2.2,8.8c-1.6,2.3-20.9,2.3-23.4-1.5c-2.5-3.9,4.6-15.1,6.3-16.2
        		c3.6-6.6,35.2-41.2,39.2-45c6.2-5.9,13.2-13.3,17.4-20.8c5.4-9.5,4.2-7,10.4-6.8c6.4,0,7.5,0.4,9.8,8.3
        		C2773.9,1961.5,2774.1,1963.2,2774.7,1972.3z M2735.7,1993.9c15.2,2.8,29.7,6.5,29.7,6.5s1.9-20.8-5.8-35.7
        		C2754.6,1968.6,2739.4,1987.9,2735.7,1993.9z&amp;quot;/&amp;gt;
        	&amp;lt;path id=&amp;quot;us-s&amp;quot; style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M2537.2,2045.4c-3.7-0.7-9.4-1.5-14.9-2.8
        		c-6.5-1.5-10.1-3-16.6-1.8c-6.3,0.7-17-3.8-16.2-14.9c0.9-12.5,2.2-6.7,6-7.4c9.5,1.7,31.5,13.4,58,5.1c3.6-1.1,3.9-3.6,1.3-6.1
        		c-2.7-2.5-5.5-4.9-8.9-6.5c-3.9-1.9-7.3-4.8-10.9-7c-10.3-6.1-10-14.9-8-24.5c0.9-4.5,11.1-13,17.3-13.9s12.3-2.8,37.7-3.9
        		c1.2,0,4.8,9,3.9,9.7c-4.6,3.5-7.8,5.8-13.8,5.5c-6.7-0.3-18.5,0.7-23.7,5c-2.5,2.1,1.7,10.3,15.7,14.4
        		c10.1,2.3,16.9,16.3,16.3,24.5c-0.6,8-6,17.6-14.4,19.8C2557.1,2042.8,2548.3,2045.1,2537.2,2045.4z&amp;quot;/&amp;gt;
        	&amp;lt;path style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M2325.7,1966.4c3-13.2,3.5-12.6,16.4-8.9
        		c4.1,1.2,4.1,1.2,2.3,7.5c-1.5,4.9-4.4,19.2-6,24c-3.3,9.9-0.3,18.8,4,27.2c4.9,9.3,18.3,8.2,24-1.6c7.1-12.3,10.7-25.9,14.1-39.6
        		c0.5-2,0.9-3.9,1.3-5.9c2.7-11.7,2.7-11.7,13.5-9.2c10.9,2.5,9.6,3,7.7,12.6c-0.6,3.2-1.2,6.8-2.7,9.4
        		c-6.9,12.4-11.5,25.7-16.9,38.7c-5.6,13.5-23.8,24.5-37.4,20.7c-7.7-2.1-13.1-8.8-19-14.3C2312.5,2013.3,2323.6,1976,2325.7,1966.4
        		z&amp;quot;/&amp;gt;
        	&amp;lt;path style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M2032.6,2061c-6.7,0.1-9.2-2.4-6.9-8.4
        		c4.5-11.6,7.2-23.6,11.6-35.2c3.9-10.3,2.6-14.9-6.2-21.7c-6.9-5.3-13.7-10.9-20.2-16.7c-5.8-5.2-5.7-9.9-0.6-14.4
        		c5.3-4.7,11.6-4.5,15.5,1.4c2.8,4.2,6.7,6.6,10.7,8.9c3.6,2,7.3,4,9.6,7.2c3.5,4.9,6.5,3.4,10.1,0.6c5.4-4.2,7.5-11,12.2-15.8
        		c3.7-3.8,7.6-6.7,12.8-7.5c4.4-0.6,8.3,1.2,10,5.3c1.5,3.8-1.5,6.4-4.3,8.3c-11.8,8.4-19.4,20.2-25.7,32.9
        		c-6.2,12.3-10.5,25.1-12.2,38.9C2047.7,2055.3,2041.3,2060.8,2032.6,2061z&amp;quot;/&amp;gt;
        	&amp;lt;path style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M1414.7,1960.6c3,0.1,5.4,1,7.4,3.2
        		c6.5,7.4,15.6,10.2,24.1,14.1c2,0.9,8.5,7.2,9.9,6c6.5-5.3,22.6-16,28.5-22.3c4.5-4.8,8.6-4.9,12.1-1.3c3.1,3.2,2.2,9.6-2.9,13.1
        		c-7.8,5.4-15,11.4-22,17.6c-13.1,11.5-23.8,24.5-25.6,43.1c-0.7,7.1-5.1,13.1-12.5,15.9c-3.1,1.2-6,1.5-8.4-1.1
        		c-2.1-2.3-3.7-4.9-2.6-8.2c0.1-0.3,0.2-0.7,0.3-1c5.4-10.2,7-22.1,13.8-31.9c5.8-8.3,5.5-11.4-3.2-16c-8.4-4.4-15.4-10.8-23.8-15.1
        		c-4.1-2.1-7.6-4.7-5.8-10.3C1405.8,1961.1,1410.6,1961.5,1414.7,1960.6z&amp;quot;/&amp;gt;
        	&amp;lt;path style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M1283.1,1969.3c-4.7,8-3.6,19.3-7.5,29.5
        		c-1.9,5-3.1,10.3-4.3,15.6c-0.7,3.1,0.5,5.6,4,5.7c13.4,0.4,26,7.6,39.8,4.8c1-0.2,2-0.1,3,0c4.5,0.7,9.1,5.1,8.6,8.2
        		c-0.9,5.9-6.7,11.4-11.6,10.8c-20.6-2.6-48.1-5-68.9-5.8c-4.3-0.3-8.9-0.7-0.4-12.7c3-4,10.7-21.9,12.7-26.8
        		c1.8-4.7,4.2-9.2,4.8-14.3c0.4-3.7,1-6.9-0.2-10.8c2.5-14.1,1.5-15.6,14-13.8C1286,1961.3,1283.8,1962.9,1283.1,1969.3z&amp;quot;/&amp;gt;
        	&amp;lt;path style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M1717.4,2048.4c-2.5,11-12.2,22.2-16.2,19.8
        		c-2.6-2.8,3.4-5.5,4.8-14.3c3.2-20.4-9.2-12.8-13.5-15.6c-3.9-2.4-6.2-5.7-4.9-10.4c1.3-4.3,4.6-6.9,8.9-7.8c4.5-1,9,1.2,11.2,5.2
        		C1710.8,2035.1,1719.5,2031.9,1717.4,2048.4z&amp;quot;/&amp;gt;
        	&amp;lt;path style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M2411.4,2040.5c-5.5,2.7-7.9,2.1-9.4,1.4c-3.4-1.5-5.7-4-5.1-8
        		c0.6-3.7,3.1-6.1,6.5-7.3c3.6-1.3,7.5,0,9.7,3.1C2417.9,2036.4,2415,2037.2,2411.4,2040.5z&amp;quot;/&amp;gt;
        	&amp;lt;path style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M2601.6,2031c2,5.4,1.1,7.5,0.2,8.9c-2,3-4.7,4.7-8.5,3.6
        		c-3.5-1-5.6-3.6-6.4-6.9c-0.8-3.4,1-6.9,4.3-8.5C2598.4,2024.5,2598.8,2027.2,2601.6,2031z&amp;quot;/&amp;gt;
        	&amp;lt;path style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#D8D8D8;&amp;quot; d=&amp;quot;M2807.2,2031.4c3.7,2.6,4,4.4,3.9,5.7
        		c-0.2,2.8-1.5,5.2-4.8,6.3c-3.1,1-5.7,0.2-7.7-1.6c-2-1.9-2.2-5-0.4-7.5C2802,2028.6,2803.5,2030.2,2807.2,2031.4z&amp;quot;/&amp;gt;
        	&amp;lt;g id=&amp;quot;ampersand&amp;quot;&amp;gt;
        		&amp;lt;path style=&amp;quot;fill-rule:evenodd;clip-rule:evenodd;fill:#F9F9F9;&amp;quot; d=&amp;quot;M1445.7,1604.9c0,0-21.7-10.2-24-37.3
        			c-2.7-31.7,23.3-58.3,62-58.3c20.6,0,39.1,15.8,41.3,26.3c2,9.7-1.2,19.5-2.7,26.3c-12,4.8-32.6,0.5-34-5.3
        			c-1.1-4.3,19.7-11.1,16-22.3c-2.5-7.8-19-11.3-33.3-9.3c-15.5,2.2-43.3,57.9,1.6,70.6c13.4,3.8,19.4,3.7,19,13
        			c-0.3,8.4-6.4,10.4-18.6,10.4s-56.9,26.9-66,44c-32,60.3-27,149.2,96.2,146.4c85-2,69.9-151.8,69.1-155.4
        			c-0.8-1.9-41-0.7-65.6,10.3c-6.1,2.7-24.4,23.7-13.7,39.7c6.7,10,21.9,8.2,25.7,7c14.3-4.3,2.9-21.7,9.3-22c2.3-0.1,22.3,14,6,29
        			c-9.1,8.4-36.2,9.5-45.5,0.8c-26.2-24.3-6.2-85.5,54.4-86.4c7.8-0.1,31.8-2.6,39.4-1.7c15.6,1.8,58,3.3,64.3-24
        			s-6.8-42.9-15.7-46.7c-12.8-6.3-28.4-4.6-37,0.3c-25.1,14.4-15.4,44,9.7,34.7c5.7-24.7,39,9.7-6.3,16c-8,1.1-22-2.3-26.8-9.8
        			c-5.5-6.3-8.3-17.6-6.7-24.5c3.7-16.2,15.6-24.2,32.4-29.4c16.4-5.1,32.9-4.3,46.1,3.9c32.6,19.5,30.7,76.9,2.6,92.5
        			c-15.7,8.7-20.1,13.6-45.7,12.3c-2,1,1.6,25,2,55.3c0.2,16.3,16.6,99.1-88.1,118.9c-48.7,9.2-111.2,5.3-135.3-44.7
        			C1312.4,1649.4,1445.7,1604.9,1445.7,1604.9z&amp;quot;/&amp;gt;
        	&amp;lt;/g&amp;gt;
        &amp;lt;/g&amp;gt;
        &amp;lt;/svg&amp;gt;
        &amp;lt;figcaption&amp;gt;
            An embedded SVG version of the final(ish) logo. SVG is amazing
        &amp;lt;/figcation&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        I’m looking forward to working with the logo more. Keeping
        it vector was important for me because I want to display it using SVG.
        I also think there will be some interesting things to do with it using
        CSS transitions and animations further down the road.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        &amp;lt;i&amp;gt;Thanks for reading&amp;lt;/i&amp;gt;
    &amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
</content>
  </entry>
  
  <entry>
    <title>How I Start</title>
    <link href="https://tylergaw.com/blog/how-i-start/"/>
    <updated>2014-07-10T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/how-i-start/</id>
    <content type="html">&lt;pre&gt;&lt;code&gt;    &amp;lt;p class=&amp;quot;entry-intro&amp;quot;&amp;gt;
        I&#39;m beginning a design iteration of this site. I&#39;ve started
        freelancing full time and I want the site to display more of my work
        and explain it in finer detail to give potential clients and collaborators
        a better idea of what I do and how I go about it.
        I love this early part of the process where everything is on the table,
        and up in the air, and I can get arty-farty and a little weird. Hold
        on tight, it&#39;s a bumpy ride.
    &amp;lt;/p&amp;gt;
    &amp;lt;h2&amp;gt;Nonsense&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        This part of the process has no structure. I just like to
        make things as messy as possible. I immerse myself in the types of
        ideas I want to convey and the type of designer I want to be. I open
        100 browser tabs across 10 different windows. I keep multiple sketch books in front
        of me, a No. 2 pencil and busted, cheap sharpener. I drag out every
        micron pen I have, even though I&#39;ll probably not use any of them.
        I haven&#39;t yet, but I&#39;ll probably get out the paint and brushes to
        make a really big mess.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-starting-sketches.jpg&amp;quot; alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            Bad handwriting. Worse block lettering.
        &amp;lt;/figcation&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        In my sketchbooks I don&#39;t really sketch interface wireframes, but I do write lots of words
        and phrases. Some of them are ideas I want to convey. Some of them
        are just nonsense that I think is funny. &amp;quot;Hollerin&#39;&amp;quot; &amp;quot;Sweatin&#39;&amp;quot; &amp;quot;Braggin&#39;&amp;quot;
        &amp;quot;BLACK&amp;quot; &amp;quot;MAKE IT EXTRA LARGE&amp;quot;
        &amp;quot;NO STRAIGHT LINES&amp;quot; &amp;quot;ALL RIGHT ANGLES&amp;quot; &amp;quot;Don&#39;t limit&amp;quot; &amp;quot;Do limit&amp;quot;
        and plenty more non-sequiturs, contradictions, and fibs
        that will have me scatching my head when I look back at them at some
        point in the future. I also draw plenty of skulls on fire and anarchy signs
        and all other types of bad drawings that look awesome on the back
        of 8th grader&#39;s notebooks.
    &amp;lt;/p&amp;gt;
    &amp;lt;h2&amp;gt;Folks&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        I listen to artists and designers talk about making cool art and design.
        I have seen all of these multiple times, they never get old. I love them and
        they get me excited to design:
    &amp;lt;/p&amp;gt;
    &amp;lt;ul&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;https://vimeo.com/39441590&amp;quot;&amp;gt;Portland/CreativeMornings - Draplin&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;http://www.aiga.org/video-HHH-2013-draplin/&amp;quot;&amp;gt;More Draplin - Tall Tales from a Large man&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;https://vimeo.com/20456428&amp;quot;&amp;gt;Even more Draplin&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;https://vimeo.com/20777627&amp;quot;&amp;gt;Draplin, shit! He&#39;s the best&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;http://hillmancurtis.com/artist-series/lawrence-weiner/&amp;quot;&amp;gt;Design Matters: Lawrence Weiner&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;http://buy.beautyisembarrassing.com/&amp;quot;&amp;gt;Beauty is Embarrassing - Wayne White&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;https://www.youtube.com/watch?v=JyRAHKTy6hI&amp;quot;&amp;gt;Beautiful Losers - Buncha great folks&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;/ul&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-starting-art.png&amp;quot; alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            Art, beards, grumpy men
        &amp;lt;/figcation&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        With all of those it&#39;s not even really about the crud they make. I
        don&#39;t sit and stare at the work they produce. I get inspired and excited
        hearing them talk about how much they love what they do, what it
        means to them, and what they think it means to other people.
    &amp;lt;/p&amp;gt;
    &amp;lt;h2&amp;gt;Letters and Such&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        This time around I wrote names of different fonts that
        I was interested in using or just like the name; &amp;quot;Franklin Gothic Condensed&amp;quot;,
        &amp;quot;Futura&amp;quot;, &amp;quot;Roboto Slab&amp;quot;, &amp;quot;Neue Helvetica 55 Roman&amp;quot;.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        I hopped into ole sparky (PS) and threw together some of the type
        to see how it would look in the colors I have in mind. Again, no structure,
        just bashing on the keyboard and tweaking some settings here and there to
        see how things might work later.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-starting-type.png&amp;quot; alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            Playing around with some type treatments
        &amp;lt;/figcation&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;h2&amp;gt;Music&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        Music is always a huge part of my process. A &amp;lt;a href=&amp;quot;http://www.rollingstone.com/music/videos/interpol-comes-out-of-the-black-in-all-the-rage-back-home-video-20140709&amp;quot;&amp;gt;new Interpol song&amp;lt;/a&amp;gt; was
        released yesterday. It&#39;s awesome. I&#39;ve listened to it about 999 times so far.
        It&#39;s having an impact on my brain and designs.
    &amp;lt;/p&amp;gt;
    &amp;lt;iframe width=&amp;quot;100%&amp;quot; height=&amp;quot;325&amp;quot; src=&amp;quot;//www.youtube.com/embed/-u6DvRyyKGU&amp;quot; frameborder=&amp;quot;0&amp;quot; allowfullscreen&amp;gt;&amp;lt;/iframe&amp;gt;
    &amp;lt;p&amp;gt;
        Here&#39;s some other crud I have on repeat that will also have an impact on the design:
    &amp;lt;/p&amp;gt;
    &amp;lt;ul&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;http://www.rdio.com/artist/Interpol/album/Our_Love_To_Admire/&amp;quot;&amp;gt;Our Love to Admire - Interpol&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;https://twitter.com/ANTEMASQUE&amp;quot;&amp;gt;ANTEMASQUE - ANTEMASQUE&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;http://www.rdio.com/artist/AFI/album/Burials_(Digital_Booklet_Version)/&amp;quot;&amp;gt;Burials - AFI&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;http://www.rdio.com/artist/Every_Time_I_Die/album/From_Parts_Unknown/&amp;quot;&amp;gt;From Parts Unknown - Every Time I Die&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;http://www.rdio.com/artist/Lana_Del_Rey/album/Ultraviolence_(Deluxe)/&amp;quot;&amp;gt;Ultraviolence - Lana Del Rey&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;http://nadiesound.com/album/cry-is-for-the-flies&amp;quot;&amp;gt;Cry Is For The Flies - Le Butcherettes&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;http://www.rdio.com/artist/Mastodon/album/Once_More_%27Round_The_Sun_1/&amp;quot;&amp;gt;Once More &#39;Round The Sun - Mastodon&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;
    &amp;lt;/ul&amp;gt;
    &amp;lt;p&amp;gt;
        That&#39;s pretty heavy list. This design is most likely going
        to be dark, loud, bold, and brooding. Simple and clean can take a
        long walk off a short pier.
    &amp;lt;/p&amp;gt;

    &amp;lt;h2&amp;gt;6th Grade Art Class&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        Here&#39;s something I haven&#39;t done for designs in the past, but felt
        compelled to for this one. I pulled out a stack of old magazines and
        have been tearing through them cutting things out to make crap little
        collages. I&#39;m not putting much thought into the pieces. These aren&#39;t
        &amp;quot;mood boards&amp;quot; or whatever. Just flipping the pages and if something
        catches my eye I hack it out and throw it on some paper. A piece of
        text that&#39;s bright. Some dumb phrase. Creepy dude eyes. Anything that&#39;s
        interesting.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-starting-collage.png&amp;quot; alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            Cuttin’ out Hetfield&#39;s eyeballs for shits and giggles
        &amp;lt;/figcation&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        These collages aren&#39;t going to be part of the design, they&#39;re
        just a way for me to get moving. Computers are too damn slow. I
        need to use my hands to move fast and toss shit around and scribble and just
        be a wreck in general. It helps me get my entire self into it.
    &amp;lt;/p&amp;gt;
    &amp;lt;h2&amp;gt;These Silly Paragraphs&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        This post is part of it too. This isn&#39;t meant to be some how-to or
        &amp;quot;10 Clever Ways to Inspire Your Next Responsive E-Commerce Design&amp;quot; post.
        Like the rest of the process, it&#39;s messy. It&#39;s unedited and maybe unfinished.
        It&#39;s also a chance to stop and think about what I&#39;m doing. Or to put
        it another way; procrastinate.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        What about you, how do you start?
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        &amp;lt;i&amp;gt;Thanks for reading&amp;lt;/i&amp;gt;
    &amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
</content>
  </entry>
  
  <entry>
    <title>CSS True Titles</title>
    <link href="https://tylergaw.com/blog/css-true-titles/"/>
    <updated>2014-02-25T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/css-true-titles/</id>
    <content type="html">&lt;pre&gt;&lt;code&gt;    &amp;lt;figure&amp;gt;
        &amp;lt;a href=&amp;quot;http://lab.tylergaw.com/css-true-titles/&amp;quot;&amp;gt;
            &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-true-titles-intro.jpg&amp;quot;
                alt=&amp;quot;Image of the title cards from the True Titles demo&amp;quot;&amp;gt;
        &amp;lt;/a&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p class=&amp;quot;entry-intro&amp;quot;&amp;gt;
        The &amp;lt;a href=&amp;quot;https://youtu.be/ZRPpCqXYoos&amp;quot;&amp;gt;opening titles&amp;lt;/a&amp;gt; to the
        show True Detective are incredible. CSS contains the building
        blocks necessary to create a similar style title sequence. I tried my
        hand it and came up with fun results. Here&#39;s the
        &amp;lt;a href=&amp;quot;https://lab.tylergaw.com/css-true-titles/&amp;quot;&amp;gt;demo&amp;lt;/a&amp;gt; and the
        &amp;lt;a href=&amp;quot;https://github.com/tylergaw/css-true-titles&amp;quot;&amp;gt;source code&amp;lt;/a&amp;gt;.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        The first thing I have to do is issue the disclaimer. This is an
        experimental project. Things will most likely go wrong when you view
        it. I&#39;m pushing on the browser pretty hard to get it to do things it
        maybe wasn&#39;t intended to. Also, due to limited suppport
        of &amp;lt;a href=&amp;quot;https://www.w3.org/TR/css-masking-1&amp;quot;&amp;gt;CSS masking&amp;lt;/a&amp;gt;
        you&#39;ll only see the full effect in Chrome, Opera, and possibly Mobile Safari.
        The animations will work in other browsers, but things will look strange.
    &amp;lt;/p&amp;gt;
    &amp;lt;h2&amp;gt;The Masking&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        There&#39;s a whole lot going on in each shot of the TD titles. You should
        read the write up about it on &amp;lt;a href=&amp;quot;https://www.artofthetitle.com/title/true-detective/&amp;quot;&amp;gt;Art of the Title&amp;lt;/a&amp;gt;.
        The main effect that I wanted to recreate was the use of human silhouettes
        to mask shots. They use video clips for the masks and the content being
        masked, but I stuck with still images to keep things a little easier.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-true-titles-mask-example.jpg&amp;quot;
            alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            An example of using a human to mask footage in the True Detective titles
        &amp;lt;/figcaption&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        I&#39;m accomplishing masking using the CSS &amp;lt;code&amp;gt;mask&amp;lt;/code&amp;gt;
        property. As I mentioned, browser support for it is currently
        limited. I&#39;m going to break down the first title
        card to explain how the masking is
        implemented.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-true-titles-opener-card.jpg&amp;quot;
            alt=&amp;quot;&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            A still of the first title card.
        &amp;lt;/figcaption&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        Each title card is an &amp;lt;code&amp;gt;li&amp;lt;/code&amp;gt; element. They contain base
        styles like width, height, position, etc. Within each &amp;lt;code&amp;gt;li&amp;lt;/code&amp;gt;
        is markup specific to that card. Below is the markup for the elements
        that make up the opening card.
    &amp;lt;/p&amp;gt;
    &amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-markup&amp;quot;&amp;gt;&amp;amp;lt;div class=&amp;quot;composition animated&amp;quot;&amp;amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&amp;lt;div class=&amp;quot;town animated&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;div class=&amp;quot;human&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;h1 class=&amp;quot;copy animated&amp;quot;&amp;gt;
&amp;lt;b class=&amp;quot;role&amp;quot;&amp;gt;This is a&amp;lt;/b&amp;gt; CSS Experiment
&amp;lt;/h1&amp;gt;&lt;/p&gt;
&lt;p&gt;
The containing &lt;code&gt;div&lt;/code&gt; element with the class of &quot;composition&quot;
houses all the images. I&#39;m using a containing element here so I can move
and scale the &quot;human&quot; and the &quot;town&quot; together, while still being able
to move and scale each independently. I&#39;m also applying the mask
to the composition element. The &quot;human&quot; and &quot;town&quot; elements have background
images applied to them.
&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;https://lab.tylergaw.com/css-true-titles/img/opener-human.png&quot; alt=&quot;&quot; /&gt;
&lt;figcaption&gt;
The partially transparent human image, which doubles as the mask
for the opening card.
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
All of the images are from the &lt;a href=&quot;https://flickr.com/commons&quot;&gt;Flickr Commons&lt;/a&gt;.
I cropped, clipped, and pushed their pixels around in Photoshop until
they felt right. Some of them have kind of ratty clipping paths, but
you can&#39;t really seen them with everything moving. I was able to bring
the file size down some because of that.
&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;https://lab.tylergaw.com/css-true-titles/img/opener-town.png&quot; alt=&quot;&quot; /&gt;
&lt;figcaption&gt;
The background image for the town element.
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
I want to be able to move the &quot;town&quot; element from right to left and
left to right. If I applied the mask to that element, the mask would
move with the town causing it to not line up properly with the human image.
The mask needs to be applied to an element above it, the composition element.
Since CSS masks are only concerned with the opaque and transparent
portions of an image, I can reuse the human image as the mask for the
&quot;composition&quot; element using the CSS below. Areas appearing under
opaque portions will be visible, those under transparent portions will
be invisible.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.opener .composition {
...
-webkit-mask: url(&quot;opener-human.png&quot;) top left/cover no-repeat;
mask: url(&quot;opener-human.png&quot;) top left/cover no-repeat;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
The shorthand &lt;code&gt;mask&lt;/code&gt; has similar properties as &lt;code&gt;background&lt;/code&gt;.
URL, position, size, repeat. It was important that all of the images and mask
had the same &lt;code&gt;background-size&lt;/code&gt; setting. In this case they
are all set to &lt;code&gt;cover&lt;/code&gt;. That prevents the images from becoming
too short or too narrow so that you see the edges of them. I could
have set a fixed width and height on the cards to avoid this
altogether, however it was more fun to embrace the unstable
environment that is a Web browser by letting everything remain fluid.
&lt;/p&gt;
&lt;p&gt;
The rest of the title cards follow a similar pattern with adjustments
based on the the number of images that were needed and the animations
that were put into place. You can see the source scss for each
card &lt;a href=&quot;https://github.com/tylergaw/css-true-titles/tree/master/css/scss/partials&quot;&gt;here&lt;/a&gt;.
&lt;/p&gt;
&lt;h2&gt;The Animations&lt;/h2&gt;
&lt;p&gt;
There are a few different animations happening during the sequence.
The main animation–or timeline–is responsible for cutting from one card to the next
and looping back to the first after the last. Within each card there
are one or more animations that control composition elements and individual
elements.
&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-true-titles-ani-diagram.jpg&quot; alt=&quot;Sketch showing the length of the main timelime is seconds and the length of each sub timeline as a percentage.&quot; /&gt;
&lt;figcaption&gt;
A diagram showing the main and sub timelines of the sequence.
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h3&gt;The main timeline&lt;/h3&gt;
&lt;p&gt;
Once I came up with all the cards I wanted, I tweaked
the total length until the pacing felt about right at 36 seconds. The .54 seconds was
added the to make the sequence length match the length of the audio track.
The track ended up an odd length because I edited it with &lt;a href=&quot;http://audacity.sourceforge.net/&quot;&gt;Audacity&lt;/a&gt;
and I&#39;ve never been able to tame that beast. Has anyone?
&lt;/p&gt;
&lt;p&gt;
As the diagram shows, the length of each title card is a percentage
of the total sequence length. That length is how long that card will
be visible. Figuring out the length for each card took quite a bit
of trial and error to get right. If each card was the same length, coming
up with a percentage for each would be easy: &lt;code&gt;100% / number of cards = length&lt;/code&gt;.
That was not the case with this sequence.
There are four title cards and one &quot;bump&quot; card.
The bump card contains no text, it&#39;s there as a break and
extra visual information (AKA, it looks cool). Because of that, the
bump needed to be shorter than the title cards. The photography card
doesn&#39;t contain as much motion as the other cards and that was making it feel too long.
I stole time from it to give to the last card. I wanted the last card with my Twitter info
to be longer than the others.
&lt;/p&gt;
&lt;p&gt;
Each card needs keyframes at multiple positions. I&#39;m going to show
the second title card–the director card–as an example, because they get a little strange.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@keyframes director {
0%, 22.9%, 46%, 100% {
opacity: 0;
transform: translateX(-100%);
}
&lt;p&gt;23%, 45.9% {
opacity: 1;
transform: translateX(0);
}
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
I&#39;m going to explain this backwards. Starting at 23% of the main
timeline length I want the card to be visible and on the screen. It should stay
visible until 45.9% of the main timeline length.
&lt;/p&gt;
&lt;p&gt;
The first set of frames says that the card should be invisible and
off screen from 0% until 22.9% and again from 46% to 100%.
&lt;/p&gt;
&lt;p&gt;
I&#39;m using the 0.1% intervals to make sure there is no visible interpolation
of the opacity or transform. I want the transition from one card to
the next to be a quick cut. The opacity is still interpolating from
0 to 1 and transform from -100% to 0, but it&#39;s too fast to be seen.
&lt;/p&gt;
&lt;p&gt;
I&#39;m using &lt;code&gt;translateX&lt;/code&gt; to move the invisible cards
out of the viewport so they don&#39;t obsure any elements of the current
visible card. That was happening when I was only using &lt;code&gt;opacity&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
Again, getting the timing correct on each card was a lot of trial
and error. Making changes a percentage at a time. You can see
the full scss for the main timeline animation
&lt;a href=&quot;https://github.com/tylergaw/css-true-titles/blob/master/css/scss/partials/_general.scss#L115&quot;&gt;here&lt;/a&gt;.
&lt;/p&gt;
&lt;h3&gt;A sub timeline example&lt;/h3&gt;
&lt;figure&gt;
&lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-true-titles-director-card.jpg&quot; alt=&quot;&quot; /&gt;
&lt;figcaption&gt;
A still of the director title card.
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
The director card is the most complex card with five separate animations happening
simultaneously. Here&#39;s the markup for the card.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-markup&quot;&gt;&amp;lt;div class=&quot;composition animated&quot;&amp;gt;
&amp;lt;div class=&quot;street animated&quot;&gt;&amp;lt;/div&amp;gt;
&amp;lt;div class=&quot;trees animated&quot;&gt;&amp;lt;/div&amp;gt;
&amp;lt;div class=&quot;human&quot;&gt;&amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;
&amp;lt;h2 class=&quot;copy animated&quot;&amp;gt;
&amp;lt;b class=&quot;role&quot;&gt;Directed by&amp;lt;/b&amp;gt;
&amp;lt;a href=&quot;https://tylergaw.com&quot;&gt;Tyler Gaw&amp;lt;/a&amp;gt;
&amp;lt;/h2&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
Anything with the class of &quot;animated&quot;–you guessed it–has an animation
applied to it. The fifth animation is on a pseudo-element. Below is
list of each animated element and description of what is animated.
&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;b&gt;composition&lt;/b&gt;: Houses all the images. Over the span of 17 seconds
it is slightly scaled, skewed along the X axis, and translated on the X axis.
&lt;/li&gt;
&lt;li&gt;
&lt;b&gt;street&lt;/b&gt;: A &lt;a href=&quot;https://lab.tylergaw.com/css-true-titles/img/director-street.png&quot;&gt;masked image&lt;/a&gt;.
Its X and Y positions are changed over 18 seconds using &lt;code&gt;translate&lt;/code&gt;.
&lt;/li&gt;
&lt;li&gt;&lt;b&gt;trees&lt;/b&gt;: A &lt;a href=&quot;https://lab.tylergaw.com/css-true-titles/img/director-trees.png&quot;&gt;masked image&lt;/a&gt;.
Its X and Y positions are changed over 18 seconds using &lt;code&gt;translate&lt;/code&gt;.
&lt;/li&gt;
&lt;li&gt;
&lt;b&gt;copy&lt;/b&gt;: The card info is slightly scaled and translated
on the X and Y axes over 17 seconds. The copy moves somewhat in
tandem with the composition.
&lt;/li&gt;
&lt;li&gt;
&lt;b&gt;pseudo-element&lt;/b&gt;: I&#39;m using the &lt;code&gt;::before&lt;/code&gt; selector
on the trees element to add an additional subtle detail I called a &quot;blip&quot;. It is a
&lt;a href=&quot;https://lab.tylergaw.com/css-true-titles/img/director-blip.png&quot;&gt;image of fire&lt;/a&gt;
that is displayed shortly to give a little more detail to animation.
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
A quick note on using &lt;code&gt;translate&lt;/code&gt;. Always use it to animate
elements on X and Y axes instead of using positioning properties like
left, right, top, bottom. Also try to use it instead of animating
the &lt;code&gt;background-position&lt;/code&gt; property. Using &lt;code&gt;translate&lt;/code&gt;
gives much smoother animations and uses less CPU. &lt;a href=&quot;https://www.paulirish.com/2012/why-moving-elements-with-translate-is-better-than-posabs-topleft/&quot;&gt;Paul&lt;/a&gt;
explains it better than I can.
&lt;/p&gt;
&lt;p&gt;
All of the animations have their &lt;code&gt;animation-direction&lt;/code&gt; set
to &lt;code&gt;alternate&lt;/code&gt;. I did this so there would be no visible jumps
back to the starting position of the properties. If you watch the
sequence multiple times, you&#39;re likely to see the animations running
in different directions.
&lt;/p&gt;
&lt;p&gt;
You can see the full source scss for the director card
&lt;a href=&quot;https://github.com/tylergaw/css-true-titles/blob/master/css/scss/partials/_card-director.scss&quot;&gt;here&lt;/a&gt;.
&lt;/p&gt;
&lt;h3&gt;Pausing the animations&lt;/h3&gt;
&lt;p&gt;
In the markup there is a class of &quot;animated&quot; applied to any animated
element. I&#39;m using that as way to pause and unpause all of the
animations using &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/CSS/animation-play-state&quot;&gt;&lt;code&gt;animation-play-state&lt;/code&gt;&lt;/a&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;.paused .animated,
.paused .title-card .animated {
-webkit-animation-play-state: paused;
animation-play-state: paused;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
There is some &lt;a href=&quot;https://github.com/tylergaw/css-true-titles/blob/master/js/controls.js&quot;&gt;light JavaScript&lt;/a&gt; to allow the pause/play
button to add and remove the class of &quot;paused&quot; from the
body element, the CSS above takes care of the rest.
&lt;/p&gt;
&lt;h2&gt;This was tough!&lt;/h2&gt;
&lt;p&gt;
When I was working on this project, I realized there was a lot going
on to make it happen, however I didn&#39;t realize how much I was on
autopilot during the process. Sitting down and trying to explain—in
words—what I did was difficult. If you read this far I hope there&#39;s a
useful technique or trick that you picked up along the way. If not,
I hope it was an interesting look into what goes on in my brain when
building this type of thing.
&lt;/p&gt;
&lt;p&gt;
&lt;i&gt;Thanks for reading&lt;/i&gt;
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>2000 Days</title>
    <link href="https://tylergaw.com/blog/2000-days/"/>
    <updated>2014-02-17T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/2000-days/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
    That’s roughly the number of days I was a member of the team at
    &lt;a href=&quot;http://arc90.com/&quot;&gt;Arc90&lt;/a&gt;. Five years, five months, and a couple
    weeks. Feb. 14th 2014 was my last day. Leaving was a difficult and
    emotional decision, but after months of mulling it over I decided it
    was the right one to make.
&lt;/p&gt;
&lt;p&gt;Summer 2008. I was living in St. Louis, MO and working as a freelance
designer/developer. For months I’d had a nagging feeling that I couldn’t
articulate. The best I can describe it was a “pull” that was
originating from my gut. The feeling was telling me there was
something out there and I needed to go. The feeling didn’t bother to
let on what was out there, or where “there” was. It wanted somewhere
big though. Somewhere completely different from where I was then or
where I had been before. Los Angeles? Nah, too glossy. New York City?
Rough, the opposite of glossy. I’d only been to New York once before
for a few days years earlier. At the time I described it as “a cool
place to visit, but I couldn’t imagine living there.” The fact that
I didn’t see New York as a place for me became a reason to go. This
move wasn’t about comfort, it was about changing my life. Once I
knew where “there” was I decided quickly, almost cavalierly. When my
lease was up, I’d pack everything I owned into my Dodge Durango and
move to a new city half way across the country.&lt;/p&gt;
&lt;p&gt;The freedom that comes with freelancing and working from home was
great, but I needed something new. I needed to be around other
designers and developers. I wanted to share the work I was doing
every day and learn from people that loved the Web like I did.&lt;/p&gt;
&lt;p&gt;In my job search for “NYC Web designer”, “Front-end Web NYC”,
“NYC Web PHP”, etc I came across this
&lt;a href=&quot;http://blog.arc90.com/2008/07/18/were-looking-for-the-lone-wolf-mcquade-of-php-development/&quot;&gt;job post&lt;/a&gt;.
PHP was my language of choice in ‘08 and wow, what a great post. No
long list of buzz word requirements, no arbitrary years of experience
necessary. Just three lighthearted, pointed paragraphs. Who was this company?
Who was behind it?&lt;/p&gt;
&lt;p&gt;Time has claimed some of the styles, but the Arc90 jobs page from
July ‘08 is still available via the
&lt;a href=&quot;https://web.archive.org/web/20080715112955/http://arc90.com/jobs.php&quot;&gt;Wayback Machine&lt;/a&gt;.
Here&#39;s a small portion:&lt;/p&gt;
&lt;blockquote&gt;
    &lt;p&gt;
        “...if you appreciate (and violently defend) standards-based
        technologies like &lt;strong&gt;XHTML&lt;/strong&gt; and &lt;strong&gt;CSS&lt;/strong&gt;...”
    &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It&#39;s easy to take for granted in 2014, but in 2008 an agency
saying they wanted people that cared about Web Standards was
not the norm. That description was speaking to me.
It was saying all the things I wanted
a company to say. That sealed the deal. Arc90 was where I needed to be. I
hadn’t applied to anywhere else, and I wouldn’t. I wasn’t sure
that my PHP skills were good enough to get hired for the developer
position, but I was going for it anyway. I wanted to work for this company.
I &lt;em&gt;had&lt;/em&gt; to work for this company.&lt;/p&gt;
&lt;p&gt;When I got to New York on August 27th 2008 I sprinted to the Arc90
office. I didn’t start work for a few more days, but I couldn’t wait
to see the place and meet the people I’d only seen in
&lt;a href=&quot;http://www.flickr.com/search/?q=arc90&quot;&gt;photos&lt;/a&gt; up to
that point. I was here. This place was real. I was a part of it.&lt;/p&gt;
&lt;p&gt;Five years didn’t just happen. Working for a company is a
relationship. Relationships are hard and require work to maintain.
Over the years there’ve been ups and downs, too much work and too
little, I saw good people leave and great people join. There were
times I thought I was ready to throw in the towel, but didn’t. I
knew how special my relationship with Arc90 and the humans there was
so I stuck with it.&lt;/p&gt;
&lt;p&gt;I wore a lot of hats. I designed a boatload of interfaces for
insurance software. Designed and built sites and an app for a
&lt;a href=&quot;http://en.wikipedia.org/wiki/GradeGuru&quot;&gt;failed education startup&lt;/a&gt;.
Designed and helped build &lt;a href=&quot;http://donahueapp.com/&quot;&gt;an app&lt;/a&gt;
to experience conference talks in a novel way. I also made a couple
brief design visits to &lt;a href=&quot;http://www.kindlingapp.com/&quot;&gt;an app&lt;/a&gt;
that I saw grow from weekend project to successful business.&lt;/p&gt;
&lt;p&gt;The best work I’ve ever done I did for
&lt;a href=&quot;http://readability.com/&quot;&gt;Readability&lt;/a&gt;. On Readability I
was able to stretch my abilities in ways that I never imagined I
would. My design and development skills were challenged and
strengthened like never before. As the Product Lead I had the
opportunity to shape the vision and direction of a product that I
used and continue to use every day. I was able to try my hand at
leading a team of incredible people to build incredible software.
Working to make the lives of the people I worked with more enjoyable
has been by far the most challenging thing I’ve done in my career.&lt;/p&gt;
&lt;p&gt;I’m forever grateful for Arc90, the people there today, and all the
people that have come and gone. The opportunities it’s given me have altered
my life for the better. At Arc I was able to be a designer, developer,
writer, customer support, marketer, advocate, lobbyist, conflict
mediator, and–when needed–ad hoc therapist.&lt;/p&gt;
&lt;p&gt;So why am I leaving now? It’s back. That feeling. That pull from my
gut that I felt back in St. Louis in ‘08. It’s telling me it’s time
to go again. Telling me something is out there. Telling me I need to
go find it. Like before, it’s not doing me any favors of being
specific about what “it” is. It’s not looking for a new “there” this
time. It’s just looking for a “what”. It wants change. It didn’t
let me down last time, so I’m not inclined to ignore it this time around.&lt;/p&gt;
&lt;p&gt;I’m not sure what’s next, and that feels OK. I don’t have a new job
lined up. I don’t have any interviews or prospects. I’m on the hunt.
I’m going to spend my next handful of a days looking for it.
Meeting and talking with passionate people about what they’re working
on and what’s out there. I’m going to spend my next few days searching
for how I’ll spend my next 2000.&lt;/p&gt;
&lt;p&gt;The world is bigger than ever right now. I can&#39;t wait to see what I find.&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Thanks for reading&lt;/i&gt;&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Papersaver</title>
    <link href="https://tylergaw.com/blog/papersaver/"/>
    <updated>2014-02-03T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/papersaver/</id>
    <content type="html">&lt;pre&gt;&lt;code&gt;    &amp;lt;figure&amp;gt;
        &amp;lt;a href=&amp;quot;http://lab.tylergaw.com/papers&amp;quot;&amp;gt;
            &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-papersaver-intro.png&amp;quot;
                alt=&amp;quot;Papersaver text on a crappy Photoshopped background&amp;quot;&amp;gt;
        &amp;lt;/a&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p class=&amp;quot;entry-intro&amp;quot;&amp;gt;
        &amp;lt;a href=&amp;quot;http://www.fiftythree.com/paper&amp;quot;&amp;gt;Paper&amp;lt;/a&amp;gt; is an excellent
        product. Like all great products, it not only does a thing well, it
        also makes you want to do that thing more. Paper makes me want to
        draw more. After drawing with Paper for a few weeks, I wanted a
        quick way to share my drawings from Paper to the Web. I built
        &amp;lt;a href=&amp;quot;https://github.com/tylergaw/papersaver&amp;quot;&amp;gt;Papersaver&amp;lt;/a&amp;gt; so I
        could get that done.
    &amp;lt;/p&amp;gt;

    &amp;lt;h2&amp;gt;In Dependence&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        &amp;lt;a href=&amp;quot;http://madewithpaper.fiftythree.com/&amp;quot;&amp;gt;Made with Paper&amp;lt;/a&amp;gt;
        is a showcase of what people are drawing with Paper. I went to
        submit one of my silly sketches to it and saw that they ask for an
        attribution link. They suggest–and most submissions are hosted
        on–Tumblr. Twitter and Facebook are also mentioned as hosting choices.
        I don’t care for that. I want the canonical location of my brain
        dumps to be on a server that I control. This is my natural tendency,
        but I was also inspired by &amp;lt;a href=&amp;quot;http://adactio.com/journal/6620/&amp;quot;&amp;gt;Jeremy&amp;lt;/a&amp;gt;
        and &amp;lt;a href=&amp;quot;http://frankchimero.com/blog/2013/12/homesteading-2014/&amp;quot;&amp;gt;Frank’s&amp;lt;/a&amp;gt;
        articles on the topic of pushing ourselves to take more control over
        our digital artifacts by self-hosting.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-papersaver-attribution.jpg&amp;quot; alt=&amp;quot;A portion of the Made with Paper submission form&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            Host my masterpieces on a Tumblr? Nope.
        &amp;lt;/figcaption&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        At this point it was clear that I had a fun side project in front of
        me. With a few days off work for the holidays, I started letting my
        brain run wild with possibilities. The plan was to build some type
        of site where I could publish my drawings while digging into a
        technology or two that was new to me.
    &amp;lt;/p&amp;gt;

    &amp;lt;h2&amp;gt;Planning&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        I generally start a new project with a few bullet points for
        what I want, what I don’t, technologies I’ll use, etc. These points
        don’t always make it into the final project and some are just
        questions to think about during the process. Here’s a few I jotted
        down for Papersaver:
    &amp;lt;/p&amp;gt;

    &amp;lt;h3&amp;gt;Project goals&amp;lt;/h3&amp;gt;
    &amp;lt;ul&amp;gt;
        &amp;lt;li&amp;gt;Publish images from Paper to my personal Web site&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;Do not rely on third-party platforms for storage&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;“In Dependence”&amp;lt;/li&amp;gt;
    &amp;lt;/ul&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-papersaver-notes01.jpg&amp;quot; alt=&amp;quot;Papersaver notes taken in the Paper App&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;
            I used Paper to take notes.
        &amp;lt;/figcaption&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;h3&amp;gt;What does it do?&amp;lt;/h3&amp;gt;
    &amp;lt;ul&amp;gt;
        &amp;lt;li&amp;gt;Static HTML site&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;Displays a list of images (maybe thumbnails + click to enlarge)&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;Git repo backed up to Github&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;Different input methods: email, Twitter, direct to repo&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;generate(): image creation, HTML generation, Git commit, publish&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;How can others use this?&amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;Permalinks to each item&amp;lt;/li&amp;gt;
    &amp;lt;/ul&amp;gt;
    &amp;lt;p&amp;gt;
        At this point I’ll also jot down some pseudo-code to start thinking
        about core functions of what I’ll be building. In this case I wanted
        to visualize what the main method of saving a Paper would look like:
    &amp;lt;/p&amp;gt;
    &amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-clike&amp;quot;&amp;gt;newPaper() // takes img
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;// contents/papers/Date.getTime()
// &amp;quot; &amp;quot;/index.md
// date: D.getTime()
// template: paper.html
// image_path: tylergaw-paper-{date}.jpg
// save img: image_path.jpg&lt;/p&gt;
&lt;h2&gt;Getting rolling&lt;/h2&gt;
&lt;p&gt;
After a few hours of writing down goals and researching similar
projects I had a good idea of what I would build and the tools I
would use to build it. I needed a way to get my drawings out of Paper.
The App allows drawings to be shared to Tumblr, Facebook, Twitter,
Camera Roll, and Email. The first three were out
since they’re third-parties. I entertained the idea of using a
combination of export to cameral roll and Dropbox to publish, but
went away from it because it didn’t feel flexible enough.
I’d be going the route of publishing via email.
&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    &amp;lt;h2&amp;gt;How I use Papersaver&amp;lt;/h2&amp;gt;
    &amp;lt;ul&amp;gt;
        &amp;lt;li&amp;gt;
            Draw in Paper
        &amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;
            Email each drawing I want published to a dedicated email address
        &amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;
            A Node.js &amp;lt;a href=&amp;quot;https://github.com/tylergaw/papersaver/blob/master/papersaver-mail-listener.js&amp;quot;&amp;gt;script&amp;lt;/a&amp;gt;
            listens for new email at the dedicated email address
        &amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;
            When a new email arrives, the script grabs the attached
            image and hands it off to
            &amp;lt;a href=&amp;quot;https://github.com/tylergaw/papersaver/blob/master/papersaver.js&amp;quot;&amp;gt;Papersaver.js&amp;lt;/a&amp;gt;
        &amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;
            Papersaver.js creates the necessary directories and files
            for Node.js static site generator, &amp;lt;a href=&amp;quot;https://github.com/jnordberg/wintersmith&amp;quot;&amp;gt;Wintersmith&amp;lt;/a&amp;gt;
        &amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;
            Wintersmith regenerates the site with the new drawings
        &amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;
            The newly added and created files are commited to the Git
            repo and those commits are pushed to the remote repo at Github
        &amp;lt;/li&amp;gt;
        &amp;lt;li&amp;gt;
            The drawings live at &amp;lt;a href=&amp;quot;http://lab.tylergaw.com/papers&amp;quot;&amp;gt;http://lab.tylergaw.com/papers&amp;lt;/a&amp;gt;
        &amp;lt;/li&amp;gt;
    &amp;lt;/ul&amp;gt;
    &amp;lt;h2&amp;gt;The pieces&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        Papersaver is a fairly simple hack, but there are a few interesting
        parts worth talking about in more detail.
    &amp;lt;/p&amp;gt;
    &amp;lt;h3&amp;gt;Good enough email security&amp;lt;/h3&amp;gt;
    &amp;lt;p&amp;gt;
        I&#39;m using a &amp;lt;a href=&amp;quot;https://github.com/chirag04/mail-listener2&amp;quot;&amp;gt;node package&amp;lt;/a&amp;gt;
        to access Papersaver emails over IMAP. I don&#39;t want to leave the
        security of my primary email address in the hands of my programming
        skills so I use a dedicated email address–tylergaw.papersaver@gmail.com–for
        Papersaver.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        I just gave you the email address. So what&#39;s to keep you from
        flooding my Papersaver with all the images you please? (aside from your trustworthy nature)
        I use a settings file with to and from whitelists to only allow emails
        to/from certain addresses. Nothing good would come from me adding
        my actual settings to the public Github repo, but I do include a
        &amp;lt;a href=&amp;quot;https://github.com/tylergaw/papersaver/blob/master/mail-settings.sample.json&amp;quot;&amp;gt;sample settings file&amp;lt;/a&amp;gt;.
        The from address is really easy to fake, but the to address is a pretty
        decent way to lock things down.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        I use a &amp;quot;+slug&amp;quot; on the email address that I don&#39;t publish anywhere.
        Fake example; tylergaw.papersaver+71ksk27817@gmail.com. I put that address
        in my &amp;lt;code&amp;gt;toWhitelist&amp;lt;/code&amp;gt; settings. The &amp;lt;a href=&amp;quot;https://github.com/tylergaw/papersaver/blob/master/papersaver-mail-listener.js#L69&amp;quot;&amp;gt;mail listener script&amp;lt;/a&amp;gt;
        checks to make sure any emails received are to an address in the whitelist,
        if not, it bails. Fort Knox an email slug don&#39;t make, but for this
        little project it gets the job done.
    &amp;lt;/p&amp;gt;
    &amp;lt;h3&amp;gt;Papersaver Command-line interface&amp;lt;/h3&amp;gt;
    &amp;lt;p&amp;gt;
        While I was working on Papersaver, I didn&#39;t want to have to send an
        email each time I needed to test that the saving code was working.
        To make things faster I wrote a &amp;lt;a href=&amp;quot;https://github.com/tylergaw/papersaver/blob/master/papersaver-cli.js&amp;quot;&amp;gt;simple CLI&amp;lt;/a&amp;gt;
        that allows me to create new Papers from images on my machine. I used
        the super-cool node package &amp;lt;a href=&amp;quot;https://github.com/substack/node-optimist&amp;quot;&amp;gt;Optimist&amp;lt;/a&amp;gt;
        to handle the arguments I wanted to provide. The Papersaver CLI isn&#39;t
        any type of technological achievement, but it was the first time I&#39;ve
        written something like it, so it gets a mention here.
    &amp;lt;/p&amp;gt;
    &amp;lt;h3&amp;gt;Static site generator&amp;lt;/h3&amp;gt;
    &amp;lt;p&amp;gt;
        Since I decided to go the Node.js route for this project, I wanted
        all the pieces to be written in Node.js. &amp;lt;a href=&amp;quot;http://wintersmith.io/&amp;quot;&amp;gt;Wintersmith&amp;lt;/a&amp;gt;
        is a static site generator written in Node.js. These types of static generators
        have been &amp;lt;a href=&amp;quot;http://davidtucker.net/articles/introduction-to-wintersmith/&amp;quot;&amp;gt;written about at length&amp;lt;/a&amp;gt;
        so I don&#39;t have anything more to add.
        I&#39;ll just say that Wintersmith gets the job done and if I need a
        generator written in Node.js, it will be my go-to.
    &amp;lt;/p&amp;gt;
    &amp;lt;h2&amp;gt;Steal this project!&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        I didn&#39;t build this project just for me. My hope is that other folks
        that use Paper will find it interesting and start self-hosting the
        notes, drawings, and sketches they create. Papersaver isn&#39;t yet a
        turnkey project. I had that in mind from the start, but it will require
        more work to get it there. In the meantime, I&#39;d love to see forks of
        it that remedy some of the issues that are currently making it not
        ready for quick re-use. I&#39;m also 100% open to pull requests, so
        &amp;lt;a href=&amp;quot;https://github.com/tylergaw/papersaver&amp;quot;&amp;gt;fork it!&amp;lt;/a&amp;gt;
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        &amp;lt;i&amp;gt;Thanks for reading&amp;lt;/i&amp;gt;
    &amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
</content>
  </entry>
  
  <entry>
    <title>Slenderman</title>
    <link href="https://tylergaw.com/blog/slenderman/"/>
    <updated>2013-07-03T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/slenderman/</id>
    <content type="html">&lt;pre&gt;&lt;code&gt;    &amp;lt;figure&amp;gt;
        &amp;lt;a href=&amp;quot;http://lab.tylergaw.com/slenderman&amp;quot;&amp;gt;
            &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-slenderman-intro.png&amp;quot; alt=&amp;quot;Slenderman in use&amp;quot;&amp;gt;
        &amp;lt;/a&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p class=&amp;quot;entry-intro&amp;quot;&amp;gt;
        Fonts have always felt like a black box to me. The thought of creating
        a new one seemed like a task reserved for a select few with decades
        of experience, a deep knowledge of typography, and cumbersome,
        expensive software. Not me, I thought. I proved myself wrong by
        making my first font,
        &amp;lt;a href=&amp;quot;http://lab.tylergaw.com/slenderman&amp;quot;&amp;gt;Slenderman&amp;lt;/a&amp;gt;.
    &amp;lt;/p&amp;gt;
    &amp;lt;h2&amp;gt;Made to Scratch an Itch&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        I’m working on a small design project that felt like it needed hand drawn type.
        I could have gone the route of using images, but
        that just doesn’t feel right on the Web these days.
        I want my web type to be scalable and maintainable. Using images for
        type is neither of those. It was clear that I’d need to either find an
        existing font that fit the style I wanted, or create my own.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        I didn’t look around for existing fonts that fit. I jumped straight
        to creating my own. The project is a personal one so there’s no
        time limit. When I have that choice I love to let projects expand to
        as many different areas as they need to. This same project also led
        me down the path of building &amp;lt;a href=&amp;quot;https://tylergaw.com/articles/webvtt-cuemarker&amp;quot;&amp;gt;another small tool&amp;lt;/a&amp;gt;
        for working with HTML video subtitles.
    &amp;lt;/p&amp;gt;
    &amp;lt;h2&amp;gt;The Process&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        I knew how I wanted the capital letters to look from the outset. I
        started by just drawing them out on paper. My first thought for the
        lowercase letters was to make them not match the style of the caps,
        but to be a complement to them. I though a cursive handwriting style
        would be a nice contrast to the tall, skinny caps.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-slenderman-sketch01.jpg&amp;quot; alt=&amp;quot;Initial pen and paper sketches of Slenderman&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;Capital and unused lowercase letter sketches&amp;lt;/figcaption&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        After drawing the letters, I scanned them and used Illustrator’s
        Live Trace to convert them to vectors. The cursive lowercase letters didn’t
        convert well. They lost a lot of detail, and just kind of turned
        into muck. It was clear they weren’t going to work out so I ditched them.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        I went back to the pen and paper and drew a new set of lowercase
        letters as well as the numbers, punctuation, and assorted symbols.
        You can see in the drawing that the “@” and “&amp;amp;” are tough to decide on.
        I followed the same scan then Live Trace with these.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-slenderman-sketch02.jpg&amp;quot; alt=&amp;quot;Initial pen and paper sketches of Slenderman&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;Numbers, punctuation, symbols, and two sets of lowercase letter sketches&amp;lt;/figcaption&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        With all the characters drawn, scanned, and converted to vector the next
        step was to start refining them. All the charaters needed to have similar
        stroke weights, similar widths and heights, and a handful of other
        defining characteristics to make them feel like a family.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        I started with the capital letters. They converted to vector really well.
        For them I mostly just needed to make sure each letter was the
        correct width and height. I also needed to remove extra, uneeded
        points that Live Trace had added during conversion.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-slenderman-vector-caps.jpg&amp;quot; alt=&amp;quot;A few Slenderman capital letters in Illustrator&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;Working with the capital letters in Illustrator&amp;lt;/figcaption&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        While I was refining each capital letter, I was bringing each into
        &amp;lt;a href=&amp;quot;http://glyphsapp.com/glyphs-mini/&amp;quot;&amp;gt;Glyphs Mini&amp;lt;/a&amp;gt;, my font
        editor of choice. It allows vectors to be pasted in from Illustrator.
        Once the vector is in Glyphs I could set the position and spacing.
        Glyphs also allows characters to be typed out in
        the edit tab to get a real feel for how each one interacts
        with the others. This allows for creating kerning pairs of characters.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-slenderman-glyphs01.jpg&amp;quot; alt=&amp;quot;Editing Slenderman glyphs using Glyphs Mini&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;Glyphs Mini edit tab&amp;lt;/figcaption&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        The refining process for the lowercase letters took a lot more work
        than the capitals. For each of the 26 letters, I needed to make the strokes narrower,
        and for a lot of them completely change the shape from what I had
        drawn. This involved manually moving the points that made up each
        letter. It felt a lot like the original vectors were chunks of
        rough granite that I needed to chisel down into their final forms.
        As you can imagine, it’s a long, slow process.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        I followed the same process for the punctuation, numbers, and symbols.
        While I was refining the numbers, I did get a little overzealous. I
        ended up chipping away a bit too much off each one, leaving them very
        skinny. When they were next to other characters it looked like they
        were from a different family. This required me to go back and make
        each number a bit heavier. Lesson learned; compare each character to
        as many others as you can while you’re tweaking the vectors.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-slenderman-glyphs02.jpg&amp;quot; alt=&amp;quot;A view of most of the glyphs of Slenderman in Glyphs Mini&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;A bird’s-eye view of Slenderman&amp;lt;/figcaption&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
        Glyphs Mini allows for exporting to the OpenType format. While I was adding characters
        I wanted to get a better feel for how they were working. I would export
        the font, install it and then open up a test Photoshop document. Seeing
        full sentences and different combinations of letters, numbers, and symbols
        is really key to determining if things are working. I could better
        see any issues with spacing and sizing and pick out pairs of
        characters that could use attention to kerning. Also, it’s a really
        great feeling to be able to use a font after spending so much time
        working with it.
    &amp;lt;/p&amp;gt;
    &amp;lt;figure&amp;gt;
        &amp;lt;img src=&amp;quot;https://tylergaw.com/articles/assets/post-image-slenderman-tester-psd.jpg&amp;quot; alt=&amp;quot;Testing Slenderman in Photoshop&amp;quot;&amp;gt;
        &amp;lt;figcaption&amp;gt;Testing Slenderman in Photoshop&amp;lt;/figcaption&amp;gt;
    &amp;lt;/figure&amp;gt;

    &amp;lt;h2&amp;gt;Detail of a Gotcha&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        This is very specific to users of Glyphs Mini, but I spent a few hours
        banging my head against the desk before I figured it out
        so I’m going to write about it in the hopes that I’ll save some
        other poor soul’s forehead.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        Glyphs has components. A component is a Glyph that is made
        up of a base glyph. Example components are right and left double quotes
        and the ellipsis; made up of right and left single quotes and the period,
        respectively. When you open a component to edit, the base
        glyph is grayed out, it seems like it is uneditable. It also only shows
        the base glyph. In the case of double quotes only a single right
        or left quote is shown. For the ellipsis only a single period. For some reason
        Glyphs stacks the base glyphs on top of each other. The base
        glyph needs to be clicked and dragged to reveal the other base glyph(s)
        under it. I found this answer on the
        &amp;lt;a href=&amp;quot;http://glyphsapp.com/forums/index.php?action=vthread&amp;amp;forum=1&amp;amp;topic=282&amp;quot;&amp;gt;Glyphs forum&amp;lt;/a&amp;gt;.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        Part two of the gotcha took longer to figure out. After I’d separated
        the base glyphs of the compenents, I spaced them, tested them with
        other characters in the edit tab, and exported like normal.
        Then I tried to use right and left double quotes and the ellipsis. Nothing
        would show up. I could tell the glyph exported because I didn’t get
        the usual missing glyph character and neither Photoshop nor TextEdit
        tried to replace it with another font. This seemed like one of those
        what in the hell?!/computer voodoo moments.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        &amp;lt;b&amp;gt;Cmd + Shift + D&amp;lt;/b&amp;gt; was the magic key combo that ended my confusion.
        Components need to be Decomposed before they can be exported properly.
        The option is available under the Glyph menu &amp;gt; Decompose Components.
        Once a component is decomposed it is no longer tied to a base glyph
        so it can be edited like any other glyph and it exports normally.
    &amp;lt;/p&amp;gt;

    &amp;lt;h2&amp;gt;Slenderman is Open Source&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        I’ve always felt like when I download a font that’s that. The font is
        done and nothing can be added or modified. This might not be the
        reality, but without a knowledge of how fonts are
        made, that’s how I’ve seen things. With Slenderman, I’m not aiming for
        it being “done”. I want to keep iterating and improving on it.
        All of the source files are available on
        &amp;lt;a href=&amp;quot;https://github.com/tylergaw/slenderman&amp;quot;&amp;gt;GitHub&amp;lt;/a&amp;gt;. That means
        anybody can fork the repo and make any changes or additions needed.
        They can make new versions of it that fit their needs, or open Pull
        Requests to have their changes added into the main fork of Slenderman.
        I haven’t seen that before and I’m interested in seeing if anyone
        is interested in working on it.
    &amp;lt;/p&amp;gt;

    &amp;lt;h2&amp;gt;What Did I Learn?&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        Slenderman does not make me a typographer by any means. It did open up
        the possibilty though. Working on it has given me a greater
        appreciation for the skill and patience required to create the
        beautiful type that we use and often take for granted.
    &amp;lt;/p&amp;gt;
    &amp;lt;p&amp;gt;
        &amp;lt;i&amp;gt;Thanks for reading&amp;lt;/i&amp;gt;
    &amp;lt;/p&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
</content>
  </entry>
  
  <entry>
    <title>WebVTT Cuemarker</title>
    <link href="https://tylergaw.com/blog/webvtt-cuemarker/"/>
    <updated>2013-06-08T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/webvtt-cuemarker/</id>
    <content type="html">&lt;pre&gt;&lt;code&gt;    &amp;lt;p class=&amp;quot;entry-intro&amp;quot;&amp;gt;
        &amp;lt;a href=&amp;quot;http://dev.w3.org/html5/webvtt/&amp;quot;&amp;gt;WebVTT&amp;lt;/a&amp;gt; is a text format
        that can be used to provide captions and subtitles for HTML video.
        While working on a project that uses it I found myself needing a
        way to find and mark precise cue in/out times.
        &amp;lt;a href=&amp;quot;https://github.com/tylergaw/webvtt-cuemarker&amp;quot;&amp;gt;webvtt-cuemarker&amp;lt;/a&amp;gt;
        is a small tool I whipped up in JavaScript to do just that.
    &amp;lt;/p&amp;gt;
    &amp;lt;h2&amp;gt;A WebVTT Primer&amp;lt;/h2&amp;gt;
    &amp;lt;p&amp;gt;
        The format is still fairly new and not yet widely supported, so I&#39;ll give
        a quick example of how it&#39;s used.
    &amp;lt;/p&amp;gt;
    &amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-clike&amp;quot;&amp;gt;WEBVTT FILE
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;00:00:01.265 --&amp;gt; 00:00:06.210
This is text that will appear over the video at during the in/out points.&lt;/p&gt;
&lt;p&gt;00:00:05.500 --&amp;gt; 00:00:10.250
You can use &lt;b&gt;HTML&lt;/b&gt; within WebVTT, pretty cool.
&lt;/p&gt;
&lt;p&gt;
That&#39;s an example of a very simple WebVTT file with two cues. We&#39;ll
refer to it as &lt;code&gt;captions.vtt&lt;/code&gt;
&lt;/p&gt;
&lt;p&gt;
The next thing to do is to let your HTML video know about the WebVTT file.
That&#39;s done using the &lt;code&gt;track&lt;/code&gt; element.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-markup&quot;&gt;&amp;lt;video controls&amp;gt;
&amp;lt;source src=&quot;/path/to/video.mp4&quot; type=&quot;video/mp4&quot;&amp;gt;
&amp;lt;source src=&quot;/path/to/video.webm&quot; type=&quot;video/webm&quot;&amp;gt;
&amp;lt;track kind=&quot;captions&quot; label=&quot;English captions&quot;
src=&quot;/path/to/captions.vtt&quot; srclang=&quot;en&quot; default&gt;&amp;lt;/track&amp;gt;
&amp;lt;/video&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
That&#39;s all there is to it. If we played the fictional video above
we would see the two captions appear at the times provided in &lt;code&gt;captions.vtt&lt;/code&gt;.
For a more in-depth look at the &lt;code&gt;track&lt;/code&gt; element I suggest
&lt;a href=&quot;http://www.html5rocks.com/en/tutorials/track/basics/&quot;&gt;Getting Started With the Track Element&lt;/a&gt;
on HTML5 Rocks. That&#39;s where I first learned about all this goodness.
&lt;/p&gt;
&lt;h2&gt;Why Is Cuemarker Needed?&lt;/h2&gt;
&lt;p&gt;
WebVTT is very specific about the time format for cues. Cue times must
be represented exactly as shown in &lt;code&gt;captions.vtt&lt;/code&gt;. It&#39;s
easy to type out the times in that way, but how do you find
precise times using HTML video? HTML video controls display the time
of the video, but only down to the second. And not in the format needed
for WebVTT. This is why I wrote Cuemarker.
&lt;/p&gt;
&lt;p&gt;
Cuemarker provides a keyboard shortcut–the period key–for setting in/out
points and outputting the cue time in the required format.
&lt;/p&gt;
&lt;p&gt;
Cuemarker also provides shortcuts to interact with HTML
video. You can play/pause using the space bar and
seek forward/backward using the right/left arrow keys. Those controls
allow you to arrive at more precise moments in video than you can
using the default video scrubber provided by the browser.
&lt;/p&gt;
&lt;h2&gt;How Do I Use It?&lt;/h2&gt;
&lt;p&gt;
I&#39;ll go back to the HTML in the previous example, but I&#39;m going to
remove the &lt;code&gt;track&lt;/code&gt; element. For marking cue times you only
need an HTML video.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-markup&quot;&gt;&amp;lt;video controls&amp;gt;
&amp;lt;source src=&quot;/path/to/video.mp4&quot; type=&quot;video/mp4&quot;&amp;gt;
&amp;lt;source src=&quot;/path/to/video.webm&quot; type=&quot;video/webm&quot;&amp;gt;
&amp;lt;/video&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
Once your HTML is in place, you&#39;ll need a bit of JavaScript.
Cuemarker creates a variable–&lt;code&gt;cuemarker&lt;/code&gt;–in the global scope.
&lt;code&gt;cuemarker&lt;/code&gt; is a function that takes one required parameter;
the video element. It also takes a second, optional parameter to
specify a seek interval and output function.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;cuemarker(document.querySelector(&#39;video&#39;));
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
That&#39;s a bare-bones example and may be all that you&#39;ll need. The cue
times will be output using &lt;code&gt;console.log&lt;/code&gt;.
&lt;/p&gt;
&lt;p&gt;
Here&#39;s another example using both the available options.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;cuemarker(document.querySelector(&#39;video&#39;), {
seekInterval: 0.5 //default is 0.03,
output: function (cuetime) {
var times = document.getElementById(&#39;cuetimes&#39;),
li = document.createElement(&#39;li&#39;);
li.innerHTML = cuetime;
times.appendChild(li);
}
});
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
In that example, the seek interval is less precise than the default
and the cue times will be injected into the page as &lt;code&gt;li&lt;/code&gt;
elements that are children of the &lt;code&gt;ul&lt;/code&gt; with an id of &quot;cuetimes&quot;.
&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-cuemarker-output.jpg&quot; alt=&quot;Screenshot of Cuemarker output&quot; /&gt;
&lt;figcaption&gt;Cuemarker output&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
Cuemarker doesn&#39;t try to get cute by attempting to transfer cue times to
a WebVTT file. All it&#39;s interested in doing is outputting the
in/out times. Once you&#39;ve marked in/out times you
can copy them over to your WebVTT files. That&#39;s how I&#39;ve been using
it and it&#39;s working really well for me.
&lt;/p&gt;
&lt;p&gt;
A working demo of the latter example is located
&lt;a href=&quot;http://tylergaw.github.io/webvtt-cuemarker/demo.html&quot;&gt;here&lt;/a&gt;.
&lt;/p&gt;
&lt;h2&gt;That&#39;s It?&lt;/h2&gt;
&lt;p&gt;
Yep, that&#39;s what I got for now. Again, the &lt;code&gt;track&lt;/code&gt; element
and WebVTT are not yet widely supported. As of this writing only the
latest Chrome and Opera are cool enough to do so. The Web moves fast though and
I know it won&#39;t be long before Firefox and Safari follow suit.
&lt;/p&gt;
&lt;p&gt;
Limited support for the underlying technology means that this is a
tool you may not need today, but you might tomorrow.
&lt;a href=&quot;https://github.com/tylergaw/webvtt-cuemarker&quot;&gt;Fork it!&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
&lt;i&gt;Thanks for reading&lt;/i&gt;
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Get Together. Get Excited. Get to Work.</title>
    <link href="https://tylergaw.com/blog/get-together-get-excited-get-to-work/"/>
    <updated>2012-09-24T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/get-together-get-excited-get-to-work/</id>
    <content type="html">&lt;figure&gt;
        &lt;a href=&quot;http://brooklynalpha.org/2012&quot;&gt;
        &lt;img src=&quot;https://tylergaw.com/articles/assets/post-image-brooklyn-alpha-2012.png&quot; alt=&quot;Brooklyn Alpha 2012&quot; /&gt;
        &lt;/a&gt;
&lt;/figure&gt;
        &lt;p&gt;
            &lt;b&gt;Brass tacks:&lt;/b&gt; &lt;em&gt;
                &lt;a href=&quot;http://brooklynalpha.org/2012&quot;&gt;
                        Come to my build-a-thon, make cool shit!
                &lt;/a&gt;.
            &lt;/em&gt;
        &lt;/p&gt;
        &lt;p class=&quot;entry-intro&quot;&gt;
                If you haven&#39;t heard, Brooklyn is &lt;b&gt;the&lt;/b&gt; place to be the
                second week of October 2012. That&#39;s the week that the Internet
                is getting together for a week of conferences, meet ups, drink-ups,
                shinanagans, and the friendliest little web build-a-thon that could.
                It just so happens that that build-a-thon is being organized and
                hosted by myself and &lt;a href=&quot;https://twitter.com/xiian&quot;&gt;Tom Sartain&lt;/a&gt;.
                We&#39;d love for you to join us!
        &lt;/p&gt;
        &lt;h2&gt;What&#39;s this &amp;#8220;build-a-thon&amp;#8221;?&lt;/h2&gt;
        &lt;p&gt;
                Alright, here&#39;s the deal. If you&#39;re a designer or a developer I
                know you have at least one project in your mind right now
                that you want to work on. And there&#39;s a good chance you&#39;ve
                been thinking about working on this project for a while and for
                one reason or another haven&#39;t been able to dive in and get it done.
        &lt;/p&gt;
        &lt;p&gt;
                Brooklyn Alpha is a perfect excuse to give yourself three days
                to put your idea into motion. Not only will you have three days, you&#39;ll
                have access to other motivated folks who may have complementary
                skills. Maybe you&#39;re a designer who needs a Python developer. Or
                you&#39;re Mr. Django himself and you need a designer to help
                make your project easy to use and easy on the eyes. Or maybe you&#39;re someone
                who has a head full of great ideas and you&#39;re looking for
                designers and developers to lend a hand in materializing all that
                greatness coming from your grey matter. Whatever your situation
                we&#39;ll have you covered.
        &lt;/p&gt;
        &lt;h2&gt;&amp;#8220;I don&#39;t have any ideas&amp;#8221;&lt;/h2&gt;
        &lt;p&gt;
                OK, OK. The brain well done gone dry. It happens to the best of us.
                Can you sling hot pixels or code? Of course you can. Then you should
                come to Brooklyn Alpha. Here&#39;s why. Last year when we opened up
                the floor to anyone to get up and pitch ideas, nearly every
                single one of our incredible attendees got up and did just that.
                And more than a few got up a second or third time. There will be
                no shortage of excellent ideas at Alpha and many of them will need
                your brain to get them moving.
        &lt;/p&gt;
        &lt;h2&gt;OK, cool. What else?&lt;/h2&gt;
        &lt;p&gt;
                I&#39;ll tell you what else. You get to be a part of something that&#39;s
                going to be huge. Brooklyn Alpha is sharing the week with the
                legendary &lt;a href=&quot;https://brooklynbeta.org/&quot;&gt;Brooklyn Beta&lt;/a&gt;
                and we&#39;re an official part of &lt;a href=&quot;https://brooklynbeta.org/beyond&quot;&gt;Beyond Beta&lt;/a&gt;.
                If you haven&#39;t heard of those stop reading this now and go find out
                about them (then hurry back and pick up your ticket to Alpha).
        &lt;/p&gt;
        &lt;p&gt;
                Brooklyn Alpha will be taking place during the day each of its
                three days. That leaves the evenings free for maximum mingling
                with a whole host of excellent web folks that will for sure be
                inhabiting our incredible Borough of Brooklyn during the week.
        &lt;/p&gt;
        &lt;h2&gt;Hope to see you there!&lt;/h2&gt;
        &lt;p&gt;
                This is our second year hosting Brooklyn Alpha. It&#39;s a challenging,
                fun, and rewarding task to take on. We&#39;re doing this because
                we love the work we do, we love the city we live in, and we love
                the web community that makes events like this possible. We&#39;re
                honored to be able to surround ourselves with so many people that
                share our passions.
        &lt;/p&gt;
        &lt;figure&gt;
                &lt;a href=&quot;https://www.flickr.com/photos/brooklynalpha/6251904083/in/photostream&quot;&gt;
                        &lt;img src=&quot;https://farm7.staticflickr.com/6042/6251904083_1347d7870f_b.jpg&quot; alt=&quot;Brooklyn Alpha 2011&quot; /&gt;
                &lt;/a&gt;
                &lt;figcaption&gt;Brooklyn Alpha 2011 Group Photo&lt;/figcaption&gt;
        &lt;/figure&gt;
        &lt;p&gt;
                &lt;i&gt;Thanks for reading&lt;/i&gt;
        &lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Reacting to Media Queries in JavaScript</title>
    <link href="https://tylergaw.com/blog/reacting-to-media-queries-in-javascript/"/>
    <updated>2012-05-17T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/reacting-to-media-queries-in-javascript/</id>
    <content type="html">&lt;p&gt;
        &lt;b&gt;Brass tacks:&lt;/b&gt; &lt;em&gt;&lt;a href=&quot;http://tylergaw.github.com/media-query-events/&quot;&gt;A demo&lt;/a&gt; and &lt;a href=&quot;https://github.com/tylergaw/media-query-events&quot;&gt;some code&lt;/a&gt;.&lt;/em&gt;
&lt;/p&gt;
&lt;p class=&quot;entry-intro&quot;&gt;
        &lt;code&gt;window.matchMedia&lt;/code&gt; provides a way for Javascript to react when a media query condition is met or unmet. While the functionality it allows is great, the necessary code duplication required to use it leaves a bit to be desired. I&#39;m going to walk through a work-in-progress approach to getting around that duplication.
&lt;/p&gt;
&lt;h2&gt;window.matchMedia&lt;/h2&gt;
&lt;p&gt;
        The method is simple enough to use and works the way you&#39;d expect it. You give it a media query string it gives you back a &lt;a href=&quot;https://developer.mozilla.org/en/DOM/MediaQueryList&quot;&gt;MediaQueryList&lt;/a&gt; object.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var mql = window.matchMedia(&quot;(min-width: 480px)&quot;);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
        That sets the value of &lt;code&gt;mql&lt;/code&gt; to a MediaQueryList object with two members, something like:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;MediaQueryList: {
  matches: true,
  media: &quot;(min-width: 480px)&quot;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
The boolean value of the &lt;code&gt;matches&lt;/code&gt; member will be determined by the width of your browser window at the time.
&lt;/p&gt;
&lt;p&gt;
You can add event listeners to MediaQueryList objects. An event will fire each time the condition is triggered. This allows you to be updated on the status of the media query without having to resort to polling or a &lt;code&gt;window.resize&lt;/code&gt; event. Using &lt;code&gt;mql&lt;/code&gt; from above we can set up a listener and handler like so:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;mql.addListener(handleMediaChange);
handleMediaChange(mql);
&lt;p&gt;var handleMediaChange = function (mediaQueryList) {
if (mediaQueryList.matches) {
// The browser window is at least 480px wide
}
else {
// The browser window is less than 480px wide
}
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p class=&quot;note&quot;&gt;
You can find similar code examples and further explanation of MatchMedia on the &lt;a href=&quot;https://developer.mozilla.org/en/DOM/window.matchMedia&quot;&gt;Mozilla Developer Network&lt;/a&gt;
&lt;/p&gt;
&lt;p&gt;
MatchMedia works pretty well. As usual there are some caveats that I&#39;ll mention later. My issue is with needing to specify the media query when you create the MediaQueryList. If you wanted an event to fire for every media query you might have, you&#39;d have manually copy each from your stylesheets to you JS. Every time you update a media query in CSS, you&#39;d have to do the same in JS. What I want is a script to look at a page&#39;s stylesheets, pick out all the media queries and create a MediaQueryList for each one.
&lt;/p&gt;
&lt;h2&gt;
Getting Media Queries from CSS to JS
&lt;/h2&gt;
&lt;p&gt;
When I first started looking into this I thought I was in for some really hairy stuff. I imagined myself having to make ajax requests to fetch stylesheets, use weird regexes to find the &lt;code&gt;@media&lt;/code&gt; rules, and employ other types of not-so-fun things. Luckily, this did not turn out to be the case.
&lt;/p&gt;
&lt;p&gt;
I&#39;ve written small script that accomplishes the tasks I&#39;m after, &lt;a href=&quot;https://github.com/tylergaw/media-query-events/blob/master/js/mq-events.js&quot;&gt;mqEvents.js is on Github&lt;/a&gt; and a working example is at &lt;a href=&quot;http://tylergaw.github.com/media-query-events/&quot;&gt;tylergaw.github.com/media-query-events&lt;/a&gt;.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;(function () {
var mqEvents = function (mediaChangeHandler) {
var sheets = document.styleSheets,
numSheets = sheets.length,
mqls = {},
mediaChange = function (mql) {
console.log(mql);
}
&lt;pre&gt;&lt;code&gt;    if (mediaChangeHandler) {
        mediaChange = mediaChangeHandler;
    }

    for (var i = 0; i &amp;lt; numSheets; i += 1) {
        var rules = sheets[i].cssRules,
                numRules = rules.length;

        for (var j = 0; j &amp;lt; numRules; j += 1) {
            if (rules[j].constructor === CSSMediaRule) {
                mqls[&#39;mql&#39; + j] = window.matchMedia(rules[j].media.mediaText);
                mqls[&#39;mql&#39; + j].addListener(mediaChange);
                mediaChange(mqls[&#39;mql&#39; + j]);
            }
        }
    }
}

window.mqEvents = mqEvents;
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}());&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
I&#39;m going to go through the code here and explain what&#39;s happening each step of the way.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var mqEvents = function (mediaChangeHandler)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
The &lt;code&gt;mqEvents&lt;/code&gt; function takes a single parameter, a function that will be called each time a media query is triggered.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var sheets = document.styleSheets,
numSheets = sheets.length&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
The document contains an object of all loaded stylesheets. Our &lt;code&gt;sheets&lt;/code&gt; variable is a list of &lt;a href=&quot;https://developer.mozilla.org/en/DOM/stylesheet&quot;&gt;StyleSheet&lt;/a&gt; objects. &lt;code&gt;numSheets&lt;/code&gt; is stored for convenience for when we loop over the list of stylesheets.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;mediaChange = function (mql) {
console.log(mql);
}
&lt;p&gt;if (mediaChangeHandler) {
mediaChange = mediaChangeHandler;
}
&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
If the &lt;code&gt;mediaChangeHandler&lt;/code&gt; argument is not passed to &lt;code&gt;mqEvents&lt;/code&gt;, a default function, &lt;code&gt;mediaChange&lt;/code&gt; will handle each media query event. The default doesn&#39;t do much of anything. For the purpose of this script we just want to have something there.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;for (var i = 0; i &lt; numSheets; i += 1) {
var rules = sheets[i].cssRules,
numRules = rules.length;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
Here we&#39;re looping over our &lt;code&gt;sheets&lt;/code&gt; list to look at each loaded stylesheet. The &lt;code&gt;rules&lt;/code&gt; variable is list of all the rules of the current stylesheet represented as &lt;a href=&quot;https://developer.mozilla.org/en/DOM/cssRule&quot;&gt;CSSRule&lt;/a&gt; objects. &lt;br /&gt;&lt;em&gt;This is where things take a turn for the awesome.&lt;/em&gt;
&lt;/p&gt;
&lt;p&gt;
At the start of this I was aware that all a document&#39;s stylesheets could be accessed and that all the rules of the stylesheets were represented by CSSRule objects, but what I didn&#39;t know was that CSSRule objects that contain a media query have a unique name. Take a look at this screen shot of the console when logging out each CSSRule object:
&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;https://tylergaw.com/articles/assets/mqevents-cssrules-in-console.jpg&quot; alt=&quot;Screenshot of the Chrome developer console showing a number of CSSRule objects being logged.&quot; /&gt;
&lt;figcaption&gt;Logging out each CSSRule object reveals a unique name for media query rules. Badass.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
Regular CSS rules have the name &quot;CSSStyleRule&quot; while media queries have the name &quot;CSSMediaRule&quot;. This is great because it gives us an easy way to pluck out only the media queries from our stylesheets without needing to resort to string parsing, which can get ugly quickly.
&lt;/p&gt;
&lt;p class=&quot;note&quot;&gt;
(It looks like other types of rules like font-face and keyframes have &lt;a href=&quot;https://developer.mozilla.org/en/DOM/cssRule#section_2&quot;&gt;unique names too&lt;/a&gt;.)
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;for (var j = 0; j &lt; numRules; j += 1) {
if (rules[j].constructor === CSSMediaRule)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
We can now loop over each rule in the stylesheet and check to see if it is a media query. The condition here, checking to see if the constructor matches the name &quot;CSSMediaRule&quot;, was also new to me. I found that approach in a thorough &lt;a href=&quot;http://stackoverflow.com/a/332429/368634&quot;&gt;Stack Overflow answer&lt;/a&gt; on the topic.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;mqls[&#39;mql&#39; + j] = window.matchMedia(rules[j].media.mediaText);
mqls[&#39;mql&#39; + j].addListener(mediaChange);
mediaChange(mqls[&#39;mql&#39; + j]);&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
Now that we know we&#39;re only dealing with media queries, we&#39;re free to use them with matchMedia to create MediaQueryList objects, bind events to those and handle them with a given handler function. This bit of code is nearly the same as the matchMedia example. The noticeable exception here is that each MediaQueryList object is being added to a hash, &lt;code&gt;mqls&lt;/code&gt;, that we created earlier. We could accomplish the same thing without putting each object in the hash, this was more of a forward-thinking thing. I have a feeling that there could be a use for holding on to all of the objects to access them later.
&lt;/p&gt;
&lt;h2&gt;Usage&lt;/h2&gt;
&lt;p&gt;
So why would you use this and what happens when you do? In the demo I linked to, this is the implementation:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var msg = document.getElementById(&#39;condition&#39;),
handleMediaChange = function (mql) {
&lt;pre&gt;&lt;code&gt;// For some reason Firefox has trouble always running this code.
// The console.log seems to help it.
// TODO: Figure out what the hell that&#39;s all about
console.log();

if (mql.matches) {
    msg.setAttribute(&#39;class&#39;, &#39;met&#39;);
    msg.innerHTML = &#39;The condition &amp;quot;&#39; + mql.media + &#39;&amp;quot; was met.&#39;;
}
else {
    msg.setAttribute(&#39;class&#39;, &#39;unmet&#39;);
    msg.innerHTML = &#39;The condition &amp;quot;&#39; + mql.media + &#39;&amp;quot; was not met.&#39;;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;};&lt;/p&gt;
&lt;p&gt;mqEvents(handleMediaChange);&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
Notice the big comment about Firefox there, I still don&#39;t know what that is. Like I said, work-in-progress here.
&lt;/p&gt;
&lt;p&gt;
What this does is update a the DOM element, represented by &lt;code&gt;msg&lt;/code&gt;, each time a media query is triggered. &lt;code&gt;mqEvents&lt;/code&gt; doesn&#39;t try to react differently to specific media queries. It calls the same handler each time one is triggered. The handler function, however, does receive information about the media query. It knows what the media query is–which I&#39;m placing in the DOM with &lt;code&gt;mql.media&lt;/code&gt;–and if the condition was met by the window–which I&#39;m checking with &lt;code&gt;mql.matches&lt;/code&gt;.
&lt;/p&gt;
&lt;h2&gt;What Else Can This Be Used For?&lt;/h2&gt;
&lt;p&gt;
Maybe parts of the page layout are done with Javascript and need to be updated each time a media query is triggered. Maybe it could be used to do conditional loading of images, scripts, fonts, or the like. This type of conditional loading of assets could be used to help reduce the bandwidth usage on mobile devices.
&lt;/p&gt;
&lt;h2&gt;Concerns and Caveats&lt;/h2&gt;
&lt;p&gt;
If a page has a lot of media queries, &lt;code&gt;mqEvents&lt;/code&gt; is going to add a lot of event listeners and it&#39;s going to be calling the handling function a lot of times. I haven&#39;t run into anything problematic with my small demo page, but I&#39;d be curious to see the impacts on performance on a page with a substantial number of media queries.
&lt;/p&gt;
&lt;p&gt;
With all these fancy new things browser support is a big question. &lt;code&gt;matchMedia&lt;/code&gt; is not supported very well yet. According to &lt;a href=&quot;http://caniuse.com/#search=matchMedia&quot;&gt;caniuse.com&lt;/a&gt; we&#39;re looking at Chrome 17+, Firefox 9+, Safari 5.1+, iOS Safari 5.0+, IE 10+ (with an ms prefix), and no support yet for Opera. For unsupported browsers a polyfill could be employed. Here&#39;s a good one right &lt;a href=&quot;https://github.com/paulirish/matchMedia.js/&quot;&gt;here&lt;/a&gt;.
&lt;/p&gt;
&lt;h2&gt;Other Cool Stuff&lt;/h2&gt;
&lt;p&gt;
As I was working on this I found out about a related project named &lt;a href=&quot;http://harvesthq.github.com/harvey&quot;&gt;Harvey&lt;/a&gt;. I haven&#39;t used it yet, but it looks really good. It looks like it still has that duplication of media queries issue, but if you&#39;re looking for targeted reactions to specific media queries it might be the way to go.
&lt;/p&gt;
&lt;p&gt;
&lt;i&gt;Thanks for reading&lt;/i&gt;
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Fun with HTML Form Validation Styles</title>
    <link href="https://tylergaw.com/blog/fun-with-html-form-validation-styles/"/>
    <updated>2011-08-23T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/fun-with-html-form-validation-styles/</id>
    <content type="html">&lt;p&gt;
  &lt;b&gt;Brass tacks:&lt;/b&gt; &lt;em&gt;Demos; &lt;a href=&quot;http://lab.tylergaw.com/html5forms/errorStyles/01/&quot;&gt;Style 01&lt;/a&gt;, &lt;a href=&quot;http://lab.tylergaw.com/html5forms/errorStyles/02/&quot;&gt;Style 02&lt;/a&gt;, &lt;a href=&quot;http://lab.tylergaw.com/html5forms/errorStyles/03/&quot;&gt;Style 03&lt;/a&gt; and &lt;a href=&quot;https://github.com/tylergaw/html5forms/tree/master/errorStyles&quot;&gt;the code&lt;/a&gt;.&lt;/em&gt;
&lt;/p&gt;
&lt;p class=&quot;entry-intro&quot;&gt;
  If you haven&#39;t heard already, the current HTML Living Standard or HTML5 spec has in it some super cool form validation. This is client-side form validation that is meant to remove some of the burden of writing validation with Javascript. If you&#39;ve ever written form validation with Javascript I think you&#39;ll agree that this is a very good thing.
&lt;/p&gt;
&lt;p&gt;
  Using this new feature of html can be as easy as creating a form and within it creating an input with a &lt;code&gt;required&lt;/code&gt; attribute. When the form is submitted, browsers that support validation will take the reigns and make sure that the required input has a value. If it does not, the browser will display a validation error message.
&lt;/p&gt;
&lt;p&gt;
  In addition to validating required fields, the form validation will also check to make sure inputted values match given input types. New in the Living Standard are quite a few new input types such as; &quot;email&quot;, &quot;url&quot;, &quot;number&quot; and so on. Check out the full list located at &lt;a href=&quot;http://developers.whatwg.org/the-input-element.html#the-input-element&quot;&gt;http://developers.whatwg.org/the-input-element.html#the-input-element&lt;/a&gt;.
&lt;/p&gt;
&lt;h2&gt;Validation error messages&lt;/h2&gt;
&lt;p&gt;
  As of this writing, there are three browsers that both support html form validation and display error messages when needed. Browser support includes; Chrome 10+, Firefox 3.6+, and Opera 11+. Safari doesn&#39;t care about validating your forms and I haven&#39;t checked any versions of IE, maybe 9 or 10 support this? Each browser handles the styling of validation messages differently.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post_image_htmlFormErrors_defaultChrome.jpg&quot; alt=&quot;Chrome 12 default error messages&quot; /&gt;
  &lt;figcaption&gt;Chrome 13 default error message&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post_image_htmlFormErrors_defaultFirefox.jpg&quot; alt=&quot;Firefox 5.0 default error messages&quot; /&gt;
  &lt;figcaption&gt;Firefox 6.0 default error message&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post_image_htmlFormErrors_defaultOpera.jpg&quot; alt=&quot;Opera 11.5 default error messages&quot; /&gt;
  &lt;figcaption&gt;Opera 11.5 default error message&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  Of the three, only Chrome currently offers a way to apply custom styles to the message. Through non-standard, Webkit-specific pseudo classes you are able to style the messages in any way that floats your boat. That&#39;s what I&#39;m focusing on with this article.
&lt;/p&gt;
&lt;h2&gt;What about the other browsers?&lt;/h2&gt;
&lt;p&gt;
  That&#39;s a good question. I haven&#39;t heard anything about Opera, but it seems that the style and even handling of the error messages is an open discussion with Firefox. I did quite a bit of digging around in &lt;a href=&quot;http://www.bugzilla.org/&quot;&gt;Bugzilla&lt;/a&gt; and in the FF 6 source code, but couldn&#39;t find any solid information on what the plan is. My hope is that a standard will emerge for styling the messages, but that could be far off.
&lt;/p&gt;
&lt;h2&gt;The pseudo classes and markup&lt;/h2&gt;
&lt;p&gt;
  When I first started looking into if/how the error messages could be styled I quickly came across a &quot;Rosetta Stone&quot; in an article by Peter Gasston, &lt;a href=&quot;http://www.broken-links.com/2011/06/16/styling-html5-form-validation-errors/&quot;&gt;http://www.broken-links.com/2011/06/16/styling-html5-form-validation-errors&lt;/a&gt;. In the post Peter explains the pseudo classes that webkit makes available to target the error message elements. He&#39;s done the leg work of digging through the Webkit source code to find this stuff, thanks Peter! To reiterate some of what is in Peter&#39;s article, the following are the classes that are available to hook into:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;::-webkit-validation-bubble {}
&lt;p&gt;::-webkit-validation-bubble-message {}
::-webkit-validation-bubble-arrow {}
::-webkit-validation-bubble-arrow-clipper {}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
Each of those target a &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt; element that is inserted into the DOM when a validation error is triggered. The markup looks like this:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-markup&quot;&gt;&amp;lt;div -webkit-validation-bubble&amp;gt;
&amp;lt;div -webkit-validation-bubble-arrow&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;div -webkit-validation-bubble-arrow-clipper&amp;gt;&amp;lt;/div&amp;gt;
&amp;lt;div -webkit-validation-bubble-message&amp;gt;Error Message&amp;lt;/div&amp;gt;
&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
There are four more pseudo classes that were added as I was writing this article. These are currently only in the nightly builds of Chrome/Webkit and seem to just allow further control of the styling.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;::-webkit-validation-bubble-icon {}
::-webkit-validation-bubble-body {}
::-webkit-validation-bubble-text-block {}
::-webkit-validation-bubble-arrow-heading {}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
As of this writing and Chrome 13.0.782.112 these classes do not seem to have corresponding html elements. Only the &lt;code&gt;bubble-text-block&lt;/code&gt; and &lt;code&gt;bubble-heading&lt;/code&gt; contain default CSS rules and they are minimal and any CSS rules applied to these do not seem to affect any changes to the current validation error messages. We&#39;ll have to wait and see how these elements get put to use.
&lt;/p&gt;
&lt;h2&gt;Default styles&lt;/h2&gt;
&lt;p&gt;
A huge help when styling the messages is knowing the default styles that Chrome applies. Luckily the default Webkit CSS is available to peruse so you can see the exact properties that need to be modified. The default styles live here; &lt;a href=&quot;http://trac.webkit.org/browser/trunk/Source/WebCore/css/html.css&quot;&gt;http://trac.webkit.org/browser/trunk/Source/WebCore/css/html.css&lt;/a&gt;
&lt;/p&gt;
&lt;h2&gt;Demos&lt;/h2&gt;
&lt;p&gt;
I set up three different demos using markup for a simple login form containing two fields. The first field is an email input that is required:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-markup&quot;&gt;&amp;lt;input type=&quot;email&quot; name=&quot;email&quot; required&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
The second field is a password input that is required:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-markup&quot;&gt;&amp;lt;input type=&quot;password&quot; name=&quot;password&quot; required&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
The rest of the markup for each demo is nearly identical, differences include; using &lt;code&gt;&amp;lt;label&amp;gt;&lt;/code&gt; elements for the first demo and some different structural elements for each.
&lt;/p&gt;
&lt;p&gt;
To really work with the message styles, I wanted each demo to have a distinct style from the others. Demo 1 has a kind of standard-looking style with error messages that are big, bright and bubbly. Demo 2 has a sleeker, higher-tech, control panel-y look with a slimmed down error icon with no text. Demo 3 has an artsy, Draplin-inspired, Futura-filled look that carries over into big-ole, text only error messages.
&lt;/p&gt;
&lt;figure&gt;
&lt;a href=&quot;http://lab.tylergaw.com/html5forms/errorStyles/01&quot;&gt;
&lt;img src=&quot;https://tylergaw.com/articles/assets/post_image_htmlFormErrors_demo01.jpg&quot; alt=&quot;Demo 01 style showing an error&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt;Style 01; 37 Signals called, they want their form back&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;a href=&quot;http://lab.tylergaw.com/html5forms/errorStyles/02&quot;&gt;
&lt;img src=&quot;https://tylergaw.com/articles/assets/post_image_htmlFormErrors_demo02.jpg&quot; alt=&quot;Demo 02 style showing an error&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt;Style 02; this is the login form for your Starcraft forum&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
&lt;a href=&quot;http://lab.tylergaw.com/html5forms/errorStyles/03&quot;&gt;
&lt;img src=&quot;https://tylergaw.com/articles/assets/post_image_htmlFormErrors_demo03.jpg&quot; alt=&quot;Demo 03 style showing an error&quot; /&gt;
&lt;/a&gt;
&lt;figcaption&gt;Style 03; hard to go wrong with fire engine-red Futura&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;h2&gt;Fun with CSS animations&lt;/h2&gt;
&lt;p&gt;
Something to keep in mind when styling the messages is that most any styles that are available in Chrome can be applied to the message bubbles, this includes animations. With demos 1 and 2 I created CSS animations to bring the messages into view. Since the message elements do not exist in the DOM until an error is triggered, the animations will not run until that time. So, in demo 1, to get that little shimmy and shake I&#39;m using the following:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;@-webkit-keyframes bounce {
0% {
opacity: 0.5;
margin-left: 85px;
}
&lt;p&gt;25% {
margin-left: -35px;
}&lt;/p&gt;
&lt;p&gt;50% {
margin-left: 50px;
}&lt;/p&gt;
&lt;p&gt;75% {
margin-left: -22px;
}&lt;/p&gt;
&lt;p&gt;100% {
margin-left: -15px;
opacity: 0.9;
}
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
The named animation is applied to the main message container;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-css&quot;&gt;::-webkit-validation-bubble {
-webkit-animation-timing-function: ease;
-webkit-animation: bounce 0.45s 1;
...
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
Demo 2 uses a similar, but less complex animation to slide the serious looking icon in from the left. This demo also introduces something new; custom error message text. The message text, among many other things, can be customized through the Constraint Validation API.
&lt;/p&gt;
&lt;h2&gt;Custom message text with the Constraint API&lt;/h2&gt;
&lt;p&gt;
The Constraint API is a new one in the HTML Living Standard, it allows you to further customize form validation using Javascript. The API is large enough for a full article to explain its features and how to use it, here I&#39;ll just point out the code used to set a custom error message.
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;var inputs = document.getElementsByTagName(&#39;input&#39;),
len = inputs.length,
i = 0,
cur = null,
errMsg = &#39;!&#39;;
&lt;p&gt;for (i; i &amp;lt; len; i += 1) {&lt;/p&gt;
&lt;p&gt;cur = inputs[i];&lt;/p&gt;
&lt;p&gt;if (cur.getAttribute(&#39;type&#39;) !== &#39;submit&#39;) {
cur.setCustomValidity(errMsg);&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;cur.oninput = function () {
  if (!this.value || this.validity.typeMismatch) {
    this.setCustomValidity(errMsg);
  } else {
    this.setCustomValidity(&#39;&#39;);
  }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;}
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
This is a fairly simple block of code, we start by looking at each &lt;code&gt;input&lt;/code&gt; element on the page through a &lt;code&gt;for&lt;/code&gt; loop, if the &lt;code&gt;input&lt;/code&gt; is not a submit button we then use the Constraint API method &lt;code&gt;setCustomValidity&lt;/code&gt; to apply the custom message of &quot;!&quot; that we stored in the &lt;code&gt;errMsg&lt;/code&gt; variable. In my opinion that should be the end of the work needed, but there is more.
&lt;/p&gt;
&lt;p&gt;
For some reason, when we set a custom error message with &lt;code&gt;setCustomValidity&lt;/code&gt; that also removes the error checking from the input. If we were to stop here and submit the form, it would submit without triggering any errors. Starting at the line &lt;code&gt;cur.oninput&lt;/code&gt; is the code needed to get around this oddity. The &lt;code&gt;oninput&lt;/code&gt; event is fired each time a key is pressed that will change the contents of the input, each time the event fires we are checking to make sure the input has a value and that the value is valid according to the input type. The Constraint API makes available a &lt;code&gt;validity&lt;/code&gt; property for &lt;code&gt;input&lt;/code&gt; elements. This object contains a number of properties to determine the validity of the input, the one that we&#39;re using to make sure the value given is Ok is &lt;code&gt;typeMismatch&lt;/code&gt;. If the input either has no value or the given value is not of the correct type, we need to set the custom message again. If a correct value has been entered we then set the custom validity to an empty string, which does a kind of reset on the validation. The input will then be validated normally again.
&lt;/p&gt;
&lt;h2&gt;Going forward&lt;/h2&gt;
&lt;p&gt;
This is definitely new, new stuff, and with all fun new things it will take some time before it can be used on a wide scale. I don&#39;t think that should be seen as a huge hinderance though. The Constraint API seems mature enough to be put into use right now, with the aide of a poly fill for browsers that don&#39;t yet support it. I haven&#39;t used it yet, but at least one exists already; &lt;a href=&quot;http://afarkas.github.com/webshim/demos/demos/webforms.html&quot;&gt;http://afarkas.github.com/webshim/demos/demos/webforms.html&lt;/a&gt;. The error message bubbles are not really ready though. With only one browser supporting custom styles, and with no small amount of finagling needed to get them looking right, for now we&#39;ll need to keep creating our own error messages. I&#39;ll take it though, this is a huge step in the right direction and I can&#39;t wait for wider browser support and even more fun new things that will no doubt come with it.
&lt;/p&gt;
&lt;p&gt;
&lt;i&gt;Thanks for reading&lt;/i&gt;
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>A Small Redesign with a Little Sugar</title>
    <link href="https://tylergaw.com/blog/a-small-redesign-with-a-little-sugar/"/>
    <updated>2011-07-09T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/a-small-redesign-with-a-little-sugar/</id>
    <content type="html">&lt;p&gt;
  &lt;b&gt;Take aways:&lt;/b&gt; &lt;em&gt;Look at &lt;a href=&quot;https://lab.tylergaw.com/jribbble/&quot;&gt;this site&lt;/a&gt; and fork &lt;a href=&quot;https://github.com/tylergaw/jribbble.com&quot;&gt;this code&lt;/a&gt; if you don&#39;t feel like reading.&lt;/em&gt;
&lt;/p&gt;
&lt;p class=&quot;entry-intro&quot;&gt;
  Since reading &lt;a href=&quot;http://www.abookapart.com/products/responsive-web-design&quot;&gt;Responsive Web Design&lt;/a&gt; by Ethan Marcotte I&#39;ve been chomping at the bit to design a site using all of the fancy things written about in that little, yellow, different book. To really take those new ideas and techniques for a ride I needed a small project to work on where I could just go crazy and try every new thing I could pull out of the book and my brain. Luckily I have a never-ending stream of personal projects that can always use a little TLC. The project that I picked to revamp is a small one page site for a jQuery plugin that I wrote last year, Jribbble. The site is quick overview of the methods that the plugin makes available, documentation of those methods and some working demos.
&lt;/p&gt;
&lt;h2&gt;The design process&lt;/h2&gt;
&lt;p&gt;
  Before starting a design I like to set some rules for myself. These aren&#39;t hard and fast rules, just some general thoughts that I keep in mind to guide the process and keep myself in check. The rules for this design were nothing outlandish, the design should:
&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Use a flexible grid that remains comfortable from 320px to 1280px in width&lt;/li&gt;
  &lt;li&gt;Be designed mostly in the browser with CSS, limited Photoshop work&lt;/li&gt;
  &lt;li&gt;Not use any gradients&lt;/li&gt;
  &lt;li&gt;Not use any Photoshop noise!&lt;/li&gt;
  &lt;li&gt;Have some bits of CSS &quot;sugar&quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
  The last rule, &quot;sugar&quot;, I think of as something extra, something possibly new, that you might not see that often. I&#39;ll talk about it more later.
&lt;/p&gt;
&lt;p&gt;
  The first graphic I envisioned for the design was the name, Jribbble. I saw the &quot;J&quot; and the &quot;b&quot;s in a large, swooping style. A style that I would not be able to accomplish with a computer. I would need to use my hands. The vision I had for it was too large for a pencil or pen or marker. I grabbed my box of acrylic paints, brushes, my 14&quot; x 17&quot; drawing pad and spread them out on my definitely-not-for-painting-on Ikea coffee table. With a medium sized brush and Primary Magenta I scrawled out a couple of &quot;Jribbble&quot;s as well as some random strokes. The toothbrush you see in the photo I used for making paint spatters and for getting paint all over the damned place.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post_image_jribbble_painting.jpg&quot; alt=&quot;Jribbble painting&quot; /&gt;
  &lt;figcaption&gt;The start of the Jribbble redesign; a hand-painted logo.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  After the painting I took the &quot;Jribbble&quot; I liked most into Photoshop and fiddled with it a bit. I isolated the color from the background, applied the Twirl filter a few times to give it more character and added some of the random strokes and splatters around it for a more haphazard look. In Photoshop I set up a 958px, 12 column grid to work off of. For the banner and assorted page headers I selected &lt;a href=&quot;http://typekit.com/fonts/botanika-mono-web&quot;&gt;Botanika Mono Web from Typekit&lt;/a&gt;. I don&#39;t own that font so I have to use a very advanced and elegant method for playing around with initial type layout. I input the text I need into Typekit&#39;s Type Tester and take screenshots of the text from there. See, fancy ain&#39;t it?
&lt;/p&gt;
&lt;figure&gt;
  &lt;img src=&quot;https://tylergaw.com/articles/assets/post_image_jribbble_design.jpg&quot; alt=&quot;Jribbble design&quot; /&gt;
  &lt;figcaption&gt;Getting out of Photoshop as soon as possible, this was the extent of the design accomplished with the graphics monolith.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
  The image above is the extent of the design accomplished with Photoshop. From that point on the rest of the design was created with good ole&#39; CSS. Just like I have always done in Photoshop I went through quite a few style iterations; colors, type sizes, positioning, but instead of spending that time in Photoshop and only moving to the browser when it was &quot;final&quot; I used the medium that would be delivered to create the design. Designing in the browser, it feels good man.
&lt;/p&gt;
&lt;h2&gt;The flexibility&lt;/h2&gt;
            &lt;p&gt;
            	To accomplish my flexible grid, I started with a overall width of 80% on the content area. That number was somewhat arbitrary, I started with 100% and decreased the number until I felt there was a comfortable amount of room between the edge of the browser and the beginning of the content. I am setting a &lt;code&gt;max-width&lt;/code&gt; of 1280px on the content area. Any wider than that and things started to get a little unwieldy; line-lengths were too long and in general things just didn&#39;t look good. At browser widths of 768px or narrower I wanted to gain back some of the margin so I used a media query to increase the width to 95%.
            &lt;/p&gt;
            &lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;#content {
&lt;p&gt;margin: 0 auto;
max-width: 1280px;
width: 80%;&lt;/p&gt;
&lt;p&gt;@media screen and (max-width: 768px) {
width: 95%;
}
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
&lt;em&gt;Quick note on the media query. I&#39;m using &lt;a href=&quot;http://sass-lang.com/&quot;&gt;Sass&lt;/a&gt; which allows for nested styles. You&#39;ll see more of this in later code examples.&lt;/em&gt;
&lt;/p&gt;
&lt;p&gt;
In a number of areas of the design I use a two-column layout. To determine the widths of each column I used the oh-so-helpful formula that Ethan describes in &lt;abbr title=&quot;Responsive Web Design&quot;&gt;RWD&lt;/abbr&gt;: &lt;br /&gt;
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-clike&quot;&gt;target &amp;divide; context = result&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
For the columns I use the starting width of 958px as a context then determine a pixel value based off the width of each of my grid columns, 69px, to come up with widths like:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;.method-description {
h3 {
float: left;
width: 40.1878914%; /_ 385 &amp;divide; 958 = .401878914 _/
...
}
&lt;p&gt;p {
float: right;
...
width: 56.4718163%; /_ 541 ÷ 958 = .564718163 _/
}
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;h2&gt;More on media queries&lt;/h2&gt;
&lt;p&gt;
Throughout the design I used media queries to add more fine tuning of styles that I couldn&#39;t accomplish with percentages alone. I decrease font sizes, switch to single column layouts and make other miscellaneous tweaks as the browser width decreases or increases to specified break points. For cross browser media query support I used the &lt;a href=&quot;https://github.com/scottjehl/Respond&quot;&gt;Respond.js&lt;/a&gt; poly fill. It works great, media queries in IE7, you can&#39;t beat that with a stick! I needed to make some specific enhancements based on features as well so I used &lt;a href=&quot;http://www.modernizr.com/&quot;&gt;Modernizer&lt;/a&gt; for feature detection. I included Respond.js in my Modernizer build.
&lt;/p&gt;
&lt;h2&gt;The good stuff, the sweetness, the sugar&lt;/h2&gt;
&lt;p&gt;
How does a die-cut, scaleable background image sound? I thought it sounded pretty rad. I&#39;ll explain. I had the idea that I wanted the &quot;Jribbble&quot; graphic to be different colors at different times. One way to accomplish that would have been to make a number of different images in the various colors that I wanted. That would work, but I thought I could do it a more efficient way. What I did was create an image that had a set background color of &lt;code&gt;#ececec&lt;/code&gt; with the text itself transparent allowing for a background color to show through.
&lt;/p&gt;
&lt;figure&gt;
&lt;img src=&quot;https://tylergaw.com/articles/assets/post_image_jribbble_transparent.jpg&quot; alt=&quot;Jribbble background image&quot; /&gt;
&lt;figcaption&gt;
The die-cut .png used to create the color-shifting Jribbble logo.
&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;p&gt;
With die-cut taken care of, let&#39;s look at scaleable. At its base size of 1149px by 663px the logo graphic is pretty large. At medium to large browser widths, this works fine, as the browser width decreases or increases the graphic starts to lose its intended effect and also starts to cause readability issues for other page elements. &lt;code&gt;background-size&lt;/code&gt; to the rescue!
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;#bigAssJribbble {
background-image: url(../images/branding-die-cut.png);
background-repeat: no-repeat;
background-position: 15% 100%;
-moz-background-size: 190% 140%;
-webkit-background-size: 190% 140%;
-o-background-size: 190% 140%;
background-size: 190% 140%;
padding-top: 45%;
position: absolute;
width: 100%;
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;
A couple things are going on here. It&#39;s important to note that the branding-die-cut.png image is much wider than it needs to be. The graphic is flush left and the right side extends ~1049px and is filled with our background color &lt;code&gt;#ececec&lt;/code&gt;. I do this so I am able to position the background image off the left side of the browser and not leave a gap on the right side. If there was a gap that the image didn&#39;t cover, any background color would show through where I didn&#39;t want. The width of the element is set to 100% so it is always the size of the browser. The &lt;code&gt;background-size&lt;/code&gt; property does exactly what it says, it scales the background image to the percentages that I used. There isn&#39;t a science to those numbers, I just tweaked them until they looked right.
&lt;/p&gt;
&lt;p&gt;
Another cool thing in that block of CSS is the &lt;code&gt;padding-top&lt;/code&gt;. Since an element has to be taller than 0px for a background image to show and I didn&#39;t want to set an explicit height due to the changing graphic size I used the percentage padding to give the element a height. Again, no science with that number, just changed it until it worked.
&lt;/p&gt;
&lt;p&gt;
Something that&#39;s not accounted for in the above CSS is the background color, the color that should show through the die-cut image. This is where I started having a lot of fun. I set up 11 media queries at different pixel max-widths from 320px to 2360px, at each of those I set a different background color for the logo as well as a number of different elements on the page. As the browser width increases or decreases the background color changes. Another little extra I use is a CSS transition to smoothly change from one color to another on each of the chameleon-like elements. An example element with a media query colorway:
&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-scss&quot;&gt;#bigAssJribbble {
-moz-transition: background-color 0.2s;
-webkit-transition: background-color 0.2s;
-o-transition: background-color 0.2s;
transition: background-color 0.2s;
}
&lt;p&gt;@media screen and (max-width: 480px) {
#bigAssJribbble {
background-color: #4400ff;
}
}&lt;/p&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;/p&gt;
&lt;p&gt;
I didn&#39;t get incredibly specific with what colors I chose. I started with a base of &lt;code&gt;#ff0066&lt;/code&gt; and then apply cooler colors as the width decreases and warmer as it increases.
&lt;/p&gt;
&lt;p&gt;
That&#39;s CSS sugar in my view. It&#39;s not something that everyone will see, but it&#39;s just a little extra for those that are looking and into that sort of thing.
&lt;/p&gt;
&lt;h2&gt;That&#39;s all&lt;/h2&gt;
&lt;p&gt;
All in all a very fun process full of experimentation and learning for the sake of experimentation and learning. It probably took too long, so it goes. Side projects live in the off hours, the small windows of time before and after the &quot;real&quot; work and in the hours when you probably need to be sleeping.
&lt;/p&gt;
&lt;p&gt;
Again, the completed site lives here &lt;a href=&quot;http://lab.tylergaw.com/jribbble&quot;&gt;http://lab.tylergaw.com/jribbble&lt;/a&gt; and if you&#39;re interested in more of the code, fork it from its Github repo &lt;a href=&quot;https://github.com/tylergaw/jribbble.com&quot;&gt;https://github.com/tylergaw/jribbble.com&lt;/a&gt;.
&lt;/p&gt;
&lt;p&gt;
&lt;i&gt;Thanks for reading&lt;/i&gt;
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>All Talkie Talkie</title>
    <link href="https://tylergaw.com/blog/all-talkie-talkie/"/>
    <updated>2010-05-27T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/all-talkie-talkie/</id>
    <content type="html">&lt;p&gt;
  &lt;/p&gt;&lt;figure&gt;
    &lt;a href=&quot;https://lab.tylergaw.com/whatsgoingonwithcss&quot;&gt;
      &lt;img src=&quot;https://tylergaw.com/articles/assets/post_image_whatupcss.jpg&quot; alt=&quot;View the presentation slides&quot; /&gt;
    &lt;/a&gt;
    &lt;figcaption&gt;
      View the slides
    &lt;/figcaption&gt;
  &lt;/figure&gt;
&lt;p&gt;&lt;/p&gt;
&lt;p&gt;On Tuesday, the 25th I presented an introduction of CSS3 features to a great group of folks at &lt;a href=&quot;http://refreshnyc.org/&quot;&gt;Refresh NYC&lt;/a&gt;. The new features included in CSS3 are something that I&#39;m really interested in and very excited about so it was a good opportunity to really dig in and learn a whole lot about them in a short amount of time. For my slides I decided to not take the Keynote route and instead decided to create the presentation as HTML, CSS, and Javascript. It turned out great, not only did I get to explore the sweetness of CSS3 for the sake of presenting the information, I also used a lot of the features I was talking about to build the presentation.&lt;/p&gt;
&lt;p&gt;This was the first time I had put together a presentation like this and got up in front of a crowd to present it, and I loved every minute of it. You really gain a deeper knowledge of a topic when you are trying to explain it to someone else. I&#39;m definitely going to do this again in the near future and if you&#39;ve had any interest in doing so I would highly recommend it.&lt;/p&gt;
&lt;p&gt;
  &lt;i&gt;Thanks for reading&lt;/i&gt;
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>You Did What with What?</title>
    <link href="https://tylergaw.com/blog/you-did-what-with-what/"/>
    <updated>2010-04-06T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/you-did-what-with-what/</id>
    <content type="html">&lt;figure&gt;
  &lt;a href=&quot;https://lab.tylergaw.com/themanfromhollywood&quot;&gt;
    &lt;img src=&quot;https://tylergaw.com/articles/assets/post_image_hollywood.jpg&quot; alt=&quot;View the demo&quot; /&gt;
   &lt;/a&gt;
&lt;/figure&gt;
&lt;h2&gt;Stuff You&#39;ll Most Likely Do Before Reading Any of This Post&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://lab.tylergaw.com/themanfromhollywood&quot;&gt;View the demo&lt;/a&gt; &lt;a href=&quot;https://github.com/tylergaw/themanfromhollywood&quot;&gt;Fork it&lt;/a&gt;
&lt;br /&gt;&lt;em&gt;You&#39;ll need Safari or Chrome to view the demo&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;There have been a ton of new, really exciting things going on with CSS over the past couple years and I&#39;ve had an itch for a while to work with them. I started out just wanting to do a small project to get familiar with some of the newer, more advanced CSS3 features, and it quickly grew into a two month immersion into CSS3 land.&lt;/p&gt;
&lt;h2&gt;Do they speak English in what?&lt;/h2&gt;
&lt;p&gt;A few years back Jarrat Moody, a super talented designer, created a kinetic type &lt;a rel=&quot;external&quot; href=&quot;http://www.youtube.com/watch?v=HePWBNcugf8&quot;&gt;motion graphics piece&lt;/a&gt; based on a scene from the movie Pulp Fiction; that I am still floored by to this day. Since I saw that I have wanted to create a similar piece and even made a few attempts using After Effects, none of which ever really materialized.&lt;/p&gt;
&lt;h2&gt;Let&#39;s do this!&lt;/h2&gt;
&lt;p&gt;So I have my excitement over a new feature set, and inspiration from Mr. Moody, time to get to it. &lt;a href=&quot;http://lab.tylergaw.com/themanfromhollywood&quot;&gt;The Man From Hollywood&lt;/a&gt; is a kinetic type animation using only HTML, CSS and Javascript. All of the animation is done using Webkit CSS transition, transforms, as well as standard CSS properties. Javascript just acts as a helper to turn CSS classnames on and off at the appropriate times. All of the content you see on the demo is HTML and CSS, no images were used. The audio clip is scene from the movie &lt;a rel=&quot;external&quot; href=&quot;http://www.imdb.com/title/tt0113101/&quot;&gt;Four Rooms&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;Is it practical?&lt;/h2&gt;
&lt;p&gt;No, not really, but it&#39;s not really supposed to be. My goals were to teach myself the ins and outs of a new feature set, make something fun to look at, and hopefully help and/or inspire others to work on their own CSS3 awesomeness.&lt;/p&gt;
&lt;p&gt;If you enjoy it, you should &lt;a href=&quot;http://twitter.com/home?status=@thegaw%20is%20the%20awesomest%20dude%20on%20the%20planet%20because%20of%20this:%20http://bit.ly/9rOtd4&quot;&gt;Tweet it&lt;/a&gt; or share it on your blog or just whisper the URL into a co-worker&#39;s ear. That last one would definitely be the best.&lt;/p&gt;
&lt;p&gt;&lt;i&gt;Thanks for reading&lt;/i&gt;&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>I Less Than Three IE6</title>
    <link href="https://tylergaw.com/blog/i-less-than-three-ie6/"/>
    <updated>2009-07-27T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/i-less-than-three-ie6/</id>
    <content type="html">&lt;p class=&quot;entry-intro&quot;&gt;
  I am not a fan of the Die IE6 Campaigns, can&#39;t get behind them. You will not see me sporting some goofy &lt;a href=&quot;http://twibbon.com/join/IE6-Must-Die&quot; rel=&quot;external&quot;&gt;IE6 Must Die Twibbon&lt;/a&gt; any time soon. I take a pretty unpopular position on IE6; I do not mind developing for IE6, working with it over the past few years has made me a better, smarter developer and I am going to miss it a bit when It&#39;s completely out of the picture. Whoa, look out, you&#39;re probably thinking I&#39;m bat-shit crazy by now, but hear me out. I have reasons.
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;1. It pushes you to write proper, lightweight HTML markup: &lt;/strong&gt;
IE6 has well-known issues with the box model, strange padding and margin issue, etc. One very good way to stop these potential CSS issues is to write good markup. Easy things like making sure you are writing semantic, valid markup and using &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt; tags sparingly can knock out probably 95% of these issues that seem to be such a problem for so many. In my experience, most folks&#39; CSS issues aren&#39;t CSS issues at all, they are HTML issues.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2. It gives you yet another chance to get creative: &lt;/strong&gt;
So what if IE6 doesn&#39;t support transparent pngs. Find a way to make that image a transparent gif or a jpg. Doesn&#39;t look as crisp as the png? So what, this is where progressive enhancement steps in, this is why we have conditional comments. Set up an IE6 stylesheet and dump all of the not so desirable CSS in there. Chances are most of your users are not on IE6 anyway, and if they are this can be a friendly little jab at them for using it. I took this route when building my site. I wanted to let anyone viewing my site with The 6 know that they are missing out so I created a completely stripped down version just for IE6, plus a nice reminder of why. It still works, you can access all the same content, it&#39;s just not pretty.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;    &amp;lt;figure&amp;gt;
      &amp;lt;img src=&#39;https://tylergaw.com/articles/assets/post_image_tgawie6_thumb.jpg&#39; alt=&#39;tylergaw.com IE6 Screenshot&#39;&amp;gt;
      &amp;lt;figcaption&amp;gt;Users of IE6 receive a version of tylergaw.com that contains all the same content, but has a very pared-down aesthetic.&amp;lt;/figcaption&amp;gt;
    &amp;lt;/figure&amp;gt;
    &amp;lt;p&amp;gt;
      &amp;lt;strong&amp;gt;3. It forces you to clean up sloppy code that other browsers ignore: &amp;lt;/strong&amp;gt;
      I&#39;ve seen this a number of times when writing Javascript. Take a look at this bit of JS:
    &amp;lt;/p&amp;gt;
		    	&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-javascript&amp;quot;&amp;gt;var someCrud = [&#39;item01&#39;, &#39;item02&#39;, &#39;item03&#39;,];
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;alert(someCrud.length);&lt;/p&gt;
&lt;p&gt;
What&#39;s the length of the array? Firefox and Safari say 3. IE6 says 4. I&#39;m siding with The 6 on this one, the comma at the end of the array is erroneous, it should not be there. IE6 sends the message that you should clean up your code by recognizing the extra item while the more advanced browsers ignore it and let you go on your sloppy way. This is just one example, I&#39;ve come across a number of similar examples over the years, I&#39;m sure others have too.
&lt;/p&gt;
&lt;p&gt;
&lt;strong&gt;4. It keeps you on your toes: &lt;/strong&gt;
If you&#39;re building websites you need to be flexible. Not all environments are going to be picture perfect, and knowing how to find solutions to problems that arise when working with a browser like The 6 is key. It&#39;s easy to just say that a browser is the sole reason for not getting something to function well. Another look at it may reveal that the first approach taken was maybe not the best. You just have to put on that thinking cap a bit.
&lt;/p&gt;
&lt;p&gt;
&lt;strong&gt;5. It&#39;s good to have a nemesis: &lt;/strong&gt;
What good is Batman without the Joker? You have to have someone or something that challenges you and makes your job harder, and sometimes downright frustrating. Web development is hard, that&#39;s why it&#39;s fun. How good a feeling is it to confront a problem in development and find some interesting way around it? I got a whole crappy article out of doing just that.
&lt;/p&gt;
&lt;p&gt;
This viewpoint is 100% from that of a developer. As a user, I agree using IE6 would just be a nightmare. The security issues, the lack of features that modern browsers have, etc., etc. That is one merit that the Die IE6 campaigns have. But every time I see some Johnny Developer complaining about how hard it is to build websites for IE6 and how much they hate it, I can&#39;t help but think that that person is missing out on opportunities to use their noggin. And that they are a bit of a wimp. :)
&lt;/p&gt;
&lt;p&gt;
After IE6 is gone some other browser will take it&#39;s place as the whipping boy. IE7? So, instead of just joining a campaign of wishing death on an inanimate object, I say learn to take away as much knowledge as you can from a less-than-ideal situation. Like Kuato said, &quot;&lt;a href=&quot;http://www.youtube.com/watch?v=xO1kKemcwYk&quot; rel=&quot;external&quot;&gt;Open your miiinddddd.&lt;/a&gt;&quot;
&lt;/p&gt;
&lt;p&gt;
&lt;i&gt;Thanks for reading&lt;/i&gt;
&lt;/p&gt;
</content>
  </entry>
  
  <entry>
    <title>Ch-ch-ch Changes!</title>
    <link href="https://tylergaw.com/blog/ch-ch-ch-changes/"/>
    <updated>2009-07-18T12:00:00Z</updated>
    <id>https://tylergaw.com/blog/ch-ch-ch-changes/</id>
    <content type="html">&lt;p class=&quot;entry-update&quot;&gt;
  &lt;b&gt;Update:&lt;/b&gt; This post was about the previous version of this site, &lt;a href=&quot;http://v3.tylergaw.com/&quot;&gt;version 3&lt;/a&gt;.
&lt;/p&gt;
&lt;p class=&quot;entry-intro&quot;&gt;
  I slapped a fresh coat on the old website. Well, new paint, siding, frame, foundation...who am I kidding? I just burned down the old one and built anew on its smoldering ashes.
&lt;/p&gt;
&lt;p&gt;
  This is the third incarnation of tylergaw.com and just like the past two versions, I&#39;ve had a damn good time working on this one. I&#39;ve been able to take the time to work with so much amazing code that I&#39;ve never really dug into before. This is the first full site I&#39;ve built using the &lt;a href=&quot;http://framework.zend.com/&quot;&gt;Zend Framework&lt;/a&gt; which has just made me realize how completely rad it is working with a rock-solid framework. It also makes me kick myself a little for not picking it up a long time ago. I&#39;m integrating with a number of different third party APIs, this is also the first time I&#39;ve built a site doing that. How freaking cool is working with well-written, well-documented APIs?
&lt;/p&gt;&lt;p&gt;
&lt;/p&gt;&lt;p&gt;With the visual design, I&#39;ve really tried to push it in a direction that I think is, &quot;me&quot;. This was one of those designs that I could really see in my head before I opened Photoshop or even put one thing down on paper. The biggest inspiration came from the cover art for &lt;a href=&quot;http://en.wikipedia.org/wiki/Women_%28novel%29&quot;&gt;Charles Bukowski&#39;s Women&lt;/a&gt;. The whole time I was reading the book, I was constantly looking back at the cover. I don&#39;t know exactly what it is but it is just so damned cool. For this round, I started the design process the old fashioned way; I grabbed a six-pack, some colored pencils, a big-ass sketch book and then went to work.
&lt;/p&gt;
&lt;figure&gt;
  &lt;img class=&quot;image-vertical&quot; src=&quot;https://tylergaw.com/articles/assets/post_image_women.jpg&quot; alt=&quot;Bukowski - Women&quot; /&gt;
  &lt;figcaption&gt;The cover of Charles Bukowski&#39;s &quot;Women&quot; was a main source of inspiration for the aesthetics.&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;figure&gt;
    &lt;img class=&quot;image-vertical&quot; src=&quot;https://tylergaw.com/articles/assets/post_image_tgaw2009sketch.jpg&quot; alt=&quot;tgaw2009 Sketch&quot; /&gt;
    &lt;figcaption&gt;Starting a design with paper and pencil allows for quick iteration and time to really nail down the overall vision.&lt;/figcaption&gt;
  &lt;/figure&gt;
  &lt;p&gt;
    I&#39;m a big fan of organic textures and knew that I wanted to incorporate some into the design. When I sat down in Photoshop to start turning my sketch into a working design, I realized quickly that I was going to need some real-world help getting the organic look and feel that I was going for. When it&#39;s time for real-world textures I just start grabbing &lt;a href=&quot;https://tylergaw.com/articles/assets/post_image_art01.jpg&quot;&gt;anything&lt;/a&gt;, and I mean &lt;a href=&quot;https://tylergaw.com/articles/assets/post_image_samich.jpg&quot;&gt;anything&lt;/a&gt;, and throw it on the scanner. You never know what you might use that scan of an old broken toothbrush for. Just to be sure, scan it!
  &lt;/p&gt;
  &lt;p&gt;
    &lt;i&gt;Thanks for reading&lt;/i&gt;
  &lt;/p&gt;
</content>
  </entry>
</feed>